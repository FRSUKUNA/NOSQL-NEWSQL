[
  {
    "major_version": "8.5",
    "patches": [
      {
        "version": "8.5.4",
        "date": "2025-11-27",
        "link": "https://docs.pingcap.com/tidb/stable/release-8.5.4/",
        "changes": [
          "TiDB\nSupport applying the semi_join_rewrite hint to Semi Joins in IN subqueries #58829 @qw4990\nOptimize the estimation strategy when the tidb_opt_ordering_index_selectivity_ratio system variable takes effect #62817 @terry1purcell\nAdjust the optimizer selection logic to make newly created indexes more likely to be chosen in certain scenarios #57948 @terry1purcell\nOptimize the query estimation logic for columns with a small number of distinct values (NDV) #61792 @terry1purcell\nOptimize the estimation strategy for Index Join queries that include LIMIT OFFSET #45077 @qw4990\nOptimize the out-of-range estimation strategy when statistics are not collected in time #58068 @terry1purcell\nAdd the backoff metric to the Performance Overview > SQL Execute Time Overview panel in Grafana to facilitate debugging #61441 @dbsid\nAdd statement ID information to the audit log plugin #63525 @YangKeao",
          "Support applying the semi_join_rewrite hint to Semi Joins in IN subqueries #58829 @qw4990",
          "Optimize the estimation strategy when the tidb_opt_ordering_index_selectivity_ratio system variable takes effect #62817 @terry1purcell",
          "Adjust the optimizer selection logic to make newly created indexes more likely to be chosen in certain scenarios #57948 @terry1purcell",
          "Optimize the query estimation logic for columns with a small number of distinct values (NDV) #61792 @terry1purcell",
          "Optimize the estimation strategy for Index Join queries that include LIMIT OFFSET #45077 @qw4990",
          "Optimize the out-of-range estimation strategy when statistics are not collected in time #58068 @terry1purcell",
          "Add the backoff metric to the Performance Overview > SQL Execute Time Overview panel in Grafana to facilitate debugging #61441 @dbsid",
          "Add statement ID information to the audit log plugin #63525 @YangKeao",
          "TiKV\nChange the log level of certain automatically recoverable errors in the BR module from ERROR to WARN to reduce unnecessary alerts #18493 @YuJuncen\nChange the log level of certain TiKV errors from ERROR to WARN to reduce unnecessary alerts #18745 @exit-code-1\nSplit the GC check process in the Raft module into two phases to improve the efficiency of garbage collection for redundant MVCC versions in Regions #18695 @v01dstar\nCalculate MVCC redundancy based on GC safe points and RocksDB statistics to improve the efficiency and accuracy of compaction #18697 @v01dstar\nChange the GC handling logic for Region MVCC to be executed by GC worker threads, unifying the overall GC processing logic #18727 @v01dstar\nOptimize the calculation method of the default gRPC thread pool size by making it dynamically calculated based on total CPU quota instead of a fixed value, avoiding performance bottlenecks caused by insufficient gRPC threads #18613 @LykxSassinator\nOptimize the tail latency of async snapshot and write operations in environments with a large number of SST files #18743 @Connor1996",
          "Change the log level of certain automatically recoverable errors in the BR module from ERROR to WARN to reduce unnecessary alerts #18493 @YuJuncen",
          "Change the log level of certain TiKV errors from ERROR to WARN to reduce unnecessary alerts #18745 @exit-code-1",
          "Split the GC check process in the Raft module into two phases to improve the efficiency of garbage collection for redundant MVCC versions in Regions #18695 @v01dstar",
          "Calculate MVCC redundancy based on GC safe points and RocksDB statistics to improve the efficiency and accuracy of compaction #18697 @v01dstar",
          "Change the GC handling logic for Region MVCC to be executed by GC worker threads, unifying the overall GC processing logic #18727 @v01dstar",
          "Optimize the calculation method of the default gRPC thread pool size by making it dynamically calculated based on total CPU quota instead of a fixed value, avoiding performance bottlenecks caused by insufficient gRPC threads #18613 @LykxSassinator",
          "Optimize the tail latency of async snapshot and write operations in environments with a large number of SST files #18743 @Connor1996",
          "PD\nReduce unnecessary error logs #9370 @bufferflies\nUpgrade the Golang version from 1.23.0 to 1.23.12 and update related dependencies #9788 @JmPotato\nSupport scattering Regions at the table level to achieve balanced distribution across scatter-role and engine dimensions #8986 @bufferflies",
          "Reduce unnecessary error logs #9370 @bufferflies",
          "Upgrade the Golang version from 1.23.0 to 1.23.12 and update related dependencies #9788 @JmPotato",
          "Support scattering Regions at the table level to achieve balanced distribution across scatter-role and engine dimensions #8986 @bufferflies",
          "TiFlash\nSkip unnecessary data reads to improve TableScan performance #9875 @gengliqi\nOptimize TableScan performance on wide tables with many columns and sparse data (that is, lots of NULL or empty values) in TiFlash #10361 @JaySon-Huang\nReduce TiFlash CPU overhead caused by adding vector indexes in clusters with many tables #10357 @Lloyd-Pottiger\nMinimize unnecessary log output when processing useless Raft commands to reduce log volume #10467 @JaySon-Huang\nImprove TableScan performance on small partitioned tables in TiFlash #10487 @JaySon-Huang",
          "Skip unnecessary data reads to improve TableScan performance #9875 @gengliqi",
          "Optimize TableScan performance on wide tables with many columns and sparse data (that is, lots of NULL or empty values) in TiFlash #10361 @JaySon-Huang",
          "Reduce TiFlash CPU overhead caused by adding vector indexes in clusters with many tables #10357 @Lloyd-Pottiger",
          "Minimize unnecessary log output when processing useless Raft commands to reduce log volume #10467 @JaySon-Huang",
          "Improve TableScan performance on small partitioned tables in TiFlash #10487 @JaySon-Huang",
          "Tools\nTiDB Data Migration (DM)\nSupport case-insensitive matching when retrieving the upstream GTID_MODE #12167 @OliverS929",
          "TiDB Data Migration (DM)\nSupport case-insensitive matching when retrieving the upstream GTID_MODE #12167 @OliverS929",
          "Support case-insensitive matching when retrieving the upstream GTID_MODE #12167 @OliverS929",
          "TiDB\nFix the issue that the use index hint does not take effect when tidb_isolation_read_engines is set to tiflash #60869 @Lloyd-Pottiger\nFix the issue that max_execution_time does not take effect for SELECT FOR UPDATE statements #62960 @ekexium\nFix the issue that row count estimates across months or years can be significantly overestimated #50080 @terry1purcell\nFix the issue that the handling of Decimal types in prepared statements is inconsistent with MySQL #62602 @ChangRui-Ryan\nFix the issue that the short path in the TRUNCATE() function is incorrectly processed #57608 @xzhangxian1008\nFix the issue that spilled files might not be fully deleted when the Out Of Quota For Local Temporary Space error is triggered #63216 @xzhangxian1008\nFix the issue that queries using regular expressions against INFORMATION_SCHEMA tables might return incorrect results #62347 @River2000i\nFix the issue that TiDB does not return an error when it fails to get a timestamp from PD #58871 @joechenrh\nFix the issue that query results differ between the owner TiDB and non-owner TiDB instances during executing MODIFY COLUMN statements #60264 @tangenta\nFix the issue that ADMIN ALTER DDL JOBS statements display incorrect parameter values after dynamically modifying parameters #63201 @fzzf678\nFix the issue that the GC safe point does not advance when adding an index within a transaction #62424 @wjhuang2016\nFix the issue that ingesting excessively large SST files into L0 triggers flow control #63466 @CbcWestwolf\nFix the issue that global sorting is blocked when the CPU-to-memory ratio is 1:2 #60951 @wjhuang2016\nFix the issue that pending Distributed eXecution Framework (DXF) tasks cannot be canceled when the number of tasks exceeds 16 #63896 @D3Hunter\nFix the issue that after the DXF task is canceled, other tasks fail to exit #63927 @D3Hunter\nFix the issue that enabling the Apply operator concurrency (tidb_enable_parallel_apply = on) causes plan generation failure due to a missing clone implementation #59863 @hawkingrei\nFix the issue that using the ATAN2 function might produce incorrect results #60093 @guo-shaoge\nFix the issue that select 1 from dual cannot use the instance-level plan cache #63075 @time-and-fate\nFix the issue that changing the join order might cause the planner to fail #61715 @hawkingrei\nFix the issue that using the set_var hint with bindings prevents variables from being restored to their original settings #59822 @wddevries\nFix the issue that setting ONLY_FULL_GROUP_BY to a negative value causes validation failure #62617 @AilinKid\nFix the issue that the ONLY_FULL_GROUP_BY check is case-insensitive #62672 @AilinKid\nFix the issue that the DP join order algorithm might generate an incorrect plan #63353 @winoros\nFix the issue that rewriting an outer join to an inner join might produce incorrect results #61327 @hawkingrei\nFix the issue that executing certain queries might cause an internal panic #58600 @Defined2014\nFix the issue that the global index might read incorrect data during certain ALTER PARTITION operations #64084 @mjonss\nFix the issue that the global index might return incorrect results in some cases #61083 @Defined2014\nFix the issue that character_set_results truncates incorrect characters instead of replacing them #61085 @xhebox\nFix the issue that running ADD COLUMN and UPDATE statements concurrently might cause errors #60047 @L-maple\nFix the issue that Merge Join might omit filter conditions when calculating costs #62917 @qw4990",
          "Fix the issue that the use index hint does not take effect when tidb_isolation_read_engines is set to tiflash #60869 @Lloyd-Pottiger",
          "Fix the issue that max_execution_time does not take effect for SELECT FOR UPDATE statements #62960 @ekexium",
          "Fix the issue that row count estimates across months or years can be significantly overestimated #50080 @terry1purcell",
          "Fix the issue that the handling of Decimal types in prepared statements is inconsistent with MySQL #62602 @ChangRui-Ryan",
          "Fix the issue that the short path in the TRUNCATE() function is incorrectly processed #57608 @xzhangxian1008",
          "Fix the issue that spilled files might not be fully deleted when the Out Of Quota For Local Temporary Space error is triggered #63216 @xzhangxian1008",
          "Fix the issue that queries using regular expressions against INFORMATION_SCHEMA tables might return incorrect results #62347 @River2000i",
          "Fix the issue that TiDB does not return an error when it fails to get a timestamp from PD #58871 @joechenrh",
          "Fix the issue that query results differ between the owner TiDB and non-owner TiDB instances during executing MODIFY COLUMN statements #60264 @tangenta",
          "Fix the issue that ADMIN ALTER DDL JOBS statements display incorrect parameter values after dynamically modifying parameters #63201 @fzzf678",
          "Fix the issue that the GC safe point does not advance when adding an index within a transaction #62424 @wjhuang2016",
          "Fix the issue that ingesting excessively large SST files into L0 triggers flow control #63466 @CbcWestwolf",
          "Fix the issue that global sorting is blocked when the CPU-to-memory ratio is 1:2 #60951 @wjhuang2016",
          "Fix the issue that pending Distributed eXecution Framework (DXF) tasks cannot be canceled when the number of tasks exceeds 16 #63896 @D3Hunter",
          "Fix the issue that after the DXF task is canceled, other tasks fail to exit #63927 @D3Hunter",
          "Fix the issue that enabling the Apply operator concurrency (tidb_enable_parallel_apply = on) causes plan generation failure due to a missing clone implementation #59863 @hawkingrei",
          "Fix the issue that using the ATAN2 function might produce incorrect results #60093 @guo-shaoge",
          "Fix the issue that select 1 from dual cannot use the instance-level plan cache #63075 @time-and-fate",
          "Fix the issue that changing the join order might cause the planner to fail #61715 @hawkingrei",
          "Fix the issue that using the set_var hint with bindings prevents variables from being restored to their original settings #59822 @wddevries",
          "Fix the issue that setting ONLY_FULL_GROUP_BY to a negative value causes validation failure #62617 @AilinKid",
          "Fix the issue that the ONLY_FULL_GROUP_BY check is case-insensitive #62672 @AilinKid",
          "Fix the issue that the DP join order algorithm might generate an incorrect plan #63353 @winoros",
          "Fix the issue that rewriting an outer join to an inner join might produce incorrect results #61327 @hawkingrei",
          "Fix the issue that executing certain queries might cause an internal panic #58600 @Defined2014",
          "Fix the issue that the global index might read incorrect data during certain ALTER PARTITION operations #64084 @mjonss",
          "Fix the issue that the global index might return incorrect results in some cases #61083 @Defined2014",
          "Fix the issue that character_set_results truncates incorrect characters instead of replacing them #61085 @xhebox",
          "Fix the issue that running ADD COLUMN and UPDATE statements concurrently might cause errors #60047 @L-maple",
          "Fix the issue that Merge Join might omit filter conditions when calculating costs #62917 @qw4990",
          "PD\nFix the issue that the PD Client retry strategy is not initialized correctly #9013 @rleungx\nFix the issue that the TSO HTTP API /config and /members return incorrect results #9797 @lhy1024\nFix the incorrect error handling logic of TSO Follower Proxy #9188 @Tema\nFix the issue that splitting buckets still works even after bucket reporting is disabled #9726 @bufferflies\nFix the issue that the Resource Manager incorrectly allocates tokens, causing queries to be stuck #9455 @JmPotato\nFix the issue that Placement Rules do not take effect after PD leader switches #9602 @okJiang\nFix the issue that PD might fail to parse large numeric values in scientific notation, which consequently causes some TTL-related configurations to not take effect #9343 @lhy1024",
          "Fix the issue that the PD Client retry strategy is not initialized correctly #9013 @rleungx",
          "Fix the issue that the TSO HTTP API /config and /members return incorrect results #9797 @lhy1024",
          "Fix the incorrect error handling logic of TSO Follower Proxy #9188 @Tema",
          "Fix the issue that splitting buckets still works even after bucket reporting is disabled #9726 @bufferflies",
          "Fix the issue that the Resource Manager incorrectly allocates tokens, causing queries to be stuck #9455 @JmPotato",
          "Fix the issue that Placement Rules do not take effect after PD leader switches #9602 @okJiang",
          "Fix the issue that PD might fail to parse large numeric values in scientific notation, which consequently causes some TTL-related configurations to not take effect #9343 @lhy1024",
          "TiFlash\nFix the issue that queries might fail when queried columns contain a large number of NULL values #10340 @Lloyd-Pottiger\nFix the issue that TiFlash generates inflated statistics for RU consumption #10380 @JinheLin\nFix the issue that TiFlash might encounter OOM when slow queries exist under the disaggregated storage and compute architecture #10278 @JaySon-Huang\nFix the issue that TiFlash might retry indefinitely when a network partition occurs between TiFlash and S3 under the disaggregated storage and compute architecture #10424 @JaySon-Huang\nFix the issue that the FLOOR() and CEIL() functions might return incorrect results when their parameters are of the DECIMAL type #10365 @ChangRui-Ryan",
          "Fix the issue that queries might fail when queried columns contain a large number of NULL values #10340 @Lloyd-Pottiger",
          "Fix the issue that TiFlash generates inflated statistics for RU consumption #10380 @JinheLin",
          "Fix the issue that TiFlash might encounter OOM when slow queries exist under the disaggregated storage and compute architecture #10278 @JaySon-Huang",
          "Fix the issue that TiFlash might retry indefinitely when a network partition occurs between TiFlash and S3 under the disaggregated storage and compute architecture #10424 @JaySon-Huang",
          "Fix the issue that the FLOOR() and CEIL() functions might return incorrect results when their parameters are of the DECIMAL type #10365 @ChangRui-Ryan",
          "Tools\nBackup & Restore (BR)\nFix the issue that zstd compression in log backup does not take effect, causing the output to remain uncompressed #18836 @3pointer\nFix the issue that the flush operation occasionally becomes slow when backing up data to Azure Blob Storage #18410 @YuJuncen\nFix the issue that log truncate might occur when file deletion fails #63358 @YuJuncen\nFix the issue that setting --checksum to false during backup might cause the count column in the mysql.stats_meta table to become 0 after restore #60978 @Leavrth\nReduce the possibility of BR failing to restore data from S3-compatible storage services when the bandwidth limits on these services are enabled #18846 @kennytm\nFix the issue that log backup observer might lose the observation on a Region, causing the log backup progress to fail to advance #18243 @Leavrth\nFix the issue that causes restore point creation to fail when backed-up tables include certain special schemas #63663 @RidRisR\nTiCDC\nFix a panic that could occur when configuring a column-type partition dispatcher that includes virtual columns #12241 @wk989898\nFix a panic that could occur when closing the DDL puller #12244 @wk989898\nSupport filtering unsupported DDL types through the ignore-txn-start-ts parameter in the filter configuration #12286 @asddongmen\nFix the issue that changefeed tasks might get stuck when using Azure Blob Storage as the downstream #12277 @zurakutsia\nFix the issue that DROP FOREIGN KEY DDL is not replicated to the downstream #12328 @3AceShowHand\nFix the issue that TiCDC might panic when encountering rollback and prewrite entries during Region subscription #19048 @3AceShowHand\nFix the issue that assertion errors in TiKV might cause TiCDC to panic #18498 @tharanga",
          "Backup & Restore (BR)\nFix the issue that zstd compression in log backup does not take effect, causing the output to remain uncompressed #18836 @3pointer\nFix the issue that the flush operation occasionally becomes slow when backing up data to Azure Blob Storage #18410 @YuJuncen\nFix the issue that log truncate might occur when file deletion fails #63358 @YuJuncen\nFix the issue that setting --checksum to false during backup might cause the count column in the mysql.stats_meta table to become 0 after restore #60978 @Leavrth\nReduce the possibility of BR failing to restore data from S3-compatible storage services when the bandwidth limits on these services are enabled #18846 @kennytm\nFix the issue that log backup observer might lose the observation on a Region, causing the log backup progress to fail to advance #18243 @Leavrth\nFix the issue that causes restore point creation to fail when backed-up tables include certain special schemas #63663 @RidRisR",
          "Fix the issue that zstd compression in log backup does not take effect, causing the output to remain uncompressed #18836 @3pointer",
          "Fix the issue that the flush operation occasionally becomes slow when backing up data to Azure Blob Storage #18410 @YuJuncen",
          "Fix the issue that log truncate might occur when file deletion fails #63358 @YuJuncen",
          "Fix the issue that setting --checksum to false during backup might cause the count column in the mysql.stats_meta table to become 0 after restore #60978 @Leavrth",
          "Reduce the possibility of BR failing to restore data from S3-compatible storage services when the bandwidth limits on these services are enabled #18846 @kennytm",
          "Fix the issue that log backup observer might lose the observation on a Region, causing the log backup progress to fail to advance #18243 @Leavrth",
          "Fix the issue that causes restore point creation to fail when backed-up tables include certain special schemas #63663 @RidRisR",
          "TiCDC\nFix a panic that could occur when configuring a column-type partition dispatcher that includes virtual columns #12241 @wk989898\nFix a panic that could occur when closing the DDL puller #12244 @wk989898\nSupport filtering unsupported DDL types through the ignore-txn-start-ts parameter in the filter configuration #12286 @asddongmen\nFix the issue that changefeed tasks might get stuck when using Azure Blob Storage as the downstream #12277 @zurakutsia\nFix the issue that DROP FOREIGN KEY DDL is not replicated to the downstream #12328 @3AceShowHand\nFix the issue that TiCDC might panic when encountering rollback and prewrite entries during Region subscription #19048 @3AceShowHand\nFix the issue that assertion errors in TiKV might cause TiCDC to panic #18498 @tharanga",
          "Fix a panic that could occur when configuring a column-type partition dispatcher that includes virtual columns #12241 @wk989898",
          "Fix a panic that could occur when closing the DDL puller #12244 @wk989898",
          "Support filtering unsupported DDL types through the ignore-txn-start-ts parameter in the filter configuration #12286 @asddongmen",
          "Fix the issue that changefeed tasks might get stuck when using Azure Blob Storage as the downstream #12277 @zurakutsia",
          "Fix the issue that DROP FOREIGN KEY DDL is not replicated to the downstream #12328 @3AceShowHand",
          "Fix the issue that TiCDC might panic when encountering rollback and prewrite entries during Region subscription #19048 @3AceShowHand",
          "Fix the issue that assertion errors in TiKV might cause TiCDC to panic #18498 @tharanga"
        ]
      },
      {
        "version": "8.5.3",
        "date": "2025-08-14",
        "link": "https://docs.pingcap.com/tidb/stable/release-8.5.3/",
        "changes": [
          "TiDB\nAdjust estimation results from 0 to 1 for equality conditions that do not hit TopN when statistics are entirely composed of TopN and the modified row count in the corresponding table statistics is non-zero #47400 @terry1purcell\nImprove the performance of adding unique indexes using global sort, and refine the error message when adding duplicate unique indexes #61689 @CbcWestwolf\nDisable TiKV switching to import mode when IMPORT INTO enables global sort #60361 @D3Hunter\nAdd a monitoring metric to observe the write speed to TiKV during index addition #60925 @CbcWestwolf\nOptimize the scheduling logic of merge sort sub-tasks to improve sorting performance #60375 @tangenta\nAccelerate table creation when creating a large number of tables with foreign keys, and optimize memory usage efficiency #61126 @GMHDBJD\nImprove the read performance of the information_schema.tables table #62020 @tangenta\nAdd flow control interfaces for Region splitting and data ingestion during data import #61553 @tangenta\nOptimize the plan construction process for IndexScan by reducing fmt.Sprintf() calls #56649 @crazycs520\nAdd monitoring metrics for the merge sort stage when using Global Sort with indexes #61025 @fzzf678\nRemove redundant log entries when the IndexLookup operator encounters a context canceled error #61072 @yibin87\nImprove the performance when tidb_replica_read is set to closest-adaptive #61745 @you06\nReduce operational costs by decreasing the amount of monitoring metrics data in large-scale clusters #59990 @zimulala",
          "Adjust estimation results from 0 to 1 for equality conditions that do not hit TopN when statistics are entirely composed of TopN and the modified row count in the corresponding table statistics is non-zero #47400 @terry1purcell",
          "Improve the performance of adding unique indexes using global sort, and refine the error message when adding duplicate unique indexes #61689 @CbcWestwolf",
          "Disable TiKV switching to import mode when IMPORT INTO enables global sort #60361 @D3Hunter",
          "Add a monitoring metric to observe the write speed to TiKV during index addition #60925 @CbcWestwolf",
          "Optimize the scheduling logic of merge sort sub-tasks to improve sorting performance #60375 @tangenta",
          "Accelerate table creation when creating a large number of tables with foreign keys, and optimize memory usage efficiency #61126 @GMHDBJD",
          "Improve the read performance of the information_schema.tables table #62020 @tangenta",
          "Add flow control interfaces for Region splitting and data ingestion during data import #61553 @tangenta",
          "Optimize the plan construction process for IndexScan by reducing fmt.Sprintf() calls #56649 @crazycs520",
          "Add monitoring metrics for the merge sort stage when using Global Sort with indexes #61025 @fzzf678",
          "Remove redundant log entries when the IndexLookup operator encounters a context canceled error #61072 @yibin87",
          "Improve the performance when tidb_replica_read is set to closest-adaptive #61745 @you06",
          "Reduce operational costs by decreasing the amount of monitoring metrics data in large-scale clusters #59990 @zimulala",
          "TiKV\nSupport ingesting SST files without blocking foreground writes, reducing the impact of latency #18081 @hhwyt\nReduce performance jitter caused by the flow controller #18625 @hhwyt\nOptimize tail latency during ADD INDEX operations in TiDB #18081 @overvenus\nOptimize the handling of CompactedEvent in Raftstore by moving it to the split-check worker, reducing blocking on the main Raftstore thread #18532 @LykxSassinator\nLog only SST ingest is experiencing slowdowns when SST ingest is too slow, and skip calling get_sst_key_ranges to avoid performance jitter #18549 @LykxSassinator\nOptimize the detection mechanism for I/O jitter on KvDB disks when KvDB and RaftDB use separate mount paths #18463 @LykxSassinator\nOptimize the performance of fetch_entries_to in Raft Engine to reduce contention and improve performance under mixed workloads #18605 @LykxSassinator\nOptimize the cleanup mechanism of residual data to mitigate the impact on request latency #18107 @LykxSassinator",
          "Support ingesting SST files without blocking foreground writes, reducing the impact of latency #18081 @hhwyt",
          "Reduce performance jitter caused by the flow controller #18625 @hhwyt",
          "Optimize tail latency during ADD INDEX operations in TiDB #18081 @overvenus",
          "Optimize the handling of CompactedEvent in Raftstore by moving it to the split-check worker, reducing blocking on the main Raftstore thread #18532 @LykxSassinator",
          "Log only SST ingest is experiencing slowdowns when SST ingest is too slow, and skip calling get_sst_key_ranges to avoid performance jitter #18549 @LykxSassinator",
          "Optimize the detection mechanism for I/O jitter on KvDB disks when KvDB and RaftDB use separate mount paths #18463 @LykxSassinator",
          "Optimize the performance of fetch_entries_to in Raft Engine to reduce contention and improve performance under mixed workloads #18605 @LykxSassinator",
          "Optimize the cleanup mechanism of residual data to mitigate the impact on request latency #18107 @LykxSassinator",
          "PD\nAdd GO runtime-related monitoring metrics in Prometheus #8931 @bufferflies\nExtend the recovery time after triggering slow node leader eviction from 600 seconds to 900 seconds (15 minutes) #9329 @rleungx",
          "Add GO runtime-related monitoring metrics in Prometheus #8931 @bufferflies",
          "Extend the recovery time after triggering slow node leader eviction from 600 seconds to 900 seconds (15 minutes) #9329 @rleungx",
          "TiFlash\nIncrease the maximum retry count when acquiring storage snapshots to improve query stability for large tables #10300 @JaySon-Huang\nEnhance the observability for TiFlash OOM risks in wide table scenarios #10272 @JaySon-Huang",
          "Increase the maximum retry count when acquiring storage snapshots to improve query stability for large tables #10300 @JaySon-Huang",
          "Enhance the observability for TiFlash OOM risks in wide table scenarios #10272 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nImprove the index restore speed during PITR by repairing indexes concurrently #59158 @Leavrth\nThe Download API of TiKV supports filtering out data within a certain time range when downloading backup files, which avoids importing outdated or future data versions during restore #18399 @3pointer\nSupport filtering log backup metadata files by timestamp to reduce the time spent on reading metadata during PITR #61318 @3pointer",
          "Backup & Restore (BR)\nImprove the index restore speed during PITR by repairing indexes concurrently #59158 @Leavrth\nThe Download API of TiKV supports filtering out data within a certain time range when downloading backup files, which avoids importing outdated or future data versions during restore #18399 @3pointer\nSupport filtering log backup metadata files by timestamp to reduce the time spent on reading metadata during PITR #61318 @3pointer",
          "Improve the index restore speed during PITR by repairing indexes concurrently #59158 @Leavrth",
          "The Download API of TiKV supports filtering out data within a certain time range when downloading backup files, which avoids importing outdated or future data versions during restore #18399 @3pointer",
          "Support filtering log backup metadata files by timestamp to reduce the time spent on reading metadata during PITR #61318 @3pointer",
          "TiDB\nFix the issue of incorrect key range in ALTER RANGE meta SET PLACEMENT POLICY #60888 @nolouch\nFix the issue that decreasing the number of workers during index creation might cause the task to hang #59267 @D3Hunter\nFix the issue that the ADMIN SHOW DDL JOBS statement does not display the row count correctly #59897 @tangenta\nFix the issue that data race might occur when dynamically adjusting the number of workers during index creation #59016 @D3Hunter\nFix the issue that the data in the Stats Healthy Distribution panel of Grafana might be incorrect #57176 @hawkingrei\nFix the issue that an error might occur when using IMPORT INTO ... FROM SELECT to import data into TiFlash #58443 @D3Hunter\nFix the issue that enabling tidb_enable_dist_task causes TiDB upgrade to fail #54061 @tangenta\nFix the issue that improper exception handling for statistics causes in-memory statistics to be mistakenly deleted when background tasks time out #57901 @hawkingrei\nFix the issue that the row count is not updated correctly when adding indexes in the TiDB Distributed eXecution Framework (DXF) #58573 @D3Hunter\nFix the issue that TiFlash query results are inconsistent after executing a lossy DDL statement #61455 @Lloyd-Pottiger\nFix the issue that TiDB fails to retry when encountering EOF errors with GCS #59754 @D3Hunter\nFix the issue of invalid KV ranges when using Global Sort #59841 @GMHDBJD\nFix the issue that an empty index name is generated when executing the CREATE INDEX IF NOT EXISTS statement #61265 @CbcWestwolf\nFix the issue that after disabling metadata locking (MDL), DDL operations get stuck after failing to update the schema version #61210 @wjhuang2016\nFix the issue that non-public indexes are shown in the statistics system table #60430 @tangenta\nFix the issue that incorrect memory tracking in the HashAgg operator causes a large number of error logs #58822 @xzhangxian1008\nFix the issue that a nil buffer in basePartialResult4GroupConcat causes a panic during disk spilling in the HashAgg operator #61749 @xzhangxian1008\nFix the issue that incorrect return values in the encoding logic of aggregate expressions cause a panic during query execution #61735 @YangKeao\nFix the issue that the HashJoin operator causes Goroutine leaks due to memory overuse #60926 @xzhangxian1008\nFix the issue that shared KV requests in IndexMerge and IndexLookUp operators cause data races when pushing down queries #60175 @you06\nFix the issue that SQL statements containing _charset(xxx), _charset(xxx2), ... generate different digests #58447 @xhebox\nFix the issue that TiDB might panic when handling invalid UTF-8 characters #47521 @Defined2014\nFix the issue that inserting an invalid daylight saving time (DST) timestamp results in 0000-00-00 #61334 @mjonss\nFix the issue that using INSERT IGNORE to insert an invalid daylight saving time timestamp in strict SQL mode results in a timestamp inconsistent with MySQL #61439 @mjonss\nFix the issue that frequent Region merges prevent TTL jobs from starting #61512 @YangKeao\nFix the issue that the column length returned by TiDB in the network protocol might be 0. If it is 0, TiDB returns the default length of each field type #60503 @xhebox\nFix the issue that the returned type of blob in the network protocol is inconsistent with MySQL #60195 @dveeden\nFix the issue that the length returned by CAST() is incompatible with MySQL #61350 @YangKeao\nFix the issue that the comparison behavior of latin1_bin differs from that of utf8mb4_bin and utf8_bin #60701 @hawkingrei\nFix the issue that pessimistic locks might remain when a query is terminated #61454 @zyguan\nFix the issue that an error occurs when TiDB executes large queries due to loading too many Regions from PD in a single request #1704 @you06",
          "Fix the issue of incorrect key range in ALTER RANGE meta SET PLACEMENT POLICY #60888 @nolouch",
          "Fix the issue that decreasing the number of workers during index creation might cause the task to hang #59267 @D3Hunter",
          "Fix the issue that the ADMIN SHOW DDL JOBS statement does not display the row count correctly #59897 @tangenta",
          "Fix the issue that data race might occur when dynamically adjusting the number of workers during index creation #59016 @D3Hunter",
          "Fix the issue that the data in the Stats Healthy Distribution panel of Grafana might be incorrect #57176 @hawkingrei",
          "Fix the issue that an error might occur when using IMPORT INTO ... FROM SELECT to import data into TiFlash #58443 @D3Hunter",
          "Fix the issue that enabling tidb_enable_dist_task causes TiDB upgrade to fail #54061 @tangenta",
          "Fix the issue that improper exception handling for statistics causes in-memory statistics to be mistakenly deleted when background tasks time out #57901 @hawkingrei",
          "Fix the issue that the row count is not updated correctly when adding indexes in the TiDB Distributed eXecution Framework (DXF) #58573 @D3Hunter",
          "Fix the issue that TiFlash query results are inconsistent after executing a lossy DDL statement #61455 @Lloyd-Pottiger",
          "Fix the issue that TiDB fails to retry when encountering EOF errors with GCS #59754 @D3Hunter",
          "Fix the issue of invalid KV ranges when using Global Sort #59841 @GMHDBJD",
          "Fix the issue that an empty index name is generated when executing the CREATE INDEX IF NOT EXISTS statement #61265 @CbcWestwolf",
          "Fix the issue that after disabling metadata locking (MDL), DDL operations get stuck after failing to update the schema version #61210 @wjhuang2016",
          "Fix the issue that non-public indexes are shown in the statistics system table #60430 @tangenta",
          "Fix the issue that incorrect memory tracking in the HashAgg operator causes a large number of error logs #58822 @xzhangxian1008",
          "Fix the issue that a nil buffer in basePartialResult4GroupConcat causes a panic during disk spilling in the HashAgg operator #61749 @xzhangxian1008",
          "Fix the issue that incorrect return values in the encoding logic of aggregate expressions cause a panic during query execution #61735 @YangKeao",
          "Fix the issue that the HashJoin operator causes Goroutine leaks due to memory overuse #60926 @xzhangxian1008",
          "Fix the issue that shared KV requests in IndexMerge and IndexLookUp operators cause data races when pushing down queries #60175 @you06",
          "Fix the issue that SQL statements containing _charset(xxx), _charset(xxx2), ... generate different digests #58447 @xhebox",
          "Fix the issue that TiDB might panic when handling invalid UTF-8 characters #47521 @Defined2014",
          "Fix the issue that inserting an invalid daylight saving time (DST) timestamp results in 0000-00-00 #61334 @mjonss",
          "Fix the issue that using INSERT IGNORE to insert an invalid daylight saving time timestamp in strict SQL mode results in a timestamp inconsistent with MySQL #61439 @mjonss",
          "Fix the issue that frequent Region merges prevent TTL jobs from starting #61512 @YangKeao",
          "Fix the issue that the column length returned by TiDB in the network protocol might be 0. If it is 0, TiDB returns the default length of each field type #60503 @xhebox",
          "Fix the issue that the returned type of blob in the network protocol is inconsistent with MySQL #60195 @dveeden",
          "Fix the issue that the length returned by CAST() is incompatible with MySQL #61350 @YangKeao",
          "Fix the issue that the comparison behavior of latin1_bin differs from that of utf8mb4_bin and utf8_bin #60701 @hawkingrei",
          "Fix the issue that pessimistic locks might remain when a query is terminated #61454 @zyguan",
          "Fix the issue that an error occurs when TiDB executes large queries due to loading too many Regions from PD in a single request #1704 @you06",
          "TiKV\nFix the issue that TiKV fails to terminate ongoing manual compaction tasks during graceful shutdown #18396 @LykxSassinator\nFix the issue that the default Region size is unexpectedly changed after a cluster upgrade #18503 @LykxSassinator\nFix the issue that TiKV might use a compression algorithm that the client cannot decode #18079 @ekexium\nFix the issue that blob indexes might cause apply snapshot failures after Titan is disabled #18434 @v01dstar\nFix misleading descriptions in StoreMsg log entries in slow logs #18561 @LykxSassinator\nFix the issue that TiKV allows excessive SST ingest requests under high concurrency #18452 @hbisheng\nFix the issue that TiKV might panic due to duplicate results during lock scanning #16818 @cfzjywxk",
          "Fix the issue that TiKV fails to terminate ongoing manual compaction tasks during graceful shutdown #18396 @LykxSassinator",
          "Fix the issue that the default Region size is unexpectedly changed after a cluster upgrade #18503 @LykxSassinator",
          "Fix the issue that TiKV might use a compression algorithm that the client cannot decode #18079 @ekexium",
          "Fix the issue that blob indexes might cause apply snapshot failures after Titan is disabled #18434 @v01dstar",
          "Fix misleading descriptions in StoreMsg log entries in slow logs #18561 @LykxSassinator",
          "Fix the issue that TiKV allows excessive SST ingest requests under high concurrency #18452 @hbisheng",
          "Fix the issue that TiKV might panic due to duplicate results during lock scanning #16818 @cfzjywxk",
          "PD\nFix the issue that recovery-duration does not take effect in the slow node detection mechanism #9384 @rleungx\nFix the issue that the Evict Leader scheduler might be incorrectly paused after a cluster upgrade #9416 @rleungx\nFix the issue that improperly closing TiDB Dashboard TCP connections could lead to PD goroutine leaks #9402 @baurine\nFix the issue that newly added TiKV nodes might fail to be scheduled #9145 @bufferflies",
          "Fix the issue that recovery-duration does not take effect in the slow node detection mechanism #9384 @rleungx",
          "Fix the issue that the Evict Leader scheduler might be incorrectly paused after a cluster upgrade #9416 @rleungx",
          "Fix the issue that improperly closing TiDB Dashboard TCP connections could lead to PD goroutine leaks #9402 @baurine",
          "Fix the issue that newly added TiKV nodes might fail to be scheduled #9145 @bufferflies",
          "TiFlash\nFix the issue that creating an expression index in the form of ((NULL)) causes TiFlash to panic #9891 @JaySon-Huang\nFix the issue that misaligned mutex in the Join operator causes TiFlash to crash in certain environments #10163 @windtalker\nFix the issue that missing resource control low token signals lead to query throttling #10137 @guo-shaoge",
          "Fix the issue that creating an expression index in the form of ((NULL)) causes TiFlash to panic #9891 @JaySon-Huang",
          "Fix the issue that misaligned mutex in the Join operator causes TiFlash to crash in certain environments #10163 @windtalker",
          "Fix the issue that missing resource control low token signals lead to query throttling #10137 @guo-shaoge",
          "Tools\nBackup & Restore (BR)\nFix the issue that available space on storage nodes is unnecessarily rechecked during breakpoint recovery #54316 @Leavrth\nFix the issue that data imports from external storage do not automatically retry when the HTTP/2 GOAWAY error occurs #60143 @joechenrh\nFix the keepalive watchdog timedout error that occurs during restore due to import mode switching #18541 @Leavrth\nFix the issue that log backup uploads to Azure Blob Storage are slow when transferring large volumes of data #18410 @YuJuncen\nFix the issue that BR does not check whether the corresponding table exists in the cluster when filtering tables with -f #61592 @RidRisR\nFix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen\nFix the issue that RangeTree results consume memory inefficiently during full backup #58587 @3pointer\nTiCDC\nFix the issue that evaluating event filter expressions on tables containing virtual columns might cause a panic #12206 @lidezhu\nFix the issue that the resolved ts lag keeps increasing after scaling in or out TiKV nodes on the same IP address because of outdated store IDs #12162 @3AceShowHand\nFix the issue of case-sensitive matching for column and index names in the dispatcher configuration #12103 @wk989898\nFix the issue that configuring column-selector with the Debezium protocol might cause a panic #12208 @wk989898\nTiDB Lightning\nFix the issue that TiDB Lightning returns the context deadline exceeded error when the RPC request to TiKV times out #60143 @joechenrh",
          "Backup & Restore (BR)\nFix the issue that available space on storage nodes is unnecessarily rechecked during breakpoint recovery #54316 @Leavrth\nFix the issue that data imports from external storage do not automatically retry when the HTTP/2 GOAWAY error occurs #60143 @joechenrh\nFix the keepalive watchdog timedout error that occurs during restore due to import mode switching #18541 @Leavrth\nFix the issue that log backup uploads to Azure Blob Storage are slow when transferring large volumes of data #18410 @YuJuncen\nFix the issue that BR does not check whether the corresponding table exists in the cluster when filtering tables with -f #61592 @RidRisR\nFix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen\nFix the issue that RangeTree results consume memory inefficiently during full backup #58587 @3pointer",
          "Fix the issue that available space on storage nodes is unnecessarily rechecked during breakpoint recovery #54316 @Leavrth",
          "Fix the issue that data imports from external storage do not automatically retry when the HTTP/2 GOAWAY error occurs #60143 @joechenrh",
          "Fix the keepalive watchdog timedout error that occurs during restore due to import mode switching #18541 @Leavrth",
          "Fix the issue that log backup uploads to Azure Blob Storage are slow when transferring large volumes of data #18410 @YuJuncen",
          "Fix the issue that BR does not check whether the corresponding table exists in the cluster when filtering tables with -f #61592 @RidRisR",
          "Fix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen",
          "Fix the issue that RangeTree results consume memory inefficiently during full backup #58587 @3pointer",
          "TiCDC\nFix the issue that evaluating event filter expressions on tables containing virtual columns might cause a panic #12206 @lidezhu\nFix the issue that the resolved ts lag keeps increasing after scaling in or out TiKV nodes on the same IP address because of outdated store IDs #12162 @3AceShowHand\nFix the issue of case-sensitive matching for column and index names in the dispatcher configuration #12103 @wk989898\nFix the issue that configuring column-selector with the Debezium protocol might cause a panic #12208 @wk989898",
          "Fix the issue that evaluating event filter expressions on tables containing virtual columns might cause a panic #12206 @lidezhu",
          "Fix the issue that the resolved ts lag keeps increasing after scaling in or out TiKV nodes on the same IP address because of outdated store IDs #12162 @3AceShowHand",
          "Fix the issue of case-sensitive matching for column and index names in the dispatcher configuration #12103 @wk989898",
          "Fix the issue that configuring column-selector with the Debezium protocol might cause a panic #12208 @wk989898",
          "TiDB Lightning\nFix the issue that TiDB Lightning returns the context deadline exceeded error when the RPC request to TiKV times out #60143 @joechenrh",
          "Fix the issue that TiDB Lightning returns the context deadline exceeded error when the RPC request to TiKV times out #60143 @joechenrh"
        ]
      },
      {
        "version": "8.5.2",
        "date": "2025-06-12",
        "link": "https://docs.pingcap.com/tidb/stable/release-8.5.2/",
        "changes": [
          "TiDB\nLimit the execution of GC for TTL tables and related statistics collection tasks to the owner node, thereby reducing overhead #59357 @lcwangchao",
          "Limit the execution of GC for TTL tables and related statistics collection tasks to the owner node, thereby reducing overhead #59357 @lcwangchao",
          "TiKV\nSupport modifying the import.num-threads configuration item dynamically #17807 @RidRisR",
          "Support modifying the import.num-threads configuration item dynamically #17807 @RidRisR",
          "Tools\nBackup & Restore (BR)\nRemove the check on AWS region names to avoid backup errors caused by newly supported AWS regions failing the validation #18159 @3pointer\nTiDB Lightning\nAdd a row width check when parsing CSV files to prevent OOM issues #58590 @D3Hunter",
          "Backup & Restore (BR)\nRemove the check on AWS region names to avoid backup errors caused by newly supported AWS regions failing the validation #18159 @3pointer",
          "Remove the check on AWS region names to avoid backup errors caused by newly supported AWS regions failing the validation #18159 @3pointer",
          "TiDB Lightning\nAdd a row width check when parsing CSV files to prevent OOM issues #58590 @D3Hunter",
          "Add a row width check when parsing CSV files to prevent OOM issues #58590 @D3Hunter",
          "TiDB\nFix the issue that TiDB fails to obtain TSO during timestamp verification after setting the zone label #59402 @ekexium\nFix the issue that Hash Join returns incorrect results without reporting an error when execution fails #59377 @xzhangxian1008\nFix the issue that TiFlash might crash or return incorrect results #60517 @wintalker\nFix the issue that execution hangs when parallel sorting with ORDER BY encounters an error or the query is canceled #59655 @xzhangxian1008\nFix the issue that an error occurs when querying partitioned tables that contain generated columns #58475 @joechenrh\nFix the issue that creating two views with the same name does not report an error #58769 @tiancaiamao\nFix the issue that different data types on both sides of the equality condition in Join might cause incorrect results in TiFlash #59877 @yibin87\nFix the issue that queries with is null conditions on Hash partitioned tables cause a panic #58374 @Defined2014\nFix the issue that after executing ALTER TABLE ... PLACEMENT POLICY ... in a cluster with TiFlash nodes in the disaggregated storage and compute architecture, Region peers might be accidentally added to TiFlash Compute nodes #58633 @JaySon-Huang\nFix the issue that loading statistics manually might fail when the statistics file contains null values #53966 @King-Dylan\nFix the issue that TTL jobs might be ignored or processed multiple times #59347 @YangKeao\nFix the issue that incorrect judgment in exchange partition causes execution failure #59534 @mjonss\nFix the issue that improper exception handling for statistics causes in-memory statistics to be mistakenly deleted when background tasks time out #57901 @hawkingrei\nFix the issue that the data in the Stats Healthy Distribution panel of Grafana might be incorrect #57176 @hawkingrei\nFix the issue that a canceled TTL task might put an uncommitted session to the global session pool #58900 @YangKeao\nFix the issue that enabling Redact log does not take effect in certain scenarios #59279 @tangenta\nFix the issue that rowContainer might cause TiDB to panic in certain scenarios #59976 @YangKeao\nFix the issue that partition pruning might be incorrect in the Point_Get scenario for partitioned tables #59827 @mjonss\nFix the issue that updating records in partitioned tables during DDL execution might lead to data corruption #57588 @Defined2014\nFix the issue that the performance and stability of information_schema are affected in certain scenarios #58142 #58363 #58712 @tiancaiamao\nFix the issue that tidb_txn_entry_size_limit cannot be dynamically adjusted in internal TiDB sessions when the Distributed eXecution Framework (DXF) is enabled #59506 @D3Hunter\nFix the issue that the IMPORT INTO feature fails to properly handle unique key conflicts when Global Sort is enabled #59650 @lance6716\nFix the issue that injecting network latency errors in the global sorting data path causes the IMPORT INTO operation to fail #50451 @D3Hunter\nFix the issue that executing ADD UNIQUE INDEX might cause data inconsistency #60339 @tangenta\nFix the issue that the value of the LABELS column is incorrectly displayed in the BINLOG_STATUS column when querying INFORMATION_SCHEMA.TIDB_SERVERS_INFO #59245 @lance6716\nFix the issue that injecting a kill PD Leader fault during index creation might cause data inconsistency #59701 @tangenta\nFix the issue that TiDB runs out of memory (OOM) after creating approximately 6.5 million tables #58368 @lance6716\nFix the issue that adding a unique key might fail when importing a large amount of data with the Global Sort feature enabled #59725 @CbcWestwolf\nFix the issue that TiDB returns unreadable error messages after failing to access S3 external storage #59326 @lance6716\nFix the issue that querying information_schema.tables returns mismatched table_schema and table_name values #60593 @tangenta\nFix the issue that the DDL notifier might deliver incorrect notifications when internal SQL commits fail #59055 @lance6716\nFix the issue that ADD INDEX DDL operations still split SST files by 96 MiB when the Global Sort feature is enabled, despite the Region size is 256 MiB #59962 @D3Hunter\nFix the issue that TiDB servers run out of memory (OOM) when memory usage exceeds 80% during data import with the Global Sort feature enabled #59508 @D3Hunter",
          "Fix the issue that TiDB fails to obtain TSO during timestamp verification after setting the zone label #59402 @ekexium",
          "Fix the issue that Hash Join returns incorrect results without reporting an error when execution fails #59377 @xzhangxian1008",
          "Fix the issue that TiFlash might crash or return incorrect results #60517 @wintalker",
          "Fix the issue that execution hangs when parallel sorting with ORDER BY encounters an error or the query is canceled #59655 @xzhangxian1008",
          "Fix the issue that an error occurs when querying partitioned tables that contain generated columns #58475 @joechenrh",
          "Fix the issue that creating two views with the same name does not report an error #58769 @tiancaiamao",
          "Fix the issue that different data types on both sides of the equality condition in Join might cause incorrect results in TiFlash #59877 @yibin87",
          "Fix the issue that queries with is null conditions on Hash partitioned tables cause a panic #58374 @Defined2014",
          "Fix the issue that after executing ALTER TABLE ... PLACEMENT POLICY ... in a cluster with TiFlash nodes in the disaggregated storage and compute architecture, Region peers might be accidentally added to TiFlash Compute nodes #58633 @JaySon-Huang",
          "Fix the issue that loading statistics manually might fail when the statistics file contains null values #53966 @King-Dylan",
          "Fix the issue that TTL jobs might be ignored or processed multiple times #59347 @YangKeao",
          "Fix the issue that incorrect judgment in exchange partition causes execution failure #59534 @mjonss",
          "Fix the issue that improper exception handling for statistics causes in-memory statistics to be mistakenly deleted when background tasks time out #57901 @hawkingrei",
          "Fix the issue that the data in the Stats Healthy Distribution panel of Grafana might be incorrect #57176 @hawkingrei",
          "Fix the issue that a canceled TTL task might put an uncommitted session to the global session pool #58900 @YangKeao",
          "Fix the issue that enabling Redact log does not take effect in certain scenarios #59279 @tangenta",
          "Fix the issue that rowContainer might cause TiDB to panic in certain scenarios #59976 @YangKeao",
          "Fix the issue that partition pruning might be incorrect in the Point_Get scenario for partitioned tables #59827 @mjonss",
          "Fix the issue that updating records in partitioned tables during DDL execution might lead to data corruption #57588 @Defined2014",
          "Fix the issue that the performance and stability of information_schema are affected in certain scenarios #58142 #58363 #58712 @tiancaiamao",
          "Fix the issue that tidb_txn_entry_size_limit cannot be dynamically adjusted in internal TiDB sessions when the Distributed eXecution Framework (DXF) is enabled #59506 @D3Hunter",
          "Fix the issue that the IMPORT INTO feature fails to properly handle unique key conflicts when Global Sort is enabled #59650 @lance6716",
          "Fix the issue that injecting network latency errors in the global sorting data path causes the IMPORT INTO operation to fail #50451 @D3Hunter",
          "Fix the issue that executing ADD UNIQUE INDEX might cause data inconsistency #60339 @tangenta",
          "Fix the issue that the value of the LABELS column is incorrectly displayed in the BINLOG_STATUS column when querying INFORMATION_SCHEMA.TIDB_SERVERS_INFO #59245 @lance6716",
          "Fix the issue that injecting a kill PD Leader fault during index creation might cause data inconsistency #59701 @tangenta",
          "Fix the issue that TiDB runs out of memory (OOM) after creating approximately 6.5 million tables #58368 @lance6716",
          "Fix the issue that adding a unique key might fail when importing a large amount of data with the Global Sort feature enabled #59725 @CbcWestwolf",
          "Fix the issue that TiDB returns unreadable error messages after failing to access S3 external storage #59326 @lance6716",
          "Fix the issue that querying information_schema.tables returns mismatched table_schema and table_name values #60593 @tangenta",
          "Fix the issue that the DDL notifier might deliver incorrect notifications when internal SQL commits fail #59055 @lance6716",
          "Fix the issue that ADD INDEX DDL operations still split SST files by 96 MiB when the Global Sort feature is enabled, despite the Region size is 256 MiB #59962 @D3Hunter",
          "Fix the issue that TiDB servers run out of memory (OOM) when memory usage exceeds 80% during data import with the Global Sort feature enabled #59508 @D3Hunter",
          "TiKV\nFix the issue that a potential deadlock might occur in txn_status_cache #18384 @ekexium\nFix the issue that Resolved-TS monitoring and logs might be abnormal #17989 @ekexium\nFix the issue that Region merge might lead to TiKV abnormal exit due to Raft index mismatch #18129 @glorv\nFix the issue that TiKV cannot report heartbeats to PD when the disk is stuck #17939 @LykxSassinator\nFix the issue that a deadlock might occur when the GC worker is under heavy load #18214 @zyguan\nFix the issue that time rollback might cause abnormal RocksDB flow control, leading to performance jitter #17995 @LykxSassinator\nFix the issue that CDC connections might cause resource leakage when encountering exceptions #18245 @wlwilliamx\nFix the issue that the leader could not be quickly elected after Region split #17602 @LykxSassinator\nFix the issue that the latest written data might not be readable when only one-phase commit (1PC) is enabled and Async Commit is not enabled #18117 @zyguan\nFix the issue that the GC worker unexpectedly prints error logs #18213 @ekexium",
          "Fix the issue that a potential deadlock might occur in txn_status_cache #18384 @ekexium",
          "Fix the issue that Resolved-TS monitoring and logs might be abnormal #17989 @ekexium",
          "Fix the issue that Region merge might lead to TiKV abnormal exit due to Raft index mismatch #18129 @glorv",
          "Fix the issue that TiKV cannot report heartbeats to PD when the disk is stuck #17939 @LykxSassinator",
          "Fix the issue that a deadlock might occur when the GC worker is under heavy load #18214 @zyguan",
          "Fix the issue that time rollback might cause abnormal RocksDB flow control, leading to performance jitter #17995 @LykxSassinator",
          "Fix the issue that CDC connections might cause resource leakage when encountering exceptions #18245 @wlwilliamx",
          "Fix the issue that the leader could not be quickly elected after Region split #17602 @LykxSassinator",
          "Fix the issue that the latest written data might not be readable when only one-phase commit (1PC) is enabled and Async Commit is not enabled #18117 @zyguan",
          "Fix the issue that the GC worker unexpectedly prints error logs #18213 @ekexium",
          "PD\nFix the concurrency issue that might arise when forwarding TSO in microservice scenarios #9091 @lhy1024\nFix the issue that the result returned by BatchScanRegions is not properly limited #9216 @lhy1024\nFix the issue that an unexpected election occurs when one follower experiences a network partition from the leader #9020 @lhy1024\nFix the issue that COOLDOWN or SWITCH_GROUP cannot be triggered when QUERY_LIMIT is set in resource control #60404 @JmPotato\nFix the issue that StoreInfo might be incorrectly overridden #9185 @okJiang\nFix the issue that operations in data import or adding index scenarios might fail due to unstable PD network #8962 @okJiang\nFix the issue that the default value of max-size for a single log file is not correctly set #9037 @rleungx\nFix the issue that memory leaks might occur when allocating TSOs #9004 @rleungx\nFix the issue that the tidb_enable_tso_follower_proxy system variable might not take effect #8947 @JmPotato\nFix the issue that a PD node might still generate TSOs even when it is not the Leader #9051 @rleungx\nFix the issue that Region syncer might not exit in time during the PD Leader switch #9017 @rleungx\nFix the issue that the default value of lease is not correctly set #9156 @rleungx\nFix the issue that enabling tidb_enable_tso_follower_proxy might cause the TSO service to become unavailable #9188 @Tema",
          "Fix the concurrency issue that might arise when forwarding TSO in microservice scenarios #9091 @lhy1024",
          "Fix the issue that the result returned by BatchScanRegions is not properly limited #9216 @lhy1024",
          "Fix the issue that an unexpected election occurs when one follower experiences a network partition from the leader #9020 @lhy1024",
          "Fix the issue that COOLDOWN or SWITCH_GROUP cannot be triggered when QUERY_LIMIT is set in resource control #60404 @JmPotato",
          "Fix the issue that StoreInfo might be incorrectly overridden #9185 @okJiang",
          "Fix the issue that operations in data import or adding index scenarios might fail due to unstable PD network #8962 @okJiang",
          "Fix the issue that the default value of max-size for a single log file is not correctly set #9037 @rleungx",
          "Fix the issue that memory leaks might occur when allocating TSOs #9004 @rleungx",
          "Fix the issue that the tidb_enable_tso_follower_proxy system variable might not take effect #8947 @JmPotato",
          "Fix the issue that a PD node might still generate TSOs even when it is not the Leader #9051 @rleungx",
          "Fix the issue that Region syncer might not exit in time during the PD Leader switch #9017 @rleungx",
          "Fix the issue that the default value of lease is not correctly set #9156 @rleungx",
          "Fix the issue that enabling tidb_enable_tso_follower_proxy might cause the TSO service to become unavailable #9188 @Tema",
          "TiFlash\nFix the issue that data spill during sorting might cause TiFlash to crash #9999 @windtalker\nFix the issue that TiFlash might return the Exception: Block schema mismatch error when executing SQL statements containing GROUP BY ... WITH ROLLUP #10110 @gengliqi\nFix the issue that in the disaggregated storage and compute architecture, TiFlash compute nodes might be incorrectly selected as target nodes for adding Region peers #9750 @JaySon-Huang\nFix the issue that TiFlash might fail to print error stack traces when it unexpectedly exits in certain situations #9902 @JaySon-Huang\nFix the issue that TiFlash might maintain high memory usage after importing large amounts of data #9812 @CalvinNeo\nFix the issue that TiFlash startup might be blocked when profiles.default.init_thread_count_scale is set to 0 #9906 @JaySon-Huang\nFix the issue that queries on a partitioned table might return errors after executing ALTER TABLE ... RENAME COLUMN on that partitioned table #9787 @Lloyd-Pottiger\nFix the issue that a Not found column error might occur when a query involves virtual columns and triggers remote reads #9561 @guo-shaoge\nFix the issue that TiFlash might consume a large amount of memory when tables in a cluster contain a large number of ENUM type columns #9947 @JaySon-Huang\nFix the issue that TiFlash might fail to restart after inserting a single row of data larger than 16 MiB #10052 @JaySon-Huang\nFix the issue that TiFlash might not clean some disk data correctly after new data is inserted to tables with vector indexes, causing abnormal disk space consumption #9946 @JaySon-Huang\nFix the issue that TiFlash might delete previously created vector indexes unexpectedly after multiple vector indexes are created on the same table, causing performance degradation #9971 @Lloyd-Pottiger\nFix the issue that TiFlash might fail to use vector indexes to accelerate vector search queries in the disaggregated storage and compute architecture #9847 @Lloyd-Pottiger\nFix the issue that TiFlash might print a large number of tag=EnumParseOverflowContainer logs in the disaggregated storage and compute architecture #9955 @JaySon-Huang\nFix the issue that TiFlash does not skip Learner Read as expected when executing SELECT ... AS OF TIMESTAMP queries #10046 @CalvinNeo\nFix the issue that TiFlash might panic when handling snapshots with irregular Region key-ranges #10147 @JaySon-Huang",
          "Fix the issue that data spill during sorting might cause TiFlash to crash #9999 @windtalker",
          "Fix the issue that TiFlash might return the Exception: Block schema mismatch error when executing SQL statements containing GROUP BY ... WITH ROLLUP #10110 @gengliqi",
          "Fix the issue that in the disaggregated storage and compute architecture, TiFlash compute nodes might be incorrectly selected as target nodes for adding Region peers #9750 @JaySon-Huang",
          "Fix the issue that TiFlash might fail to print error stack traces when it unexpectedly exits in certain situations #9902 @JaySon-Huang",
          "Fix the issue that TiFlash might maintain high memory usage after importing large amounts of data #9812 @CalvinNeo",
          "Fix the issue that TiFlash startup might be blocked when profiles.default.init_thread_count_scale is set to 0 #9906 @JaySon-Huang",
          "Fix the issue that queries on a partitioned table might return errors after executing ALTER TABLE ... RENAME COLUMN on that partitioned table #9787 @Lloyd-Pottiger",
          "Fix the issue that a Not found column error might occur when a query involves virtual columns and triggers remote reads #9561 @guo-shaoge",
          "Fix the issue that TiFlash might consume a large amount of memory when tables in a cluster contain a large number of ENUM type columns #9947 @JaySon-Huang",
          "Fix the issue that TiFlash might fail to restart after inserting a single row of data larger than 16 MiB #10052 @JaySon-Huang",
          "Fix the issue that TiFlash might not clean some disk data correctly after new data is inserted to tables with vector indexes, causing abnormal disk space consumption #9946 @JaySon-Huang",
          "Fix the issue that TiFlash might delete previously created vector indexes unexpectedly after multiple vector indexes are created on the same table, causing performance degradation #9971 @Lloyd-Pottiger",
          "Fix the issue that TiFlash might fail to use vector indexes to accelerate vector search queries in the disaggregated storage and compute architecture #9847 @Lloyd-Pottiger",
          "Fix the issue that TiFlash might print a large number of tag=EnumParseOverflowContainer logs in the disaggregated storage and compute architecture #9955 @JaySon-Huang",
          "Fix the issue that TiFlash does not skip Learner Read as expected when executing SELECT ... AS OF TIMESTAMP queries #10046 @CalvinNeo",
          "Fix the issue that TiFlash might panic when handling snapshots with irregular Region key-ranges #10147 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nFix the issue that repeated downloading of SST files during data restore could cause TiKV to panic in extreme cases #18335 @3pointer\nFix the issue that the status field is missing in the result when querying log backup tasks using br log status --json #57959 @Leavrth\nFix the issue that BR fails to restore due to getting the rpcClient is idle error when sending requests to TiKV #58845 @Tristan1900\nFix the issue that log backup fails to exit properly when encountering a fatal error due to not being able to access PD #18087 @YuJuncen\nFix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen\nTiCDC\nFix the issue that the changefeed might get stuck after the replication traffic exceeds the traffic threshold of the downstream Kafka #12110 @3AceShowHand\nFix the issue that the dispatch rule for the Kafka sink does not take effect when the pulsar+http or pulsar+https protocol is used #12068 @SandeepPadhi\nFix the issue that TiCDC fails to observe the PD leader migration in time, causing the replication latency to increase #11997 @lidezhu\nFix the issue that TiCDC reports errors when replicating default NULL SQL statements via the Avro protocol #11994 @wk989898\nFix the issue that after the default value of a newly added column in the upstream is changed from NOT NULL to NULL, the default values of that column in the downstream are incorrect #12037 @wk989898\nFix the issue that TiCDC fails to properly connect to PD after PD scale-in #12004 @lidezhu\nFix the issue that TiCDC might panic when replicating CREATE TABLE IF NOT EXISTS or CREATE DATABASE IF NOT EXISTS statements #11839 @CharlesCheung96\nTiDB Data Migration (DM)\nFix the issue that the pre-check of start-task fails when both TLS and shard-mode are configured #11842 @sunxiaoguang\nTiDB Lightning\nFix the issue that the performance degrades when importing data from a cloud storage in high-concurrency scenarios #57413 @xuanyu66\nFix the issue that the error report output is truncated when importing data using TiDB Lightning #58085 @lance6716\nFix the issue that logs are not properly desensitized #59086 @GMHDBJD\nFix the issue that authentication would fail with a context canceled error when using an external account to perform any GCS storage operation #60155 @lance6716\nFix the issue that TiDB Lightning can get stuck for several hours when importing Parquet files from cloud storage into TiDB #60224 @joechenrh\nFix the issue that TiDB Lightning could run out of memory (OOM) during writing or ingesting SST files into the TiKV cluster when importing large volumes of data #59947 @OliverS929\nFix the issue that low maximum QPS during table creation and slow access to information_schema.tables cause TiDB Lightning to dispatch schema jobs slower in scenarios with millions of tables #58141 @D3Hunter\nNG Monitoring\nFix the issue that DocDB consumes too much memory under high workloads, and use SQLite as an optional backend for DocDB #267 @mornyx\nFix the issue that TSDB consumes too much memory under high cardinality of time series data, and provide a memory configuration option for TSDB #295 @mornyx",
          "Backup & Restore (BR)\nFix the issue that repeated downloading of SST files during data restore could cause TiKV to panic in extreme cases #18335 @3pointer\nFix the issue that the status field is missing in the result when querying log backup tasks using br log status --json #57959 @Leavrth\nFix the issue that BR fails to restore due to getting the rpcClient is idle error when sending requests to TiKV #58845 @Tristan1900\nFix the issue that log backup fails to exit properly when encountering a fatal error due to not being able to access PD #18087 @YuJuncen\nFix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen",
          "Fix the issue that repeated downloading of SST files during data restore could cause TiKV to panic in extreme cases #18335 @3pointer",
          "Fix the issue that the status field is missing in the result when querying log backup tasks using br log status --json #57959 @Leavrth",
          "Fix the issue that BR fails to restore due to getting the rpcClient is idle error when sending requests to TiKV #58845 @Tristan1900",
          "Fix the issue that log backup fails to exit properly when encountering a fatal error due to not being able to access PD #18087 @YuJuncen",
          "Fix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen",
          "TiCDC\nFix the issue that the changefeed might get stuck after the replication traffic exceeds the traffic threshold of the downstream Kafka #12110 @3AceShowHand\nFix the issue that the dispatch rule for the Kafka sink does not take effect when the pulsar+http or pulsar+https protocol is used #12068 @SandeepPadhi\nFix the issue that TiCDC fails to observe the PD leader migration in time, causing the replication latency to increase #11997 @lidezhu\nFix the issue that TiCDC reports errors when replicating default NULL SQL statements via the Avro protocol #11994 @wk989898\nFix the issue that after the default value of a newly added column in the upstream is changed from NOT NULL to NULL, the default values of that column in the downstream are incorrect #12037 @wk989898\nFix the issue that TiCDC fails to properly connect to PD after PD scale-in #12004 @lidezhu\nFix the issue that TiCDC might panic when replicating CREATE TABLE IF NOT EXISTS or CREATE DATABASE IF NOT EXISTS statements #11839 @CharlesCheung96",
          "Fix the issue that the changefeed might get stuck after the replication traffic exceeds the traffic threshold of the downstream Kafka #12110 @3AceShowHand",
          "Fix the issue that the dispatch rule for the Kafka sink does not take effect when the pulsar+http or pulsar+https protocol is used #12068 @SandeepPadhi",
          "Fix the issue that TiCDC fails to observe the PD leader migration in time, causing the replication latency to increase #11997 @lidezhu",
          "Fix the issue that TiCDC reports errors when replicating default NULL SQL statements via the Avro protocol #11994 @wk989898",
          "Fix the issue that after the default value of a newly added column in the upstream is changed from NOT NULL to NULL, the default values of that column in the downstream are incorrect #12037 @wk989898",
          "Fix the issue that TiCDC fails to properly connect to PD after PD scale-in #12004 @lidezhu",
          "Fix the issue that TiCDC might panic when replicating CREATE TABLE IF NOT EXISTS or CREATE DATABASE IF NOT EXISTS statements #11839 @CharlesCheung96",
          "TiDB Data Migration (DM)\nFix the issue that the pre-check of start-task fails when both TLS and shard-mode are configured #11842 @sunxiaoguang",
          "Fix the issue that the pre-check of start-task fails when both TLS and shard-mode are configured #11842 @sunxiaoguang",
          "TiDB Lightning\nFix the issue that the performance degrades when importing data from a cloud storage in high-concurrency scenarios #57413 @xuanyu66\nFix the issue that the error report output is truncated when importing data using TiDB Lightning #58085 @lance6716\nFix the issue that logs are not properly desensitized #59086 @GMHDBJD\nFix the issue that authentication would fail with a context canceled error when using an external account to perform any GCS storage operation #60155 @lance6716\nFix the issue that TiDB Lightning can get stuck for several hours when importing Parquet files from cloud storage into TiDB #60224 @joechenrh\nFix the issue that TiDB Lightning could run out of memory (OOM) during writing or ingesting SST files into the TiKV cluster when importing large volumes of data #59947 @OliverS929\nFix the issue that low maximum QPS during table creation and slow access to information_schema.tables cause TiDB Lightning to dispatch schema jobs slower in scenarios with millions of tables #58141 @D3Hunter",
          "Fix the issue that the performance degrades when importing data from a cloud storage in high-concurrency scenarios #57413 @xuanyu66",
          "Fix the issue that the error report output is truncated when importing data using TiDB Lightning #58085 @lance6716",
          "Fix the issue that logs are not properly desensitized #59086 @GMHDBJD",
          "Fix the issue that authentication would fail with a context canceled error when using an external account to perform any GCS storage operation #60155 @lance6716",
          "Fix the issue that TiDB Lightning can get stuck for several hours when importing Parquet files from cloud storage into TiDB #60224 @joechenrh",
          "Fix the issue that TiDB Lightning could run out of memory (OOM) during writing or ingesting SST files into the TiKV cluster when importing large volumes of data #59947 @OliverS929",
          "Fix the issue that low maximum QPS during table creation and slow access to information_schema.tables cause TiDB Lightning to dispatch schema jobs slower in scenarios with millions of tables #58141 @D3Hunter",
          "NG Monitoring\nFix the issue that DocDB consumes too much memory under high workloads, and use SQLite as an optional backend for DocDB #267 @mornyx\nFix the issue that TSDB consumes too much memory under high cardinality of time series data, and provide a memory configuration option for TSDB #295 @mornyx",
          "Fix the issue that DocDB consumes too much memory under high workloads, and use SQLite as an optional backend for DocDB #267 @mornyx",
          "Fix the issue that TSDB consumes too much memory under high cardinality of time series data, and provide a memory configuration option for TSDB #295 @mornyx"
        ]
      },
      {
        "version": "8.5.1",
        "date": "2025-01-17",
        "link": "https://docs.pingcap.com/tidb/stable/release-8.5.1/",
        "changes": [
          "TiDB\nSupport folding read-only user-defined variables into constants #52742 @winoros\nConvert Cartesian product Semi Join with nulleq condition to Semi Join with equality condition #57583 @hawkingrei\nAdjust the default threshold of statistics memory cache to 20% of the total memory #58014 @hawkingrei\nEnhance the timestamp validity check #57786 @MyonKeminta",
          "Support folding read-only user-defined variables into constants #52742 @winoros",
          "Convert Cartesian product Semi Join with nulleq condition to Semi Join with equality condition #57583 @hawkingrei",
          "Adjust the default threshold of statistics memory cache to 20% of the total memory #58014 @hawkingrei",
          "Enhance the timestamp validity check #57786 @MyonKeminta",
          "TiKV\nAdd the detection mechanism for invalid max_ts updates #17916 @ekexium",
          "Add the detection mechanism for invalid max_ts updates #17916 @ekexium",
          "TiFlash\nOptimize the retry strategy for TiFlash compute nodes in the disaggregated storage and compute architecture to handle exceptions when downloading files from Amazon S3 #9695 @JinheLin",
          "Optimize the retry strategy for TiFlash compute nodes in the disaggregated storage and compute architecture to handle exceptions when downloading files from Amazon S3 #9695 @JinheLin",
          "Tools\nTiCDC\nFilter out events that are not subscribed to by TiCDC in advance to avoid unnecessary resource consumption #17877 @hicqu",
          "TiCDC\nFilter out events that are not subscribed to by TiCDC in advance to avoid unnecessary resource consumption #17877 @hicqu",
          "Filter out events that are not subscribed to by TiCDC in advance to avoid unnecessary resource consumption #17877 @hicqu",
          "TiDB\nFix the issue that the default timeout for querying the TiFlash system table is too short #57816 @JaySon-Huang\nFix the issue that when setting tidb_gogc_tuner_max_value and tidb_gogc_tuner_min_value, if the maximum value is null, an incorrect warning message occurs #57889 @hawkingrei\nFix the issue that data indexes are inconsistent because plan cache uses the wrong schema when adding indexes #56733 @wjhuang2016\nFix the issue that the data in the Stats Healthy Distribution panel of Grafana might be incorrect #57176 @hawkingrei\nFix the issue that the last ANALYZE time of tables without collected statistics might not be NULL #57735 @winoros\nFix the issue that improper exception handling for statistics causes in-memory statistics to be mistakenly deleted when background tasks time out #57901 @hawkingrei\nFix the issue that statistics are not cleared after executing the DROP DATABASE statement #57230 @Rustin170506\nFix the issue that some predicates might be lost when constructing IndexMerge #58476 @hawkingrei\nFix the issue that creating a vector search index on a column with more than 3000 dimensions causes the KeyTooLong error #58836 @breezewish\nFix the issue that the REORGANIZE PARTITION operation does not correctly clean up replaced global indexes and handles unique indexes on non-clustered tables #56822 @mjonss\nFix the issue that the Range INTERVAL syntax sugar of partitioned tables does not support using MINUTE as the interval #57698 @mjonss\nFix the issue that changing the timezone causes incorrect query results when querying slow logs #58452 @lcwangchao\nFix the issue that task cancellation failure might cause the task to leak when shrinking the TTL workers of scan tasks #57708 @YangKeao\nFix the issue that after a heartbeat is lost and the TTL table is deleted or disabled, TTL jobs keep running #57702 @YangKeao\nFix the issue that last_job_finish_time is displayed incorrectly after a TTL job is canceled #58109 @YangKeao\nFix the issue that TTL jobs cannot be canceled if the TiDB heartbeat is lost #57784 @YangKeao\nFix the issue that a TTL job that loses the heartbeat blocks other jobs from getting heartbeats #57915 @YangKeao\nFix the issue that when shrinking the TTL workers, some expired rows are not deleted #57990 @lcwangchao\nFix the issue that the remaining rows are not retried when the TTL delete rate limiter is interrupted #58205 @lcwangchao\nFix the issue that TTL might generate a large number of warning logs in certain cases #58305 @lcwangchao\nFix the issue that some TTL jobs might hang when modifying tidb_ttl_delete_rate_limit #58484 @lcwangchao\nFix the issue that data backfill during REORGANIZE PARTITION might cause concurrent updates to be rolled back #58226 @mjonss\nFix the issue that using ORDER BY when querying cluster_slow_query table might generate unordered results #51723 @Defined2014",
          "Fix the issue that the default timeout for querying the TiFlash system table is too short #57816 @JaySon-Huang",
          "Fix the issue that when setting tidb_gogc_tuner_max_value and tidb_gogc_tuner_min_value, if the maximum value is null, an incorrect warning message occurs #57889 @hawkingrei",
          "Fix the issue that data indexes are inconsistent because plan cache uses the wrong schema when adding indexes #56733 @wjhuang2016",
          "Fix the issue that the data in the Stats Healthy Distribution panel of Grafana might be incorrect #57176 @hawkingrei",
          "Fix the issue that the last ANALYZE time of tables without collected statistics might not be NULL #57735 @winoros",
          "Fix the issue that improper exception handling for statistics causes in-memory statistics to be mistakenly deleted when background tasks time out #57901 @hawkingrei",
          "Fix the issue that statistics are not cleared after executing the DROP DATABASE statement #57230 @Rustin170506",
          "Fix the issue that some predicates might be lost when constructing IndexMerge #58476 @hawkingrei",
          "Fix the issue that creating a vector search index on a column with more than 3000 dimensions causes the KeyTooLong error #58836 @breezewish",
          "Fix the issue that the REORGANIZE PARTITION operation does not correctly clean up replaced global indexes and handles unique indexes on non-clustered tables #56822 @mjonss",
          "Fix the issue that the Range INTERVAL syntax sugar of partitioned tables does not support using MINUTE as the interval #57698 @mjonss",
          "Fix the issue that changing the timezone causes incorrect query results when querying slow logs #58452 @lcwangchao",
          "Fix the issue that task cancellation failure might cause the task to leak when shrinking the TTL workers of scan tasks #57708 @YangKeao",
          "Fix the issue that after a heartbeat is lost and the TTL table is deleted or disabled, TTL jobs keep running #57702 @YangKeao",
          "Fix the issue that last_job_finish_time is displayed incorrectly after a TTL job is canceled #58109 @YangKeao",
          "Fix the issue that TTL jobs cannot be canceled if the TiDB heartbeat is lost #57784 @YangKeao",
          "Fix the issue that a TTL job that loses the heartbeat blocks other jobs from getting heartbeats #57915 @YangKeao",
          "Fix the issue that when shrinking the TTL workers, some expired rows are not deleted #57990 @lcwangchao",
          "Fix the issue that the remaining rows are not retried when the TTL delete rate limiter is interrupted #58205 @lcwangchao",
          "Fix the issue that TTL might generate a large number of warning logs in certain cases #58305 @lcwangchao",
          "Fix the issue that some TTL jobs might hang when modifying tidb_ttl_delete_rate_limit #58484 @lcwangchao",
          "Fix the issue that data backfill during REORGANIZE PARTITION might cause concurrent updates to be rolled back #58226 @mjonss",
          "Fix the issue that using ORDER BY when querying cluster_slow_query table might generate unordered results #51723 @Defined2014",
          "TiKV\nFix the issue that encoding might fail when processing GBK/GB18030 encoded data #17618 @CbcWestwolf\nFix the issue that TiKV panics due to uninitialized replicas when the TiKV MVCC In-Memory Engine (IME) preloads them #18046 @overvenus\nFix the issue that the leader could not be quickly elected after Region split #17602 @LykxSassinator\nFix the issue that TiKV cannot report heartbeats to PD when the disk is stuck #17939 @LykxSassinator",
          "Fix the issue that encoding might fail when processing GBK/GB18030 encoded data #17618 @CbcWestwolf",
          "Fix the issue that TiKV panics due to uninitialized replicas when the TiKV MVCC In-Memory Engine (IME) preloads them #18046 @overvenus",
          "Fix the issue that the leader could not be quickly elected after Region split #17602 @LykxSassinator",
          "Fix the issue that TiKV cannot report heartbeats to PD when the disk is stuck #17939 @LykxSassinator",
          "PD\nFix the issue that PD might panic when the tidb_enable_tso_follower_proxy system variable is enabled #8950 @okJiang\nFix the issue that evict-leader-scheduler fails to work properly when it is repeatedly created with the same Store ID #8756 @okJiang",
          "Fix the issue that PD might panic when the tidb_enable_tso_follower_proxy system variable is enabled #8950 @okJiang",
          "Fix the issue that evict-leader-scheduler fails to work properly when it is repeatedly created with the same Store ID #8756 @okJiang",
          "TiFlash\nFix the issue that querying new columns might return incorrect results under the disaggregated storage and compute architecture #9665 @zimulala\nFix the issue that TiFlash might unexpectedly reject processing Raft messages when memory usage is low #9745 @CalvinNeo\nFix the issue that the POSITION() function for TiFlash does not support character set collations #9377 @xzhangxian1008",
          "Fix the issue that querying new columns might return incorrect results under the disaggregated storage and compute architecture #9665 @zimulala",
          "Fix the issue that TiFlash might unexpectedly reject processing Raft messages when memory usage is low #9745 @CalvinNeo",
          "Fix the issue that the POSITION() function for TiFlash does not support character set collations #9377 @xzhangxian1008",
          "Tools\nBackup & Restore (BR)\nFix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen\nTiCDC\nFix the issue that the changefeed might get stuck after new TiKV nodes are added to the cluster #11766 @lidezhu\nFix the issue that the event filter incorrectly uses the new table name instead of the old table name for filtering when processing RENAME TABLE DDL statements #11946 @kennytm\nFix the issue that goroutines leak occurs after a changefeed is deleted #11954 @hicqu\nFix the issue that out-of-order messages resent by the Sarama client cause Kafka message order to be incorrect #11935 @3AceShowHand\nFix the issue that the default value of the NOT NULL timestamp field in the Debezium protocol is incorrect #11966 @wk989898",
          "Backup & Restore (BR)\nFix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen",
          "Fix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen",
          "TiCDC\nFix the issue that the changefeed might get stuck after new TiKV nodes are added to the cluster #11766 @lidezhu\nFix the issue that the event filter incorrectly uses the new table name instead of the old table name for filtering when processing RENAME TABLE DDL statements #11946 @kennytm\nFix the issue that goroutines leak occurs after a changefeed is deleted #11954 @hicqu\nFix the issue that out-of-order messages resent by the Sarama client cause Kafka message order to be incorrect #11935 @3AceShowHand\nFix the issue that the default value of the NOT NULL timestamp field in the Debezium protocol is incorrect #11966 @wk989898",
          "Fix the issue that the changefeed might get stuck after new TiKV nodes are added to the cluster #11766 @lidezhu",
          "Fix the issue that the event filter incorrectly uses the new table name instead of the old table name for filtering when processing RENAME TABLE DDL statements #11946 @kennytm",
          "Fix the issue that goroutines leak occurs after a changefeed is deleted #11954 @hicqu",
          "Fix the issue that out-of-order messages resent by the Sarama client cause Kafka message order to be incorrect #11935 @3AceShowHand",
          "Fix the issue that the default value of the NOT NULL timestamp field in the Debezium protocol is incorrect #11966 @wk989898"
        ]
      },
      {
        "version": "8.5.0",
        "date": "2024-12-19",
        "link": "https://docs.pingcap.com/tidb/stable/release-8.5.0/",
        "changes": [
          "TiDB\nImprove the response speed of job cancellation for the ADD INDEX acceleration feature when disabling the Distributed eXecution Framework (DXF) #56017 @lance6716\nImprove the speed of adding indexes to small tables #54230 @tangenta\nAdd a new system variable tidb_ddl_reorg_max_write_speed to limit the maximum speed of the ingest phase when adding indexes #57156 @CbcWestwolf\nImprove the performance of querying information_schema.tables in some cases #57295 @tangenta\nSupport dynamically adjusting more DDL job parameters #57526 @fzzf678\nSupport global indexes that contain all columns from a partition expression #56230 @Defined2014\nSupport partition pruning for list partitioned tables in range query scenarios #56673 @Defined2014\nEnable FixControl#46177 by default to fix the issue that a full table scan is incorrectly selected instead of an index range scan in some cases #46177 @terry1purcell\nImprove the internal estimation logic to better utilize statistics of multi-column and multi-value indexes, enhancing estimation accuracy for certain queries involving multi-value indexes #56915 @time-and-fate\nImprove the cost estimation for full table scans in specific scenarios, reducing the probability of incorrectly choosing a full table scan #57085 @terry1purcell\nOptimize the amount of data required for synchronous loading of statistics to improve loading performance #56812 @winoros\nOptimize the execution plan in specific cases where an OUTER JOIN involves a unique index and an ORDER BY ... LIMIT clause, improving execution efficiency #56321 @winoros",
          "Improve the response speed of job cancellation for the ADD INDEX acceleration feature when disabling the Distributed eXecution Framework (DXF) #56017 @lance6716",
          "Improve the speed of adding indexes to small tables #54230 @tangenta",
          "Add a new system variable tidb_ddl_reorg_max_write_speed to limit the maximum speed of the ingest phase when adding indexes #57156 @CbcWestwolf",
          "Improve the performance of querying information_schema.tables in some cases #57295 @tangenta",
          "Support dynamically adjusting more DDL job parameters #57526 @fzzf678",
          "Support global indexes that contain all columns from a partition expression #56230 @Defined2014",
          "Support partition pruning for list partitioned tables in range query scenarios #56673 @Defined2014",
          "Enable FixControl#46177 by default to fix the issue that a full table scan is incorrectly selected instead of an index range scan in some cases #46177 @terry1purcell",
          "Improve the internal estimation logic to better utilize statistics of multi-column and multi-value indexes, enhancing estimation accuracy for certain queries involving multi-value indexes #56915 @time-and-fate",
          "Improve the cost estimation for full table scans in specific scenarios, reducing the probability of incorrectly choosing a full table scan #57085 @terry1purcell",
          "Optimize the amount of data required for synchronous loading of statistics to improve loading performance #56812 @winoros",
          "Optimize the execution plan in specific cases where an OUTER JOIN involves a unique index and an ORDER BY ... LIMIT clause, improving execution efficiency #56321 @winoros",
          "TiKV\nUse a separate thread to clean up replicas, ensuring stable latency for critical paths of Raft reads and writes #16001 @hbisheng\nImprove the performance of the vector distance function by supporting SIMD #17290 @EricZequan",
          "Use a separate thread to clean up replicas, ensuring stable latency for critical paths of Raft reads and writes #16001 @hbisheng",
          "Improve the performance of the vector distance function by supporting SIMD #17290 @EricZequan",
          "PD\nSupport dynamic switching of the tso service between microservice and non-microservice modes #8477 @rleungx\nOptimize the case format of certain fields in the pd-ctl config output #8694 @lhy1024\nStore limit v2 becomes generally available (GA) #8865 @lhy1024\nSupport configuring Region inspection concurrency (experimental) #8866 @lhy1024",
          "Support dynamic switching of the tso service between microservice and non-microservice modes #8477 @rleungx",
          "Optimize the case format of certain fields in the pd-ctl config output #8694 @lhy1024",
          "Store limit v2 becomes generally available (GA) #8865 @lhy1024",
          "Support configuring Region inspection concurrency (experimental) #8866 @lhy1024",
          "TiFlash\nImprove the garbage collection speed of outdated data in the background for tables with clustered indexes #9529 @JaySon-Huang\nImprove query performance of vector search in data update scenarios #9599 @Lloyd-Pottiger\nAdd monitoring metrics for CPU usage during vector index building #9032 @JaySon-Huang\nImprove the execution efficiency of logical operators #9146 @windtalker",
          "Improve the garbage collection speed of outdated data in the background for tables with clustered indexes #9529 @JaySon-Huang",
          "Improve query performance of vector search in data update scenarios #9599 @Lloyd-Pottiger",
          "Add monitoring metrics for CPU usage during vector index building #9032 @JaySon-Huang",
          "Improve the execution efficiency of logical operators #9146 @windtalker",
          "Tools\nBackup & Restore (BR)\nReduce unnecessary log printing during backup #55902 @Leavrth\nOptimize the error message for the encryption key --crypter.key #56388 @Tristan1900\nIncrease concurrency in BR when creating databases to improve data restore performance #56866 @Leavrth\nDisable the table-level checksum calculation during full backups by default (--checksum=false) to improve backup performance #56373 @Tristan1900\nAdd a mechanism to independently track and reset the connection timeout for each storage node, enhancing the handling of slow nodes and preventing backup operations from hanging #57666 @3pointer\nTiDB Data Migration (DM)\nAdd retries for DM-worker to connect to DM-master during DM cluster startup #4287 @GMHDBJD",
          "Backup & Restore (BR)\nReduce unnecessary log printing during backup #55902 @Leavrth\nOptimize the error message for the encryption key --crypter.key #56388 @Tristan1900\nIncrease concurrency in BR when creating databases to improve data restore performance #56866 @Leavrth\nDisable the table-level checksum calculation during full backups by default (--checksum=false) to improve backup performance #56373 @Tristan1900\nAdd a mechanism to independently track and reset the connection timeout for each storage node, enhancing the handling of slow nodes and preventing backup operations from hanging #57666 @3pointer",
          "Reduce unnecessary log printing during backup #55902 @Leavrth",
          "Optimize the error message for the encryption key --crypter.key #56388 @Tristan1900",
          "Increase concurrency in BR when creating databases to improve data restore performance #56866 @Leavrth",
          "Disable the table-level checksum calculation during full backups by default (--checksum=false) to improve backup performance #56373 @Tristan1900",
          "Add a mechanism to independently track and reset the connection timeout for each storage node, enhancing the handling of slow nodes and preventing backup operations from hanging #57666 @3pointer",
          "TiDB Data Migration (DM)\nAdd retries for DM-worker to connect to DM-master during DM cluster startup #4287 @GMHDBJD",
          "Add retries for DM-worker to connect to DM-master during DM cluster startup #4287 @GMHDBJD",
          "TiDB\nFix the issue that TiDB does not automatically retry requests when the Region metadata returned from PD lacks Leader information, potentially causing execution errors #56757 @cfzjywxk\nFix the issue that TTL tasks cannot be canceled when there is a write conflict #56422 @YangKeao\nFix the issue that when canceling a TTL task, the corresponding SQL is not killed forcibly #56511 @lcwangchao\nFix the issue that existing TTL tasks are executed unexpectedly frequently in a cluster that is upgraded from v6.5 to v7.5 or later #56539 @lcwangchao\nFix the issue that the INSERT ... ON DUPLICATE KEY statement is not compatible with mysql_insert_id #55965 @tiancaiamao\nFix the issue that TTL might fail if TiKV is not selected as the storage engine #56402 @YangKeao\nFix the issue that the AUTO_INCREMENT field is not correctly set after importing data using the IMPORT INTO statement #56476 @D3Hunter\nFix the issue that TiDB does not check the index length limitation when executing ADD INDEX #56930 @fzzf678\nFix the issue that executing RECOVER TABLE BY JOB JOB_ID; might cause TiDB to panic #55113 @crazycs520\nFix the issue that stale read does not strictly verify the timestamp of the read operation, resulting in a small probability of affecting the consistency of the transaction when an offset exists between the TSO and the real physical time #56809 @MyonKeminta\nFix the issue that TiDB could not resume Reorg DDL tasks from the previous progress after the DDL owner node is switched #56506 @tangenta\nFix the issue that some metrics in the monitoring panel of Distributed eXecution Framework (DXF) are inaccurate #57172 @fzzf678 #56942 @fzzf678\nFix the issue that REORGANIZE PARTITION fails to return error reasons in certain cases #56634 @mjonss\nFix the issue that querying INFORMATION_SCHEMA.TABLES returns incorrect results due to case sensitivity #56987 @joechenrh\nFix the issue of invalid memory access that might occur when a Common Table Expression (CTE) has multiple data consumers and one consumer exits without reading any data #55881 @windtalker\nFix the issue that INDEX_HASH_JOIN might hang during an abnormal exit #54055 @wshwsh12\nFix the issue that the TRUNCATE statement returns incorrect results when handling NULL values #53546 @tuziemon\nFix the issue that the CAST AS CHAR function returns incorrect results due to type inference errors #56640 @zimulala\nFix the issue of truncated strings in the output of some functions due to type inference errors #56587 @joechenrh\nFix the issue that the ADDTIME() and SUBTIME() functions returns incorrect results when their first argument is a date type #57569 @xzhangxian1008\nFix the issue that invalid NULL values can be inserted in non-strict mode (sql_mode = '') #56381 @joechenrh\nFix the issue that the UPDATE statement incorrectly updates values of the ENUM type #56832 @xhebox\nFix the issue that enabling the tidb_low_resolution_tso variable causes resource leaks during the execution of SELECT FOR UPDATE statements #55468 @tiancaiamao\nFix the issue that the JSON_TYPE() function does not validate the parameter type, causing no errors returned when a non-JSON data type is passed #54029 @YangKeao\nFix the issue that using JSON functions in PREPARE statements might cause execution failures #54044 @YangKeao\nFix the issue that converting data from the BIT type to the CHAR type might cause TiKV panics #56494 @lcwangchao\nFix the issue that using variables or parameters in the CREATE VIEW statement does not report errors #53176 @mjonss\nFix the issue that the JSON_VALID() function returns incorrect results #56293 @YangKeao\nFix the issue that TTL tasks are not canceled after the tidb_ttl_job_enable variable is disabled #57404 @YangKeao\nFix the issue that using the RANGE COLUMNS partition function and the utf8mb4_0900_ai_ci collation at the same time could result in incorrect query results #57261 @Defined2014\nFix the runtime error caused by executing a prepared statement that begins with a newline character, resulting in an array out of bounds #54283 @Defined2014\nFix the precision issue in the UTC_TIMESTAMP() function, such as setting the precision too high #56451 @chagelo\nFix the issue that foreign key errors are not omitted in UPDATE, INSERT, and DELETE IGNORE statements #56678 @YangKeao\nFix the issue that when querying the information_schema.cluster_slow_query table, if the time filter is not added, only the latest slow log file is queried #56100 @crazycs520\nFix the issue of memory leaks in TTL tables #56934 @lcwangchao\nFix the issue that foreign key constraints do not take effect for tables in write_only status, preventing using tables in non-public status #55813 @YangKeao\nFix the issue that using subqueries after the NATURAL JOIN or USING clause might result in errors #53766 @dash12653\nFix the issue that if a CTE contains the ORDER BY, LIMIT, or SELECT DISTINCT clause and is referenced by the recursive part of another CTE, it might be incorrectly inlined and result in an execution error #56603 @elsa0520\nFix the issue that the CTE defined in VIEW is incorrectly inlined #56582 @elsa0520\nFix the issue that Plan Replayer might report an error when importing a table structure containing foreign keys #56456 @hawkingrei\nFix the issue that Plan Replayer might report an error when importing a table structure containing Placement Rules #54961 @hawkingrei\nFix the issue that when using ANALYZE to collect statistics for a table, if the table contains expression indexes of virtually generated columns, the execution reports an error #57079 @hawkingrei\nFix the issue that the DROP DATABASE statement does not correctly trigger the corresponding update in statistics #57227 @Rustin170506\nFix the issue that when parsing a database name in CTE, it returns a wrong database name #54582 @hawkingrei\nFix the issue that the upper bound and lower bound of the histogram are corrupted when DUMP STATS is transforming statistics into JSON #56083 @hawkingrei\nFix the issue that EXISTS subquery results, when further involved in algebraic operations, could differ from the results in MySQL #56641 @windtalker\nFix the issue that execution plan bindings cannot be created for the multi-table DELETE statement with aliases #56726 @hawkingrei\nFix the issue that the optimizer does not take into account the character set and collations when simplifying complex predicates, resulting in possible execution errors #56479 @dash12653\nFix the issue that the data in the Stats Healthy Distribution panel of Grafana might be incorrect #57176 @hawkingrei\nFix the issue that vector search might return incorrect results when querying tables with clustered indexes #57627 @winoros",
          "Fix the issue that TiDB does not automatically retry requests when the Region metadata returned from PD lacks Leader information, potentially causing execution errors #56757 @cfzjywxk",
          "Fix the issue that TTL tasks cannot be canceled when there is a write conflict #56422 @YangKeao",
          "Fix the issue that when canceling a TTL task, the corresponding SQL is not killed forcibly #56511 @lcwangchao",
          "Fix the issue that existing TTL tasks are executed unexpectedly frequently in a cluster that is upgraded from v6.5 to v7.5 or later #56539 @lcwangchao",
          "Fix the issue that the INSERT ... ON DUPLICATE KEY statement is not compatible with mysql_insert_id #55965 @tiancaiamao",
          "Fix the issue that TTL might fail if TiKV is not selected as the storage engine #56402 @YangKeao",
          "Fix the issue that the AUTO_INCREMENT field is not correctly set after importing data using the IMPORT INTO statement #56476 @D3Hunter",
          "Fix the issue that TiDB does not check the index length limitation when executing ADD INDEX #56930 @fzzf678",
          "Fix the issue that executing RECOVER TABLE BY JOB JOB_ID; might cause TiDB to panic #55113 @crazycs520",
          "Fix the issue that stale read does not strictly verify the timestamp of the read operation, resulting in a small probability of affecting the consistency of the transaction when an offset exists between the TSO and the real physical time #56809 @MyonKeminta",
          "Fix the issue that TiDB could not resume Reorg DDL tasks from the previous progress after the DDL owner node is switched #56506 @tangenta",
          "Fix the issue that some metrics in the monitoring panel of Distributed eXecution Framework (DXF) are inaccurate #57172 @fzzf678 #56942 @fzzf678",
          "Fix the issue that REORGANIZE PARTITION fails to return error reasons in certain cases #56634 @mjonss",
          "Fix the issue that querying INFORMATION_SCHEMA.TABLES returns incorrect results due to case sensitivity #56987 @joechenrh",
          "Fix the issue of invalid memory access that might occur when a Common Table Expression (CTE) has multiple data consumers and one consumer exits without reading any data #55881 @windtalker",
          "Fix the issue that INDEX_HASH_JOIN might hang during an abnormal exit #54055 @wshwsh12",
          "Fix the issue that the TRUNCATE statement returns incorrect results when handling NULL values #53546 @tuziemon",
          "Fix the issue that the CAST AS CHAR function returns incorrect results due to type inference errors #56640 @zimulala",
          "Fix the issue of truncated strings in the output of some functions due to type inference errors #56587 @joechenrh",
          "Fix the issue that the ADDTIME() and SUBTIME() functions returns incorrect results when their first argument is a date type #57569 @xzhangxian1008",
          "Fix the issue that invalid NULL values can be inserted in non-strict mode (sql_mode = '') #56381 @joechenrh",
          "Fix the issue that the UPDATE statement incorrectly updates values of the ENUM type #56832 @xhebox",
          "Fix the issue that enabling the tidb_low_resolution_tso variable causes resource leaks during the execution of SELECT FOR UPDATE statements #55468 @tiancaiamao",
          "Fix the issue that the JSON_TYPE() function does not validate the parameter type, causing no errors returned when a non-JSON data type is passed #54029 @YangKeao",
          "Fix the issue that using JSON functions in PREPARE statements might cause execution failures #54044 @YangKeao",
          "Fix the issue that converting data from the BIT type to the CHAR type might cause TiKV panics #56494 @lcwangchao",
          "Fix the issue that using variables or parameters in the CREATE VIEW statement does not report errors #53176 @mjonss",
          "Fix the issue that the JSON_VALID() function returns incorrect results #56293 @YangKeao",
          "Fix the issue that TTL tasks are not canceled after the tidb_ttl_job_enable variable is disabled #57404 @YangKeao",
          "Fix the issue that using the RANGE COLUMNS partition function and the utf8mb4_0900_ai_ci collation at the same time could result in incorrect query results #57261 @Defined2014",
          "Fix the runtime error caused by executing a prepared statement that begins with a newline character, resulting in an array out of bounds #54283 @Defined2014",
          "Fix the precision issue in the UTC_TIMESTAMP() function, such as setting the precision too high #56451 @chagelo",
          "Fix the issue that foreign key errors are not omitted in UPDATE, INSERT, and DELETE IGNORE statements #56678 @YangKeao",
          "Fix the issue that when querying the information_schema.cluster_slow_query table, if the time filter is not added, only the latest slow log file is queried #56100 @crazycs520",
          "Fix the issue of memory leaks in TTL tables #56934 @lcwangchao",
          "Fix the issue that foreign key constraints do not take effect for tables in write_only status, preventing using tables in non-public status #55813 @YangKeao",
          "Fix the issue that using subqueries after the NATURAL JOIN or USING clause might result in errors #53766 @dash12653",
          "Fix the issue that if a CTE contains the ORDER BY, LIMIT, or SELECT DISTINCT clause and is referenced by the recursive part of another CTE, it might be incorrectly inlined and result in an execution error #56603 @elsa0520",
          "Fix the issue that the CTE defined in VIEW is incorrectly inlined #56582 @elsa0520",
          "Fix the issue that Plan Replayer might report an error when importing a table structure containing foreign keys #56456 @hawkingrei",
          "Fix the issue that Plan Replayer might report an error when importing a table structure containing Placement Rules #54961 @hawkingrei",
          "Fix the issue that when using ANALYZE to collect statistics for a table, if the table contains expression indexes of virtually generated columns, the execution reports an error #57079 @hawkingrei",
          "Fix the issue that the DROP DATABASE statement does not correctly trigger the corresponding update in statistics #57227 @Rustin170506",
          "Fix the issue that when parsing a database name in CTE, it returns a wrong database name #54582 @hawkingrei",
          "Fix the issue that the upper bound and lower bound of the histogram are corrupted when DUMP STATS is transforming statistics into JSON #56083 @hawkingrei",
          "Fix the issue that EXISTS subquery results, when further involved in algebraic operations, could differ from the results in MySQL #56641 @windtalker",
          "Fix the issue that execution plan bindings cannot be created for the multi-table DELETE statement with aliases #56726 @hawkingrei",
          "Fix the issue that the optimizer does not take into account the character set and collations when simplifying complex predicates, resulting in possible execution errors #56479 @dash12653",
          "Fix the issue that the data in the Stats Healthy Distribution panel of Grafana might be incorrect #57176 @hawkingrei",
          "Fix the issue that vector search might return incorrect results when querying tables with clustered indexes #57627 @winoros",
          "TiKV\nFix the panic issue that occurs when read threads access outdated indexes in the MemTable of the Raft Engine #17383 @LykxSassinator\nFix the issue that when a large number of transactions are queuing for lock release on the same key and the key is frequently updated, excessive pressure on deadlock detection might cause TiKV OOM issues #17394 @MyonKeminta\nFix the issue that CPU usage for background tasks of resource control is counted twice #17603 @glorv\nFix the issue that TiKV OOM might occur due to the accumulation of CDC internal tasks #17696 @3AceShowHand\nFix the issue that large batch writes cause performance jitter when raft-entry-max-size is set too high #17701 @SpadeA-Tang\nFix the issue that the leader could not be quickly elected after Region split #17602 @LykxSassinator\nFix the issue that TiKV might panic when executing queries containing RADIANS() or DEGREES() functions #17852 @gengliqi\nFix the issue that write jitter might occur when all hibernated Regions are awakened #17101 @hhwyt",
          "Fix the panic issue that occurs when read threads access outdated indexes in the MemTable of the Raft Engine #17383 @LykxSassinator",
          "Fix the issue that when a large number of transactions are queuing for lock release on the same key and the key is frequently updated, excessive pressure on deadlock detection might cause TiKV OOM issues #17394 @MyonKeminta",
          "Fix the issue that CPU usage for background tasks of resource control is counted twice #17603 @glorv",
          "Fix the issue that TiKV OOM might occur due to the accumulation of CDC internal tasks #17696 @3AceShowHand",
          "Fix the issue that large batch writes cause performance jitter when raft-entry-max-size is set too high #17701 @SpadeA-Tang",
          "Fix the issue that the leader could not be quickly elected after Region split #17602 @LykxSassinator",
          "Fix the issue that TiKV might panic when executing queries containing RADIANS() or DEGREES() functions #17852 @gengliqi",
          "Fix the issue that write jitter might occur when all hibernated Regions are awakened #17101 @hhwyt",
          "PD\nFix the memory leak issue in hotspot cache #8698 @lhy1024\nFix the issue that the resource group selector does not take effect on any panel #56572 @glorv\nFix the issue that deleted resource groups still appear in the monitoring panel #8716 @AndreMouche\nFix unclear log descriptions during the Region syncer loading process #8717 @lhy1024\nFix the memory leak issue in label statistics #8700 @lhy1024\nFix the issue that configuring tidb_enable_tso_follower_proxy to 0 or OFF fails to disable the TSO Follower Proxy feature #8709 @JmPotato",
          "Fix the memory leak issue in hotspot cache #8698 @lhy1024",
          "Fix the issue that the resource group selector does not take effect on any panel #56572 @glorv",
          "Fix the issue that deleted resource groups still appear in the monitoring panel #8716 @AndreMouche",
          "Fix unclear log descriptions during the Region syncer loading process #8717 @lhy1024",
          "Fix the memory leak issue in label statistics #8700 @lhy1024",
          "Fix the issue that configuring tidb_enable_tso_follower_proxy to 0 or OFF fails to disable the TSO Follower Proxy feature #8709 @JmPotato",
          "TiFlash\nFix the issue that the SUBSTRING() function does not support the pos and len arguments for certain integer types, causing query errors #9473 @gengliqi\nFix the issue that vector search performance might degrade after scaling out TiFlash write nodes in the disaggregated storage and compute architecture #9637 @kolafish\nFix the issue that the SUBSTRING() function returns incorrect results when the second parameter is negative #9604 @guo-shaoge\nFix the issue that the REPLACE() function returns an error when the first parameter is a constant #9522 @guo-shaoge\nFix the issue that LPAD() and RPAD() functions return incorrect results in some cases #9465 @guo-shaoge\nFix the issue that after creating a vector index, if the internal task for building the vector index is unexpectedly interrupted, it could result in TiFlash writing corrupted data and being unable to restart #9714 @JaySon-Huang",
          "Fix the issue that the SUBSTRING() function does not support the pos and len arguments for certain integer types, causing query errors #9473 @gengliqi",
          "Fix the issue that vector search performance might degrade after scaling out TiFlash write nodes in the disaggregated storage and compute architecture #9637 @kolafish",
          "Fix the issue that the SUBSTRING() function returns incorrect results when the second parameter is negative #9604 @guo-shaoge",
          "Fix the issue that the REPLACE() function returns an error when the first parameter is a constant #9522 @guo-shaoge",
          "Fix the issue that LPAD() and RPAD() functions return incorrect results in some cases #9465 @guo-shaoge",
          "Fix the issue that after creating a vector index, if the internal task for building the vector index is unexpectedly interrupted, it could result in TiFlash writing corrupted data and being unable to restart #9714 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nFix the OOM issue during backups when there are too many uncompleted range gaps, reducing the amount of pre-allocated memory #53529 @Leavrth\nFix the issue that global indexes cannot be backed up #57469 @Defined2014\nFix the issue that logs might print out encrypted information #57585 @kennytm\nFix the issue that the advancer cannot handle lock conflicts #57134 @3pointer\nFix potential security vulnerabilities by upgrading the k8s.io/api library version #57790 @BornChanger\nFix the issue that PITR tasks might return the Information schema is out of date error when there are a large number of tables in the cluster but the actual data size is small #57743 @Tristan1900\nFix the issue that log backup might unexpectedly enter a paused state when the advancer owner switches #58031 @3pointer\nFix the issue that the tiup br restore command omits checking whether the target cluster table already exists during database or table restoration, which might overwrite existing tables #58168 @RidRisR\nTiCDC\nFix the issue that the Kafka messages lack Key fields when using the Debezium protocol #1799 @wk989898\nFix the issue that the redo module fails to properly report errors #11744 @CharlesCheung96\nFix the issue that TiCDC mistakenly discards DDL tasks when the schema versions of DDL tasks become non-incremental during TiDB DDL owner changes #11714 @wlwilliamx\nTiDB Lightning\nFix the issue that TiDB Lightning fails to receive oversized messages sent from TiKV #56114 @fishiu\nFix the issue that the AUTO_INCREMENT value is set too high after importing data using the physical import mode #56814 @D3Hunter",
          "Backup & Restore (BR)\nFix the OOM issue during backups when there are too many uncompleted range gaps, reducing the amount of pre-allocated memory #53529 @Leavrth\nFix the issue that global indexes cannot be backed up #57469 @Defined2014\nFix the issue that logs might print out encrypted information #57585 @kennytm\nFix the issue that the advancer cannot handle lock conflicts #57134 @3pointer\nFix potential security vulnerabilities by upgrading the k8s.io/api library version #57790 @BornChanger\nFix the issue that PITR tasks might return the Information schema is out of date error when there are a large number of tables in the cluster but the actual data size is small #57743 @Tristan1900\nFix the issue that log backup might unexpectedly enter a paused state when the advancer owner switches #58031 @3pointer\nFix the issue that the tiup br restore command omits checking whether the target cluster table already exists during database or table restoration, which might overwrite existing tables #58168 @RidRisR",
          "Fix the OOM issue during backups when there are too many uncompleted range gaps, reducing the amount of pre-allocated memory #53529 @Leavrth",
          "Fix the issue that global indexes cannot be backed up #57469 @Defined2014",
          "Fix the issue that logs might print out encrypted information #57585 @kennytm",
          "Fix the issue that the advancer cannot handle lock conflicts #57134 @3pointer",
          "Fix potential security vulnerabilities by upgrading the k8s.io/api library version #57790 @BornChanger",
          "Fix the issue that PITR tasks might return the Information schema is out of date error when there are a large number of tables in the cluster but the actual data size is small #57743 @Tristan1900",
          "Fix the issue that log backup might unexpectedly enter a paused state when the advancer owner switches #58031 @3pointer",
          "Fix the issue that the tiup br restore command omits checking whether the target cluster table already exists during database or table restoration, which might overwrite existing tables #58168 @RidRisR",
          "TiCDC\nFix the issue that the Kafka messages lack Key fields when using the Debezium protocol #1799 @wk989898\nFix the issue that the redo module fails to properly report errors #11744 @CharlesCheung96\nFix the issue that TiCDC mistakenly discards DDL tasks when the schema versions of DDL tasks become non-incremental during TiDB DDL owner changes #11714 @wlwilliamx",
          "Fix the issue that the Kafka messages lack Key fields when using the Debezium protocol #1799 @wk989898",
          "Fix the issue that the redo module fails to properly report errors #11744 @CharlesCheung96",
          "Fix the issue that TiCDC mistakenly discards DDL tasks when the schema versions of DDL tasks become non-incremental during TiDB DDL owner changes #11714 @wlwilliamx",
          "TiDB Lightning\nFix the issue that TiDB Lightning fails to receive oversized messages sent from TiKV #56114 @fishiu\nFix the issue that the AUTO_INCREMENT value is set too high after importing data using the physical import mode #56814 @D3Hunter",
          "Fix the issue that TiDB Lightning fails to receive oversized messages sent from TiKV #56114 @fishiu",
          "Fix the issue that the AUTO_INCREMENT value is set too high after importing data using the physical import mode #56814 @D3Hunter"
        ]
      }
    ]
  },
  {
    "major_version": "8.4",
    "patches": [
      {
        "version": "8.4.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-8.4.0/",
        "changes": [
          "TiDB\nOptimize the efficiency of constructing BatchCop tasks when scanning a large amount of data #55915 #55413 @wshwsh12\nOptimize the transaction's buffer to reduce write latency in transactions and TiDB CPU usage #55287 @you06\nOptimize the execution performance of DML statements when the system variable tidb_dml_type is set to \"bulk\" #50215 @ekexium\nSupport using Optimizer Fix Control 47400 to control whether the optimizer limits the minimum value estimated for estRows to 1, which is consistent with databases such as Oracle and Db2 #47400 @terry1purcell\nAdd write control to the mysql.tidb_runaway_queries log table to reduce overhead caused by a large number of concurrent writes #54434 @HuSharp\nSupport Index Join by default when the inner table has Selection, Projection, or Aggregation operators on it #47233 @winoros\nReduce the number of column details fetched from TiKV for DELETE operations in certain scenarios, lowering the resource overhead of these operations #38911 @winoros\nSupport setting the concurrency for auto-analyze operations within a TiDB cluster using the system variable tidb_auto_analyze_concurrency #53460 @hawkingrei\nOptimize the logic of an internal function to improve performance when querying tables with numerous columns #52112 @Rustin170506\nSimplify filter conditions like a = 1 AND (a > 1 OR (a = 1 AND b = 2)) to a = 1 AND b = 2 #56005 @ghazalfamilyusa\nIncrease the cost of table scans in the cost model for scenarios with a high risk of suboptimal execution plans, making the optimizer prefer indexes #56012 @terry1purcell\nTiDB supports the two-argument variant MID(str, pos) #52420 @dveeden\nSupport splitting TTL tasks for tables with non-binary primary keys #55660 @lcwangchao\nOptimize performance of system metadata-related statements #50305 @ywqzzy @tangenta @joechenrh @CbcWestwolf\nImplement a new priority queue for auto-analyze operations to improve analyze performance and reduce the cost of rebuilding the queue #55906 @Rustin170506\nIntroduce a DDL notifier to allow the statistics module to subscribe to DDL events #55722 @fzzf678 @lance6716 @Rustin170506\nForce new TiDB nodes to take over DDL ownership during TiDB upgrades to avoid compatibility issues caused by old TiDB nodes taking ownership #51285 @wjhuang2016\nSupport cluster-level Scatter Region #8424 @River2000i",
          "Optimize the efficiency of constructing BatchCop tasks when scanning a large amount of data #55915 #55413 @wshwsh12",
          "Optimize the transaction's buffer to reduce write latency in transactions and TiDB CPU usage #55287 @you06",
          "Optimize the execution performance of DML statements when the system variable tidb_dml_type is set to \"bulk\" #50215 @ekexium",
          "Support using Optimizer Fix Control 47400 to control whether the optimizer limits the minimum value estimated for estRows to 1, which is consistent with databases such as Oracle and Db2 #47400 @terry1purcell",
          "Add write control to the mysql.tidb_runaway_queries log table to reduce overhead caused by a large number of concurrent writes #54434 @HuSharp",
          "Support Index Join by default when the inner table has Selection, Projection, or Aggregation operators on it #47233 @winoros",
          "Reduce the number of column details fetched from TiKV for DELETE operations in certain scenarios, lowering the resource overhead of these operations #38911 @winoros",
          "Support setting the concurrency for auto-analyze operations within a TiDB cluster using the system variable tidb_auto_analyze_concurrency #53460 @hawkingrei",
          "Optimize the logic of an internal function to improve performance when querying tables with numerous columns #52112 @Rustin170506",
          "Simplify filter conditions like a = 1 AND (a > 1 OR (a = 1 AND b = 2)) to a = 1 AND b = 2 #56005 @ghazalfamilyusa",
          "Increase the cost of table scans in the cost model for scenarios with a high risk of suboptimal execution plans, making the optimizer prefer indexes #56012 @terry1purcell",
          "TiDB supports the two-argument variant MID(str, pos) #52420 @dveeden",
          "Support splitting TTL tasks for tables with non-binary primary keys #55660 @lcwangchao",
          "Optimize performance of system metadata-related statements #50305 @ywqzzy @tangenta @joechenrh @CbcWestwolf",
          "Implement a new priority queue for auto-analyze operations to improve analyze performance and reduce the cost of rebuilding the queue #55906 @Rustin170506",
          "Introduce a DDL notifier to allow the statistics module to subscribe to DDL events #55722 @fzzf678 @lance6716 @Rustin170506",
          "Force new TiDB nodes to take over DDL ownership during TiDB upgrades to avoid compatibility issues caused by old TiDB nodes taking ownership #51285 @wjhuang2016",
          "Support cluster-level Scatter Region #8424 @River2000i",
          "TiKV\nIncrease the default value of Region from 96 MiB to 256 MiB to avoid the extra overhead caused by too many Regions #17309 @LykxSassinator\nSupport setting memory usage limits for in-memory pessimistic locks in a Region or TiKV instance. When hot write scenarios cause a large number of pessimistic locks, you can increase the memory limits via configuration. This helps avoid CPU and I/O overhead caused by pessimistic locks being written to disk. #17542 @cfzjywxk\nIntroduce a new spill-dir configuration item in Raft Engine, supporting multi-disk storage for Raft logs; when the disk where the home directory (dir) is located runs out of space, the Raft Engine automatically writes new logs to spill-dir, ensuring continuous operation of the system #17356 @LykxSassinator\nOptimize the compaction trigger mechanism of RocksDB to accelerate disk space reclamation when handling a large number of DELETE versions #17269 @AndreMouche\nSupport dynamically modifying flow-control configurations for write operations #17395 @glorv\nImprove the speed of Region Merge in scenarios with empty tables and small Regions #17376 @LykxSassinator\nPrevent Pipelined DML from blocking resolved-ts for long periods #17459 @ekexium",
          "Increase the default value of Region from 96 MiB to 256 MiB to avoid the extra overhead caused by too many Regions #17309 @LykxSassinator",
          "Support setting memory usage limits for in-memory pessimistic locks in a Region or TiKV instance. When hot write scenarios cause a large number of pessimistic locks, you can increase the memory limits via configuration. This helps avoid CPU and I/O overhead caused by pessimistic locks being written to disk. #17542 @cfzjywxk",
          "Introduce a new spill-dir configuration item in Raft Engine, supporting multi-disk storage for Raft logs; when the disk where the home directory (dir) is located runs out of space, the Raft Engine automatically writes new logs to spill-dir, ensuring continuous operation of the system #17356 @LykxSassinator",
          "Optimize the compaction trigger mechanism of RocksDB to accelerate disk space reclamation when handling a large number of DELETE versions #17269 @AndreMouche",
          "Support dynamically modifying flow-control configurations for write operations #17395 @glorv",
          "Improve the speed of Region Merge in scenarios with empty tables and small Regions #17376 @LykxSassinator",
          "Prevent Pipelined DML from blocking resolved-ts for long periods #17459 @ekexium",
          "PD\nSupport graceful offline of TiKV nodes during data import by TiDB Lightning #7853 @okJiang\nRename scatter-range to scatter-range-scheduler in pd-ctl commands #8379 @okJiang\nAdd conflict detection for grant-hot-leader-scheduler #4903 @lhy1024",
          "Support graceful offline of TiKV nodes during data import by TiDB Lightning #7853 @okJiang",
          "Rename scatter-range to scatter-range-scheduler in pd-ctl commands #8379 @okJiang",
          "Add conflict detection for grant-hot-leader-scheduler #4903 @lhy1024",
          "TiFlash\nOptimize the execution efficiency of LENGTH() and ASCII() functions #9344 @xzhangxian1008\nReduce the number of threads that TiFlash needs to create when processing disaggregated storage and compute requests, helping avoid crashes of TiFlash compute nodes when processing a large number of such requests #9334 @JinheLin\nEnhance the task waiting mechanism in the pipeline execution model #8869 @SeaRise\nImprove the cancel mechanism of the JOIN operator, so that the JOIN operator can respond to cancel requests in a timely manner #9430 @windtalker",
          "Optimize the execution efficiency of LENGTH() and ASCII() functions #9344 @xzhangxian1008",
          "Reduce the number of threads that TiFlash needs to create when processing disaggregated storage and compute requests, helping avoid crashes of TiFlash compute nodes when processing a large number of such requests #9334 @JinheLin",
          "Enhance the task waiting mechanism in the pipeline execution model #8869 @SeaRise",
          "Improve the cancel mechanism of the JOIN operator, so that the JOIN operator can respond to cancel requests in a timely manner #9430 @windtalker",
          "Tools\nBackup & Restore (BR)\nDisable splitting Regions by table to improve restore speed when restoring data to a cluster where the split-table and split-region-on-table configuration items are false (default value) #53532 @Leavrth\nDisable full data restoration to a non-empty cluster using the RESTORE SQL statement by default #55087 @BornChanger",
          "Backup & Restore (BR)\nDisable splitting Regions by table to improve restore speed when restoring data to a cluster where the split-table and split-region-on-table configuration items are false (default value) #53532 @Leavrth\nDisable full data restoration to a non-empty cluster using the RESTORE SQL statement by default #55087 @BornChanger",
          "Disable splitting Regions by table to improve restore speed when restoring data to a cluster where the split-table and split-region-on-table configuration items are false (default value) #53532 @Leavrth",
          "Disable full data restoration to a non-empty cluster using the RESTORE SQL statement by default #55087 @BornChanger",
          "TiDB\nFix the issue that a deadlock might occur when the tidb_restricted_read_only variable is set to true #53822 #55373 @Defined2014\nFix the issue that TiDB does not wait for auto-commit transactions to complete during graceful shutdown #55464 @YangKeao\nFix the issue that reducing the value of tidb_ttl_delete_worker_count during TTL job execution makes the job fail to complete #55561 @lcwangchao\nFix the issue that if the index of a table contains generated columns, an Unknown column 'column_name' in 'expression' error might occur when collecting statistics for the table via the ANALYZE statement #55438 @hawkingrei\nDeprecate unnecessary configurations related to statistics to reduce redundant code #55043 @Rustin170506\nFix the issue that TiDB might hang or return incorrect results when executing a query containing a correlated subquery and CTE #55551 @guo-shaoge\nFix the issue that disabling lite-init-stats might cause statistics to fail to load synchronously #54532 @hawkingrei\nFix the issue that when an UPDATE or DELETE statement contains a recursive CTE, the statement might report an error or not take effect #55666 @time-and-fate\nFix the issue that a SQL binding containing window functions might not take effect in some cases #55981 @winoros\nFix the issue that statistics for string columns with non-binary collations might fail to load when initializing statistics #55684 @winoros\nFix the issue that the optimizer incorrectly estimates the number of rows as 1 when accessing a unique index with the query condition column IS NULL #56116 @hawkingrei\nFix the issue that the optimizer does not use the best multi-column statistics information for row count estimation when the query contains filter conditions like (... AND ...) OR (... AND ...) ... #54323 @time-and-fate\nFix the issue that the read_from_storage hint might not take effect when the query has an available Index Merge execution plan #56217 @AilinKid\nFix the data race issue in IndexNestedLoopHashJoin #49692 @solotzg\nFix the issue that the SUB_PART value in the INFORMATION_SCHEMA.STATISTICS table is NULL #55812 @Defined2014\nFix the issue that an error occurs when a DML statement contains nested generated columns #53967 @wjhuang2016\nFix the issue that the integer type of data with minimum display length in the division operation might cause the division result to overflow #55837 @windtalker\nFix the issue that the operator that follows the TopN operator can not trigger the fallback action when the memory limit is exceeded #56185 @xzhangxian1008\nFix the issue that the ORDER BY column in the Sort operator is stuck if it contains a constant #55344 @xzhangxian1008\nFix the issue that when adding an index, the 8223 (HY000) error occurs after killing the PD leader and the data in the table is inconsistent #55488 @tangenta\nFix the issue that too many DDL history jobs cause OOM when you request information about history DDL jobs #55711 @joccau\nFix the issue that executing IMPORT INTO is stuck when Global Sort is enabled and the Region size exceeds 96 MiB #55374 @lance6716\nFix the issue that executing IMPORT INTO on a temporary table causes TiDB to crash #55970 @D3Hunter\nFix the issue that adding a unique index causes the duplicate entry error #56161 @tangenta\nFix the issue that TiDB Lightning does not ingest all KV pairs when TiKV is down for more than 810 seconds, resulting in inconsistent data in the table #55808 @lance6716\nFix the issue that the CREATE TABLE LIKE statement can not be used for cached tables #56134 @tiancaiamao\nFix the confusing warning message for FORMAT() expressions in CTE #56198 @dveeden\nFix the issue that column type restrictions are inconsistent between CREATE TABLE and ALTER TABLE when creating a partitioned table #56094 @mjonss\nFix the incorrect time type in the INFORMATION_SCHEMA.RUNAWAY_WATCHES table #54770 @HuSharp",
          "Fix the issue that a deadlock might occur when the tidb_restricted_read_only variable is set to true #53822 #55373 @Defined2014",
          "Fix the issue that TiDB does not wait for auto-commit transactions to complete during graceful shutdown #55464 @YangKeao",
          "Fix the issue that reducing the value of tidb_ttl_delete_worker_count during TTL job execution makes the job fail to complete #55561 @lcwangchao",
          "Fix the issue that if the index of a table contains generated columns, an Unknown column 'column_name' in 'expression' error might occur when collecting statistics for the table via the ANALYZE statement #55438 @hawkingrei",
          "Deprecate unnecessary configurations related to statistics to reduce redundant code #55043 @Rustin170506",
          "Fix the issue that TiDB might hang or return incorrect results when executing a query containing a correlated subquery and CTE #55551 @guo-shaoge",
          "Fix the issue that disabling lite-init-stats might cause statistics to fail to load synchronously #54532 @hawkingrei",
          "Fix the issue that when an UPDATE or DELETE statement contains a recursive CTE, the statement might report an error or not take effect #55666 @time-and-fate",
          "Fix the issue that a SQL binding containing window functions might not take effect in some cases #55981 @winoros",
          "Fix the issue that statistics for string columns with non-binary collations might fail to load when initializing statistics #55684 @winoros",
          "Fix the issue that the optimizer incorrectly estimates the number of rows as 1 when accessing a unique index with the query condition column IS NULL #56116 @hawkingrei",
          "Fix the issue that the optimizer does not use the best multi-column statistics information for row count estimation when the query contains filter conditions like (... AND ...) OR (... AND ...) ... #54323 @time-and-fate",
          "Fix the issue that the read_from_storage hint might not take effect when the query has an available Index Merge execution plan #56217 @AilinKid",
          "Fix the data race issue in IndexNestedLoopHashJoin #49692 @solotzg",
          "Fix the issue that the SUB_PART value in the INFORMATION_SCHEMA.STATISTICS table is NULL #55812 @Defined2014",
          "Fix the issue that an error occurs when a DML statement contains nested generated columns #53967 @wjhuang2016",
          "Fix the issue that the integer type of data with minimum display length in the division operation might cause the division result to overflow #55837 @windtalker",
          "Fix the issue that the operator that follows the TopN operator can not trigger the fallback action when the memory limit is exceeded #56185 @xzhangxian1008",
          "Fix the issue that the ORDER BY column in the Sort operator is stuck if it contains a constant #55344 @xzhangxian1008",
          "Fix the issue that when adding an index, the 8223 (HY000) error occurs after killing the PD leader and the data in the table is inconsistent #55488 @tangenta",
          "Fix the issue that too many DDL history jobs cause OOM when you request information about history DDL jobs #55711 @joccau",
          "Fix the issue that executing IMPORT INTO is stuck when Global Sort is enabled and the Region size exceeds 96 MiB #55374 @lance6716",
          "Fix the issue that executing IMPORT INTO on a temporary table causes TiDB to crash #55970 @D3Hunter",
          "Fix the issue that adding a unique index causes the duplicate entry error #56161 @tangenta",
          "Fix the issue that TiDB Lightning does not ingest all KV pairs when TiKV is down for more than 810 seconds, resulting in inconsistent data in the table #55808 @lance6716",
          "Fix the issue that the CREATE TABLE LIKE statement can not be used for cached tables #56134 @tiancaiamao",
          "Fix the confusing warning message for FORMAT() expressions in CTE #56198 @dveeden",
          "Fix the issue that column type restrictions are inconsistent between CREATE TABLE and ALTER TABLE when creating a partitioned table #56094 @mjonss",
          "Fix the incorrect time type in the INFORMATION_SCHEMA.RUNAWAY_WATCHES table #54770 @HuSharp",
          "TiKV\nFix the issue that prevents master key rotation when the master key is stored in a Key Management Service (KMS) #17410 @hhwyt\nFix a traffic control issue that might occur after deleting large tables or partitions #17304 @Connor1996\nFix the issue that TiKV might panic when a stale replica processes Raft snapshots, triggered by a slow split operation and immediate removal of the new replica #17469 @hbisheng",
          "Fix the issue that prevents master key rotation when the master key is stored in a Key Management Service (KMS) #17410 @hhwyt",
          "Fix a traffic control issue that might occur after deleting large tables or partitions #17304 @Connor1996",
          "Fix the issue that TiKV might panic when a stale replica processes Raft snapshots, triggered by a slow split operation and immediate removal of the new replica #17469 @hbisheng",
          "TiFlash\nFix the issue that TiFlash fails to parse the table schema when the table contains Bit-type columns with a default value that contains invalid characters #9461 @Lloyd-Pottiger\nFix the issue that TiFlash might panic due to spurious Region overlap check failures that occur when multiple Regions are concurrently applying snapshots #9329 @CalvinNeo\nFix the issue that some JSON functions unsupported by TiFlash are pushed down to TiFlash #9444 @windtalker",
          "Fix the issue that TiFlash fails to parse the table schema when the table contains Bit-type columns with a default value that contains invalid characters #9461 @Lloyd-Pottiger",
          "Fix the issue that TiFlash might panic due to spurious Region overlap check failures that occur when multiple Regions are concurrently applying snapshots #9329 @CalvinNeo",
          "Fix the issue that some JSON functions unsupported by TiFlash are pushed down to TiFlash #9444 @windtalker",
          "Tools\nBackup & Restore (BR)\nFix the issue that the PITR checkpoint interval in monitoring abnormally increased when TiDB nodes stopped, which does not reflect the actual situation #42419 @YuJuncen\nFix the issue that backup tasks might get stuck if TiKV becomes unresponsive during the backup process #53480 @Leavrth\nFix the issue that BR logs might print sensitive credential information when log backup is enabled #55273 @RidRisR\nFix the issue that after a log backup PITR task fails and you stop it, the safepoints related to that task are not properly cleared in PD #17316 @Leavrth\nTiDB Data Migration (DM)\nFix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD\nFix the issue that DM does not set the default database when processing the ALTER DATABASE statement, which causes a replication error #11503 @lance6716\nTiDB Lightning\nFix the issue that TiDB Lightning reports a verify allocator base failed error when two instances simultaneously start parallel import tasks and are assigned the same task ID #55384 @ei-sugimoto",
          "Backup & Restore (BR)\nFix the issue that the PITR checkpoint interval in monitoring abnormally increased when TiDB nodes stopped, which does not reflect the actual situation #42419 @YuJuncen\nFix the issue that backup tasks might get stuck if TiKV becomes unresponsive during the backup process #53480 @Leavrth\nFix the issue that BR logs might print sensitive credential information when log backup is enabled #55273 @RidRisR\nFix the issue that after a log backup PITR task fails and you stop it, the safepoints related to that task are not properly cleared in PD #17316 @Leavrth",
          "Fix the issue that the PITR checkpoint interval in monitoring abnormally increased when TiDB nodes stopped, which does not reflect the actual situation #42419 @YuJuncen",
          "Fix the issue that backup tasks might get stuck if TiKV becomes unresponsive during the backup process #53480 @Leavrth",
          "Fix the issue that BR logs might print sensitive credential information when log backup is enabled #55273 @RidRisR",
          "Fix the issue that after a log backup PITR task fails and you stop it, the safepoints related to that task are not properly cleared in PD #17316 @Leavrth",
          "TiDB Data Migration (DM)\nFix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD\nFix the issue that DM does not set the default database when processing the ALTER DATABASE statement, which causes a replication error #11503 @lance6716",
          "Fix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD",
          "Fix the issue that DM does not set the default database when processing the ALTER DATABASE statement, which causes a replication error #11503 @lance6716",
          "TiDB Lightning\nFix the issue that TiDB Lightning reports a verify allocator base failed error when two instances simultaneously start parallel import tasks and are assigned the same task ID #55384 @ei-sugimoto",
          "Fix the issue that TiDB Lightning reports a verify allocator base failed error when two instances simultaneously start parallel import tasks and are assigned the same task ID #55384 @ei-sugimoto"
        ]
      }
    ]
  },
  {
    "major_version": "8.3",
    "patches": [
      {
        "version": "8.3.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-8.3.0/",
        "changes": [
          "TiDB\nSupport the SELECT ... STRAIGHT_JOIN ... USING ( ... ) statement #54162 @dveeden\nConstruct more precise index access ranges for filter conditions like ((idx_col_1 > 1) or (idx_col_1 = 1 and idx_col_2 > 10)) and ((idx_col_1 < 10) or (idx_col_1 = 10 and idx_col_2 < 20)) #54337 @ghazalfamilyusa\nUse index order to avoid extra sorting operations for SQL queries like WHERE idx_col_1 IS NULL ORDER BY idx_col_2 #54188 @ari-e\nDisplay analyzed indexes in the mysql.analyze_jobs system table #53567 @hi-rustin\nSupport applying the tidb_redact_log setting to the output of EXPLAIN statements and further optimize the logic in processing logs #54565 @hawkingrei\nSupport generating the Selection operator on IndexRangeScan for multi-valued indexes to improve query efficiency #54876 @time-and-fate\nSupport killing automatic ANALYZE tasks that are running outside the set time window #55283 @hawkingrei\nAdjust estimation results from 0 to 1 for equality conditions that do not hit TopN when statistics are entirely composed of TopN and the modified row count in the corresponding table statistics is non-zero #47400 @terry1purcell\nThe TopN operator supports disk spill #47733 @xzhangxian1008\nTiDB node supports executing queries with the WITH ROLLUP modifier and the GROUPING function #42631 @Arenatlx\nThe system variable tidb_low_resolution_tso supports the GLOBAL scope #55022 @cfzjywxk\nImprove GC (Garbage Collection) efficiency by supporting concurrent range deletion. You can control the number of concurrent threads using tidb_gc_concurrency #54570 @ekexium\nImprove the performance of bulk DML execution mode (tidb_dml_type = \"bulk\") #50215 @ekexium\nImprove the performance of schema information cache-related interface SchemaByID #54074 @ywqzzy\nImprove the query performance for certain system tables when schema information caching is enabled #50305 @tangenta\nOptimize error messages for conflicting keys when adding unique indexes #53004 @lance6716",
          "Support the SELECT ... STRAIGHT_JOIN ... USING ( ... ) statement #54162 @dveeden",
          "Construct more precise index access ranges for filter conditions like ((idx_col_1 > 1) or (idx_col_1 = 1 and idx_col_2 > 10)) and ((idx_col_1 < 10) or (idx_col_1 = 10 and idx_col_2 < 20)) #54337 @ghazalfamilyusa",
          "Use index order to avoid extra sorting operations for SQL queries like WHERE idx_col_1 IS NULL ORDER BY idx_col_2 #54188 @ari-e",
          "Display analyzed indexes in the mysql.analyze_jobs system table #53567 @hi-rustin",
          "Support applying the tidb_redact_log setting to the output of EXPLAIN statements and further optimize the logic in processing logs #54565 @hawkingrei",
          "Support generating the Selection operator on IndexRangeScan for multi-valued indexes to improve query efficiency #54876 @time-and-fate",
          "Support killing automatic ANALYZE tasks that are running outside the set time window #55283 @hawkingrei",
          "Adjust estimation results from 0 to 1 for equality conditions that do not hit TopN when statistics are entirely composed of TopN and the modified row count in the corresponding table statistics is non-zero #47400 @terry1purcell",
          "The TopN operator supports disk spill #47733 @xzhangxian1008",
          "TiDB node supports executing queries with the WITH ROLLUP modifier and the GROUPING function #42631 @Arenatlx",
          "The system variable tidb_low_resolution_tso supports the GLOBAL scope #55022 @cfzjywxk",
          "Improve GC (Garbage Collection) efficiency by supporting concurrent range deletion. You can control the number of concurrent threads using tidb_gc_concurrency #54570 @ekexium",
          "Improve the performance of bulk DML execution mode (tidb_dml_type = \"bulk\") #50215 @ekexium",
          "Improve the performance of schema information cache-related interface SchemaByID #54074 @ywqzzy",
          "Improve the query performance for certain system tables when schema information caching is enabled #50305 @tangenta",
          "Optimize error messages for conflicting keys when adding unique indexes #53004 @lance6716",
          "PD\nSupport modifying the batch configuration of the evict-leader-scheduler via pd-ctl to accelerate the leader eviction process #8265 @rleungx\nAdd the store_id monitoring metric to the Cluster > Label distribution panel in Grafana to display store IDs corresponding to different labels #8337 @HuSharp\nSupport fallback to the default resource group when the specified resource group does not exist #8388 @JmPotato\nAdd the approximate_kv_size field to the Region information output by the region command in pd-ctl #8412 @zeminzhou\nOptimize the message that returns when you call the PD API to delete the TTL configuration #8450 @lhy1024\nOptimize the RU consumption behavior of large query read requests to reduce the impact on other requests #8457 @nolouch\nOptimize the error message that returns when you misconfigure PD microservices #52912 @rleungx\nAdd the --name startup parameter to PD microservices to more accurately display the service name during deployment #7995 @HuSharp\nSupport dynamically adjusting PatrolRegionScanLimit based on the number of Regions to reduce Region scan time #7963 @lhy1024",
          "Support modifying the batch configuration of the evict-leader-scheduler via pd-ctl to accelerate the leader eviction process #8265 @rleungx",
          "Add the store_id monitoring metric to the Cluster > Label distribution panel in Grafana to display store IDs corresponding to different labels #8337 @HuSharp",
          "Support fallback to the default resource group when the specified resource group does not exist #8388 @JmPotato",
          "Add the approximate_kv_size field to the Region information output by the region command in pd-ctl #8412 @zeminzhou",
          "Optimize the message that returns when you call the PD API to delete the TTL configuration #8450 @lhy1024",
          "Optimize the RU consumption behavior of large query read requests to reduce the impact on other requests #8457 @nolouch",
          "Optimize the error message that returns when you misconfigure PD microservices #52912 @rleungx",
          "Add the --name startup parameter to PD microservices to more accurately display the service name during deployment #7995 @HuSharp",
          "Support dynamically adjusting PatrolRegionScanLimit based on the number of Regions to reduce Region scan time #7963 @lhy1024",
          "TiKV\nOptimize the batching policy for writing Raft logs when async-io is enabled to reduce the consumption of disk I/O bandwidth resources #16907 @LykxSassinator\nRedesign the TiCDC delegate and downstream modules to better support Region partial subscription #16362 @hicqu\nReduce the size of a single slow query log #17294 @Connor1996\nAdd a new monitoring metric min safe ts #17307 @mittalrishabh\nReduce the memory usage of the peer message channel #16229 @Connor1996",
          "Optimize the batching policy for writing Raft logs when async-io is enabled to reduce the consumption of disk I/O bandwidth resources #16907 @LykxSassinator",
          "Redesign the TiCDC delegate and downstream modules to better support Region partial subscription #16362 @hicqu",
          "Reduce the size of a single slow query log #17294 @Connor1996",
          "Add a new monitoring metric min safe ts #17307 @mittalrishabh",
          "Reduce the memory usage of the peer message channel #16229 @Connor1996",
          "TiFlash\nSupport generating ad hoc heap profiling in SVG format #9320 @CalvinNeo",
          "Support generating ad hoc heap profiling in SVG format #9320 @CalvinNeo",
          "Tools\nBackup & Restore (BR)\nSupport checking whether a full backup exists before starting point-in-time recovery (PITR) for the first time. If the full backup is not found, BR terminates the restore and returns an error #54418 @Leavrth\nSupport checking whether the disk space in TiKV and TiFlash is sufficient before restoring snapshot backups. If the space is insufficient, BR terminates the restore and returns an error #54316 @RidRisR\nSupport checking whether the disk space in TiKV is sufficient before TiKV downloads each SST file. If the space is insufficient, BR terminates the restore and returns an error #17224 @RidRisR\nSupport setting Alibaba Cloud access credentials through environment variables #45551 @RidRisR\nAutomatically set the environment variable GOMEMLIMIT based on the available memory of the BR process to avoid OOM when using BR for backup and restore #53777 @Leavrth\nMake incremental backups compatible with point-in-time recovery (PITR) #54474 @3pointer\nSupport backing up and restoring the mysql.column_stats_usage table #53567 @hi-rustin",
          "Backup & Restore (BR)\nSupport checking whether a full backup exists before starting point-in-time recovery (PITR) for the first time. If the full backup is not found, BR terminates the restore and returns an error #54418 @Leavrth\nSupport checking whether the disk space in TiKV and TiFlash is sufficient before restoring snapshot backups. If the space is insufficient, BR terminates the restore and returns an error #54316 @RidRisR\nSupport checking whether the disk space in TiKV is sufficient before TiKV downloads each SST file. If the space is insufficient, BR terminates the restore and returns an error #17224 @RidRisR\nSupport setting Alibaba Cloud access credentials through environment variables #45551 @RidRisR\nAutomatically set the environment variable GOMEMLIMIT based on the available memory of the BR process to avoid OOM when using BR for backup and restore #53777 @Leavrth\nMake incremental backups compatible with point-in-time recovery (PITR) #54474 @3pointer\nSupport backing up and restoring the mysql.column_stats_usage table #53567 @hi-rustin",
          "Support checking whether a full backup exists before starting point-in-time recovery (PITR) for the first time. If the full backup is not found, BR terminates the restore and returns an error #54418 @Leavrth",
          "Support checking whether the disk space in TiKV and TiFlash is sufficient before restoring snapshot backups. If the space is insufficient, BR terminates the restore and returns an error #54316 @RidRisR",
          "Support checking whether the disk space in TiKV is sufficient before TiKV downloads each SST file. If the space is insufficient, BR terminates the restore and returns an error #17224 @RidRisR",
          "Support setting Alibaba Cloud access credentials through environment variables #45551 @RidRisR",
          "Automatically set the environment variable GOMEMLIMIT based on the available memory of the BR process to avoid OOM when using BR for backup and restore #53777 @Leavrth",
          "Make incremental backups compatible with point-in-time recovery (PITR) #54474 @3pointer",
          "Support backing up and restoring the mysql.column_stats_usage table #53567 @hi-rustin",
          "TiDB\nReset the parameters in the Open method of PipelinedWindow to fix the unexpected error that occurs when the PipelinedWindow is used as a child node of Apply due to the reuse of previous parameter values caused by repeated opening and closing operations #53600 @XuHuaiyu\nFix the issue that the query might get stuck when terminated because the memory usage exceeds the limit set by tidb_mem_quota_query #55042 @yibin87\nFix the issue that the disk spill for the HashAgg operator causes incorrect query results during parallel calculation #55290 @xzhangxian1008\nFix the issue of wrong JSON_TYPE when casting YEAR to JSON format #54494 @YangKeao\nFix the issue that the value range of the tidb_schema_cache_size system variable is wrong #54034 @lilinghai\nFix the issue that partition pruning does not work when the partition expression is EXTRACT(YEAR FROM col) #54210 @mjonss\nFix the issue that FLASHBACK DATABASE fails when many tables exist in the database #54415 @lance6716\nFix the issue that FLASHBACK DATABASE enters an infinite loop when handling many databases #54915 @lance6716\nFix the issue that adding an index in index acceleration mode might fail #54568 @lance6716\nFix the issue that ADMIN CANCEL DDL JOBS might cause DDL to fail #54687 @lance6716\nFix the issue that table replication fails when the index length of the table replicated from DM exceeds the maximum length specified by max-index-length #55138 @lance6716\nFix the issue that the error runtime error: index out of range might occur when executing SQL statements with tidb_enable_inl_join_inner_multi_pattern enabled #54535 @joechenrh\nFix the issue that you cannot exit TiDB using Control+C during the process of initializing statistics #54589 @tiancaiamao\nFix the issue that the INL_MERGE_JOIN optimizer hint returns incorrect results by deprecating it #54064 @AilinKid\nFix the issue that a correlated subquery that contains WITH ROLLUP might cause TiDB to panic and return the error runtime error: index out of range #54983 @AilinKid\nFix the issue that predicates cannot be pushed down properly when the filter condition of a SQL query contains virtual columns and the execution condition contains UnionScan #54870 @qw4990\nFix the issue that the error runtime error: invalid memory address or nil pointer dereference might occur when executing SQL statements with tidb_enable_inl_join_inner_multi_pattern enabled #55169 @hawkingrei\nFix the issue that a query statement that contains UNION might return incorrect results #52985 @XuHuaiyu\nFix the issue that the tot_col_size column in the mysql.stats_histograms table might be a negative number #55126 @qw4990\nFix the issue that columnEvaluator cannot identify the column references in the input chunk, which leads to runtime error: index out of range when executing SQL statements #53713 @AilinKid\nFix the issue that STATS_EXTENDED becomes a reserved keyword #39573 @wddevries\nFix the issue that when tidb_low_resolution is enabled, select for update can be executed #54684 @cfzjywxk\nFix the issue that internal SQL queries cannot be displayed in the slow query log when tidb_redact_log is enabled #54190 @lcwangchao\nFix the issue that the memory used by transactions might be tracked multiple times #53984 @ekexium\nFix the issue that using SHOW WARNINGS; to obtain warnings might cause a panic #48756 @xhebox\nFix the issue that loading index statistics might cause memory leaks #54022 @hi-rustin\nFix the issue that the LENGTH() condition is unexpectedly removed when the collation is utf8_bin or utf8mb4_bin #53730 @elsa0520\nFix the issue that statistics collection does not update the stats_history table when encountering duplicate primary keys #47539 @Defined2014\nFix the issue that recursive CTE queries might result in invalid pointers #54449 @hawkingrei\nFix the issue that the Connection Count monitoring metric in Grafana is incorrect when some connections exit before the handshake is complete #54428 @YangKeao\nFix the issue that the Connection Count of each resource group is incorrect when using TiProxy and resource groups #54545 @YangKeao\nFix the issue that when queries contain non-correlated subqueries and LIMIT clauses, column pruning might be incomplete, resulting in a less optimal plan #54213 @qw4990\nFix the issue of reusing wrong point get plans for SELECT ... FOR UPDATE #54652 @qw4990\nFix the issue that the TIMESTAMPADD() function goes into an infinite loop when the first argument is month and the second argument is negative #54908 @xzhangxian1008\nFix the issue that internal SQL statements in the slow log are redacted to null by default #54190 #52743 #53264 @lcwangchao\nFix the issue that PointGet execution plans for _tidb_rowid can be generated #54583 @Defined2014\nFix the issue that SHOW IMPORT JOBS reports an error Unknown column 'summary' after upgrading from v7.1 #54241 @tangenta\nFix the issue that obtaining the column information using information_schema.columns returns warning 1356 when a subquery is used as a column definition in a view definition #54343 @lance6716\nFix the issue that RANGE partitioned tables that are not strictly self-incrementing can be created #54829 @Defined2014\nFix the issue that INDEX_HASH_JOIN cannot exit properly when SQL is abnormally interrupted #54688 @wshwsh12\nFix the issue that the network partition during adding indexes using the Distributed eXecution Framework (DXF) might cause inconsistent data indexes #54897 @tangenta",
          "Reset the parameters in the Open method of PipelinedWindow to fix the unexpected error that occurs when the PipelinedWindow is used as a child node of Apply due to the reuse of previous parameter values caused by repeated opening and closing operations #53600 @XuHuaiyu",
          "Fix the issue that the query might get stuck when terminated because the memory usage exceeds the limit set by tidb_mem_quota_query #55042 @yibin87",
          "Fix the issue that the disk spill for the HashAgg operator causes incorrect query results during parallel calculation #55290 @xzhangxian1008",
          "Fix the issue of wrong JSON_TYPE when casting YEAR to JSON format #54494 @YangKeao",
          "Fix the issue that the value range of the tidb_schema_cache_size system variable is wrong #54034 @lilinghai",
          "Fix the issue that partition pruning does not work when the partition expression is EXTRACT(YEAR FROM col) #54210 @mjonss",
          "Fix the issue that FLASHBACK DATABASE fails when many tables exist in the database #54415 @lance6716",
          "Fix the issue that FLASHBACK DATABASE enters an infinite loop when handling many databases #54915 @lance6716",
          "Fix the issue that adding an index in index acceleration mode might fail #54568 @lance6716",
          "Fix the issue that ADMIN CANCEL DDL JOBS might cause DDL to fail #54687 @lance6716",
          "Fix the issue that table replication fails when the index length of the table replicated from DM exceeds the maximum length specified by max-index-length #55138 @lance6716",
          "Fix the issue that the error runtime error: index out of range might occur when executing SQL statements with tidb_enable_inl_join_inner_multi_pattern enabled #54535 @joechenrh",
          "Fix the issue that you cannot exit TiDB using Control+C during the process of initializing statistics #54589 @tiancaiamao",
          "Fix the issue that the INL_MERGE_JOIN optimizer hint returns incorrect results by deprecating it #54064 @AilinKid",
          "Fix the issue that a correlated subquery that contains WITH ROLLUP might cause TiDB to panic and return the error runtime error: index out of range #54983 @AilinKid",
          "Fix the issue that predicates cannot be pushed down properly when the filter condition of a SQL query contains virtual columns and the execution condition contains UnionScan #54870 @qw4990",
          "Fix the issue that the error runtime error: invalid memory address or nil pointer dereference might occur when executing SQL statements with tidb_enable_inl_join_inner_multi_pattern enabled #55169 @hawkingrei",
          "Fix the issue that a query statement that contains UNION might return incorrect results #52985 @XuHuaiyu",
          "Fix the issue that the tot_col_size column in the mysql.stats_histograms table might be a negative number #55126 @qw4990",
          "Fix the issue that columnEvaluator cannot identify the column references in the input chunk, which leads to runtime error: index out of range when executing SQL statements #53713 @AilinKid",
          "Fix the issue that STATS_EXTENDED becomes a reserved keyword #39573 @wddevries",
          "Fix the issue that when tidb_low_resolution is enabled, select for update can be executed #54684 @cfzjywxk",
          "Fix the issue that internal SQL queries cannot be displayed in the slow query log when tidb_redact_log is enabled #54190 @lcwangchao",
          "Fix the issue that the memory used by transactions might be tracked multiple times #53984 @ekexium",
          "Fix the issue that using SHOW WARNINGS; to obtain warnings might cause a panic #48756 @xhebox",
          "Fix the issue that loading index statistics might cause memory leaks #54022 @hi-rustin",
          "Fix the issue that the LENGTH() condition is unexpectedly removed when the collation is utf8_bin or utf8mb4_bin #53730 @elsa0520",
          "Fix the issue that statistics collection does not update the stats_history table when encountering duplicate primary keys #47539 @Defined2014",
          "Fix the issue that recursive CTE queries might result in invalid pointers #54449 @hawkingrei",
          "Fix the issue that the Connection Count monitoring metric in Grafana is incorrect when some connections exit before the handshake is complete #54428 @YangKeao",
          "Fix the issue that the Connection Count of each resource group is incorrect when using TiProxy and resource groups #54545 @YangKeao",
          "Fix the issue that when queries contain non-correlated subqueries and LIMIT clauses, column pruning might be incomplete, resulting in a less optimal plan #54213 @qw4990",
          "Fix the issue of reusing wrong point get plans for SELECT ... FOR UPDATE #54652 @qw4990",
          "Fix the issue that the TIMESTAMPADD() function goes into an infinite loop when the first argument is month and the second argument is negative #54908 @xzhangxian1008",
          "Fix the issue that internal SQL statements in the slow log are redacted to null by default #54190 #52743 #53264 @lcwangchao",
          "Fix the issue that PointGet execution plans for _tidb_rowid can be generated #54583 @Defined2014",
          "Fix the issue that SHOW IMPORT JOBS reports an error Unknown column 'summary' after upgrading from v7.1 #54241 @tangenta",
          "Fix the issue that obtaining the column information using information_schema.columns returns warning 1356 when a subquery is used as a column definition in a view definition #54343 @lance6716",
          "Fix the issue that RANGE partitioned tables that are not strictly self-incrementing can be created #54829 @Defined2014",
          "Fix the issue that INDEX_HASH_JOIN cannot exit properly when SQL is abnormally interrupted #54688 @wshwsh12",
          "Fix the issue that the network partition during adding indexes using the Distributed eXecution Framework (DXF) might cause inconsistent data indexes #54897 @tangenta",
          "PD\nFix the issue that no error is reported when binding a role to a resource group #54417 @JmPotato\nFix the issue that a resource group encounters quota limits when requesting tokens for more than 500 ms #8349 @nolouch\nFix the issue that the time data type in the INFORMATION_SCHEMA.RUNAWAY_WATCHES table is incorrect #54770 @HuSharp\nFix the issue that resource groups could not effectively limit resource usage under high concurrency #8435 @nolouch\nFix the issue that an incorrect PD API is called when you retrieve table attributes #55188 @JmPotato\nFix the issue that the scaling progress is displayed incorrectly after the scheduling microservice is enabled #8331 @rleungx\nFix the issue that the encryption manager is not initialized before use #8384 @rleungx\nFix the issue that some logs are not redacted #8419 @rleungx\nFix the issue that redirection might panic during the startup of PD microservices #8406 @HuSharp\nFix the issue that the split-merge-interval configuration item might not take effect when you modify its value repeatedly (such as changing it from 1s to 1h and back to 1s) #8404 @lhy1024\nFix the issue that setting replication.strictly-match-label to true causes TiFlash to fail to start #8480 @rleungx\nFix the issue that fetching TSO is slow when analyzing large partitioned tables, causing ANALYZE performance degradation #8500 @rleungx\nFix the potential data races in large clusters #8386 @rleungx\nFix the issue that when determining whether queries are Runaway Queries, TiDB only counts time consumption spent on the Coprocessor side while missing time consumption spent on the TiDB side, resulting in some queries not being identified as Runaway Queries #51325 @HuSharp",
          "Fix the issue that no error is reported when binding a role to a resource group #54417 @JmPotato",
          "Fix the issue that a resource group encounters quota limits when requesting tokens for more than 500 ms #8349 @nolouch",
          "Fix the issue that the time data type in the INFORMATION_SCHEMA.RUNAWAY_WATCHES table is incorrect #54770 @HuSharp",
          "Fix the issue that resource groups could not effectively limit resource usage under high concurrency #8435 @nolouch",
          "Fix the issue that an incorrect PD API is called when you retrieve table attributes #55188 @JmPotato",
          "Fix the issue that the scaling progress is displayed incorrectly after the scheduling microservice is enabled #8331 @rleungx",
          "Fix the issue that the encryption manager is not initialized before use #8384 @rleungx",
          "Fix the issue that some logs are not redacted #8419 @rleungx",
          "Fix the issue that redirection might panic during the startup of PD microservices #8406 @HuSharp",
          "Fix the issue that the split-merge-interval configuration item might not take effect when you modify its value repeatedly (such as changing it from 1s to 1h and back to 1s) #8404 @lhy1024",
          "Fix the issue that setting replication.strictly-match-label to true causes TiFlash to fail to start #8480 @rleungx",
          "Fix the issue that fetching TSO is slow when analyzing large partitioned tables, causing ANALYZE performance degradation #8500 @rleungx",
          "Fix the potential data races in large clusters #8386 @rleungx",
          "Fix the issue that when determining whether queries are Runaway Queries, TiDB only counts time consumption spent on the Coprocessor side while missing time consumption spent on the TiDB side, resulting in some queries not being identified as Runaway Queries #51325 @HuSharp",
          "TiFlash\nFix the issue that when using the CAST() function to convert a string to a datetime with a time zone or invalid characters, the result is incorrect #8754 @solotzg\nFix the issue that TiFlash might panic after executing RENAME TABLE ... TO ... on a partitioned table with empty partitions across databases #9132 @JaySon-Huang\nFix the issue that some queries might report a column type mismatch error after late materialization is enabled #9175 @JinheLin\nFix the issue that queries with virtual generated columns might return incorrect results after late materialization is enabled #9188 @JinheLin\nFix the issue that setting the SSL certificate configuration to an empty string in TiFlash incorrectly enables TLS and causes TiFlash to fail to start #9235 @JaySon-Huang\nFix the issue that TiFlash might panic when a database is deleted shortly after creation #9266 @JaySon-Huang\nFix the issue that a network partition (network disconnection) between TiFlash and any PD might cause read request timeout errors #9243 @Lloyd-Pottiger\nFix the issue that TiFlash write nodes might fail to restart in the disaggregated storage and compute architecture #9282 @JaySon-Huang\nFix the issue that read snapshots of TiFlash write nodes are not released in a timely manner in the disaggregated storage and compute architecture #9298 @JinheLin",
          "Fix the issue that when using the CAST() function to convert a string to a datetime with a time zone or invalid characters, the result is incorrect #8754 @solotzg",
          "Fix the issue that TiFlash might panic after executing RENAME TABLE ... TO ... on a partitioned table with empty partitions across databases #9132 @JaySon-Huang",
          "Fix the issue that some queries might report a column type mismatch error after late materialization is enabled #9175 @JinheLin",
          "Fix the issue that queries with virtual generated columns might return incorrect results after late materialization is enabled #9188 @JinheLin",
          "Fix the issue that setting the SSL certificate configuration to an empty string in TiFlash incorrectly enables TLS and causes TiFlash to fail to start #9235 @JaySon-Huang",
          "Fix the issue that TiFlash might panic when a database is deleted shortly after creation #9266 @JaySon-Huang",
          "Fix the issue that a network partition (network disconnection) between TiFlash and any PD might cause read request timeout errors #9243 @Lloyd-Pottiger",
          "Fix the issue that TiFlash write nodes might fail to restart in the disaggregated storage and compute architecture #9282 @JaySon-Huang",
          "Fix the issue that read snapshots of TiFlash write nodes are not released in a timely manner in the disaggregated storage and compute architecture #9298 @JinheLin",
          "TiKV\nFix the issue that cleaning up stale regions might accidentally delete valid data #17258 @hbisheng\nFix the issue that Ingestion picked level and Compaction Job Size(files) are displayed incorrectly in the TiKV dashboard in Grafana #15990 @Connor1996\nFix the issue that cancel_generating_snap incorrectly updating snap_tried_cnt causes TiKV to panic #17226 @hbisheng\nFix the issue that the information of Ingest SST duration seconds is incorrect #17239 @LykxSassinator\nFix the issue that CPU profiling flag is not reset correctly when an error occurs #17234 @Connor1996\nFix the issue that bloom filters are incompatible between earlier versions (earlier than v7.1) and later versions #17272 @v01dstar",
          "Fix the issue that cleaning up stale regions might accidentally delete valid data #17258 @hbisheng",
          "Fix the issue that Ingestion picked level and Compaction Job Size(files) are displayed incorrectly in the TiKV dashboard in Grafana #15990 @Connor1996",
          "Fix the issue that cancel_generating_snap incorrectly updating snap_tried_cnt causes TiKV to panic #17226 @hbisheng",
          "Fix the issue that the information of Ingest SST duration seconds is incorrect #17239 @LykxSassinator",
          "Fix the issue that CPU profiling flag is not reset correctly when an error occurs #17234 @Connor1996",
          "Fix the issue that bloom filters are incompatible between earlier versions (earlier than v7.1) and later versions #17272 @v01dstar",
          "Tools\nBackup & Restore (BR)\nFix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer\nFix the issue that the progress is stuck during backup and restore #54140 @Leavrth\nFix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth\nTiCDC\nFix the issue that the processor might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen\nTiDB Data Migration (DM)\nFix the issue that schema tracker incorrectly handles LIST partition tables, causing DM errors #11408 @lance6716\nFix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng\nFix the issue that DM cannot handle FAKE_ROTATE_EVENT correctly #11381 @lance6716\nTiDB Lightning\nFix the issue that TiDB Lightning outputs a confusing WARN log when it fails to obtain the keyspace name #54232 @kennytm\nFix the issue that the TLS configuration of TiDB Lightning affects cluster certificates #54172 @ei-sugimoto\nFix the issue that transaction conflicts occur during data import using TiDB Lightning #49826 @lance6716\nFix the issue that large checkpoint files cause performance degradation during the import of numerous databases and tables #55054 @D3Hunter",
          "Backup & Restore (BR)\nFix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer\nFix the issue that the progress is stuck during backup and restore #54140 @Leavrth\nFix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth",
          "Fix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer",
          "Fix the issue that the progress is stuck during backup and restore #54140 @Leavrth",
          "Fix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth",
          "TiCDC\nFix the issue that the processor might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen",
          "Fix the issue that the processor might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen",
          "TiDB Data Migration (DM)\nFix the issue that schema tracker incorrectly handles LIST partition tables, causing DM errors #11408 @lance6716\nFix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng\nFix the issue that DM cannot handle FAKE_ROTATE_EVENT correctly #11381 @lance6716",
          "Fix the issue that schema tracker incorrectly handles LIST partition tables, causing DM errors #11408 @lance6716",
          "Fix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng",
          "Fix the issue that DM cannot handle FAKE_ROTATE_EVENT correctly #11381 @lance6716",
          "TiDB Lightning\nFix the issue that TiDB Lightning outputs a confusing WARN log when it fails to obtain the keyspace name #54232 @kennytm\nFix the issue that the TLS configuration of TiDB Lightning affects cluster certificates #54172 @ei-sugimoto\nFix the issue that transaction conflicts occur during data import using TiDB Lightning #49826 @lance6716\nFix the issue that large checkpoint files cause performance degradation during the import of numerous databases and tables #55054 @D3Hunter",
          "Fix the issue that TiDB Lightning outputs a confusing WARN log when it fails to obtain the keyspace name #54232 @kennytm",
          "Fix the issue that the TLS configuration of TiDB Lightning affects cluster certificates #54172 @ei-sugimoto",
          "Fix the issue that transaction conflicts occur during data import using TiDB Lightning #49826 @lance6716",
          "Fix the issue that large checkpoint files cause performance degradation during the import of numerous databases and tables #55054 @D3Hunter"
        ]
      }
    ]
  },
  {
    "major_version": "8.2",
    "patches": [
      {
        "version": "8.2.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-8.2.0/",
        "changes": [
          "TiDB\nSupport parallel execution of logical DDL statements (General DDL). Compared with v8.1.0, when you use 10 sessions to submit different DDL statements concurrently, the performance is improved by 3 to 6 times #53246 @D3Hunter\nImprove the logic of matching multi-column indexes using expressions like ((a = 1 and b = 2 and c > 3) or (a = 4 and b = 5 and c > 6)) and d > 3 to produce a more accurate Range #41598 @ghazalfamilyusa\nOptimize the performance of obtaining data distribution information when performing simple queries on tables with large data volumes #53850 @you06\nThe aggregated result set can be used as an inner table for IndexJoin, allowing more complex queries to be matched to IndexJoin, thus improving query efficiency through indexing #37068 @elsa0520\nBy batch deleting TiFlash placement rules, improve the processing speed of data GC after performing the TRUNCATE or DROP operation on partitioned tables #54068 @Lloyd-Pottiger\nUpgrade the version of Azure Identity Libraries and Microsoft Authentication Library to enhance security #53990 @hawkingrei\nSet the maximum value of token-limit to 1048576 to avoid causing TiDB Server OOM when setting it too large #53312 @djshow832\nImprove column pruning for MPP execution plans to improve TiFlash MPP execution performance #52133 @yibin87\nOptimize the performance overhead of the IndexLookUp operator when looking up a table with a large amount of data (>1024 rows) #53871 @crazycs520\nRemove stores without Regions during MPP load balancing #52313 @xzhangxian1008",
          "Support parallel execution of logical DDL statements (General DDL). Compared with v8.1.0, when you use 10 sessions to submit different DDL statements concurrently, the performance is improved by 3 to 6 times #53246 @D3Hunter",
          "Improve the logic of matching multi-column indexes using expressions like ((a = 1 and b = 2 and c > 3) or (a = 4 and b = 5 and c > 6)) and d > 3 to produce a more accurate Range #41598 @ghazalfamilyusa",
          "Optimize the performance of obtaining data distribution information when performing simple queries on tables with large data volumes #53850 @you06",
          "The aggregated result set can be used as an inner table for IndexJoin, allowing more complex queries to be matched to IndexJoin, thus improving query efficiency through indexing #37068 @elsa0520",
          "By batch deleting TiFlash placement rules, improve the processing speed of data GC after performing the TRUNCATE or DROP operation on partitioned tables #54068 @Lloyd-Pottiger",
          "Upgrade the version of Azure Identity Libraries and Microsoft Authentication Library to enhance security #53990 @hawkingrei",
          "Set the maximum value of token-limit to 1048576 to avoid causing TiDB Server OOM when setting it too large #53312 @djshow832",
          "Improve column pruning for MPP execution plans to improve TiFlash MPP execution performance #52133 @yibin87",
          "Optimize the performance overhead of the IndexLookUp operator when looking up a table with a large amount of data (>1024 rows) #53871 @crazycs520",
          "Remove stores without Regions during MPP load balancing #52313 @xzhangxian1008",
          "TiKV\nAdd the Compaction Job Size(files) metric to show the number of SST files involved in a single compaction job #16837 @zhangjinpeng87\nEnable the early apply feature by default. With this feature enabled, the Raft leader can apply logs after quorum peers have persisted the logs, without waiting for the leader itself to persist the log, reducing the impact of jitter in a few TiKV nodes on write request latency #16717 @glorv\nImprove the observability of Raft dropped messages to locate the root cause of slow writes #17093 @Connor1996\nImprove the observability of ingest files latency to troubleshoot cluster latency issues #17078 @LykxSassinator\nUse a separate thread to clean up Region replicas to ensure stable latency on critical Raft reads and writes #16001 @hbisheng\nImprove the observability of the number of snapshots being applied #17078 @hbisheng",
          "Add the Compaction Job Size(files) metric to show the number of SST files involved in a single compaction job #16837 @zhangjinpeng87",
          "Enable the early apply feature by default. With this feature enabled, the Raft leader can apply logs after quorum peers have persisted the logs, without waiting for the leader itself to persist the log, reducing the impact of jitter in a few TiKV nodes on write request latency #16717 @glorv",
          "Improve the observability of Raft dropped messages to locate the root cause of slow writes #17093 @Connor1996",
          "Improve the observability of ingest files latency to troubleshoot cluster latency issues #17078 @LykxSassinator",
          "Use a separate thread to clean up Region replicas to ensure stable latency on critical Raft reads and writes #16001 @hbisheng",
          "Improve the observability of the number of snapshots being applied #17078 @hbisheng",
          "PD\nImprove the performance of Region heartbeat processing #7897 @nolouch @rleungx @JmPotato\npd-ctl supports querying hot Regions by the byte or query dimension #7369 @lhy1024",
          "Improve the performance of Region heartbeat processing #7897 @nolouch @rleungx @JmPotato",
          "pd-ctl supports querying hot Regions by the byte or query dimension #7369 @lhy1024",
          "TiFlash\nReduce lock conflicts under highly concurrent data read operations and optimize short query performance #9125 @JinheLin\nEliminate redundant copies of the Join Key in the Join operator #9057 @gengliqi\nConcurrently perform the process of converting a two-level hash table in the HashAgg operator #8956 @gengliqi\nRemove redundant aggregation functions for the HashAgg operator to reduce computational overhead #8891 @guo-shaoge",
          "Reduce lock conflicts under highly concurrent data read operations and optimize short query performance #9125 @JinheLin",
          "Eliminate redundant copies of the Join Key in the Join operator #9057 @gengliqi",
          "Concurrently perform the process of converting a two-level hash table in the HashAgg operator #8956 @gengliqi",
          "Remove redundant aggregation functions for the HashAgg operator to reduce computational overhead #8891 @guo-shaoge",
          "Tools\nBackup & Restore (BR)\nOptimize the backup feature, improving backup performance and stability during node restarts, cluster scaling-out, and network jitter when backing up large numbers of tables #52534 @3pointer\nImplement fine-grained checks of TiCDC changefeed during data restore. If the changefeed CheckpointTS is later than the data backup time, the restore operations are not affected, thereby reducing unnecessary wait times and improving user experience #53131 @YuJuncen\nAdd several commonly used parameters to the BACKUP statement and the RESTORE statement, such as CHECKSUM_CONCURRENCY #53040 @RidRisR\nExcept for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth\nSupport encryption of temporary files generated during log backup #15083 @YuJuncen\nAdd a tikv_log_backup_pending_initial_scan monitoring metric in the Grafana dashboard #16656 @3pointer\nOptimize the output format of PITR logs and add a RestoreTS field in the logs #53645 @dveeden\nTiCDC\nSupport directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96",
          "Backup & Restore (BR)\nOptimize the backup feature, improving backup performance and stability during node restarts, cluster scaling-out, and network jitter when backing up large numbers of tables #52534 @3pointer\nImplement fine-grained checks of TiCDC changefeed during data restore. If the changefeed CheckpointTS is later than the data backup time, the restore operations are not affected, thereby reducing unnecessary wait times and improving user experience #53131 @YuJuncen\nAdd several commonly used parameters to the BACKUP statement and the RESTORE statement, such as CHECKSUM_CONCURRENCY #53040 @RidRisR\nExcept for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth\nSupport encryption of temporary files generated during log backup #15083 @YuJuncen\nAdd a tikv_log_backup_pending_initial_scan monitoring metric in the Grafana dashboard #16656 @3pointer\nOptimize the output format of PITR logs and add a RestoreTS field in the logs #53645 @dveeden",
          "Optimize the backup feature, improving backup performance and stability during node restarts, cluster scaling-out, and network jitter when backing up large numbers of tables #52534 @3pointer",
          "Implement fine-grained checks of TiCDC changefeed during data restore. If the changefeed CheckpointTS is later than the data backup time, the restore operations are not affected, thereby reducing unnecessary wait times and improving user experience #53131 @YuJuncen",
          "Add several commonly used parameters to the BACKUP statement and the RESTORE statement, such as CHECKSUM_CONCURRENCY #53040 @RidRisR",
          "Except for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth",
          "Support encryption of temporary files generated during log backup #15083 @YuJuncen",
          "Add a tikv_log_backup_pending_initial_scan monitoring metric in the Grafana dashboard #16656 @3pointer",
          "Optimize the output format of PITR logs and add a RestoreTS field in the logs #53645 @dveeden",
          "TiCDC\nSupport directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96",
          "Support directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96",
          "TiDB\nFix the issue that when a SQL statement contains an Outer Join and the Join condition includes the false IN (column_name) expression, the query result lacks some data #49476 @ghazalfamilyusa\nFix the issue that statistics for columns in system tables are collected when TiDB collects PREDICATE COLUMNS statistics for tables #53403 @hi-rustin\nFix the issue that the tidb_enable_column_tracking system variable does not take effect when the tidb_persist_analyze_options system variable is set to OFF #53478 @hi-rustin\nFix the issue of potential data races during the execution of (*PointGetPlan).StatsInfo() #49803 #43339 @qw4990\nFix the issue that TiDB might return incorrect query results when you query tables with virtual columns in transactions that involve data modification operations #53951 @qw4990\nFix the issue that the tidb_enable_async_merge_global_stats and tidb_analyze_partition_concurrency system variables do not take effect during automatic statistics collection #53972 @hi-rustin\nFix the issue that TiDB might return the plan not supported error when you query TABLESAMPLE #54015 @tangenta\nFix the issue that executing the SELECT DISTINCT CAST(col AS DECIMAL), CAST(col AS SIGNED) FROM ... query might return incorrect results #53726 @hawkingrei\nFix the issue that queries cannot be terminated after a data read timeout on the client side #44009 @wshwsh12\nFix the overflow issue of the Longlong type in predicates #45783 @hawkingrei\nFix the issue that the Window function might panic when there is a related subquery in it #42734 @hi-rustin\nFix the issue that the TopN operator might be pushed down incorrectly #37986 @qw4990\nFix the issue that SELECT INTO OUTFILE does not work when clustered indexes are used as predicates #42093 @qw4990\nFix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520\nFix the issue that comparing a column of YEAR type with an unsigned integer that is out of range causes incorrect results #50235 @qw4990\nFix the issue that the histogram and TopN in the primary key column statistics are not loaded after restarting TiDB #37548 @hawkingrei\nFix the issue that the final AggMode and the non-final AggMode cannot coexist in Massively Parallel Processing (MPP) #51362 @AilinKid\nFix the issue that TiDB panics when executing the SHOW ERRORS statement with a predicate that is always true #46962 @elsa0520\nFix the issue that using a view does not work in recursive CTE #49721 @hawkingrei\nFix the issue that TiDB might report an error due to GC when loading statistics at startup #53592 @you06\nFix the issue that PREPARE/EXECUTE statements with the CONV expression containing a ? argument might result in incorrect query results when executed multiple times #53505 @qw4990\nFix the issue that non-BIGINT unsigned integers might produce incorrect results when compared with strings/decimals #41736 @LittleFall\nFix the issue that TiDB does not create corresponding statistics metadata (stats_meta) when creating a table with foreign keys #53652 @hawkingrei\nFix the issue that certain filter conditions in queries might cause the planner module to report an invalid memory address or nil pointer dereference error #53582 #53580 #53594 #53603 @YangKeao\nFix the issue that executing CREATE OR REPLACE VIEW concurrently might result in the table doesn't exist error #53673 @tangenta\nFix the issue that the STATE field in the INFORMATION_SCHEMA.TIDB_TRX table is empty due to the size of the STATE field not being defined #53026 @cfzjywxk\nFix the issue that the Distinct_count information in global statistics might be incorrect when tidb_enable_async_merge_global_stats is disabled #53752 @hawkingrei\nFix the issue of incorrect WARNINGS information when using Optimizer Hints #53767 @hawkingrei\nFix the issue that negating a time type results in an incorrect value #52262 @solotzg\nFix the issue that REGEXP() does not explicitly report an error for empty pattern arguments #53221 @yibin87\nFix the issue that converting JSON to datetime might lose precision in some cases #53352 @YangKeao\nFix the issue that JSON_QUOTE() returns incorrect results in some cases #37294 @dveeden\nFix the issue that executing ALTER TABLE ... REMOVE PARTITIONING might cause data loss #53385 @mjonss\nFix the issue that TiDB fails to reject unauthenticated user connections in some cases when using the auth_socket authentication plugin #54031 @lcwangchao\nFix the issue that JSON-related functions return errors inconsistent with MySQL in some cases #53799 @dveeden\nFix the issue that the INDEX_LENGTH field of partitioned tables in INFORMATION_SCHEMA.PARTITIONS is incorrect #54173 @Defined2014\nFix the issue that the TIDB_ROW_ID_SHARDING_INFO field in the INFORMATION_SCHEMA.TABLES table is incorrect #52330 @tangenta\nFix the issue that a generated column returns invalid timestamps #52509 @lcwangchao\nFix the issue that setting max-index-length causes TiDB to panic when adding indexes using the Distributed eXecution Framework (DXF) #53281 @zimulala\nFix the issue that the invalid column type DECIMAL(0,0) can be created in some cases #53779 @tangenta\nFix the issue that using CURRENT_DATE() as the default value for a column results in incorrect query results #53746 @tangenta\nFix the issue that the ALTER DATABASE ... SET TIFLASH REPLICA statement incorrectly adds TiFlash replicas to the SEQUENCE table #51990 @jiyfhust\nFix the issue that the REFERENCED_TABLE_SCHEMA field in the INFORMATION_SCHEMA.KEY_COLUMN_USAGE table is incorrect #52350 @wd0517\nFix the issue that inserting multiple rows in a single statement causes the AUTO_INCREMENT column to be discontinuous when AUTO_ID_CACHE=1 #52465 @tiancaiamao\nFix the format of deprecation warnings #52515 @dveeden\nFix the issue that the TRACE command is missing in copr.buildCopTasks #53085 @time-and-fate\nFix the issue that the memory_quota hint might not work in subqueries #53834 @qw4990\nFix the issue that improper use of metadata locks might lead to writing anomalous data when using the plan cache under certain circumstances #53634 @zimulala\nFix the issue that after a statement within a transaction is killed by OOM, if TiDB continues to execute the next statement within the same transaction, you might get an error Trying to start aggressive locking while it's already started and a panic occurs #53540 @MyonKeminta",
          "Fix the issue that when a SQL statement contains an Outer Join and the Join condition includes the false IN (column_name) expression, the query result lacks some data #49476 @ghazalfamilyusa",
          "Fix the issue that statistics for columns in system tables are collected when TiDB collects PREDICATE COLUMNS statistics for tables #53403 @hi-rustin",
          "Fix the issue that the tidb_enable_column_tracking system variable does not take effect when the tidb_persist_analyze_options system variable is set to OFF #53478 @hi-rustin",
          "Fix the issue of potential data races during the execution of (*PointGetPlan).StatsInfo() #49803 #43339 @qw4990",
          "Fix the issue that TiDB might return incorrect query results when you query tables with virtual columns in transactions that involve data modification operations #53951 @qw4990",
          "Fix the issue that the tidb_enable_async_merge_global_stats and tidb_analyze_partition_concurrency system variables do not take effect during automatic statistics collection #53972 @hi-rustin",
          "Fix the issue that TiDB might return the plan not supported error when you query TABLESAMPLE #54015 @tangenta",
          "Fix the issue that executing the SELECT DISTINCT CAST(col AS DECIMAL), CAST(col AS SIGNED) FROM ... query might return incorrect results #53726 @hawkingrei",
          "Fix the issue that queries cannot be terminated after a data read timeout on the client side #44009 @wshwsh12",
          "Fix the overflow issue of the Longlong type in predicates #45783 @hawkingrei",
          "Fix the issue that the Window function might panic when there is a related subquery in it #42734 @hi-rustin",
          "Fix the issue that the TopN operator might be pushed down incorrectly #37986 @qw4990",
          "Fix the issue that SELECT INTO OUTFILE does not work when clustered indexes are used as predicates #42093 @qw4990",
          "Fix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520",
          "Fix the issue that comparing a column of YEAR type with an unsigned integer that is out of range causes incorrect results #50235 @qw4990",
          "Fix the issue that the histogram and TopN in the primary key column statistics are not loaded after restarting TiDB #37548 @hawkingrei",
          "Fix the issue that the final AggMode and the non-final AggMode cannot coexist in Massively Parallel Processing (MPP) #51362 @AilinKid",
          "Fix the issue that TiDB panics when executing the SHOW ERRORS statement with a predicate that is always true #46962 @elsa0520",
          "Fix the issue that using a view does not work in recursive CTE #49721 @hawkingrei",
          "Fix the issue that TiDB might report an error due to GC when loading statistics at startup #53592 @you06",
          "Fix the issue that PREPARE/EXECUTE statements with the CONV expression containing a ? argument might result in incorrect query results when executed multiple times #53505 @qw4990",
          "Fix the issue that non-BIGINT unsigned integers might produce incorrect results when compared with strings/decimals #41736 @LittleFall",
          "Fix the issue that TiDB does not create corresponding statistics metadata (stats_meta) when creating a table with foreign keys #53652 @hawkingrei",
          "Fix the issue that certain filter conditions in queries might cause the planner module to report an invalid memory address or nil pointer dereference error #53582 #53580 #53594 #53603 @YangKeao",
          "Fix the issue that executing CREATE OR REPLACE VIEW concurrently might result in the table doesn't exist error #53673 @tangenta",
          "Fix the issue that the STATE field in the INFORMATION_SCHEMA.TIDB_TRX table is empty due to the size of the STATE field not being defined #53026 @cfzjywxk",
          "Fix the issue that the Distinct_count information in global statistics might be incorrect when tidb_enable_async_merge_global_stats is disabled #53752 @hawkingrei",
          "Fix the issue of incorrect WARNINGS information when using Optimizer Hints #53767 @hawkingrei",
          "Fix the issue that negating a time type results in an incorrect value #52262 @solotzg",
          "Fix the issue that REGEXP() does not explicitly report an error for empty pattern arguments #53221 @yibin87",
          "Fix the issue that converting JSON to datetime might lose precision in some cases #53352 @YangKeao",
          "Fix the issue that JSON_QUOTE() returns incorrect results in some cases #37294 @dveeden",
          "Fix the issue that executing ALTER TABLE ... REMOVE PARTITIONING might cause data loss #53385 @mjonss",
          "Fix the issue that TiDB fails to reject unauthenticated user connections in some cases when using the auth_socket authentication plugin #54031 @lcwangchao",
          "Fix the issue that JSON-related functions return errors inconsistent with MySQL in some cases #53799 @dveeden",
          "Fix the issue that the INDEX_LENGTH field of partitioned tables in INFORMATION_SCHEMA.PARTITIONS is incorrect #54173 @Defined2014",
          "Fix the issue that the TIDB_ROW_ID_SHARDING_INFO field in the INFORMATION_SCHEMA.TABLES table is incorrect #52330 @tangenta",
          "Fix the issue that a generated column returns invalid timestamps #52509 @lcwangchao",
          "Fix the issue that setting max-index-length causes TiDB to panic when adding indexes using the Distributed eXecution Framework (DXF) #53281 @zimulala",
          "Fix the issue that the invalid column type DECIMAL(0,0) can be created in some cases #53779 @tangenta",
          "Fix the issue that using CURRENT_DATE() as the default value for a column results in incorrect query results #53746 @tangenta",
          "Fix the issue that the ALTER DATABASE ... SET TIFLASH REPLICA statement incorrectly adds TiFlash replicas to the SEQUENCE table #51990 @jiyfhust",
          "Fix the issue that the REFERENCED_TABLE_SCHEMA field in the INFORMATION_SCHEMA.KEY_COLUMN_USAGE table is incorrect #52350 @wd0517",
          "Fix the issue that inserting multiple rows in a single statement causes the AUTO_INCREMENT column to be discontinuous when AUTO_ID_CACHE=1 #52465 @tiancaiamao",
          "Fix the format of deprecation warnings #52515 @dveeden",
          "Fix the issue that the TRACE command is missing in copr.buildCopTasks #53085 @time-and-fate",
          "Fix the issue that the memory_quota hint might not work in subqueries #53834 @qw4990",
          "Fix the issue that improper use of metadata locks might lead to writing anomalous data when using the plan cache under certain circumstances #53634 @zimulala",
          "Fix the issue that after a statement within a transaction is killed by OOM, if TiDB continues to execute the next statement within the same transaction, you might get an error Trying to start aggressive locking while it's already started and a panic occurs #53540 @MyonKeminta",
          "TiKV\nFix the issue that pushing down the JSON_ARRAY_APPEND() function to TiKV causes TiKV to panic #16930 @dbsid\nFix the issue that the leader does not clean up failed snapshot files in time #16976 @hbisheng\nFix the issue that highly concurrent Coprocessor requests might cause TiKV OOM #16653 @overvenus\nFix the issue that changing the raftstore.periodic-full-compact-start-times configuration item online might cause TiKV to panic #17066 @SpadeA-Tang\nFix the failure of make docker and make docker_test #17075 @shunki-fujita\nFix the issue that the gRPC request sources duration metric is displayed incorrectly in the monitoring dashboard #17133 @King-Dylan\nFix the issue that setting the gRPC message compression method via grpc-compression-type does not take effect on messages sent from TiKV to TiDB #17176 @ekexium\nFix the issue that the output of the raft region command in tikv-ctl does not include the Region status information #17037 @glorv\nFix the issue that CDC and log-backup do not limit the timeout of check_leader using the advance-ts-interval configuration, causing the resolved_ts lag to be too large when TiKV restarts normally in some cases #17107 @MyonKeminta",
          "Fix the issue that pushing down the JSON_ARRAY_APPEND() function to TiKV causes TiKV to panic #16930 @dbsid",
          "Fix the issue that the leader does not clean up failed snapshot files in time #16976 @hbisheng",
          "Fix the issue that highly concurrent Coprocessor requests might cause TiKV OOM #16653 @overvenus",
          "Fix the issue that changing the raftstore.periodic-full-compact-start-times configuration item online might cause TiKV to panic #17066 @SpadeA-Tang",
          "Fix the failure of make docker and make docker_test #17075 @shunki-fujita",
          "Fix the issue that the gRPC request sources duration metric is displayed incorrectly in the monitoring dashboard #17133 @King-Dylan",
          "Fix the issue that setting the gRPC message compression method via grpc-compression-type does not take effect on messages sent from TiKV to TiDB #17176 @ekexium",
          "Fix the issue that the output of the raft region command in tikv-ctl does not include the Region status information #17037 @glorv",
          "Fix the issue that CDC and log-backup do not limit the timeout of check_leader using the advance-ts-interval configuration, causing the resolved_ts lag to be too large when TiKV restarts normally in some cases #17107 @MyonKeminta",
          "PD\nFix the issue that ALTER PLACEMENT POLICY cannot modify the placement policy #52257 #51712 @jiyfhust\nFix the issue that the scheduling of write hotspots might break placement policy constraints #7848 @lhy1024\nFix the issue that down peers might not recover when using Placement Rules #7808 @rleungx\nFix the issue that a large number of retries occur when canceling resource groups queries #8217 @nolouch\nFix the issue that manually transferring the PD leader might fail #8225 @HuSharp",
          "Fix the issue that ALTER PLACEMENT POLICY cannot modify the placement policy #52257 #51712 @jiyfhust",
          "Fix the issue that the scheduling of write hotspots might break placement policy constraints #7848 @lhy1024",
          "Fix the issue that down peers might not recover when using Placement Rules #7808 @rleungx",
          "Fix the issue that a large number of retries occur when canceling resource groups queries #8217 @nolouch",
          "Fix the issue that manually transferring the PD leader might fail #8225 @HuSharp",
          "TiFlash\nFix the issue of query timeout when executing queries on partitioned tables that contain empty partitions #9024 @JinheLin\nFix the issue that in the disaggregated storage and compute architecture, null values might be incorrectly returned in queries after adding non-null columns in DDL operations #9084 @Lloyd-Pottiger\nFix the issue that the SUBSTRING_INDEX() function might cause TiFlash to crash in some corner cases #9116 @wshwsh12\nFix the issue that a large number of duplicate rows might be read in FastScan mode after importing data via BR or TiDB Lightning #9118 @JinheLin",
          "Fix the issue of query timeout when executing queries on partitioned tables that contain empty partitions #9024 @JinheLin",
          "Fix the issue that in the disaggregated storage and compute architecture, null values might be incorrectly returned in queries after adding non-null columns in DDL operations #9084 @Lloyd-Pottiger",
          "Fix the issue that the SUBSTRING_INDEX() function might cause TiFlash to crash in some corner cases #9116 @wshwsh12",
          "Fix the issue that a large number of duplicate rows might be read in FastScan mode after importing data via BR or TiDB Lightning #9118 @JinheLin",
          "Tools\nBackup & Restore (BR)\nFix the issue that BR fails to restore a transactional KV cluster due to an empty EndKey #52574 @3pointer\nFix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen\nFix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR\nFix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR\nFix the issue that the connection used to fetch TiKV configurations might not be closed #52595 @RidRisR\nFix the issue that the TestStoreRemoved test case is unstable #52791 @YuJuncen\nFix the issue that TiFlash crashes during point-in-time recovery (PITR) #52628 @RidRisR\nFix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer\nFix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth\nTiCDC\nFix inaccurate display of the Kafka Outgoing Bytes panel in Grafana #10777 @asddongmen\nFix the issue that data inconsistency might occur when restarting Changefeed repeatedly when performing a large number of UPDATE operations in a multi-node environment #11219 @lidezhu\nTiDB Data Migration (DM)\nFix the connection blocking issue by upgrading go-mysql #11041 @D3Hunter\nFix the issue that SET statements cause DM to panic during the migration of MariaDB data #10206 @dveeden\nTiDB Lightning\nFix the issue that TiDB Lightning might report an error when importing zstd compressed files #53587 @lance6716\nDumpling\nFix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta\nTiDB Binlog\nFix the issue that deleting rows during the execution of ADD COLUMN might report an error data and columnID count not match when TiDB Binlog is enabled #53133 @tangenta",
          "Backup & Restore (BR)\nFix the issue that BR fails to restore a transactional KV cluster due to an empty EndKey #52574 @3pointer\nFix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen\nFix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR\nFix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR\nFix the issue that the connection used to fetch TiKV configurations might not be closed #52595 @RidRisR\nFix the issue that the TestStoreRemoved test case is unstable #52791 @YuJuncen\nFix the issue that TiFlash crashes during point-in-time recovery (PITR) #52628 @RidRisR\nFix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer\nFix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth",
          "Fix the issue that BR fails to restore a transactional KV cluster due to an empty EndKey #52574 @3pointer",
          "Fix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen",
          "Fix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR",
          "Fix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR",
          "Fix the issue that the connection used to fetch TiKV configurations might not be closed #52595 @RidRisR",
          "Fix the issue that the TestStoreRemoved test case is unstable #52791 @YuJuncen",
          "Fix the issue that TiFlash crashes during point-in-time recovery (PITR) #52628 @RidRisR",
          "Fix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer",
          "Fix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth",
          "TiCDC\nFix inaccurate display of the Kafka Outgoing Bytes panel in Grafana #10777 @asddongmen\nFix the issue that data inconsistency might occur when restarting Changefeed repeatedly when performing a large number of UPDATE operations in a multi-node environment #11219 @lidezhu",
          "Fix inaccurate display of the Kafka Outgoing Bytes panel in Grafana #10777 @asddongmen",
          "Fix the issue that data inconsistency might occur when restarting Changefeed repeatedly when performing a large number of UPDATE operations in a multi-node environment #11219 @lidezhu",
          "TiDB Data Migration (DM)\nFix the connection blocking issue by upgrading go-mysql #11041 @D3Hunter\nFix the issue that SET statements cause DM to panic during the migration of MariaDB data #10206 @dveeden",
          "Fix the connection blocking issue by upgrading go-mysql #11041 @D3Hunter",
          "Fix the issue that SET statements cause DM to panic during the migration of MariaDB data #10206 @dveeden",
          "TiDB Lightning\nFix the issue that TiDB Lightning might report an error when importing zstd compressed files #53587 @lance6716",
          "Fix the issue that TiDB Lightning might report an error when importing zstd compressed files #53587 @lance6716",
          "Dumpling\nFix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta",
          "Fix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta",
          "TiDB Binlog\nFix the issue that deleting rows during the execution of ADD COLUMN might report an error data and columnID count not match when TiDB Binlog is enabled #53133 @tangenta",
          "Fix the issue that deleting rows during the execution of ADD COLUMN might report an error data and columnID count not match when TiDB Binlog is enabled #53133 @tangenta"
        ]
      }
    ]
  },
  {
    "major_version": "8.1",
    "patches": [
      {
        "version": "8.1.2",
        "date": "2024-12-26",
        "link": "https://docs.pingcap.com/tidb/stable/release-8.1.2/",
        "changes": [
          "TiDB\nAdd metrics about Request Unit (RU) settings #8444 @nolouch",
          "Add metrics about Request Unit (RU) settings #8444 @nolouch",
          "TiKV\nImprove the speed of Region Merge in scenarios with empty tables and small Regions #17376 @LykxSassinator\nOptimize TiKV's DiskFull detection to make it compatible with RaftEngine's spill-dir configuration, ensuring that this feature works consistently #17356 @LykxSassinator\nOptimize the trigger mechanism of RocksDB compaction to accelerate disk space reclamation when handling a large number of DELETE versions #17269 @AndreMouche\nSupport modifying the import.num-threads configuration item dynamically #17807 @RidRisR\nReplace the Rusoto library with AWS Rust SDK to access external storage (such as Amazon S3) for backup and restore, which enhances compatibility with AWS features such as IMDSv2 and EKS Pod Identity #12371 @akoshchiy",
          "Improve the speed of Region Merge in scenarios with empty tables and small Regions #17376 @LykxSassinator",
          "Optimize TiKV's DiskFull detection to make it compatible with RaftEngine's spill-dir configuration, ensuring that this feature works consistently #17356 @LykxSassinator",
          "Optimize the trigger mechanism of RocksDB compaction to accelerate disk space reclamation when handling a large number of DELETE versions #17269 @AndreMouche",
          "Support modifying the import.num-threads configuration item dynamically #17807 @RidRisR",
          "Replace the Rusoto library with AWS Rust SDK to access external storage (such as Amazon S3) for backup and restore, which enhances compatibility with AWS features such as IMDSv2 and EKS Pod Identity #12371 @akoshchiy",
          "TiFlash\nImprove the garbage collection speed of outdated data in the background for tables with clustered indexes #9529 @JaySon-Huang\nMitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker\nReduce the number of threads that TiFlash needs to create when processing disaggregated storage and compute requests, helping avoid crashes of TiFlash compute nodes when processing a large number of such requests #9334 @JinheLin\nImprove the cancel mechanism of the JOIN operator, so that the JOIN operator can respond to cancel requests in a timely manner #9430 @windtalker\nOptimize the execution efficiency of LENGTH() and ASCII() functions #9344 @xzhangxian1008\nOptimize the retry strategy for TiFlash compute nodes in the disaggregated storage and compute architecture to handle exceptions when downloading files from Amazon S3 #9695 @JinheLin",
          "Improve the garbage collection speed of outdated data in the background for tables with clustered indexes #9529 @JaySon-Huang",
          "Mitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker",
          "Reduce the number of threads that TiFlash needs to create when processing disaggregated storage and compute requests, helping avoid crashes of TiFlash compute nodes when processing a large number of such requests #9334 @JinheLin",
          "Improve the cancel mechanism of the JOIN operator, so that the JOIN operator can respond to cancel requests in a timely manner #9430 @windtalker",
          "Optimize the execution efficiency of LENGTH() and ASCII() functions #9344 @xzhangxian1008",
          "Optimize the retry strategy for TiFlash compute nodes in the disaggregated storage and compute architecture to handle exceptions when downloading files from Amazon S3 #9695 @JinheLin",
          "Tools\nBackup & Restore (BR)\nReduce unnecessary log printing during backup #55902 @Leavrth\nDisable the table-level checksum calculation (--checksum=false) during full backups by default to improve backup performance #56373 @Tristan1900\nTiCDC\nTiCDC supports querying the status of asynchronously executed DDL tasks after being granted the SUPER privilege, preventing execution errors caused by repeatedly executing DDL tasks on the same table #11521 @CharlesCheung96\nWhen the downstream is TiDB with the SUPER permission granted, TiCDC supports querying the execution status of ADD INDEX DDL from the downstream database to avoid data replication failure due to timeout in retrying executing the DDL statement in some cases #10682 @CharlesCheung96",
          "Backup & Restore (BR)\nReduce unnecessary log printing during backup #55902 @Leavrth\nDisable the table-level checksum calculation (--checksum=false) during full backups by default to improve backup performance #56373 @Tristan1900",
          "Reduce unnecessary log printing during backup #55902 @Leavrth",
          "Disable the table-level checksum calculation (--checksum=false) during full backups by default to improve backup performance #56373 @Tristan1900",
          "TiCDC\nTiCDC supports querying the status of asynchronously executed DDL tasks after being granted the SUPER privilege, preventing execution errors caused by repeatedly executing DDL tasks on the same table #11521 @CharlesCheung96\nWhen the downstream is TiDB with the SUPER permission granted, TiCDC supports querying the execution status of ADD INDEX DDL from the downstream database to avoid data replication failure due to timeout in retrying executing the DDL statement in some cases #10682 @CharlesCheung96",
          "TiCDC supports querying the status of asynchronously executed DDL tasks after being granted the SUPER privilege, preventing execution errors caused by repeatedly executing DDL tasks on the same table #11521 @CharlesCheung96",
          "When the downstream is TiDB with the SUPER permission granted, TiCDC supports querying the execution status of ADD INDEX DDL from the downstream database to avoid data replication failure due to timeout in retrying executing the DDL statement in some cases #10682 @CharlesCheung96",
          "TiDB\nFix the issue that existing TTL tasks are executed unexpectedly frequently in a cluster that is upgraded from v6.5 to v7.5 or later #56539 @lcwangchao\nFix the issue that improper use of metadata locks might lead to writing anomalous data when using the plan cache under certain circumstances #53634 @zimulala\nFix the issue that executing IMPORT INTO is stuck when Global Sort is enabled and the Region size exceeds 96 MiB #55374 @lance6716\nFix the issue that the upper bound and lower bound of the histogram are corrupted when DUMP STATS is transforming statistics into JSON #56083 @hawkingrei\nFix the issue that execution plan bindings cannot be created for the multi-table DELETE statement with aliases #56726 @hawkingrei\nFix the issue of memory leaks in TTL tables #56934 @lcwangchao\nFix the issue that partition pruning does not work when the partition expression is EXTRACT(YEAR FROM col) #54210 @mjonss\nFix the issue that Plan Replayer might report an error when importing a table structure containing Placement Rules #54961 @hawkingrei\nFix the issue that the query might get stuck when terminated because the memory usage exceeds the limit set by tidb_mem_quota_query #55042 @yibin87\nFix the issue that TiDB queries cannot be canceled during cop task construction #55957 @yibin87\nFix the issue that reducing the value of tidb_ttl_delete_worker_count during TTL job execution makes the job fail to complete #55561 @lcwangchao\nFix the issue that the CAST function does not support explicitly setting the character set #55677 @Defined2014\nFix the issue that TTL tasks cannot be canceled when there is a write conflict #56422 @YangKeao\nFix the data race issue in IndexNestedLoopHashJoin #49692 @solotzg\nFix the issue that empty groupOffset in StreamAggExec might cause TiDB to panic #53867 @xzhangxian1008\nFix the issue that TiDB might hang or return incorrect results when executing a query containing a correlated subquery and CTE #55551 @guo-shaoge\nFix the issue of data index inconsistency caused by retries during index addition #55808 @lance6716\nFix the issue that an out of range error might occur when a small display width is specified for a column of the integer type #55837 @windtalker\nFix the issue that the LOAD DATA ... REPLACE INTO operation causes data inconsistency #56408 @fzzf678\nFix the issue that columnEvaluator cannot identify the column references in the input chunk, which leads to runtime error: index out of range when executing SQL statements #53713 @AilinKid\nFix the issue of invalid memory access that might occur when a Common Table Expression (CTE) has multiple data consumers and one consumer exits without reading any data #55881 @windtalker\nFix the issue that when canceling a TTL task, the corresponding SQL is not killed forcibly #56511 @lcwangchao\nFix the issue that TiDB panics when importing temporary tables using the IMPORT INTO statement #55970 @D3Hunter\nFix the issue that the optimizer incorrectly estimates the number of rows as 1 when accessing a unique index with the query condition column IS NULL #56116 @hawkingrei\nFix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520\nFix the issue that the UPDATE statement incorrectly updates values of the ENUM type #56832 @xhebox\nFix the issue that Plan Replayer might report an error when importing a table structure containing foreign keys #56456 @hawkingrei\nFix the issue that TTL tasks are not canceled after the tidb_ttl_job_enable variable is disabled #57404 @YangKeao\nFix the issue that when an UPDATE or DELETE statement contains a recursive CTE, the statement might report an error or not take effect #55666 @time-and-fate\nFix the issue that the SUB_PART value in the INFORMATION_SCHEMA.STATISTICS table is NULL #55812 @Defined2014\nFix the issue that the default timeout for querying the TiFlash system table is too short #57816 @JaySon-Huang\nFix the issue that the value of the default_collation_for_utf8mb4 variable does not work for the SET NAMES statement #56439 @Defined2014\nFix the issue that TTL internal coroutine might panic when you manually delete a timer in the mysql.tidb_timer table #57112 @lcwangchao\nFix the issue that enabling acceleration of ADD INDEX and CREATE INDEX via tidb_ddl_enable_fast_reorg might lead to the Duplicate entry error #49233 @lance6716\nFix the issue that the index timestamp is set to 0 when adding indexes to large tables in a non-distributed manner #57980 @lance6716",
          "Fix the issue that existing TTL tasks are executed unexpectedly frequently in a cluster that is upgraded from v6.5 to v7.5 or later #56539 @lcwangchao",
          "Fix the issue that improper use of metadata locks might lead to writing anomalous data when using the plan cache under certain circumstances #53634 @zimulala",
          "Fix the issue that executing IMPORT INTO is stuck when Global Sort is enabled and the Region size exceeds 96 MiB #55374 @lance6716",
          "Fix the issue that the upper bound and lower bound of the histogram are corrupted when DUMP STATS is transforming statistics into JSON #56083 @hawkingrei",
          "Fix the issue that execution plan bindings cannot be created for the multi-table DELETE statement with aliases #56726 @hawkingrei",
          "Fix the issue of memory leaks in TTL tables #56934 @lcwangchao",
          "Fix the issue that partition pruning does not work when the partition expression is EXTRACT(YEAR FROM col) #54210 @mjonss",
          "Fix the issue that Plan Replayer might report an error when importing a table structure containing Placement Rules #54961 @hawkingrei",
          "Fix the issue that the query might get stuck when terminated because the memory usage exceeds the limit set by tidb_mem_quota_query #55042 @yibin87",
          "Fix the issue that TiDB queries cannot be canceled during cop task construction #55957 @yibin87",
          "Fix the issue that reducing the value of tidb_ttl_delete_worker_count during TTL job execution makes the job fail to complete #55561 @lcwangchao",
          "Fix the issue that the CAST function does not support explicitly setting the character set #55677 @Defined2014",
          "Fix the issue that TTL tasks cannot be canceled when there is a write conflict #56422 @YangKeao",
          "Fix the data race issue in IndexNestedLoopHashJoin #49692 @solotzg",
          "Fix the issue that empty groupOffset in StreamAggExec might cause TiDB to panic #53867 @xzhangxian1008",
          "Fix the issue that TiDB might hang or return incorrect results when executing a query containing a correlated subquery and CTE #55551 @guo-shaoge",
          "Fix the issue of data index inconsistency caused by retries during index addition #55808 @lance6716",
          "Fix the issue that an out of range error might occur when a small display width is specified for a column of the integer type #55837 @windtalker",
          "Fix the issue that the LOAD DATA ... REPLACE INTO operation causes data inconsistency #56408 @fzzf678",
          "Fix the issue that columnEvaluator cannot identify the column references in the input chunk, which leads to runtime error: index out of range when executing SQL statements #53713 @AilinKid",
          "Fix the issue of invalid memory access that might occur when a Common Table Expression (CTE) has multiple data consumers and one consumer exits without reading any data #55881 @windtalker",
          "Fix the issue that when canceling a TTL task, the corresponding SQL is not killed forcibly #56511 @lcwangchao",
          "Fix the issue that TiDB panics when importing temporary tables using the IMPORT INTO statement #55970 @D3Hunter",
          "Fix the issue that the optimizer incorrectly estimates the number of rows as 1 when accessing a unique index with the query condition column IS NULL #56116 @hawkingrei",
          "Fix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520",
          "Fix the issue that the UPDATE statement incorrectly updates values of the ENUM type #56832 @xhebox",
          "Fix the issue that Plan Replayer might report an error when importing a table structure containing foreign keys #56456 @hawkingrei",
          "Fix the issue that TTL tasks are not canceled after the tidb_ttl_job_enable variable is disabled #57404 @YangKeao",
          "Fix the issue that when an UPDATE or DELETE statement contains a recursive CTE, the statement might report an error or not take effect #55666 @time-and-fate",
          "Fix the issue that the SUB_PART value in the INFORMATION_SCHEMA.STATISTICS table is NULL #55812 @Defined2014",
          "Fix the issue that the default timeout for querying the TiFlash system table is too short #57816 @JaySon-Huang",
          "Fix the issue that the value of the default_collation_for_utf8mb4 variable does not work for the SET NAMES statement #56439 @Defined2014",
          "Fix the issue that TTL internal coroutine might panic when you manually delete a timer in the mysql.tidb_timer table #57112 @lcwangchao",
          "Fix the issue that enabling acceleration of ADD INDEX and CREATE INDEX via tidb_ddl_enable_fast_reorg might lead to the Duplicate entry error #49233 @lance6716",
          "Fix the issue that the index timestamp is set to 0 when adding indexes to large tables in a non-distributed manner #57980 @lance6716",
          "TiKV\nFix the issue that the configuration resolved-ts.advance-ts-interval does not take effect, causing the replication latency of TiCDC and Point-in-time recovery (PITR) to increase dramatically when TiKV restarts #17107 @MyonKeminta\nFix the issue that some tasks experience high tail latency when triggering resource control #17589 @glorv\nFix the issue that merging Regions might cause TiKV to panic in rare cases #17840 @glorv\nFix the issue that TiKV cannot report heartbeats to PD when the disk is stuck #17939 @LykxSassinator\nFix the issue that when Raft and RocksDB are deployed on different disks, the slow disk detection does not work for the disk where RocksDB is located #17884 @LykxSassinator\nFix the issue that TiKV might panic when a stale replica processes Raft snapshots, triggered by a slow split operation and immediate removal of the new replica #17469 @hbisheng\nFix the issue that TiKV might panic when executing queries containing RADIANS() or DEGREES() functions #17852 @gengliqi\nFix the issue that when a large number of transactions are queuing for lock release on the same key and the key is frequently updated, excessive pressure on deadlock detection might cause TiKV OOM issues #17394 @MyonKeminta\nFix the issue that the leader could not be quickly elected after Region split #17602 @LykxSassinator\nFix the panic issue that occurs when read threads access outdated indexes in the MemTable of the Raft Engine #17383 @LykxSassinator\nFix the flow control issue that might occur after deleting large tables or partitions #17304 @Connor1996",
          "Fix the issue that the configuration resolved-ts.advance-ts-interval does not take effect, causing the replication latency of TiCDC and Point-in-time recovery (PITR) to increase dramatically when TiKV restarts #17107 @MyonKeminta",
          "Fix the issue that some tasks experience high tail latency when triggering resource control #17589 @glorv",
          "Fix the issue that merging Regions might cause TiKV to panic in rare cases #17840 @glorv",
          "Fix the issue that TiKV cannot report heartbeats to PD when the disk is stuck #17939 @LykxSassinator",
          "Fix the issue that when Raft and RocksDB are deployed on different disks, the slow disk detection does not work for the disk where RocksDB is located #17884 @LykxSassinator",
          "Fix the issue that TiKV might panic when a stale replica processes Raft snapshots, triggered by a slow split operation and immediate removal of the new replica #17469 @hbisheng",
          "Fix the issue that TiKV might panic when executing queries containing RADIANS() or DEGREES() functions #17852 @gengliqi",
          "Fix the issue that when a large number of transactions are queuing for lock release on the same key and the key is frequently updated, excessive pressure on deadlock detection might cause TiKV OOM issues #17394 @MyonKeminta",
          "Fix the issue that the leader could not be quickly elected after Region split #17602 @LykxSassinator",
          "Fix the panic issue that occurs when read threads access outdated indexes in the MemTable of the Raft Engine #17383 @LykxSassinator",
          "Fix the flow control issue that might occur after deleting large tables or partitions #17304 @Connor1996",
          "PD\nFix the issue that the PD HTTP client retry logic might be ineffective #8499 @JmPotato\nUpgrade the version of Gin Web Framework from v1.9.1 to v1.10.0 to fix potential security vulnerabilities #8643 @JmPotato\nFix the issue that PD cannot quickly re-elect a leader during etcd leader transition #8823 @rleungx\nFix the issue that setting replication.strictly-match-label to true causes TiFlash to fail to start #8480 @rleungx\nFix the issue that evict-leader-scheduler fails to work properly when it is repeatedly created with the same Store ID #8756 @okJiang\nFix the performance jitter issue caused by frequent creation of random number generator #8674 @rleungx\nFix the memory leak issue in hotspot cache #8698 @lhy1024\nFix the memory leak issue in label statistics #8700 @lhy1024\nFix the issue that deleted resource groups still appear in the monitoring panel #8716 @AndreMouche\nFix the issue that data race might occur in the scheduling server when a PD leader is switched in the microservice mode #8538 @lhy1024\nFix the issue that when using a wrong parameter in evict-leader-scheduler, PD does not report errors correctly and some schedulers are unavailable #8619 @rleungx\nFix the issue that the resource group selector does not take effect on any panel #56572 @glorv",
          "Fix the issue that the PD HTTP client retry logic might be ineffective #8499 @JmPotato",
          "Upgrade the version of Gin Web Framework from v1.9.1 to v1.10.0 to fix potential security vulnerabilities #8643 @JmPotato",
          "Fix the issue that PD cannot quickly re-elect a leader during etcd leader transition #8823 @rleungx",
          "Fix the issue that setting replication.strictly-match-label to true causes TiFlash to fail to start #8480 @rleungx",
          "Fix the issue that evict-leader-scheduler fails to work properly when it is repeatedly created with the same Store ID #8756 @okJiang",
          "Fix the performance jitter issue caused by frequent creation of random number generator #8674 @rleungx",
          "Fix the memory leak issue in hotspot cache #8698 @lhy1024",
          "Fix the memory leak issue in label statistics #8700 @lhy1024",
          "Fix the issue that deleted resource groups still appear in the monitoring panel #8716 @AndreMouche",
          "Fix the issue that data race might occur in the scheduling server when a PD leader is switched in the microservice mode #8538 @lhy1024",
          "Fix the issue that when using a wrong parameter in evict-leader-scheduler, PD does not report errors correctly and some schedulers are unavailable #8619 @rleungx",
          "Fix the issue that the resource group selector does not take effect on any panel #56572 @glorv",
          "TiFlash\nFix the issue that TiFlash might panic due to spurious Region overlap check failures that occur when multiple Regions are concurrently applying snapshots #9329 @CalvinNeo\nFix the issue that the SUBSTRING() function returns incorrect results when the second parameter is negative #9604 @guo-shaoge\nFix the issue that some queries might report errors when late materialization is enabled #9472 @Lloyd-Pottiger\nFix the issue that TiFlash fails to parse the table schema when the table contains Bit-type columns with a default value that contains invalid characters #9461 @Lloyd-Pottiger\nFix the issue that some JSON functions unsupported by TiFlash are pushed down to TiFlash #9444 @windtalker\nFix the issue that the sign in the result of the CAST AS DECIMAL function is incorrect in certain cases #9301 @guo-shaoge\nFix the issue that read snapshots of TiFlash write nodes are not released in a timely manner in the disaggregated storage and compute architecture #9298 @JinheLin\nFix the issue that the SUBSTRING() function does not support the pos and len arguments for certain integer types, causing query errors #9473 @gengliqi\nFix the issue that when using the CAST() function to convert a string to a datetime with a time zone or invalid characters, the result is incorrect #8754 @solotzg\nFix the issue that LPAD() and RPAD() functions return incorrect results in some cases #9465 @guo-shaoge\nFix the issue that querying new columns might return incorrect results under the disaggregated storage and compute architecture #9665 @zimulala",
          "Fix the issue that TiFlash might panic due to spurious Region overlap check failures that occur when multiple Regions are concurrently applying snapshots #9329 @CalvinNeo",
          "Fix the issue that the SUBSTRING() function returns incorrect results when the second parameter is negative #9604 @guo-shaoge",
          "Fix the issue that some queries might report errors when late materialization is enabled #9472 @Lloyd-Pottiger",
          "Fix the issue that TiFlash fails to parse the table schema when the table contains Bit-type columns with a default value that contains invalid characters #9461 @Lloyd-Pottiger",
          "Fix the issue that some JSON functions unsupported by TiFlash are pushed down to TiFlash #9444 @windtalker",
          "Fix the issue that the sign in the result of the CAST AS DECIMAL function is incorrect in certain cases #9301 @guo-shaoge",
          "Fix the issue that read snapshots of TiFlash write nodes are not released in a timely manner in the disaggregated storage and compute architecture #9298 @JinheLin",
          "Fix the issue that the SUBSTRING() function does not support the pos and len arguments for certain integer types, causing query errors #9473 @gengliqi",
          "Fix the issue that when using the CAST() function to convert a string to a datetime with a time zone or invalid characters, the result is incorrect #8754 @solotzg",
          "Fix the issue that LPAD() and RPAD() functions return incorrect results in some cases #9465 @guo-shaoge",
          "Fix the issue that querying new columns might return incorrect results under the disaggregated storage and compute architecture #9665 @zimulala",
          "Tools\nBackup & Restore (BR)\nFix the issue that logs might print out encrypted information #57585 @kennytm\nFix the issue that snapshot backups based on AWS EBS might fail during the preparation phase, causing the backup to get stuck #52049 @YuJuncen\nFix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth\nFix potential security vulnerabilities by upgrading the k8s.io/api library version #57790 @BornChanger\nFix the issue that PITR tasks might return the Information schema is out of date error when there are a large number of tables in the cluster but the actual data size is small #57743 @Tristan1900\nTiCDC\nFix the issue that the Resolved TS latency monitoring in the Puller module displays incorrect values #11561 @wlwilliamx\nFix the issue that when enable-table-across-nodes is enabled, some Span replication tasks for a table might be lost during Region splits #11675 @wk989898\nFix the issue that the redo module fails to properly report errors #11744 @CharlesCheung96\nFix the issue that TiCDC mistakenly discards DDL tasks when the schema versions of DDL tasks become non-incremental during TiDB DDL owner changes #11714 @wlwilliamx\nFix the issue that the barrier-ts monitoring metric for changefeed checkpoints might be inaccurate #11553 @3AceShowHand\nTiDB Data Migration (DM)\nFix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD",
          "Backup & Restore (BR)\nFix the issue that logs might print out encrypted information #57585 @kennytm\nFix the issue that snapshot backups based on AWS EBS might fail during the preparation phase, causing the backup to get stuck #52049 @YuJuncen\nFix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth\nFix potential security vulnerabilities by upgrading the k8s.io/api library version #57790 @BornChanger\nFix the issue that PITR tasks might return the Information schema is out of date error when there are a large number of tables in the cluster but the actual data size is small #57743 @Tristan1900",
          "Fix the issue that logs might print out encrypted information #57585 @kennytm",
          "Fix the issue that snapshot backups based on AWS EBS might fail during the preparation phase, causing the backup to get stuck #52049 @YuJuncen",
          "Fix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth",
          "Fix potential security vulnerabilities by upgrading the k8s.io/api library version #57790 @BornChanger",
          "Fix the issue that PITR tasks might return the Information schema is out of date error when there are a large number of tables in the cluster but the actual data size is small #57743 @Tristan1900",
          "TiCDC\nFix the issue that the Resolved TS latency monitoring in the Puller module displays incorrect values #11561 @wlwilliamx\nFix the issue that when enable-table-across-nodes is enabled, some Span replication tasks for a table might be lost during Region splits #11675 @wk989898\nFix the issue that the redo module fails to properly report errors #11744 @CharlesCheung96\nFix the issue that TiCDC mistakenly discards DDL tasks when the schema versions of DDL tasks become non-incremental during TiDB DDL owner changes #11714 @wlwilliamx\nFix the issue that the barrier-ts monitoring metric for changefeed checkpoints might be inaccurate #11553 @3AceShowHand",
          "Fix the issue that the Resolved TS latency monitoring in the Puller module displays incorrect values #11561 @wlwilliamx",
          "Fix the issue that when enable-table-across-nodes is enabled, some Span replication tasks for a table might be lost during Region splits #11675 @wk989898",
          "Fix the issue that the redo module fails to properly report errors #11744 @CharlesCheung96",
          "Fix the issue that TiCDC mistakenly discards DDL tasks when the schema versions of DDL tasks become non-incremental during TiDB DDL owner changes #11714 @wlwilliamx",
          "Fix the issue that the barrier-ts monitoring metric for changefeed checkpoints might be inaccurate #11553 @3AceShowHand",
          "TiDB Data Migration (DM)\nFix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD",
          "Fix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD"
        ]
      },
      {
        "version": "8.1.1",
        "date": "2024-08-27",
        "link": "https://docs.pingcap.com/tidb/stable/release-8.1.1/",
        "changes": [
          "TiDB\nBy batch deleting TiFlash placement rules, improve the processing speed of data GC after performing the TRUNCATE or DROP operation on partitioned tables #54068 @Lloyd-Pottiger\nRemove stores without Regions during MPP load balancing #52313 @xzhangxian1008\nTemporarily adjust the priority of statistics synchronously loading tasks to high to avoid widespread timeouts during TiKV high loads, as these timeouts might result in statistics not being loaded #50332 @winoros\nThe EXPLAIN statement supports applying the tidb_redact_log setting and further optimizes the log handling logic.\nSupport applying the tidb_redact_log setting to the output of EXPLAIN statements and further optimize the logic in processing logs #54565 @hawkingrei",
          "By batch deleting TiFlash placement rules, improve the processing speed of data GC after performing the TRUNCATE or DROP operation on partitioned tables #54068 @Lloyd-Pottiger",
          "Remove stores without Regions during MPP load balancing #52313 @xzhangxian1008",
          "Temporarily adjust the priority of statistics synchronously loading tasks to high to avoid widespread timeouts during TiKV high loads, as these timeouts might result in statistics not being loaded #50332 @winoros",
          "The EXPLAIN statement supports applying the tidb_redact_log setting and further optimizes the log handling logic.",
          "Support applying the tidb_redact_log setting to the output of EXPLAIN statements and further optimize the logic in processing logs #54565 @hawkingrei",
          "PD\nImprove the retry logic of the HTTP client #8142 @JmPotato",
          "Improve the retry logic of the HTTP client #8142 @JmPotato",
          "TiFlash\nMitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker\nReduce lock conflicts under highly concurrent data read operations and optimize short query performance #9125 @JinheLin",
          "Mitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker",
          "Reduce lock conflicts under highly concurrent data read operations and optimize short query performance #9125 @JinheLin",
          "Tools\nBackup & Restore (BR)\nSupport encryption of temporary files generated during log backup #15083 @YuJuncen\nExcept for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth\nSupport setting Alibaba Cloud access credentials through environment variables #45551 @RidRisR\nSupport checking whether the disk space in TiKV is sufficient before TiKV downloads each SST file. If the space is insufficient, BR terminates the restore and returns an error #17224 @RidRisR\nTiCDC\nSupport sending BOOTSTRAP messages of all tables to the downstream in one go when a changefeed using Simple Protocol starts #11315 @asddongmen\nSupport directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96",
          "Backup & Restore (BR)\nSupport encryption of temporary files generated during log backup #15083 @YuJuncen\nExcept for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth\nSupport setting Alibaba Cloud access credentials through environment variables #45551 @RidRisR\nSupport checking whether the disk space in TiKV is sufficient before TiKV downloads each SST file. If the space is insufficient, BR terminates the restore and returns an error #17224 @RidRisR",
          "Support encryption of temporary files generated during log backup #15083 @YuJuncen",
          "Except for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth",
          "Support setting Alibaba Cloud access credentials through environment variables #45551 @RidRisR",
          "Support checking whether the disk space in TiKV is sufficient before TiKV downloads each SST file. If the space is insufficient, BR terminates the restore and returns an error #17224 @RidRisR",
          "TiCDC\nSupport sending BOOTSTRAP messages of all tables to the downstream in one go when a changefeed using Simple Protocol starts #11315 @asddongmen\nSupport directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96",
          "Support sending BOOTSTRAP messages of all tables to the downstream in one go when a changefeed using Simple Protocol starts #11315 @asddongmen",
          "Support directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96",
          "TiDB\nFix the issue that the disk spill for the HashAgg operator causes incorrect query results during parallel calculation #55290 @xzhangxian1008\nFix the issue that INDEX_HASH_JOIN cannot exit properly when SQL is abnormally interrupted #54688 @wshwsh12\nFix the issue that RANGE partitioned tables that are not strictly self-incrementing can be created #54829 @Defined2014\nFix the issue that PointGet execution plans for _tidb_rowid can be generated #54583 @Defined2014\nFix the issue that internal SQL statements in the slow log are redacted to null by default #54190 #52743 #53264 @lcwangchao\nFix the issue that the UPDATE operation can cause TiDB OOM in multi-table scenarios #53742 @hawkingrei\nFix the issue that the Window function might panic when there is a related subquery in it #42734 @hi-rustin\nFix the issue that the LENGTH() condition is unexpectedly removed when the collation is utf8_bin or utf8mb4_bin #53730 @elsa0520\nFix the issue that after a statement within a transaction is killed by OOM, if TiDB continues to execute the next statement within the same transaction, you might get an error Trying to start aggressive locking while it's already started and a panic occurs #53540 @MyonKeminta\nFix the issue that PREPARE/EXECUTE statements with the CONV expression containing a ? argument might result in incorrect query results when executed multiple times #53505 @qw4990\nFix the issue that the recursive CTE operator incorrectly tracks memory usage #54181 @guo-shaoge\nFix the issue that using SHOW WARNINGS; to obtain warnings might cause a panic #48756 @xhebox\nFix the issue that the TopN operator might be pushed down incorrectly #37986 @qw4990\nFix the issue that TiDB panics when executing the SHOW ERRORS statement with a predicate that is always true #46962 @elsa0520\nFix the issue that the STATE field in the INFORMATION_SCHEMA.TIDB_TRX table is empty due to the size of the STATE field not being defined #53026 @cfzjywxk\nFix the issue that executing the SELECT DISTINCT CAST(col AS DECIMAL), CAST(col AS SIGNED) FROM ... query might return incorrect results #53726 @hawkingrei\nFix the issue that DDL statements incorrectly use etcd and cause tasks to queue up #52335 @wjhuang2016\nFix the issue that the Distinct_count information in global statistics might be incorrect #53752 @hawkingrei\nFix the issue that the tidb_enable_async_merge_global_stats and tidb_analyze_partition_concurrency system variables do not take effect during automatic statistics collection #53972 @hi-rustin\nFix the issue that the TIMESTAMPADD() function goes into an infinite loop when the first argument is month and the second argument is negative #54908 @xzhangxian1008\nFix the issue that the Connection Count monitoring metric in Grafana is incorrect when some connections exit before the handshake is complete #54428 @YangKeao\nFix the issue that the Connection Count of each resource group is incorrect when using TiProxy and resource groups #54545 @YangKeao\nFix the issue that using a view does not work in recursive CTE #49721 @hawkingrei\nFix the issue that the final AggMode and the non-final AggMode cannot coexist in Massively Parallel Processing (MPP) #51362 @AilinKid\nFix the issue of incorrect WARNINGS information when using Optimizer Hints #53767 @hawkingrei\nFix the issue of abnormally high memory usage caused by memTracker not being detached when the HashJoin or IndexLookUp operator is the driven side sub-node of the Apply operator #54005 @XuHuaiyu\nFix the issue that the invalid column type DECIMAL(0,0) can be created in some cases #53779 @tangenta\nFix the issue of potential data races during the execution of (*PointGetPlan).StatsInfo() #49803 #43339 @qw4990\nFix the issue that improper use of metadata locks might lead to writing anomalous data when using the plan cache under certain circumstances #53634 @zimulala\nFix the issue that JSON-related functions return errors inconsistent with MySQL in some cases #53799 @dveeden\nFix the issue that TiDB does not create corresponding statistics metadata (stats_meta) when creating a table with foreign keys #53652 @hawkingrei\nFix the issue that the memory_quota hint might not work in subqueries #53834 @qw4990\nFix the issue that TiDB might report an error due to GC when loading statistics at startup #53592 @you06\nFix the issue that executing CREATE OR REPLACE VIEW concurrently might result in the table doesn't exist error #53673 @tangenta\nFix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520\nFix the issue that SELECT INTO OUTFILE does not work when clustered indexes are used as predicates #42093 @qw4990\nFix the issue that comparing a column of YEAR type with an unsigned integer that is out of range causes incorrect results #50235 @qw4990\nFix the issue that TiDB might return incorrect query results when you query tables with virtual columns in transactions that involve data modification operations #53951 @qw4990\nFix the issue that TiDB fails to reject unauthenticated user connections in some cases when using the auth_socket authentication plugin #54031 @lcwangchao\nFix the issue that when queries contain non-correlated subqueries and LIMIT clauses, column pruning might be incomplete, resulting in a less optimal plan #54213 @qw4990\nFix the issue that non-BIGINT unsigned integers might produce incorrect results when compared with strings/decimals #41736 @LittleFall\nFix the issue that setting max-index-length causes TiDB to panic when adding indexes using the Distributed eXecution Framework (DXF) #53281 @zimulala\nFix the issue that certain filter conditions in queries might cause the planner module to report an invalid memory address or nil pointer dereference error #53582 #53580 #53594 #53603 @YangKeao\nFix the issue that recursive CTE queries might result in invalid pointers #54449 @hawkingrei\nFix the overflow issue of the Longlong type in predicates #45783 @hawkingrei\nFix the issue that indirect placeholder ? references in a GROUP BY statement cannot find columns #53872 @qw4990\nFix the issue that the memory used by transactions might be tracked multiple times #53984 @ekexium\nFix the issue that using CURRENT_DATE() as the default value for a column results in incorrect query results #53746 @tangenta\nFix the issue that the performance is unstable when adding indexes using Global Sort #54147 @tangenta\nFix the issue that SHOW IMPORT JOBS reports an error Unknown column 'summary' after upgrading from v7.1 #54241 @tangenta\nFix the issue that root user cannot query tidb_mdl_view #53292 @tangenta\nFix the issue that the network partition during adding indexes using the Distributed eXecution Framework (DXF) might cause inconsistent data indexes #54897 @tangenta\nFix the issue that the error occurred during initialization of the TiDB Lightning physical import mode might cause resource leaks #53659 @D3Hunter\nFix the issue that obtaining the column information using information_schema.columns returns warning 1356 when a subquery is used as a column definition in a view definition #54343 @lance6716\nFix the issue that using index acceleration to add a unique index might cause a Duplicate entry error when the owner is switched #49233 @lance6716\nFix the unclear error message when setting global.tidb_cloud_storage_uri #54096 @lance6716\nFix the issue that the Sync Load QPS monitoring metric is incorrect #53558 @hawkingrei\nFix the issue that some statistics information might be missed when loading initial statistics concurrently #53607 @hawkingrei\nFix the issue of reusing wrong point get plans for SELECT ... FOR UPDATE #54652 @qw4990",
          "Fix the issue that the disk spill for the HashAgg operator causes incorrect query results during parallel calculation #55290 @xzhangxian1008",
          "Fix the issue that INDEX_HASH_JOIN cannot exit properly when SQL is abnormally interrupted #54688 @wshwsh12",
          "Fix the issue that RANGE partitioned tables that are not strictly self-incrementing can be created #54829 @Defined2014",
          "Fix the issue that PointGet execution plans for _tidb_rowid can be generated #54583 @Defined2014",
          "Fix the issue that internal SQL statements in the slow log are redacted to null by default #54190 #52743 #53264 @lcwangchao",
          "Fix the issue that the UPDATE operation can cause TiDB OOM in multi-table scenarios #53742 @hawkingrei",
          "Fix the issue that the Window function might panic when there is a related subquery in it #42734 @hi-rustin",
          "Fix the issue that the LENGTH() condition is unexpectedly removed when the collation is utf8_bin or utf8mb4_bin #53730 @elsa0520",
          "Fix the issue that after a statement within a transaction is killed by OOM, if TiDB continues to execute the next statement within the same transaction, you might get an error Trying to start aggressive locking while it's already started and a panic occurs #53540 @MyonKeminta",
          "Fix the issue that PREPARE/EXECUTE statements with the CONV expression containing a ? argument might result in incorrect query results when executed multiple times #53505 @qw4990",
          "Fix the issue that the recursive CTE operator incorrectly tracks memory usage #54181 @guo-shaoge",
          "Fix the issue that using SHOW WARNINGS; to obtain warnings might cause a panic #48756 @xhebox",
          "Fix the issue that the TopN operator might be pushed down incorrectly #37986 @qw4990",
          "Fix the issue that TiDB panics when executing the SHOW ERRORS statement with a predicate that is always true #46962 @elsa0520",
          "Fix the issue that the STATE field in the INFORMATION_SCHEMA.TIDB_TRX table is empty due to the size of the STATE field not being defined #53026 @cfzjywxk",
          "Fix the issue that executing the SELECT DISTINCT CAST(col AS DECIMAL), CAST(col AS SIGNED) FROM ... query might return incorrect results #53726 @hawkingrei",
          "Fix the issue that DDL statements incorrectly use etcd and cause tasks to queue up #52335 @wjhuang2016",
          "Fix the issue that the Distinct_count information in global statistics might be incorrect #53752 @hawkingrei",
          "Fix the issue that the tidb_enable_async_merge_global_stats and tidb_analyze_partition_concurrency system variables do not take effect during automatic statistics collection #53972 @hi-rustin",
          "Fix the issue that the TIMESTAMPADD() function goes into an infinite loop when the first argument is month and the second argument is negative #54908 @xzhangxian1008",
          "Fix the issue that the Connection Count monitoring metric in Grafana is incorrect when some connections exit before the handshake is complete #54428 @YangKeao",
          "Fix the issue that the Connection Count of each resource group is incorrect when using TiProxy and resource groups #54545 @YangKeao",
          "Fix the issue that using a view does not work in recursive CTE #49721 @hawkingrei",
          "Fix the issue that the final AggMode and the non-final AggMode cannot coexist in Massively Parallel Processing (MPP) #51362 @AilinKid",
          "Fix the issue of incorrect WARNINGS information when using Optimizer Hints #53767 @hawkingrei",
          "Fix the issue of abnormally high memory usage caused by memTracker not being detached when the HashJoin or IndexLookUp operator is the driven side sub-node of the Apply operator #54005 @XuHuaiyu",
          "Fix the issue that the invalid column type DECIMAL(0,0) can be created in some cases #53779 @tangenta",
          "Fix the issue of potential data races during the execution of (*PointGetPlan).StatsInfo() #49803 #43339 @qw4990",
          "Fix the issue that improper use of metadata locks might lead to writing anomalous data when using the plan cache under certain circumstances #53634 @zimulala",
          "Fix the issue that JSON-related functions return errors inconsistent with MySQL in some cases #53799 @dveeden",
          "Fix the issue that TiDB does not create corresponding statistics metadata (stats_meta) when creating a table with foreign keys #53652 @hawkingrei",
          "Fix the issue that the memory_quota hint might not work in subqueries #53834 @qw4990",
          "Fix the issue that TiDB might report an error due to GC when loading statistics at startup #53592 @you06",
          "Fix the issue that executing CREATE OR REPLACE VIEW concurrently might result in the table doesn't exist error #53673 @tangenta",
          "Fix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520",
          "Fix the issue that SELECT INTO OUTFILE does not work when clustered indexes are used as predicates #42093 @qw4990",
          "Fix the issue that comparing a column of YEAR type with an unsigned integer that is out of range causes incorrect results #50235 @qw4990",
          "Fix the issue that TiDB might return incorrect query results when you query tables with virtual columns in transactions that involve data modification operations #53951 @qw4990",
          "Fix the issue that TiDB fails to reject unauthenticated user connections in some cases when using the auth_socket authentication plugin #54031 @lcwangchao",
          "Fix the issue that when queries contain non-correlated subqueries and LIMIT clauses, column pruning might be incomplete, resulting in a less optimal plan #54213 @qw4990",
          "Fix the issue that non-BIGINT unsigned integers might produce incorrect results when compared with strings/decimals #41736 @LittleFall",
          "Fix the issue that setting max-index-length causes TiDB to panic when adding indexes using the Distributed eXecution Framework (DXF) #53281 @zimulala",
          "Fix the issue that certain filter conditions in queries might cause the planner module to report an invalid memory address or nil pointer dereference error #53582 #53580 #53594 #53603 @YangKeao",
          "Fix the issue that recursive CTE queries might result in invalid pointers #54449 @hawkingrei",
          "Fix the overflow issue of the Longlong type in predicates #45783 @hawkingrei",
          "Fix the issue that indirect placeholder ? references in a GROUP BY statement cannot find columns #53872 @qw4990",
          "Fix the issue that the memory used by transactions might be tracked multiple times #53984 @ekexium",
          "Fix the issue that using CURRENT_DATE() as the default value for a column results in incorrect query results #53746 @tangenta",
          "Fix the issue that the performance is unstable when adding indexes using Global Sort #54147 @tangenta",
          "Fix the issue that SHOW IMPORT JOBS reports an error Unknown column 'summary' after upgrading from v7.1 #54241 @tangenta",
          "Fix the issue that root user cannot query tidb_mdl_view #53292 @tangenta",
          "Fix the issue that the network partition during adding indexes using the Distributed eXecution Framework (DXF) might cause inconsistent data indexes #54897 @tangenta",
          "Fix the issue that the error occurred during initialization of the TiDB Lightning physical import mode might cause resource leaks #53659 @D3Hunter",
          "Fix the issue that obtaining the column information using information_schema.columns returns warning 1356 when a subquery is used as a column definition in a view definition #54343 @lance6716",
          "Fix the issue that using index acceleration to add a unique index might cause a Duplicate entry error when the owner is switched #49233 @lance6716",
          "Fix the unclear error message when setting global.tidb_cloud_storage_uri #54096 @lance6716",
          "Fix the issue that the Sync Load QPS monitoring metric is incorrect #53558 @hawkingrei",
          "Fix the issue that some statistics information might be missed when loading initial statistics concurrently #53607 @hawkingrei",
          "Fix the issue of reusing wrong point get plans for SELECT ... FOR UPDATE #54652 @qw4990",
          "TiKV\nFix the issue that CDC and log-backup do not limit the timeout of check_leader using the advance-ts-interval configuration, causing the resolved_ts lag to be too large when TiKV restarts normally in some cases #17107 @MyonKeminta\nFix the issue that setting the gRPC message compression method via grpc-compression-type does not take effect on messages sent from TiKV to TiDB #17176 @ekexium\nFix the failure of make docker and make docker_test #17075 @shunki-fujita\nFix the issue that the gRPC request sources duration metric is displayed incorrectly in the monitoring dashboard #17133 @King-Dylan\nFix the issue that the output of the raft region command in tikv-ctl does not include the Region status information #17037 @glorv\nFix the issue that changing the raftstore.periodic-full-compact-start-times configuration item online might cause TiKV to panic #17066 @SpadeA-Tang\nFix the issue that TiKV might repeatedly panic when applying a corrupted Raft data snapshot #15292 @LykxSassinator\nFix the issue that releasing cache entries before they are persisted causes TiKV to panic #17040 @glorv",
          "Fix the issue that CDC and log-backup do not limit the timeout of check_leader using the advance-ts-interval configuration, causing the resolved_ts lag to be too large when TiKV restarts normally in some cases #17107 @MyonKeminta",
          "Fix the issue that setting the gRPC message compression method via grpc-compression-type does not take effect on messages sent from TiKV to TiDB #17176 @ekexium",
          "Fix the failure of make docker and make docker_test #17075 @shunki-fujita",
          "Fix the issue that the gRPC request sources duration metric is displayed incorrectly in the monitoring dashboard #17133 @King-Dylan",
          "Fix the issue that the output of the raft region command in tikv-ctl does not include the Region status information #17037 @glorv",
          "Fix the issue that changing the raftstore.periodic-full-compact-start-times configuration item online might cause TiKV to panic #17066 @SpadeA-Tang",
          "Fix the issue that TiKV might repeatedly panic when applying a corrupted Raft data snapshot #15292 @LykxSassinator",
          "Fix the issue that releasing cache entries before they are persisted causes TiKV to panic #17040 @glorv",
          "PD\nFix the issue that an incorrect PD API is called when you retrieve table attributes #55188 @JmPotato\nFix the issue that the time data type in the INFORMATION_SCHEMA.RUNAWAY_WATCHES table is incorrect #54770 @HuSharp\nFix the issue that some logs are not redacted #8419 @rleungx\nFix the issue of missing data in the Filter monitoring metric #8098 @nolouch\nFix the issue that the HTTP client might panic when TLS is enabled #8237 @okJiang\nFix the issue that the encryption manager is not initialized before use #8384 @rleungx\nFix the issue that resource groups could not effectively limit resource usage under high concurrency #8435 @nolouch\nFix the data race issue related to store limit #8253 @lhy1024\nFix the issue that the scaling progress is displayed incorrectly after the scheduling microservice is enabled #8331 @rleungx\nFix the issue that the TSO node is not dynamically updated after the tso microservice is enabled #8154 @rleungx\nFix the data race issue of resource groups #8267 @HuSharp\nFix the issue that a resource group encounters quota limits when requesting tokens for more than 500 ms #8349 @nolouch\nFix the issue that manually transferring the PD leader might fail #8225 @HuSharp\nFix the issue that deleted nodes still appear in the candidate connection list in etcd client #8286 @JmPotato\nFix the issue that ALTER PLACEMENT POLICY cannot modify the placement policy #52257 #51712 @jiyfhust\nFix the issue that the scheduling of write hotspots might break placement policy constraints #7848 @lhy1024\nFix the issue that down peers might not recover when using Placement Rules #7808 @rleungx\nFix the issue that a large number of retries occur when canceling resource groups queries #8217 @nolouch\nFix the data race issue that PD encounters during operator checks #8263 @lhy1024\nFix the issue that no error is reported when binding a role to a resource group #54417 @JmPotato\nFix the issue that setting the TiKV configuration item coprocessor.region-split-size to a value less than 1 MiB causes PD panic #8323 @JmPotato",
          "Fix the issue that an incorrect PD API is called when you retrieve table attributes #55188 @JmPotato",
          "Fix the issue that the time data type in the INFORMATION_SCHEMA.RUNAWAY_WATCHES table is incorrect #54770 @HuSharp",
          "Fix the issue that some logs are not redacted #8419 @rleungx",
          "Fix the issue of missing data in the Filter monitoring metric #8098 @nolouch",
          "Fix the issue that the HTTP client might panic when TLS is enabled #8237 @okJiang",
          "Fix the issue that the encryption manager is not initialized before use #8384 @rleungx",
          "Fix the issue that resource groups could not effectively limit resource usage under high concurrency #8435 @nolouch",
          "Fix the data race issue related to store limit #8253 @lhy1024",
          "Fix the issue that the scaling progress is displayed incorrectly after the scheduling microservice is enabled #8331 @rleungx",
          "Fix the issue that the TSO node is not dynamically updated after the tso microservice is enabled #8154 @rleungx",
          "Fix the data race issue of resource groups #8267 @HuSharp",
          "Fix the issue that a resource group encounters quota limits when requesting tokens for more than 500 ms #8349 @nolouch",
          "Fix the issue that manually transferring the PD leader might fail #8225 @HuSharp",
          "Fix the issue that deleted nodes still appear in the candidate connection list in etcd client #8286 @JmPotato",
          "Fix the issue that ALTER PLACEMENT POLICY cannot modify the placement policy #52257 #51712 @jiyfhust",
          "Fix the issue that the scheduling of write hotspots might break placement policy constraints #7848 @lhy1024",
          "Fix the issue that down peers might not recover when using Placement Rules #7808 @rleungx",
          "Fix the issue that a large number of retries occur when canceling resource groups queries #8217 @nolouch",
          "Fix the data race issue that PD encounters during operator checks #8263 @lhy1024",
          "Fix the issue that no error is reported when binding a role to a resource group #54417 @JmPotato",
          "Fix the issue that setting the TiKV configuration item coprocessor.region-split-size to a value less than 1 MiB causes PD panic #8323 @JmPotato",
          "TiFlash\nFix the issue that a network partition (network disconnection) between TiFlash and any PD might cause read request timeout errors #9243 @Lloyd-Pottiger\nFix the issue that the SUBSTRING_INDEX() function might cause TiFlash to crash in some corner cases #9116 @wshwsh12\nFix the issue that a large number of duplicate rows might be read in FastScan mode after importing data via BR or TiDB Lightning #9118 @JinheLin\nFix the issue that TiFlash might panic when a database is deleted shortly after creation #9266 @JaySon-Huang\nFix the issue that setting the SSL certificate configuration to an empty string in TiFlash incorrectly enables TLS and causes TiFlash to fail to start #9235 @JaySon-Huang\nFix the issue that in the disaggregated storage and compute architecture, null values might be incorrectly returned in queries after adding non-null columns in DDL operations #9084 @Lloyd-Pottiger\nFix the issue that TiFlash might panic after executing RENAME TABLE ... TO ... on a partitioned table with empty partitions across databases #9132 @JaySon-Huang\nFix the issue of query timeout when executing queries on partitioned tables that contain empty partitions #9024 @JinheLin\nFix the issue that some queries might report a column type mismatch error after late materialization is enabled #9175 @JinheLin\nFix the issue that queries with virtual generated columns might return incorrect results after late materialization is enabled #9188 @JinheLin",
          "Fix the issue that a network partition (network disconnection) between TiFlash and any PD might cause read request timeout errors #9243 @Lloyd-Pottiger",
          "Fix the issue that the SUBSTRING_INDEX() function might cause TiFlash to crash in some corner cases #9116 @wshwsh12",
          "Fix the issue that a large number of duplicate rows might be read in FastScan mode after importing data via BR or TiDB Lightning #9118 @JinheLin",
          "Fix the issue that TiFlash might panic when a database is deleted shortly after creation #9266 @JaySon-Huang",
          "Fix the issue that setting the SSL certificate configuration to an empty string in TiFlash incorrectly enables TLS and causes TiFlash to fail to start #9235 @JaySon-Huang",
          "Fix the issue that in the disaggregated storage and compute architecture, null values might be incorrectly returned in queries after adding non-null columns in DDL operations #9084 @Lloyd-Pottiger",
          "Fix the issue that TiFlash might panic after executing RENAME TABLE ... TO ... on a partitioned table with empty partitions across databases #9132 @JaySon-Huang",
          "Fix the issue of query timeout when executing queries on partitioned tables that contain empty partitions #9024 @JinheLin",
          "Fix the issue that some queries might report a column type mismatch error after late materialization is enabled #9175 @JinheLin",
          "Fix the issue that queries with virtual generated columns might return incorrect results after late materialization is enabled #9188 @JinheLin",
          "Tools\nBackup & Restore (BR)\nFix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth\nFix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer\nFix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR\nFix the issue that BR fails to restore a transactional KV cluster due to an empty EndKey #52574 @3pointer\nFix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR\nFix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer\nFix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen\nTiCDC\nFix the issue that Region changes cause downstream panic #17233 @hicqu\nFix the issue that TiCDC fails to decode primary keys in clustered index tables correctly when the new collation is disabled in the upstream #11371 @lidezhu\nFix the issue that the checksum is not correctly set to 0 after splitting UPDATE events #11402 @3AceShowHand\nFix the issue that data inconsistency might occur when restarting Changefeed repeatedly when performing a large number of UPDATE operations in a multi-node environment #11219 @lidezhu\nFix the issue that the Processor module might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen\nTiDB Data Migration (DM)\nFix the issue that SET statements cause DM to panic during the migration of MariaDB data #10206 @dveeden\nFix the connection blocking issue by upgrading go-mysql #11041 @D3Hunter\nFix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng\nFix the issue that schema tracker incorrectly handles LIST partition tables, causing DM errors #11408 @lance6716\nTiDB Lightning\nFix the issue that TiDB Lightning outputs a confusing WARN log when it fails to obtain the keyspace name #54232 @kennytm\nDumpling\nFix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta\nTiDB Binlog\nFix the issue that deleting rows during the execution of ADD COLUMN might report an error data and columnID count not match when TiDB Binlog is enabled #53133 @tangenta",
          "Backup & Restore (BR)\nFix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth\nFix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer\nFix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR\nFix the issue that BR fails to restore a transactional KV cluster due to an empty EndKey #52574 @3pointer\nFix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR\nFix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer\nFix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen",
          "Fix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth",
          "Fix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer",
          "Fix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR",
          "Fix the issue that BR fails to restore a transactional KV cluster due to an empty EndKey #52574 @3pointer",
          "Fix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR",
          "Fix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer",
          "Fix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen",
          "TiCDC\nFix the issue that Region changes cause downstream panic #17233 @hicqu\nFix the issue that TiCDC fails to decode primary keys in clustered index tables correctly when the new collation is disabled in the upstream #11371 @lidezhu\nFix the issue that the checksum is not correctly set to 0 after splitting UPDATE events #11402 @3AceShowHand\nFix the issue that data inconsistency might occur when restarting Changefeed repeatedly when performing a large number of UPDATE operations in a multi-node environment #11219 @lidezhu\nFix the issue that the Processor module might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen",
          "Fix the issue that Region changes cause downstream panic #17233 @hicqu",
          "Fix the issue that TiCDC fails to decode primary keys in clustered index tables correctly when the new collation is disabled in the upstream #11371 @lidezhu",
          "Fix the issue that the checksum is not correctly set to 0 after splitting UPDATE events #11402 @3AceShowHand",
          "Fix the issue that data inconsistency might occur when restarting Changefeed repeatedly when performing a large number of UPDATE operations in a multi-node environment #11219 @lidezhu",
          "Fix the issue that the Processor module might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen",
          "TiDB Data Migration (DM)\nFix the issue that SET statements cause DM to panic during the migration of MariaDB data #10206 @dveeden\nFix the connection blocking issue by upgrading go-mysql #11041 @D3Hunter\nFix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng\nFix the issue that schema tracker incorrectly handles LIST partition tables, causing DM errors #11408 @lance6716",
          "Fix the issue that SET statements cause DM to panic during the migration of MariaDB data #10206 @dveeden",
          "Fix the connection blocking issue by upgrading go-mysql #11041 @D3Hunter",
          "Fix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng",
          "Fix the issue that schema tracker incorrectly handles LIST partition tables, causing DM errors #11408 @lance6716",
          "TiDB Lightning\nFix the issue that TiDB Lightning outputs a confusing WARN log when it fails to obtain the keyspace name #54232 @kennytm",
          "Fix the issue that TiDB Lightning outputs a confusing WARN log when it fails to obtain the keyspace name #54232 @kennytm",
          "Dumpling\nFix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta",
          "Fix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta",
          "TiDB Binlog\nFix the issue that deleting rows during the execution of ADD COLUMN might report an error data and columnID count not match when TiDB Binlog is enabled #53133 @tangenta",
          "Fix the issue that deleting rows during the execution of ADD COLUMN might report an error data and columnID count not match when TiDB Binlog is enabled #53133 @tangenta"
        ]
      },
      {
        "version": "8.1.0",
        "date": "2024-05-24",
        "link": "https://docs.pingcap.com/tidb/stable/release-8.1.0/",
        "changes": [
          "TiDB\nImprove the MySQL compatibility of foreign keys displayed in the output of SHOW CREATE TABLE #51837 @negachov\nImprove the MySQL compatibility of expression default values displayed in the output of SHOW CREATE TABLE #52939 @CbcWestwolf\nSupport adding multiple indexes concurrently in the ingest mode #52596 @lance6716\nSupport configuring the system variable tidb_service_scope with various values, enhancing the utilization of the Distributed eXecution Framework (DXF) #52441 @ywqzzy\nEnhance the handling of DNF items that are always false by directly ignoring such filter conditions, thus avoiding unnecessary full table scans #40997 @hi-rustin\nSupport using Optimizer Fix Controls to remove the limitation that the optimizer does not automatically choose Index Merge for a query when the optimizer can choose the single index scan method (other than full table scan) for the query #52869 @time-and-fate\nAdd the total_kv_read_wall_time metric to the column execution info of Coprocessor operators #28937 @cfzjywxk\nAdd the RU (max) metric on the Resource Control dashboard #49318 @nolouch\nAdd a timeout mechanism for LDAP authentication to avoid the issue of resource lock (RLock) not being released in time #51883 @YangKeao",
          "Improve the MySQL compatibility of foreign keys displayed in the output of SHOW CREATE TABLE #51837 @negachov",
          "Improve the MySQL compatibility of expression default values displayed in the output of SHOW CREATE TABLE #52939 @CbcWestwolf",
          "Support adding multiple indexes concurrently in the ingest mode #52596 @lance6716",
          "Support configuring the system variable tidb_service_scope with various values, enhancing the utilization of the Distributed eXecution Framework (DXF) #52441 @ywqzzy",
          "Enhance the handling of DNF items that are always false by directly ignoring such filter conditions, thus avoiding unnecessary full table scans #40997 @hi-rustin",
          "Support using Optimizer Fix Controls to remove the limitation that the optimizer does not automatically choose Index Merge for a query when the optimizer can choose the single index scan method (other than full table scan) for the query #52869 @time-and-fate",
          "Add the total_kv_read_wall_time metric to the column execution info of Coprocessor operators #28937 @cfzjywxk",
          "Add the RU (max) metric on the Resource Control dashboard #49318 @nolouch",
          "Add a timeout mechanism for LDAP authentication to avoid the issue of resource lock (RLock) not being released in time #51883 @YangKeao",
          "TiKV\nAvoid performing IO operations on snapshot files in Raftstore threads to improve TiKV stability #16564 @Connor1996\nAccelerate the shutdown speed of TiKV #16680 @LykxSassinator\nAdd metrics for memory usage per thread #15927 @Connor1996",
          "Avoid performing IO operations on snapshot files in Raftstore threads to improve TiKV stability #16564 @Connor1996",
          "Accelerate the shutdown speed of TiKV #16680 @LykxSassinator",
          "Add metrics for memory usage per thread #15927 @Connor1996",
          "PD\nOptimize the logic for OperatorController to reduce the overhead of competition locks #7897 @nolouch",
          "Optimize the logic for OperatorController to reduce the overhead of competition locks #7897 @nolouch",
          "TiFlash\nMitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker",
          "Mitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker",
          "Tools\nBackup & Restore (BR)\nAdd PITR integration test cases to cover compatibility testing for log backup and adding index acceleration #51987 @Leavrth\nRemove the invalid verification for active DDL jobs when log backup starts #52733 @Leavrth\nAdd test cases to test compatibility between PITR and the acceleration of adding indexes feature #51988 @Leavrth\nBR cleans up empty SST files during data recovery #16005 @Leavrth\nTiCDC\nImprove memory stability during data recovery using redo logs to reduce the probability of OOM #10900 @CharlesCheung96\nSignificantly improve the stability of data replication in transaction conflict scenarios, with up to 10 times performance improvement #10896 @CharlesCheung96",
          "Backup & Restore (BR)\nAdd PITR integration test cases to cover compatibility testing for log backup and adding index acceleration #51987 @Leavrth\nRemove the invalid verification for active DDL jobs when log backup starts #52733 @Leavrth\nAdd test cases to test compatibility between PITR and the acceleration of adding indexes feature #51988 @Leavrth\nBR cleans up empty SST files during data recovery #16005 @Leavrth",
          "Add PITR integration test cases to cover compatibility testing for log backup and adding index acceleration #51987 @Leavrth",
          "Remove the invalid verification for active DDL jobs when log backup starts #52733 @Leavrth",
          "Add test cases to test compatibility between PITR and the acceleration of adding indexes feature #51988 @Leavrth",
          "BR cleans up empty SST files during data recovery #16005 @Leavrth",
          "TiCDC\nImprove memory stability during data recovery using redo logs to reduce the probability of OOM #10900 @CharlesCheung96\nSignificantly improve the stability of data replication in transaction conflict scenarios, with up to 10 times performance improvement #10896 @CharlesCheung96",
          "Improve memory stability during data recovery using redo logs to reduce the probability of OOM #10900 @CharlesCheung96",
          "Significantly improve the stability of data replication in transaction conflict scenarios, with up to 10 times performance improvement #10896 @CharlesCheung96",
          "TiDB\nFix the issue that executing SQL statements containing tables with multi-valued indexes might return the Can't find a proper physical plan for this query error #49438 @qw4990\nFix the issue that automatic statistics collection gets stuck after an OOM error occurs #51993 @hi-rustin\nFix the issue that after using BR to restore a table that has no statistics, the statistics health of that table is still 100% #29769 @winoros\nFix the issue that TiDB creates statistics for system tables during upgrade #52040 @hi-rustin\nFix the issue that automatic statistics collection is triggered before the initialization of statistics finishes #52346 @hi-rustin\nFix the issue that TiDB might crash when tidb_mem_quota_analyze is enabled and the memory used by updating statistics exceeds the limit #52601 @hawkingrei\nFix the issue that the TiDB synchronously loading statistics mechanism retries to load empty statistics indefinitely and prints the fail to get stats version for this histogram log #52657 @hawkingrei\nFix the issue that expressions containing different collations might cause the query to panic when the new framework for collations is disabled #52772 @wjhuang2016\nFix the issue that the CPS by type metric displays incorrect values #52605 @nolouch\nFix the issue that the nil pointer error occurs when you query INFORMATION_SCHEMA.TIKV_REGION_STATUS #52013 @JmPotato\nFix the incorrect error message displayed when an invalid default value is specified for a column #51592 @danqixu\nFix the issue that adding indexes in the ingest mode might cause inconsistent data index in some corner cases #51954 @lance6716\nFix the issue that DDL operations get stuck when restoring a table with the foreign key #51838 @YangKeao\nFix the issue that adding indexes fails when the TiDB network is isolated #51846 @ywqzzy\nFix the issue that adding an index with the same name after renaming an index causes an error #51431 @lance6716\nFix the issue of inconsistent data indexes caused by cluster upgrade during adding indexes #52411 @tangenta\nFix the issue that adding indexes to large tables fails after enabling the Distributed eXecution Framework (DXF) #52640 @tangenta\nFix the issue that adding indexes concurrently reports the error no such file or directory #52475 @tangenta\nFix the issue that the temporary data cannot be cleaned up after adding indexes fails #52639 @lance6716\nFix the issue that the metadata lock fails to prevent DDL operations from executing in the plan cache scenario #51407 @wjhuang2016\nFix the issue that the IMPORT INTO operation gets stuck when importing a large amount of data #52884 @lance6716\nFix the issue that TiDB unexpectedly restarts when logging gRPC errors #51301 @guo-shaoge\nFix the issue that IndexHashJoin outputs redundant data when calculating Anti Left Outer Semi Join #52923 @yibin87\nFix the incorrect result of the TopN operator in correlated subqueries #52777 @yibin87\nFix the inaccurate execution time statistics of HashJoin probe #52222 @windtalker\nFix the issue that using TABLESAMPLE returns incorrect results in static partition pruning mode (tidb_partition_prune_mode='static') #52282 @tangenta\nFix the issue that TTL is deviated by 1 hour in daylight saving time #51675 @lcwangchao\nFix the incorrect calculation and display of the number of connections (Connection Count) on the TiDB Dashboard Monitoring page #51889 @YangKeao\nFix the issue that the status gets stuck when rolling back the partition DDL tasks #51090 @jiyfhust\nFix the issue that the value of max_remote_stream is incorrect when executing EXPLAIN ANALYZE #52646 @JaySon-Huang\nFix the issue that querying the TIDB_HOT_REGIONS table might incorrectly return INFORMATION_SCHEMA tables #50810 @Defined2014\nFix the issue that the EXPLAIN statement might display incorrect column IDs in the result when statistics for certain columns are not fully loaded #52207 @time-and-fate\nFix the issue that the type returned by the IFNULL function is inconsistent with MySQL #51765 @YangKeao\nFix the issue that adding a unique index might cause TiDB to panic #52312 @wjhuang2016",
          "Fix the issue that executing SQL statements containing tables with multi-valued indexes might return the Can't find a proper physical plan for this query error #49438 @qw4990",
          "Fix the issue that automatic statistics collection gets stuck after an OOM error occurs #51993 @hi-rustin",
          "Fix the issue that after using BR to restore a table that has no statistics, the statistics health of that table is still 100% #29769 @winoros",
          "Fix the issue that TiDB creates statistics for system tables during upgrade #52040 @hi-rustin",
          "Fix the issue that automatic statistics collection is triggered before the initialization of statistics finishes #52346 @hi-rustin",
          "Fix the issue that TiDB might crash when tidb_mem_quota_analyze is enabled and the memory used by updating statistics exceeds the limit #52601 @hawkingrei",
          "Fix the issue that the TiDB synchronously loading statistics mechanism retries to load empty statistics indefinitely and prints the fail to get stats version for this histogram log #52657 @hawkingrei",
          "Fix the issue that expressions containing different collations might cause the query to panic when the new framework for collations is disabled #52772 @wjhuang2016",
          "Fix the issue that the CPS by type metric displays incorrect values #52605 @nolouch",
          "Fix the issue that the nil pointer error occurs when you query INFORMATION_SCHEMA.TIKV_REGION_STATUS #52013 @JmPotato",
          "Fix the incorrect error message displayed when an invalid default value is specified for a column #51592 @danqixu",
          "Fix the issue that adding indexes in the ingest mode might cause inconsistent data index in some corner cases #51954 @lance6716",
          "Fix the issue that DDL operations get stuck when restoring a table with the foreign key #51838 @YangKeao",
          "Fix the issue that adding indexes fails when the TiDB network is isolated #51846 @ywqzzy",
          "Fix the issue that adding an index with the same name after renaming an index causes an error #51431 @lance6716",
          "Fix the issue of inconsistent data indexes caused by cluster upgrade during adding indexes #52411 @tangenta",
          "Fix the issue that adding indexes to large tables fails after enabling the Distributed eXecution Framework (DXF) #52640 @tangenta",
          "Fix the issue that adding indexes concurrently reports the error no such file or directory #52475 @tangenta",
          "Fix the issue that the temporary data cannot be cleaned up after adding indexes fails #52639 @lance6716",
          "Fix the issue that the metadata lock fails to prevent DDL operations from executing in the plan cache scenario #51407 @wjhuang2016",
          "Fix the issue that the IMPORT INTO operation gets stuck when importing a large amount of data #52884 @lance6716",
          "Fix the issue that TiDB unexpectedly restarts when logging gRPC errors #51301 @guo-shaoge",
          "Fix the issue that IndexHashJoin outputs redundant data when calculating Anti Left Outer Semi Join #52923 @yibin87",
          "Fix the incorrect result of the TopN operator in correlated subqueries #52777 @yibin87",
          "Fix the inaccurate execution time statistics of HashJoin probe #52222 @windtalker",
          "Fix the issue that using TABLESAMPLE returns incorrect results in static partition pruning mode (tidb_partition_prune_mode='static') #52282 @tangenta",
          "Fix the issue that TTL is deviated by 1 hour in daylight saving time #51675 @lcwangchao",
          "Fix the incorrect calculation and display of the number of connections (Connection Count) on the TiDB Dashboard Monitoring page #51889 @YangKeao",
          "Fix the issue that the status gets stuck when rolling back the partition DDL tasks #51090 @jiyfhust",
          "Fix the issue that the value of max_remote_stream is incorrect when executing EXPLAIN ANALYZE #52646 @JaySon-Huang",
          "Fix the issue that querying the TIDB_HOT_REGIONS table might incorrectly return INFORMATION_SCHEMA tables #50810 @Defined2014",
          "Fix the issue that the EXPLAIN statement might display incorrect column IDs in the result when statistics for certain columns are not fully loaded #52207 @time-and-fate",
          "Fix the issue that the type returned by the IFNULL function is inconsistent with MySQL #51765 @YangKeao",
          "Fix the issue that adding a unique index might cause TiDB to panic #52312 @wjhuang2016",
          "TiKV\nFix the issue that resolve-ts is blocked when a stale Region peer ignores the GC message #16504 @crazycs520\nFix the issue that inactive Write Ahead Logs (WALs) in RocksDB might corrupt data #16705 @Connor1996",
          "Fix the issue that resolve-ts is blocked when a stale Region peer ignores the GC message #16504 @crazycs520",
          "Fix the issue that inactive Write Ahead Logs (WALs) in RocksDB might corrupt data #16705 @Connor1996",
          "PD\nFix the issue that TSO might get stuck when toggling the PD microservice mode on and off #7849 @JmPotato\nFix the issue that the State monitoring metric for DR Auto-Sync does not show any data #7974 @lhy1024\nFix the issue that checking binary versions might cause PD panic #7978 @JmPotato\nFix the type conversion error that occurs when TTL parameters are parsed #7980 @HuSharp\nFix the issue that the Leader fails to transfer when you switch it between two deployed data centers #7992 @TonsnakeLin\nFix the issue that PrintErrln in pd-ctl fails to output error messages to stderr #8022 @HuSharp\nFix the issue that PD might panic when generating Merge schedules #8049 @nolouch\nFix the panic issue caused by GetAdditionalInfo #8079 @HuSharp\nFix the issue that the Filter target monitoring metric for PD does not provide scatter range information #8125 @HuSharp\nFix the issue that the query result of SHOW CONFIG includes the deprecated configuration item trace-region-flow #7917 @rleungx\nFix the issue that the scaling progress is not correctly displayed #7726 @CabinfeverB",
          "Fix the issue that TSO might get stuck when toggling the PD microservice mode on and off #7849 @JmPotato",
          "Fix the issue that the State monitoring metric for DR Auto-Sync does not show any data #7974 @lhy1024",
          "Fix the issue that checking binary versions might cause PD panic #7978 @JmPotato",
          "Fix the type conversion error that occurs when TTL parameters are parsed #7980 @HuSharp",
          "Fix the issue that the Leader fails to transfer when you switch it between two deployed data centers #7992 @TonsnakeLin",
          "Fix the issue that PrintErrln in pd-ctl fails to output error messages to stderr #8022 @HuSharp",
          "Fix the issue that PD might panic when generating Merge schedules #8049 @nolouch",
          "Fix the panic issue caused by GetAdditionalInfo #8079 @HuSharp",
          "Fix the issue that the Filter target monitoring metric for PD does not provide scatter range information #8125 @HuSharp",
          "Fix the issue that the query result of SHOW CONFIG includes the deprecated configuration item trace-region-flow #7917 @rleungx",
          "Fix the issue that the scaling progress is not correctly displayed #7726 @CabinfeverB",
          "TiFlash\nFix the issue that TiFlash might panic when you insert data to columns with invalid default values in non-strict sql_mode #8803 @Lloyd-Pottiger\nFix the issue that TiFlash might return transiently incorrect results in high-concurrency read scenarios #8845 @JinheLin\nFix the issue that in the disaggregated storage and compute architecture, the disk used_size metric displayed in Grafana is incorrect after you modify the value of the storage.remote.cache.capacity configuration item for TiFlash compute nodes #8920 @JinheLin\nFix the issue that TiFlash metadata might become corrupted and cause the process to panic when upgrading a cluster from a version earlier than v6.5.0 to v6.5.0 or later #9039 @JaySon-Huang\nFix the issue that in the disaggregated storage and compute architecture, TiFlash might panic when the compute node process is stopped #8860 @guo-shaoge\nFix the issue that TiFlash might return an error when executing queries containing virtual generated columns #8787 @guo-shaoge",
          "Fix the issue that TiFlash might panic when you insert data to columns with invalid default values in non-strict sql_mode #8803 @Lloyd-Pottiger",
          "Fix the issue that TiFlash might return transiently incorrect results in high-concurrency read scenarios #8845 @JinheLin",
          "Fix the issue that in the disaggregated storage and compute architecture, the disk used_size metric displayed in Grafana is incorrect after you modify the value of the storage.remote.cache.capacity configuration item for TiFlash compute nodes #8920 @JinheLin",
          "Fix the issue that TiFlash metadata might become corrupted and cause the process to panic when upgrading a cluster from a version earlier than v6.5.0 to v6.5.0 or later #9039 @JaySon-Huang",
          "Fix the issue that in the disaggregated storage and compute architecture, TiFlash might panic when the compute node process is stopped #8860 @guo-shaoge",
          "Fix the issue that TiFlash might return an error when executing queries containing virtual generated columns #8787 @guo-shaoge",
          "Tools\nBackup & Restore (BR)\nFix the issue that BR cannot back up the AUTO_RANDOM ID allocation progress in a union clustered index that contains an AUTO_RANDOM column #52255 @Leavrth\nFix the issue that removing a log backup task after it is paused does not immediately restore the GC safepoint #52082 @3pointer\nFix a rare issue that special event timing might cause the data loss in log backup #16739 @YuJuncen\nFix the issue that the global checkpoint of log backup is advanced ahead of the actual backup file write point due to TiKV restart, which might cause a small amount of backup data loss #16809 @YuJuncen\nFix the issue that the confusing information related to --concurrency appears in the log during a full backup #50837 @BornChanger\nFix the issue that the Region fetched from PD does not have a Leader when restoring data using BR or importing data using TiDB Lightning in physical import mode #51124 #50501 @Leavrth\nFix the issue that after pausing, stopping, and rebuilding the log backup task, the task status is normal, but the checkpoint does not advance #53047 @RidRisR\nFix the unstable test case TestClearCache #51671 @zxc111\nFix the unstable test case TestGetMergeRegionSizeAndCount #52095 @3pointer\nFix the unstable integration test br_tikv_outage #52673 @Leavrth\nFix the issue that the test case TestGetTSWithRetry takes too long to execute #52547 @Leavrth\nFix the issue that TiKV might panic when resuming a paused log backup task with unstable network connections to PD #17020 @YuJuncen\nTiCDC\nFix the issue that calling the API (/api/v2/owner/resign) that evicts the TiCDC owner node causes the TiCDC task to restart unexpectedly #10781 @sdojjy\nFix the issue that when the downstream Pulsar is stopped, removing the changefeed causes the normal TiCDC process to get stuck, which causes other changefeed processes to get stuck #10629 @asddongmen\nFix the issue that the Ownership history panel in Grafana is unstable #10796 @hongyunyan\nFix the issue that restarting PD might cause the TiCDC node to restart with an error #10799 @3AceShowHand\nFix the issue that high latency in the PD disk I/O causes severe latency in data replication #9054 @asddongmen\nFix the issue that the default value of TIMEZONE type is not set according to the correct time zone #10931 @3AceShowHand\nFix the issue that DROP PRIMARY KEY and DROP UNIQUE KEY statements are not replicated correctly #10890 @asddongmen\nFix the issue that TiCDC fails to execute the Exchange Partition ... With Validation DDL downstream after it is written upstream, causing the changefeed to get stuck #10859 @hongyunyan\nTiDB Lightning\nFix the issue that TiDB Lightning reports no database selected during data import due to incompatible SQL statements in the source files #51800 @lance6716\nFix the issue that TiDB Lightning might print sensitive information to logs in server mode #36374 @kennytm\nFix the issue that killing the PD Leader causes TiDB Lightning to report the invalid store ID 0 error during data import #50501 @Leavrth\nFix the issue that TiDB Lightning reports the Unknown column in where clause error when processing conflicting data using the replace strategy #52886 @lyzx2001\nFix the issue that TiDB Lightning panics when importing an empty table of Parquet format #52518 @kennytm",
          "Backup & Restore (BR)\nFix the issue that BR cannot back up the AUTO_RANDOM ID allocation progress in a union clustered index that contains an AUTO_RANDOM column #52255 @Leavrth\nFix the issue that removing a log backup task after it is paused does not immediately restore the GC safepoint #52082 @3pointer\nFix a rare issue that special event timing might cause the data loss in log backup #16739 @YuJuncen\nFix the issue that the global checkpoint of log backup is advanced ahead of the actual backup file write point due to TiKV restart, which might cause a small amount of backup data loss #16809 @YuJuncen\nFix the issue that the confusing information related to --concurrency appears in the log during a full backup #50837 @BornChanger\nFix the issue that the Region fetched from PD does not have a Leader when restoring data using BR or importing data using TiDB Lightning in physical import mode #51124 #50501 @Leavrth\nFix the issue that after pausing, stopping, and rebuilding the log backup task, the task status is normal, but the checkpoint does not advance #53047 @RidRisR\nFix the unstable test case TestClearCache #51671 @zxc111\nFix the unstable test case TestGetMergeRegionSizeAndCount #52095 @3pointer\nFix the unstable integration test br_tikv_outage #52673 @Leavrth\nFix the issue that the test case TestGetTSWithRetry takes too long to execute #52547 @Leavrth\nFix the issue that TiKV might panic when resuming a paused log backup task with unstable network connections to PD #17020 @YuJuncen",
          "Fix the issue that BR cannot back up the AUTO_RANDOM ID allocation progress in a union clustered index that contains an AUTO_RANDOM column #52255 @Leavrth",
          "Fix the issue that removing a log backup task after it is paused does not immediately restore the GC safepoint #52082 @3pointer",
          "Fix a rare issue that special event timing might cause the data loss in log backup #16739 @YuJuncen",
          "Fix the issue that the global checkpoint of log backup is advanced ahead of the actual backup file write point due to TiKV restart, which might cause a small amount of backup data loss #16809 @YuJuncen",
          "Fix the issue that the confusing information related to --concurrency appears in the log during a full backup #50837 @BornChanger",
          "Fix the issue that the Region fetched from PD does not have a Leader when restoring data using BR or importing data using TiDB Lightning in physical import mode #51124 #50501 @Leavrth",
          "Fix the issue that after pausing, stopping, and rebuilding the log backup task, the task status is normal, but the checkpoint does not advance #53047 @RidRisR",
          "Fix the unstable test case TestClearCache #51671 @zxc111",
          "Fix the unstable test case TestGetMergeRegionSizeAndCount #52095 @3pointer",
          "Fix the unstable integration test br_tikv_outage #52673 @Leavrth",
          "Fix the issue that the test case TestGetTSWithRetry takes too long to execute #52547 @Leavrth",
          "Fix the issue that TiKV might panic when resuming a paused log backup task with unstable network connections to PD #17020 @YuJuncen",
          "TiCDC\nFix the issue that calling the API (/api/v2/owner/resign) that evicts the TiCDC owner node causes the TiCDC task to restart unexpectedly #10781 @sdojjy\nFix the issue that when the downstream Pulsar is stopped, removing the changefeed causes the normal TiCDC process to get stuck, which causes other changefeed processes to get stuck #10629 @asddongmen\nFix the issue that the Ownership history panel in Grafana is unstable #10796 @hongyunyan\nFix the issue that restarting PD might cause the TiCDC node to restart with an error #10799 @3AceShowHand\nFix the issue that high latency in the PD disk I/O causes severe latency in data replication #9054 @asddongmen\nFix the issue that the default value of TIMEZONE type is not set according to the correct time zone #10931 @3AceShowHand\nFix the issue that DROP PRIMARY KEY and DROP UNIQUE KEY statements are not replicated correctly #10890 @asddongmen\nFix the issue that TiCDC fails to execute the Exchange Partition ... With Validation DDL downstream after it is written upstream, causing the changefeed to get stuck #10859 @hongyunyan",
          "Fix the issue that calling the API (/api/v2/owner/resign) that evicts the TiCDC owner node causes the TiCDC task to restart unexpectedly #10781 @sdojjy",
          "Fix the issue that when the downstream Pulsar is stopped, removing the changefeed causes the normal TiCDC process to get stuck, which causes other changefeed processes to get stuck #10629 @asddongmen",
          "Fix the issue that the Ownership history panel in Grafana is unstable #10796 @hongyunyan",
          "Fix the issue that restarting PD might cause the TiCDC node to restart with an error #10799 @3AceShowHand",
          "Fix the issue that high latency in the PD disk I/O causes severe latency in data replication #9054 @asddongmen",
          "Fix the issue that the default value of TIMEZONE type is not set according to the correct time zone #10931 @3AceShowHand",
          "Fix the issue that DROP PRIMARY KEY and DROP UNIQUE KEY statements are not replicated correctly #10890 @asddongmen",
          "Fix the issue that TiCDC fails to execute the Exchange Partition ... With Validation DDL downstream after it is written upstream, causing the changefeed to get stuck #10859 @hongyunyan",
          "TiDB Lightning\nFix the issue that TiDB Lightning reports no database selected during data import due to incompatible SQL statements in the source files #51800 @lance6716\nFix the issue that TiDB Lightning might print sensitive information to logs in server mode #36374 @kennytm\nFix the issue that killing the PD Leader causes TiDB Lightning to report the invalid store ID 0 error during data import #50501 @Leavrth\nFix the issue that TiDB Lightning reports the Unknown column in where clause error when processing conflicting data using the replace strategy #52886 @lyzx2001\nFix the issue that TiDB Lightning panics when importing an empty table of Parquet format #52518 @kennytm",
          "Fix the issue that TiDB Lightning reports no database selected during data import due to incompatible SQL statements in the source files #51800 @lance6716",
          "Fix the issue that TiDB Lightning might print sensitive information to logs in server mode #36374 @kennytm",
          "Fix the issue that killing the PD Leader causes TiDB Lightning to report the invalid store ID 0 error during data import #50501 @Leavrth",
          "Fix the issue that TiDB Lightning reports the Unknown column in where clause error when processing conflicting data using the replace strategy #52886 @lyzx2001",
          "Fix the issue that TiDB Lightning panics when importing an empty table of Parquet format #52518 @kennytm"
        ]
      }
    ]
  },
  {
    "major_version": "8.0",
    "patches": [
      {
        "version": "8.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-8.0.0/",
        "changes": [
          "TiDB\nImprove the performance of executing the CREATE TABLE DDL statement by 10 times and support linear scalability #50052 @GMHDBJD\nSupport submitting 16 IMPORT INTO ... FROM FILE tasks simultaneously, facilitating bulk data import into target tables and significantly improving the efficiency and performance of importing data files #49008 @D3Hunter\nImprove the performance of spilling data to disk for the Sort operator #47733 @xzhangxian1008\nSupport canceling queries during spilling data to disk, which optimizes the exit mechanism of the data spill feature #50511 @wshwsh12\nSupport using an index that matches partial conditions to construct Index Join when processing table join queries with multiple equal conditions #47233 @winoros\nEnhance the capability of Index Merge to identify sorting requirements in queries and select indexes that meet the sorting requirements #48359 @AilinKid\nWhen the Apply operator is not executed concurrently, TiDB enables you to view the name of the operator that blocks the concurrency by executing SHOW WARNINGS #50256 @hawkingrei\nOptimize the index selection for point get queries by selecting the most optimal index for queries when all indexes support point get queries #50184 @elsa0520\nTemporarily adjust the priority of statistics synchronously loading tasks to high to avoid widespread timeouts during TiKV high loads, as these timeouts might result in statistics not being loaded #50332 @winoros\nWhen the PREPARE statement fails to hit the execution plan cache, TiDB enables you to view the reason by executing SHOW WARNINGS #50407 @hawkingrei\nImprove the accuracy of query estimation information when the same row of data is updated multiple times #47523 @terry1purcell\nIndex Merge supports embedding multi-value indexes and OR operators in AND predicates #51778 @time-and-fate\nWhen force-init-stats is set to true, TiDB waits for statistics initialization to finish before providing services during TiDB startup. This setting no longer blocks the startup of HTTP servers, which enables users to continue monitoring #50854 @hawkingrei\nMemoryTracker can track the memory usage of the IndexLookup operator #45901 @solotzg\nMemoryTracker can track the memory usage of the MemTableReaderExec operator #51456 @wshwsh12\nSupport loading Regions in batch from PD to speed up the conversion process from the KV range to Regions when querying large tables #51326 @SeaRise\nOptimize the query performance of the system tables INFORMATION_SCHEMA.TABLES, INFORMATION_SCHEMA.STATISTICS, INFORMATION_SCHEMA.KEY_COLUMN_USAGE, and INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS. Compared with earlier versions, the performance has been improved by up to 100 times. #50305 @ywqzzy",
          "Improve the performance of executing the CREATE TABLE DDL statement by 10 times and support linear scalability #50052 @GMHDBJD",
          "Support submitting 16 IMPORT INTO ... FROM FILE tasks simultaneously, facilitating bulk data import into target tables and significantly improving the efficiency and performance of importing data files #49008 @D3Hunter",
          "Improve the performance of spilling data to disk for the Sort operator #47733 @xzhangxian1008",
          "Support canceling queries during spilling data to disk, which optimizes the exit mechanism of the data spill feature #50511 @wshwsh12",
          "Support using an index that matches partial conditions to construct Index Join when processing table join queries with multiple equal conditions #47233 @winoros",
          "Enhance the capability of Index Merge to identify sorting requirements in queries and select indexes that meet the sorting requirements #48359 @AilinKid",
          "When the Apply operator is not executed concurrently, TiDB enables you to view the name of the operator that blocks the concurrency by executing SHOW WARNINGS #50256 @hawkingrei",
          "Optimize the index selection for point get queries by selecting the most optimal index for queries when all indexes support point get queries #50184 @elsa0520",
          "Temporarily adjust the priority of statistics synchronously loading tasks to high to avoid widespread timeouts during TiKV high loads, as these timeouts might result in statistics not being loaded #50332 @winoros",
          "When the PREPARE statement fails to hit the execution plan cache, TiDB enables you to view the reason by executing SHOW WARNINGS #50407 @hawkingrei",
          "Improve the accuracy of query estimation information when the same row of data is updated multiple times #47523 @terry1purcell",
          "Index Merge supports embedding multi-value indexes and OR operators in AND predicates #51778 @time-and-fate",
          "When force-init-stats is set to true, TiDB waits for statistics initialization to finish before providing services during TiDB startup. This setting no longer blocks the startup of HTTP servers, which enables users to continue monitoring #50854 @hawkingrei",
          "MemoryTracker can track the memory usage of the IndexLookup operator #45901 @solotzg",
          "MemoryTracker can track the memory usage of the MemTableReaderExec operator #51456 @wshwsh12",
          "Support loading Regions in batch from PD to speed up the conversion process from the KV range to Regions when querying large tables #51326 @SeaRise",
          "Optimize the query performance of the system tables INFORMATION_SCHEMA.TABLES, INFORMATION_SCHEMA.STATISTICS, INFORMATION_SCHEMA.KEY_COLUMN_USAGE, and INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS. Compared with earlier versions, the performance has been improved by up to 100 times. #50305 @ywqzzy",
          "TiKV\nEnhance TSO verification and detection to improve the robustness of the cluster TSO when the configuration or operation is improper #16545 @cfzjywxk\nOptimize the logic of cleaning up pessimistic locks to improve the processing performance of uncommitted transactions #16158 @cfzjywxk\nIntroduce unified health control for TiKV to reduce the impact of abnormal single TiKV node on cluster access performance. You can disable this optimization by setting tikv-client.enable-replica-selector-v2 to false. #16297 #1104 #1167 @MyonKeminta @zyguan @crazycs520\nThe PD client uses the metadata storage interface to replace the previous global configuration interface #14484 @HuSharp\nEnhance the scanning performance by determining the data loading behavior through write cf stats #16245 @Connor1996\nCheck the latest heartbeat for nodes being deleted and voters being demoted during the Raft conf change process to ensure that this behavior does not make the Region inaccessible #15799 @tonyxuqqi\nAdd Flush and BufferBatchGet interfaces for Pipelined DML #16291 @ekexium\nAdd monitoring and alerting for cgroup CPU and memory limits #16392 @pingandb\nAdd CPU monitoring for Region workers and snapshot generation workers #16562 @Connor1996\nAdd slow logs for peer and store messages #16600 @Connor1996",
          "Enhance TSO verification and detection to improve the robustness of the cluster TSO when the configuration or operation is improper #16545 @cfzjywxk",
          "Optimize the logic of cleaning up pessimistic locks to improve the processing performance of uncommitted transactions #16158 @cfzjywxk",
          "Introduce unified health control for TiKV to reduce the impact of abnormal single TiKV node on cluster access performance. You can disable this optimization by setting tikv-client.enable-replica-selector-v2 to false. #16297 #1104 #1167 @MyonKeminta @zyguan @crazycs520",
          "The PD client uses the metadata storage interface to replace the previous global configuration interface #14484 @HuSharp",
          "Enhance the scanning performance by determining the data loading behavior through write cf stats #16245 @Connor1996",
          "Check the latest heartbeat for nodes being deleted and voters being demoted during the Raft conf change process to ensure that this behavior does not make the Region inaccessible #15799 @tonyxuqqi",
          "Add Flush and BufferBatchGet interfaces for Pipelined DML #16291 @ekexium",
          "Add monitoring and alerting for cgroup CPU and memory limits #16392 @pingandb",
          "Add CPU monitoring for Region workers and snapshot generation workers #16562 @Connor1996",
          "Add slow logs for peer and store messages #16600 @Connor1996",
          "PD\nEnhance the service discovery capability of the PD client to improve its high availability and load balancing #7576 @CabinfeverB\nEnhance the retry mechanism of the PD client #7673 @JmPotato\nAdd monitoring and alerting for cgroup CPU and memory limits #7716 #7918 @pingandb @rleungx\nImprove the performance and high availability when using etcd watch #7738 #7724 #7689 @lhy1024\nAdd more monitoring metrics for heartbeat to better analyze performance bottlenecks #7868 @nolouch\nReduce the impact of the etcd leader on the PD leader #7499 @JmPotato @HuSharp\nEnhance the detection mechanism for unhealthy etcd nodes #7730 @JmPotato @HuSharp\nOptimize the output of GC safepoint in pd-ctl #7767 @nolouch\nSupport dynamic modification of the historical window configuration in the hotspot scheduler #7877 @lhy1024\nReduce the lock contention issue in creating operators #7837 @Leavrth\nAdjust GRPC configurations to improve availability #7821 @rleungx",
          "Enhance the service discovery capability of the PD client to improve its high availability and load balancing #7576 @CabinfeverB",
          "Enhance the retry mechanism of the PD client #7673 @JmPotato",
          "Add monitoring and alerting for cgroup CPU and memory limits #7716 #7918 @pingandb @rleungx",
          "Improve the performance and high availability when using etcd watch #7738 #7724 #7689 @lhy1024",
          "Add more monitoring metrics for heartbeat to better analyze performance bottlenecks #7868 @nolouch",
          "Reduce the impact of the etcd leader on the PD leader #7499 @JmPotato @HuSharp",
          "Enhance the detection mechanism for unhealthy etcd nodes #7730 @JmPotato @HuSharp",
          "Optimize the output of GC safepoint in pd-ctl #7767 @nolouch",
          "Support dynamic modification of the historical window configuration in the hotspot scheduler #7877 @lhy1024",
          "Reduce the lock contention issue in creating operators #7837 @Leavrth",
          "Adjust GRPC configurations to improve availability #7821 @rleungx",
          "TiFlash\nSupport using non-constant values for the json_path argument in the JSON_EXTRACT() function #8510 @SeaRise\nSupport the JSON_LENGTH(json, path) function #8711 @SeaRise",
          "Support using non-constant values for the json_path argument in the JSON_EXTRACT() function #8510 @SeaRise",
          "Support the JSON_LENGTH(json, path) function #8711 @SeaRise",
          "Tools\nBackup & Restore (BR)\nIntroduce a new restore parameter --load-stats for the br command-line tool, which controls whether to restore statistics #50568 @Leavrth\nIntroduce a new restore parameter --tikv-max-restore-concurrency for the br command-line tool, which controls the maximum number of download and ingest files for each TiKV node. This parameter also controls the memory consumption of a BR node by controlling the maximum length of the job queue. #51621 @3pointer\nEnhance restore performance by enabling the coarse-grained Region scatter algorithm to adaptively obtain concurrent parameters #50701 @3pointer\nDisplay the log command in the command-line help information of br #50927 @RidRisR\nSupport pre-allocating Table ID during the restore process to maximize the reuse of Table ID and improve restore performance #51736 @Leavrth\nDisable the GC memory limit tuner feature within TiDB when using BR to avoid OOM issues #51078 @Leavrth\nImprove the speed of merging SST files during data restore by using a more efficient algorithm #50613 @Leavrth\nSupport creating databases in batch during data restore #50767 @Leavrth\nPrint the information of the slowest Region that affects global checkpoint advancement in logs and metrics during log backups #51046 @YuJuncen\nImprove the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth\nTiCDC\nOptimize the memory consumption of RowChangedEvent to reduce memory consumption when TiCDC replicates data #10386 @lidezhu\nVerify that the start-ts parameter is valid when creating and resuming a changefeed task #10499 @3AceShowHand\nTiDB Data Migration (DM)\nIn a MariaDB primary-secondary replication scenario, where the migration path is: MariaDB primary instance -> MariaDB secondary instance -> DM -> TiDB, when gtid_strict_mode = off and the GTID of the MariaDB secondary instance is not strictly incrementing (for example, there is data writing to the MariaDB secondary instance), the DM task will report an error less than global checkpoint position. Starting from v8.0.0, TiDB is compatible with this scenario and data can be migrated downstream normally. #10741 @okJiang\nTiDB Lightning\nSupport configuring the maximum number of rows in a batch in logical import mode using logical-import-batch-rows #46607 @kennytm\nTiDB Lightning reports an error when the space of TiFlash is insufficient #50324 @okJiang",
          "Backup & Restore (BR)\nIntroduce a new restore parameter --load-stats for the br command-line tool, which controls whether to restore statistics #50568 @Leavrth\nIntroduce a new restore parameter --tikv-max-restore-concurrency for the br command-line tool, which controls the maximum number of download and ingest files for each TiKV node. This parameter also controls the memory consumption of a BR node by controlling the maximum length of the job queue. #51621 @3pointer\nEnhance restore performance by enabling the coarse-grained Region scatter algorithm to adaptively obtain concurrent parameters #50701 @3pointer\nDisplay the log command in the command-line help information of br #50927 @RidRisR\nSupport pre-allocating Table ID during the restore process to maximize the reuse of Table ID and improve restore performance #51736 @Leavrth\nDisable the GC memory limit tuner feature within TiDB when using BR to avoid OOM issues #51078 @Leavrth\nImprove the speed of merging SST files during data restore by using a more efficient algorithm #50613 @Leavrth\nSupport creating databases in batch during data restore #50767 @Leavrth\nPrint the information of the slowest Region that affects global checkpoint advancement in logs and metrics during log backups #51046 @YuJuncen\nImprove the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth",
          "Introduce a new restore parameter --load-stats for the br command-line tool, which controls whether to restore statistics #50568 @Leavrth",
          "Introduce a new restore parameter --tikv-max-restore-concurrency for the br command-line tool, which controls the maximum number of download and ingest files for each TiKV node. This parameter also controls the memory consumption of a BR node by controlling the maximum length of the job queue. #51621 @3pointer",
          "Enhance restore performance by enabling the coarse-grained Region scatter algorithm to adaptively obtain concurrent parameters #50701 @3pointer",
          "Display the log command in the command-line help information of br #50927 @RidRisR",
          "Support pre-allocating Table ID during the restore process to maximize the reuse of Table ID and improve restore performance #51736 @Leavrth",
          "Disable the GC memory limit tuner feature within TiDB when using BR to avoid OOM issues #51078 @Leavrth",
          "Improve the speed of merging SST files during data restore by using a more efficient algorithm #50613 @Leavrth",
          "Support creating databases in batch during data restore #50767 @Leavrth",
          "Print the information of the slowest Region that affects global checkpoint advancement in logs and metrics during log backups #51046 @YuJuncen",
          "Improve the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth",
          "TiCDC\nOptimize the memory consumption of RowChangedEvent to reduce memory consumption when TiCDC replicates data #10386 @lidezhu\nVerify that the start-ts parameter is valid when creating and resuming a changefeed task #10499 @3AceShowHand",
          "Optimize the memory consumption of RowChangedEvent to reduce memory consumption when TiCDC replicates data #10386 @lidezhu",
          "Verify that the start-ts parameter is valid when creating and resuming a changefeed task #10499 @3AceShowHand",
          "TiDB Data Migration (DM)\nIn a MariaDB primary-secondary replication scenario, where the migration path is: MariaDB primary instance -> MariaDB secondary instance -> DM -> TiDB, when gtid_strict_mode = off and the GTID of the MariaDB secondary instance is not strictly incrementing (for example, there is data writing to the MariaDB secondary instance), the DM task will report an error less than global checkpoint position. Starting from v8.0.0, TiDB is compatible with this scenario and data can be migrated downstream normally. #10741 @okJiang",
          "In a MariaDB primary-secondary replication scenario, where the migration path is: MariaDB primary instance -> MariaDB secondary instance -> DM -> TiDB, when gtid_strict_mode = off and the GTID of the MariaDB secondary instance is not strictly incrementing (for example, there is data writing to the MariaDB secondary instance), the DM task will report an error less than global checkpoint position. Starting from v8.0.0, TiDB is compatible with this scenario and data can be migrated downstream normally. #10741 @okJiang",
          "TiDB Lightning\nSupport configuring the maximum number of rows in a batch in logical import mode using logical-import-batch-rows #46607 @kennytm\nTiDB Lightning reports an error when the space of TiFlash is insufficient #50324 @okJiang",
          "Support configuring the maximum number of rows in a batch in logical import mode using logical-import-batch-rows #46607 @kennytm",
          "TiDB Lightning reports an error when the space of TiFlash is insufficient #50324 @okJiang",
          "TiDB\nFix the issue that auto analyze is triggered multiple times when there is no data change #51775 @hi-rustin\nFix the issue that the auto analyze concurrency is set incorrectly #51749 @hawkingrei\nFix the issue of index inconsistency caused by adding multiple indexes using a single SQL statement #51746 @tangenta\nFix the Column ... in from clause is ambiguous error that might occur when a query uses NATURAL JOIN #32044 @AilinKid\nFix the issue of wrong query results due to TiDB incorrectly eliminating constant values in group by #38756 @hi-rustin\nFix the issue that the LEADING hint does not take effect in UNION ALL statements #50067 @hawkingrei\nFix the issue that BIT type columns might cause query errors due to decode failures when they are involved in calculations of some functions #49566 #50850 #50855 @jiyfhust\nFix the issue that TiDB might panic when performing a rolling upgrade using tiup cluster upgrade/start due to an interaction issue with PD #50152 @zimulala\nFix the issue that executing UNIQUE index lookup with an ORDER BY clause might cause an error #49920 @jackysp\nFix the issue that TiDB returns wrong query results when processing ENUM or SET types by constant propagation #49440 @winoros\nFix the issue that TiDB might panic when a query contains the Apply operator and the fatal error: concurrent map writes error occurs #50347 @SeaRise\nFix the issue that the control of SET_VAR for variables of the string type might become invalid #50507 @qw4990\nFix the issue that the SYSDATE() function incorrectly uses the time in the plan cache when tidb_sysdate_is_now is set to 1 #49299 @hawkingrei\nFix the issue that when executing the CREATE GLOBAL BINDING statement, if the schema name is in uppercase, the binding does not take effect #50646 @qw4990\nFix the issue that Index Path selects duplicated indexes #50496 @AilinKid\nFix the issue that PLAN REPLAYER fails to load bindings when the CREATE GLOBAL BINDING statement contains IN() #43192 @King-Dylan\nFix the issue that when multiple analyze tasks fail, the failure reasons are not recorded correctly #50481 @hi-rustin\nFix the issue that tidb_stats_load_sync_wait does not take effect #50872 @jiyfhust\nFix the issue that max_execute_time settings at multiple levels interfere with each other #50914 @jiyfhust\nFix the issue of thread safety caused by concurrent updating of statistics #50835 @hi-rustin\nFix the issue that executing auto analyze on a partition table might cause TiDB to panic #51187 @hi-rustin\nFix the issue that SQL bindings might not work when IN() in a SQL statement contains a different number of values #51222 @hawkingrei\nFix the issue that TiDB cannot correctly convert the type of a system variable in an expression #43527 @hi-rustin\nFix the issue that TiDB does not listen to the corresponding port when force-init-stats is configured #51473 @hawkingrei\nFix the issue that in determinate mode (tidb_opt_objective='determinate'), if a query does not contain predicates, statistics might not be loaded #48257 @time-and-fate\nFix the issue that the init-stats process might cause TiDB to panic and the load stats process to quit #51581 @hawkingrei\nFix the issue that the query result is incorrect when the IN() predicate contains NULL #51560 @winoros\nFix the issue that blocked DDL statements are not displayed in the MDL View when a DDL task involves multiple tables #47743 @wjhuang2016\nFix the issue that the processed_rows of the ANALYZE task on a table might exceed the total number of rows in that table #50632 @hawkingrei\nFix the goroutine leak issue that might occur when the HashJoin operator fails to spill to disk #50841 @wshwsh12\nFix the goroutine leak issue that occurs when the memory usage of CTE queries exceed limits #50337 @guo-shaoge\nFix the Can't find column ... error that might occur when aggregate functions are used for group calculations #50926 @qw4990\nFix the issue that DDL operations such as renaming tables are stuck when the CREATE TABLE statement contains specific partitions or constraints #50972 @lcwangchao\nFix the issue that the monitoring metric tidb_statistics_auto_analyze_total on Grafana is not displayed as an integer #51051 @hawkingrei\nFix the issue that the tidb_gogc_tuner_threshold system variable is not adjusted accordingly after the tidb_server_memory_limit variable is modified #48180 @hawkingrei\nFix the issue that the index out of range error might occur when a query involves JOIN operations #42588 @AilinKid\nFix the issue that getting the default value of a column returns an error if the column default value is dropped #50043 #51324 @crazycs520\nFix the issue that wrong results might be returned when TiFlash late materialization processes associated columns #49241 #51204 @Lloyd-Pottiger\nFix the issue that the LIKE() function might return wrong results when processing binary collation inputs #50393 @yibin87\nFix the issue that the JSON_LENGTH() function returns wrong results when the second parameter is NULL #50931 @SeaRise\nFix the issue that CAST(AS DATETIME) might lose time precision under certain circumstances #49555 @SeaRise\nFix the issue that parallel Apply might generate incorrect results when the table has a clustered index #51372 @guo-shaoge\nFix the issue that ALTER TABLE ... COMPACT TIFLASH REPLICA might incorrectly end when the primary key type is VARCHAR #51810 @breezewish\nFix the issue that the check on the NULL value of the DEFAULT NULL attribute is incorrect when exchanging partitioned tables using the EXCHANGE PARTITION statement #47167 @jiyfhust\nFix the issue that the partition table definition might cause wrong behavior when using a non-UTF8 character set #49251 @YangKeao\nFix the issue that incorrect default values are displayed in the INFORMATION_SCHEMA.VARIABLES_INFO table for some system variables #49461 @jiyfhust\nFix the issue that no error is reported when empty strings are used as database names in some cases #45873 @yoshikipom\nFix the issue that the SPLIT TABLE ... INDEX statement might cause TiDB to panic #50177 @Defined2014\nFix the issue that querying a partitioned table of KeyPartition type might cause an error #50206 #51313 #51196 @time-and-fate @jiyfhust @mjonss\nFix the issue that querying a Hash partitioned table might produce incorrect results #50427 @Defined2014\nFix the issue that opentracing does not work correctly #50508 @Defined2014\nFix the issue that the error message is not complete when ALTER INSTANCE RELOAD TLS reports an error #50699 @dveeden\nFix the issue that the AUTO_INCREMENT attribute causes non-consecutive IDs due to unnecessary transaction conflicts when assigning auto-increment IDs #50819 @tiancaiamao\nFix the issue of incomplete stack information in TiDB logs for some errors #50849 @tiancaiamao\nFix the issue of excessive memory usage in some queries when the number in the LIMIT clause is too large #51188 @Defined2014\nFix the issue that the TTL feature causes data hotspots due to incorrect data range splitting in some cases #51527 @lcwangchao\nFix the issue that the SET statement does not take effect when it appears on the first line of an explicit transaction #51387 @YangKeao\nFix the issue that querying JSON of BINARY type might cause an error in some cases #51547 @YangKeao\nFix the issue that TTL does not handle the transition for daylight saving time adjustments correctly when calculating expiration times #51675 @lcwangchao\nFix the issue that the SURVIVAL_PREFERENCES attribute might not appear in the output of the SHOW CREATE PLACEMENT POLICY statement under certain conditions #51699 @lcwangchao\nFix the issue that the configuration file does not take effect when it contains an invalid configuration item #51399 @Defined2014",
          "Fix the issue that auto analyze is triggered multiple times when there is no data change #51775 @hi-rustin",
          "Fix the issue that the auto analyze concurrency is set incorrectly #51749 @hawkingrei",
          "Fix the issue of index inconsistency caused by adding multiple indexes using a single SQL statement #51746 @tangenta",
          "Fix the Column ... in from clause is ambiguous error that might occur when a query uses NATURAL JOIN #32044 @AilinKid",
          "Fix the issue of wrong query results due to TiDB incorrectly eliminating constant values in group by #38756 @hi-rustin",
          "Fix the issue that the LEADING hint does not take effect in UNION ALL statements #50067 @hawkingrei",
          "Fix the issue that BIT type columns might cause query errors due to decode failures when they are involved in calculations of some functions #49566 #50850 #50855 @jiyfhust",
          "Fix the issue that TiDB might panic when performing a rolling upgrade using tiup cluster upgrade/start due to an interaction issue with PD #50152 @zimulala",
          "Fix the issue that executing UNIQUE index lookup with an ORDER BY clause might cause an error #49920 @jackysp",
          "Fix the issue that TiDB returns wrong query results when processing ENUM or SET types by constant propagation #49440 @winoros",
          "Fix the issue that TiDB might panic when a query contains the Apply operator and the fatal error: concurrent map writes error occurs #50347 @SeaRise",
          "Fix the issue that the control of SET_VAR for variables of the string type might become invalid #50507 @qw4990",
          "Fix the issue that the SYSDATE() function incorrectly uses the time in the plan cache when tidb_sysdate_is_now is set to 1 #49299 @hawkingrei",
          "Fix the issue that when executing the CREATE GLOBAL BINDING statement, if the schema name is in uppercase, the binding does not take effect #50646 @qw4990",
          "Fix the issue that Index Path selects duplicated indexes #50496 @AilinKid",
          "Fix the issue that PLAN REPLAYER fails to load bindings when the CREATE GLOBAL BINDING statement contains IN() #43192 @King-Dylan",
          "Fix the issue that when multiple analyze tasks fail, the failure reasons are not recorded correctly #50481 @hi-rustin",
          "Fix the issue that tidb_stats_load_sync_wait does not take effect #50872 @jiyfhust",
          "Fix the issue that max_execute_time settings at multiple levels interfere with each other #50914 @jiyfhust",
          "Fix the issue of thread safety caused by concurrent updating of statistics #50835 @hi-rustin",
          "Fix the issue that executing auto analyze on a partition table might cause TiDB to panic #51187 @hi-rustin",
          "Fix the issue that SQL bindings might not work when IN() in a SQL statement contains a different number of values #51222 @hawkingrei",
          "Fix the issue that TiDB cannot correctly convert the type of a system variable in an expression #43527 @hi-rustin",
          "Fix the issue that TiDB does not listen to the corresponding port when force-init-stats is configured #51473 @hawkingrei",
          "Fix the issue that in determinate mode (tidb_opt_objective='determinate'), if a query does not contain predicates, statistics might not be loaded #48257 @time-and-fate",
          "Fix the issue that the init-stats process might cause TiDB to panic and the load stats process to quit #51581 @hawkingrei",
          "Fix the issue that the query result is incorrect when the IN() predicate contains NULL #51560 @winoros",
          "Fix the issue that blocked DDL statements are not displayed in the MDL View when a DDL task involves multiple tables #47743 @wjhuang2016",
          "Fix the issue that the processed_rows of the ANALYZE task on a table might exceed the total number of rows in that table #50632 @hawkingrei",
          "Fix the goroutine leak issue that might occur when the HashJoin operator fails to spill to disk #50841 @wshwsh12",
          "Fix the goroutine leak issue that occurs when the memory usage of CTE queries exceed limits #50337 @guo-shaoge",
          "Fix the Can't find column ... error that might occur when aggregate functions are used for group calculations #50926 @qw4990",
          "Fix the issue that DDL operations such as renaming tables are stuck when the CREATE TABLE statement contains specific partitions or constraints #50972 @lcwangchao",
          "Fix the issue that the monitoring metric tidb_statistics_auto_analyze_total on Grafana is not displayed as an integer #51051 @hawkingrei",
          "Fix the issue that the tidb_gogc_tuner_threshold system variable is not adjusted accordingly after the tidb_server_memory_limit variable is modified #48180 @hawkingrei",
          "Fix the issue that the index out of range error might occur when a query involves JOIN operations #42588 @AilinKid",
          "Fix the issue that getting the default value of a column returns an error if the column default value is dropped #50043 #51324 @crazycs520",
          "Fix the issue that wrong results might be returned when TiFlash late materialization processes associated columns #49241 #51204 @Lloyd-Pottiger",
          "Fix the issue that the LIKE() function might return wrong results when processing binary collation inputs #50393 @yibin87",
          "Fix the issue that the JSON_LENGTH() function returns wrong results when the second parameter is NULL #50931 @SeaRise",
          "Fix the issue that CAST(AS DATETIME) might lose time precision under certain circumstances #49555 @SeaRise",
          "Fix the issue that parallel Apply might generate incorrect results when the table has a clustered index #51372 @guo-shaoge",
          "Fix the issue that ALTER TABLE ... COMPACT TIFLASH REPLICA might incorrectly end when the primary key type is VARCHAR #51810 @breezewish",
          "Fix the issue that the check on the NULL value of the DEFAULT NULL attribute is incorrect when exchanging partitioned tables using the EXCHANGE PARTITION statement #47167 @jiyfhust",
          "Fix the issue that the partition table definition might cause wrong behavior when using a non-UTF8 character set #49251 @YangKeao",
          "Fix the issue that incorrect default values are displayed in the INFORMATION_SCHEMA.VARIABLES_INFO table for some system variables #49461 @jiyfhust",
          "Fix the issue that no error is reported when empty strings are used as database names in some cases #45873 @yoshikipom",
          "Fix the issue that the SPLIT TABLE ... INDEX statement might cause TiDB to panic #50177 @Defined2014",
          "Fix the issue that querying a partitioned table of KeyPartition type might cause an error #50206 #51313 #51196 @time-and-fate @jiyfhust @mjonss",
          "Fix the issue that querying a Hash partitioned table might produce incorrect results #50427 @Defined2014",
          "Fix the issue that opentracing does not work correctly #50508 @Defined2014",
          "Fix the issue that the error message is not complete when ALTER INSTANCE RELOAD TLS reports an error #50699 @dveeden",
          "Fix the issue that the AUTO_INCREMENT attribute causes non-consecutive IDs due to unnecessary transaction conflicts when assigning auto-increment IDs #50819 @tiancaiamao",
          "Fix the issue of incomplete stack information in TiDB logs for some errors #50849 @tiancaiamao",
          "Fix the issue of excessive memory usage in some queries when the number in the LIMIT clause is too large #51188 @Defined2014",
          "Fix the issue that the TTL feature causes data hotspots due to incorrect data range splitting in some cases #51527 @lcwangchao",
          "Fix the issue that the SET statement does not take effect when it appears on the first line of an explicit transaction #51387 @YangKeao",
          "Fix the issue that querying JSON of BINARY type might cause an error in some cases #51547 @YangKeao",
          "Fix the issue that TTL does not handle the transition for daylight saving time adjustments correctly when calculating expiration times #51675 @lcwangchao",
          "Fix the issue that the SURVIVAL_PREFERENCES attribute might not appear in the output of the SHOW CREATE PLACEMENT POLICY statement under certain conditions #51699 @lcwangchao",
          "Fix the issue that the configuration file does not take effect when it contains an invalid configuration item #51399 @Defined2014",
          "TiKV\nFix the issue that enabling tidb_enable_row_level_checksum might cause TiKV to panic #16371 @cfzjywxk\nFix the issue that hibernated Regions are not promptly awakened in exceptional circumstances #16368 @LykxSassinator\nFix the issue that the entire Region becomes unavailable when one replica is offline, by checking the last heartbeat time of all replicas of the Region before taking a node offline #16465 @tonyxuqqi\nFix the issue that JSON integers greater than the maximum INT64 value but less than the maximum UINT64 value are parsed as FLOAT64 by TiKV, resulting in inconsistency with TiDB #16512 @YangKeao\nFix the issue that the monitoring metric tikv_unified_read_pool_thread_count has no data in some cases #16629 @YuJuncen",
          "Fix the issue that enabling tidb_enable_row_level_checksum might cause TiKV to panic #16371 @cfzjywxk",
          "Fix the issue that hibernated Regions are not promptly awakened in exceptional circumstances #16368 @LykxSassinator",
          "Fix the issue that the entire Region becomes unavailable when one replica is offline, by checking the last heartbeat time of all replicas of the Region before taking a node offline #16465 @tonyxuqqi",
          "Fix the issue that JSON integers greater than the maximum INT64 value but less than the maximum UINT64 value are parsed as FLOAT64 by TiKV, resulting in inconsistency with TiDB #16512 @YangKeao",
          "Fix the issue that the monitoring metric tikv_unified_read_pool_thread_count has no data in some cases #16629 @YuJuncen",
          "PD\nFix the issue that data race occurs when the MergeLabels function is called #7535 @lhy1024\nFix the issue that there is no output when the evict-leader-scheduler interface is called #7672 @CabinfeverB\nFix the issue that the PD monitoring item learner-peer-count does not synchronize the old value after a leader switch #7728 @CabinfeverB\nFix the memory leak issue that occurs when watch etcd is not turned off correctly #7807 @rleungx\nFix the issue that some TSO logs do not print the error cause #7496 @CabinfeverB\nFix the issue that there are unexpected negative monitoring metrics after restart #4489 @lhy1024\nFix the issue that the Leader lease expires later than the log time #7700 @CabinfeverB\nFix the issue that TiDB panics when TLS switches between TiDB (the PD client) and PD are inconsistent #7900 #7902 #7916 @CabinfeverB\nFix the issue that Goroutine leaks when it is not closed properly #7782 @HuSharp\nFix the issue that pd-ctl cannot remove a scheduler that contains special characters #7798 @JmPotato\nFix the issue that the PD client might be blocked when obtaining TSO #7864 @CabinfeverB",
          "Fix the issue that data race occurs when the MergeLabels function is called #7535 @lhy1024",
          "Fix the issue that there is no output when the evict-leader-scheduler interface is called #7672 @CabinfeverB",
          "Fix the issue that the PD monitoring item learner-peer-count does not synchronize the old value after a leader switch #7728 @CabinfeverB",
          "Fix the memory leak issue that occurs when watch etcd is not turned off correctly #7807 @rleungx",
          "Fix the issue that some TSO logs do not print the error cause #7496 @CabinfeverB",
          "Fix the issue that there are unexpected negative monitoring metrics after restart #4489 @lhy1024",
          "Fix the issue that the Leader lease expires later than the log time #7700 @CabinfeverB",
          "Fix the issue that TiDB panics when TLS switches between TiDB (the PD client) and PD are inconsistent #7900 #7902 #7916 @CabinfeverB",
          "Fix the issue that Goroutine leaks when it is not closed properly #7782 @HuSharp",
          "Fix the issue that pd-ctl cannot remove a scheduler that contains special characters #7798 @JmPotato",
          "Fix the issue that the PD client might be blocked when obtaining TSO #7864 @CabinfeverB",
          "TiFlash\nFix the issue that TiFlash might panic due to unstable network connections with PD during replica migration #8323 @JaySon-Huang\nFix the issue that the memory usage increases significantly due to slow queries #8564 @JinheLin\nFix the issue that removing and then re-adding TiFlash replicas might lead to data corruption in TiFlash #8695 @JaySon-Huang\nFix the issue that TiFlash replica data might be accidentally deleted after performing point-in-time recovery (PITR) or executing FLASHBACK CLUSTER TO, which might result in data anomalies #8777 @JaySon-Huang\nFix the issue that TiFlash panics after executing ALTER TABLE ... MODIFY COLUMN ... NOT NULL, which changes nullable columns to non-nullable #8419 @JaySon-Huang\nFix the issue that in the disaggregated storage and compute architecture, queries might be permanently blocked after network isolation #8806 @JinheLin\nFix the issue that in the disaggregated storage and compute architecture, TiFlash might panic during shutdown #8837 @JaySon-Huang\nFix the issue that TiFlash might crash due to data race in case of remote reads #8685 @solotzg\nFix the issue that the CAST(AS JSON) function does not de-duplicate the JSON object key #8712 @SeaRise\nFix the issue that the ENUM column might cause TiFlash to crash during chunk encoding #8674 @yibin87",
          "Fix the issue that TiFlash might panic due to unstable network connections with PD during replica migration #8323 @JaySon-Huang",
          "Fix the issue that the memory usage increases significantly due to slow queries #8564 @JinheLin",
          "Fix the issue that removing and then re-adding TiFlash replicas might lead to data corruption in TiFlash #8695 @JaySon-Huang",
          "Fix the issue that TiFlash replica data might be accidentally deleted after performing point-in-time recovery (PITR) or executing FLASHBACK CLUSTER TO, which might result in data anomalies #8777 @JaySon-Huang",
          "Fix the issue that TiFlash panics after executing ALTER TABLE ... MODIFY COLUMN ... NOT NULL, which changes nullable columns to non-nullable #8419 @JaySon-Huang",
          "Fix the issue that in the disaggregated storage and compute architecture, queries might be permanently blocked after network isolation #8806 @JinheLin",
          "Fix the issue that in the disaggregated storage and compute architecture, TiFlash might panic during shutdown #8837 @JaySon-Huang",
          "Fix the issue that TiFlash might crash due to data race in case of remote reads #8685 @solotzg",
          "Fix the issue that the CAST(AS JSON) function does not de-duplicate the JSON object key #8712 @SeaRise",
          "Fix the issue that the ENUM column might cause TiFlash to crash during chunk encoding #8674 @yibin87",
          "Tools\nBackup & Restore (BR)\nFix the issue that the log backup checkpoint gets stuck when a Region is split or merged immediately after it becomes a leader #16469 @YuJuncen\nFix the issue that TiKV panics when a full backup fails to find a peer in some extreme cases #16394 @Leavrth\nFix the issue that log backup gets stuck after changing the TiKV IP address on the same node #50445 @3pointer\nFix the issue that BR cannot retry when encountering an error while reading file content from S3 #49942 @Leavrth\nFix the issue that when resuming from a checkpoint after data restore fails, an error the target cluster is not fresh occurs #50232 @Leavrth\nFix the issue that stopping a log backup task causes TiDB to crash #50839 @YuJuncen\nFix the issue that data restore is slowed down due to absence of a leader on a TiKV node #50566 @Leavrth\nFix the issue that full restore still requires the target cluster to be empty after the --filter option is specified #51009 @3pointer\nTiCDC\nFix the issue that the file sequence number generated by the storage service might not increment correctly when using the storage sink #10352 @CharlesCheung96\nFix the issue that TiCDC returns the ErrChangeFeedAlreadyExists error when concurrently creating multiple changefeeds #10430 @CharlesCheung96\nFix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96\nFix the issue that the changefeed reports an error after TRUNCATE PARTITION is executed on the upstream table #10522 @sdojjy\nFix the issue that snapshot lost caused by GC is not reported in time when resuming a changefeed and the checkpoint-ts of the changefeed is smaller than the GC safepoint of TiDB #10463 @sdojjy\nFix the issue that TiCDC fails to validate TIMESTAMP type checksum due to time zone mismatch after data integrity validation for single-row data is enabled #10573 @3AceShowHand\nFix the issue that the Syncpoint table might be incorrectly replicated #10576 @asddongmen\nFix the issue that OAuth2.0, TLS, and mTLS cannot be enabled properly when using Apache Pulsar as the downstream #10602 @asddongmen\nFix the issue that a changefeed might get stuck when TiKV upgrades, restarts, or evicts a leader #10584 @asddongmen\nFix the issue that data is written to a wrong CSV file due to wrong BarrierTS in scenarios where DDL statements are executed frequently #10668 @lidezhu\nFix the issue that data race in the KV client causes TiCDC to panic #10718 @asddongmen\nFix the issue TiCDC panics when scheduling table replication tasks #10613 @CharlesCheung96\nTiDB Data Migration (DM)\nFix the issue that data is lost when the upstream primary key is of binary type #10672 @GMHDBJD\nTiDB Lightning\nFix the performance regression issue caused by checking TiKV space #43636 @lance6716\nFix the issue that TiDB Lightning reports an error when encountering invalid symbolic link files during file scanning #49423 @lance6716\nFix the issue that TiDB Lightning fails to correctly parse date values containing 0 when NO_ZERO_IN_DATE is not included in sql_mode #50757 @GMHDBJD",
          "Backup & Restore (BR)\nFix the issue that the log backup checkpoint gets stuck when a Region is split or merged immediately after it becomes a leader #16469 @YuJuncen\nFix the issue that TiKV panics when a full backup fails to find a peer in some extreme cases #16394 @Leavrth\nFix the issue that log backup gets stuck after changing the TiKV IP address on the same node #50445 @3pointer\nFix the issue that BR cannot retry when encountering an error while reading file content from S3 #49942 @Leavrth\nFix the issue that when resuming from a checkpoint after data restore fails, an error the target cluster is not fresh occurs #50232 @Leavrth\nFix the issue that stopping a log backup task causes TiDB to crash #50839 @YuJuncen\nFix the issue that data restore is slowed down due to absence of a leader on a TiKV node #50566 @Leavrth\nFix the issue that full restore still requires the target cluster to be empty after the --filter option is specified #51009 @3pointer",
          "Fix the issue that the log backup checkpoint gets stuck when a Region is split or merged immediately after it becomes a leader #16469 @YuJuncen",
          "Fix the issue that TiKV panics when a full backup fails to find a peer in some extreme cases #16394 @Leavrth",
          "Fix the issue that log backup gets stuck after changing the TiKV IP address on the same node #50445 @3pointer",
          "Fix the issue that BR cannot retry when encountering an error while reading file content from S3 #49942 @Leavrth",
          "Fix the issue that when resuming from a checkpoint after data restore fails, an error the target cluster is not fresh occurs #50232 @Leavrth",
          "Fix the issue that stopping a log backup task causes TiDB to crash #50839 @YuJuncen",
          "Fix the issue that data restore is slowed down due to absence of a leader on a TiKV node #50566 @Leavrth",
          "Fix the issue that full restore still requires the target cluster to be empty after the --filter option is specified #51009 @3pointer",
          "TiCDC\nFix the issue that the file sequence number generated by the storage service might not increment correctly when using the storage sink #10352 @CharlesCheung96\nFix the issue that TiCDC returns the ErrChangeFeedAlreadyExists error when concurrently creating multiple changefeeds #10430 @CharlesCheung96\nFix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96\nFix the issue that the changefeed reports an error after TRUNCATE PARTITION is executed on the upstream table #10522 @sdojjy\nFix the issue that snapshot lost caused by GC is not reported in time when resuming a changefeed and the checkpoint-ts of the changefeed is smaller than the GC safepoint of TiDB #10463 @sdojjy\nFix the issue that TiCDC fails to validate TIMESTAMP type checksum due to time zone mismatch after data integrity validation for single-row data is enabled #10573 @3AceShowHand\nFix the issue that the Syncpoint table might be incorrectly replicated #10576 @asddongmen\nFix the issue that OAuth2.0, TLS, and mTLS cannot be enabled properly when using Apache Pulsar as the downstream #10602 @asddongmen\nFix the issue that a changefeed might get stuck when TiKV upgrades, restarts, or evicts a leader #10584 @asddongmen\nFix the issue that data is written to a wrong CSV file due to wrong BarrierTS in scenarios where DDL statements are executed frequently #10668 @lidezhu\nFix the issue that data race in the KV client causes TiCDC to panic #10718 @asddongmen\nFix the issue TiCDC panics when scheduling table replication tasks #10613 @CharlesCheung96",
          "Fix the issue that the file sequence number generated by the storage service might not increment correctly when using the storage sink #10352 @CharlesCheung96",
          "Fix the issue that TiCDC returns the ErrChangeFeedAlreadyExists error when concurrently creating multiple changefeeds #10430 @CharlesCheung96",
          "Fix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96",
          "Fix the issue that the changefeed reports an error after TRUNCATE PARTITION is executed on the upstream table #10522 @sdojjy",
          "Fix the issue that snapshot lost caused by GC is not reported in time when resuming a changefeed and the checkpoint-ts of the changefeed is smaller than the GC safepoint of TiDB #10463 @sdojjy",
          "Fix the issue that TiCDC fails to validate TIMESTAMP type checksum due to time zone mismatch after data integrity validation for single-row data is enabled #10573 @3AceShowHand",
          "Fix the issue that the Syncpoint table might be incorrectly replicated #10576 @asddongmen",
          "Fix the issue that OAuth2.0, TLS, and mTLS cannot be enabled properly when using Apache Pulsar as the downstream #10602 @asddongmen",
          "Fix the issue that a changefeed might get stuck when TiKV upgrades, restarts, or evicts a leader #10584 @asddongmen",
          "Fix the issue that data is written to a wrong CSV file due to wrong BarrierTS in scenarios where DDL statements are executed frequently #10668 @lidezhu",
          "Fix the issue that data race in the KV client causes TiCDC to panic #10718 @asddongmen",
          "Fix the issue TiCDC panics when scheduling table replication tasks #10613 @CharlesCheung96",
          "TiDB Data Migration (DM)\nFix the issue that data is lost when the upstream primary key is of binary type #10672 @GMHDBJD",
          "Fix the issue that data is lost when the upstream primary key is of binary type #10672 @GMHDBJD",
          "TiDB Lightning\nFix the performance regression issue caused by checking TiKV space #43636 @lance6716\nFix the issue that TiDB Lightning reports an error when encountering invalid symbolic link files during file scanning #49423 @lance6716\nFix the issue that TiDB Lightning fails to correctly parse date values containing 0 when NO_ZERO_IN_DATE is not included in sql_mode #50757 @GMHDBJD",
          "Fix the performance regression issue caused by checking TiKV space #43636 @lance6716",
          "Fix the issue that TiDB Lightning reports an error when encountering invalid symbolic link files during file scanning #49423 @lance6716",
          "Fix the issue that TiDB Lightning fails to correctly parse date values containing 0 when NO_ZERO_IN_DATE is not included in sql_mode #50757 @GMHDBJD"
        ]
      }
    ]
  },
  {
    "major_version": "7.6",
    "patches": [
      {
        "version": "7.6.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.6.0/",
        "changes": [
          "TiDB\nWhen a non-binary collation is set and the query includes LIKE, the optimizer generates an IndexRangeScan to improve the execution efficiency #48181 #49138 @time-and-fate\nEnhance the ability to convert OUTER JOIN to INNER JOIN in specific scenarios #49616 @qw4990\nImprove the balance of Distributed eXecution Framework (DXF) tasks in the scenario where nodes are restarted #47298 @ywqzzy\nSupport multiple accelerated ADD INDEX DDL tasks to be queued for execution, instead of falling back to normal ADD INDEX tasks #47758 @tangenta\nImprove the compatibility of ALTER TABLE ... ROW_FORMAT #48754 @hawkingrei\nModify the CANCEL IMPORT JOB statement to a synchronous statement #48736 @D3Hunter\nImprove the speed of adding indexes to empty tables #49682 @zimulala\nWhen the columns of a correlated subquery are not referenced by the upper-level operator, the correlated subquery can be eliminated directly #45822 @King-Dylan\nEXCHANGE PARTITION operations now trigger maintenance updates of statistics #47354 @hi-rustin\nTiDB supports building binary files that meet the requirements of Federal Information Processing Standards (FIPS) #47948 @tiancaiamao\nOptimize the TiDB implementation when handling some type conversions and fix related issues #47945 #47864 #47829 #47816 @YangKeao @lcwangchao\nWhen obtaining the schema version, TiDB uses the KV timeout feature to read by default, reducing the impact of slow meta Region leader reads on schema version updates #48125 @cfzjywxk",
          "When a non-binary collation is set and the query includes LIKE, the optimizer generates an IndexRangeScan to improve the execution efficiency #48181 #49138 @time-and-fate",
          "Enhance the ability to convert OUTER JOIN to INNER JOIN in specific scenarios #49616 @qw4990",
          "Improve the balance of Distributed eXecution Framework (DXF) tasks in the scenario where nodes are restarted #47298 @ywqzzy",
          "Support multiple accelerated ADD INDEX DDL tasks to be queued for execution, instead of falling back to normal ADD INDEX tasks #47758 @tangenta",
          "Improve the compatibility of ALTER TABLE ... ROW_FORMAT #48754 @hawkingrei",
          "Modify the CANCEL IMPORT JOB statement to a synchronous statement #48736 @D3Hunter",
          "Improve the speed of adding indexes to empty tables #49682 @zimulala",
          "When the columns of a correlated subquery are not referenced by the upper-level operator, the correlated subquery can be eliminated directly #45822 @King-Dylan",
          "EXCHANGE PARTITION operations now trigger maintenance updates of statistics #47354 @hi-rustin",
          "TiDB supports building binary files that meet the requirements of Federal Information Processing Standards (FIPS) #47948 @tiancaiamao",
          "Optimize the TiDB implementation when handling some type conversions and fix related issues #47945 #47864 #47829 #47816 @YangKeao @lcwangchao",
          "When obtaining the schema version, TiDB uses the KV timeout feature to read by default, reducing the impact of slow meta Region leader reads on schema version updates #48125 @cfzjywxk",
          "TiKV\nAdd an API endpoint /async_tasks for querying asynchronous tasks #15759 @YuJuncen\nAdd priority labels to gRPC monitoring to display resource group data of different priorities #49318 @bufferflies\nSupport dynamically adjusting the value of readpool.unified.max-tasks-per-worker, which can calculate the number of running tasks separately based on priority #16026 @glorv\nSupport dynamically adjusting the number of GC threads, with a default value of 1 #16101 @tonyxuqqi",
          "Add an API endpoint /async_tasks for querying asynchronous tasks #15759 @YuJuncen",
          "Add priority labels to gRPC monitoring to display resource group data of different priorities #49318 @bufferflies",
          "Support dynamically adjusting the value of readpool.unified.max-tasks-per-worker, which can calculate the number of running tasks separately based on priority #16026 @glorv",
          "Support dynamically adjusting the number of GC threads, with a default value of 1 #16101 @tonyxuqqi",
          "PD\nImprove the availability of PD TSO during disk jitter #7377 @HuSharp",
          "Improve the availability of PD TSO during disk jitter #7377 @HuSharp",
          "TiFlash\nReduce the impact of disk performance jitter on read latency #8583 @JaySon-Huang\nReduce the impact of background GC tasks on read and write task latency #8650 @JaySon-Huang\nSupport merging identical data reading operations in a storage-compute separation architecture to improve data scanning performance under high concurrency #6834 @JinheLin\nOptimize the execution performance of SEMI JOIN and LEFT OUTER SEMIJOIN when only JOIN KEY equality conditions are included in JOIN ON #47424 @gengliqi",
          "Reduce the impact of disk performance jitter on read latency #8583 @JaySon-Huang",
          "Reduce the impact of background GC tasks on read and write task latency #8650 @JaySon-Huang",
          "Support merging identical data reading operations in a storage-compute separation architecture to improve data scanning performance under high concurrency #6834 @JinheLin",
          "Optimize the execution performance of SEMI JOIN and LEFT OUTER SEMIJOIN when only JOIN KEY equality conditions are included in JOIN ON #47424 @gengliqi",
          "Tools\nBackup & Restore (BR)\nSupport authentication using Amazon S3 session-token and assume-role during full backup recovery phase #39832 @3pointer\nIntroduce a new integration test for Point-In-Time Recovery (PITR) in the delete range scenario, enhancing PITR stability #47738 @Leavrth\nImprove the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth\nRefactor the BR exception handling mechanism to increase tolerance for unknown errors #47656 @3pointer\nTiCDC\nImprove the performance of TiCDC replicating data to object storage by increasing parallelism #10098 @CharlesCheung96\nSupport making TiCDC Canal-JSON content format compatible with the content format of the official Canal output by setting content-compatible=true in the sink-uri configuration #10106 @3AceShowHand\nTiDB Data Migration (DM)\nAdd configurations for full data physical import to DM OpenAPI #10193 @GMHDBJD\nTiDB Lightning\nSupport configuring multiple PD addresses to enhance stability #49515 @mittalrishabh\nSupport configuring the block-size parameter to control the I/O block size for sorting local files to improve performance #45037 @mittalrishabh",
          "Backup & Restore (BR)\nSupport authentication using Amazon S3 session-token and assume-role during full backup recovery phase #39832 @3pointer\nIntroduce a new integration test for Point-In-Time Recovery (PITR) in the delete range scenario, enhancing PITR stability #47738 @Leavrth\nImprove the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth\nRefactor the BR exception handling mechanism to increase tolerance for unknown errors #47656 @3pointer",
          "Support authentication using Amazon S3 session-token and assume-role during full backup recovery phase #39832 @3pointer",
          "Introduce a new integration test for Point-In-Time Recovery (PITR) in the delete range scenario, enhancing PITR stability #47738 @Leavrth",
          "Improve the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth",
          "Refactor the BR exception handling mechanism to increase tolerance for unknown errors #47656 @3pointer",
          "TiCDC\nImprove the performance of TiCDC replicating data to object storage by increasing parallelism #10098 @CharlesCheung96\nSupport making TiCDC Canal-JSON content format compatible with the content format of the official Canal output by setting content-compatible=true in the sink-uri configuration #10106 @3AceShowHand",
          "Improve the performance of TiCDC replicating data to object storage by increasing parallelism #10098 @CharlesCheung96",
          "Support making TiCDC Canal-JSON content format compatible with the content format of the official Canal output by setting content-compatible=true in the sink-uri configuration #10106 @3AceShowHand",
          "TiDB Data Migration (DM)\nAdd configurations for full data physical import to DM OpenAPI #10193 @GMHDBJD",
          "Add configurations for full data physical import to DM OpenAPI #10193 @GMHDBJD",
          "TiDB Lightning\nSupport configuring multiple PD addresses to enhance stability #49515 @mittalrishabh\nSupport configuring the block-size parameter to control the I/O block size for sorting local files to improve performance #45037 @mittalrishabh",
          "Support configuring multiple PD addresses to enhance stability #49515 @mittalrishabh",
          "Support configuring the block-size parameter to control the I/O block size for sorting local files to improve performance #45037 @mittalrishabh",
          "TiDB\nFix the issue that TiDB panics and reports an error invalid memory address or nil pointer dereference #42739 @CbcWestwolf\nFix the TiDB node panic issue that occurs when DDL jobID is restored to 0 #46296 @jiyfhust\nFix the issue that the same query plan has different PLAN_DIGEST values in some cases #47634 @King-Dylan\nFix the issue that executing UNION ALL with the DUAL table as the first subnode might cause an error #48755 @winoros\nFix the issue that queries containing common table expressions (CTEs) report runtime error: index out of range [32] with length 32 when tidb_max_chunk_size is set to a small value #48808 @guo-shaoge\nFix the issue of Goroutine leak when using AUTO_ID_CACHE=1 #46324 @tiancaiamao\nFix the issue that the result of COUNT(INT) calculated by MPP might be incorrect #48643 @AilinKid\nFix the issue that executing ALTER TABLE ... LAST PARTITION fails when the partition column type is DATETIME #48814 @crazycs520\nFix the issue that using the _ wildcard in LIKE when the data contains trailing spaces can result in incorrect query results #48983 @time-and-fate\nFix the issue that high CPU usage of TiDB occurs due to long-term memory pressure caused by tidb_server_memory_limit #48741 @XuHuaiyu\nFix the issue that the query result is incorrect when an ENUM type column is used as the join key #48991 @winoros\nFix the issue that queries containing CTEs unexpectedly get stuck when the memory limit is exceeded #49096 @AilinKid\nFix the issue that TiDB server might consume a significant amount of resources when the enterprise plugin for audit logging is used #49273 @lcwangchao\nFix the issue that the optimizer incorrectly converts TiFlash selection path to the DUAL table in specific scenarios #49285 @AilinKid\nFix the issue that UPDATE or DELETE statements containing WITH RECURSIVE CTEs might produce incorrect results #48969 @winoros\nFix the issue that a query containing the IndexHashJoin operator gets stuck when memory exceeds tidb_mem_quota_query #49033 @XuHuaiyu\nFix the issue that in non-strict mode (sql_mode = ''), truncation during executing INSERT still reports an error #49369 @tiancaiamao\nFix the issue that CTE queries might report an error type assertion for CTEStorageMap failed during the retry process #46522 @tiancaiamao\nFix the issue that LIMIT and ORDER BY might be invalid in nested UNION queries #49377 @AilinKid\nFix the issue that parsing invalid values of ENUM or SET types would directly cause SQL statement errors #49487 @winoros\nFix the issue of excessive statistical error in constructing statistics caused by Golang's implicit conversion algorithm #49801 @qw4990\nFix the issue that Daylight Saving Time is displayed incorrectly in some time zones #49586 @overvenus\nFix the issue that tables with AUTO_ID_CACHE=1 might lead to gRPC client leaks when there are a large number of tables #48869 @tiancaiamao\nFix the issue that TiDB server might panic during graceful shutdown #36793 @bb7133\nFix the issue that ADMIN RECOVER INDEX reports ERROR 1105 when processing a table containing CommonHandle #47687 @Defined2014\nFix the issue that specifying placement rules when executing ALTER TABLE t PARTITION BY reports the error ERROR 8239 #48630 @mjonss\nFix the issue that the START_TIME column type in INFORMATION_SCHEMA.CLUSTER_INFO is not valid #45221 @dveeden\nFix the issue that invalid EXTRA column type in INFORMATION_SCHEMA.COLUMNS leads to the error Data Too Long, field len 30, data len 45 #42030 @tangenta\nFix the issue that IN (...) causes different plan digests in INFORMATION_SCHEMA.STATEMENTS_SUMMARY #33559 @King-Dylan\nFix the issue that when converting the TIME type to the YEAR type, the returned result mixes TIME and the year #48557 @YangKeao\nFix the issue that disabling tidb_enable_collect_execution_info causes the coprocessor cache to panic #48212 @you06\nFix the issue that TiDB crashes when shuffleExec quits unexpectedly #48230 @wshwsh12\nFix the issue that static CALIBRATE RESOURCE relies on the Prometheus data #49174 @glorv\nFix the issue that when adding a large interval to a date, it returns an incorrect result. After the fix, an interval with an invalid prefix or the string true is treated as zero, which is consistent with MySQL 8.0 #49227 @lcwangchao\nFix the issue that the ROW function incorrectly infers the null type and causes an unexpected error #49015 @wshwsh12\nFix the issue that the ILIKE function might cause data race in some scenarios #49677 @lcwangchao\nFix the issue that query results are incorrect due to STREAM_AGG() incorrectly handling CI #49902 @wshwsh12\nFix the issue that encoding fails when converting bytes to TIME #47346 @wshwsh12\nFix the issue that the behavior of the ENFORCED option in the CHECK constraint is inconsistent with MySQL 8.0 #47567 #47631 @jiyfhust\nFix the issue that DDL statements with the CHECK constraint are stuck #47632 @jiyfhust\nFix the issue that adding index fails for DDL statements due to out of memory #47862 @GMHDBJD\nFix the issue that upgrading the cluster during executing ADD INDEX might cause the data to be inconsistent with the indexes #46306 @zimulala\nFix the issue that executing ADMIN CHECK after updating the tidb_mem_quota_query system variable returns ERROR 8175 #49258 @tangenta\nFix the issue that when ALTER TABLE modifies the type of a column referenced by a foreign key, the change in DECIMAL precision is not reported as an error #49836 @yoshikipom\nFix the issue that when ALTER TABLE modifies the type of a column referenced by a foreign key, the change in INTEGER length is reported as an error by mistake #47702 @yoshikipom\nFix the issue that in some scenarios the expression index does not detect that the divisor is 0 #50053 @lcwangchao\nMitigate the issue that TiDB nodes might encounter OOM errors when dealing with a large number of tables #50077 @zimulala\nFix the issue that DDL gets stuck in the running state during cluster rolling restart #50073 @tangenta\nFix the issue that results might be incorrect when accessing global indexes of partitioned tables using PointGet or BatchPointGet operators #47539 @L-maple\nFix the issue that MPP plans might not be selected when indexes on generated columns are set as visible #47766 @AilinKid\nFix the issue that LIMIT might not be pushed down to the OR type Index Merge #48588 @AilinKid\nFix the issue that duplicate built-in rows might exist in the mysql.bind_info table after BR import #46527 @qw4990\nFix the issue that statistics for partitioned tables are not updated as expected after partitions are dropped #48182 @hi-rustin\nFix the issue that errors might be returned during the concurrent merging of global statistics for partitioned tables #48713 @hawkingrei\nFix the issue that query results might be incorrect when the LIKE operator is used for index range scans on a column with PADDING SPACE #48821 @time-and-fate\nFix the issue that generated columns might trigger concurrent read and write on memory and result in data race #44919 @tangenta\nFix the issue that ANALYZE TABLE might still collect Top1 statistics even when WITH 0 TOPN (indicating not collecting topN statistics) is specified #49080 @hawkingrei\nFix the issue that invalid optimizer hints might cause valid hints to be ineffective #49308 @hawkingrei\nFix the issue that statistics for Hash partitioned tables are not correspondingly updated when you add, drop, reorganize, or TRUNCATE partitions #48235 #48233 #48226 #48231 @hi-rustin\nFix the issue that after the time window for automatic statistics updates is configured, statistics might still be updated outside that time window #49552 @hawkingrei\nFix the issue that old statistics are not automatically deleted when a partitioned table is converted to a non-partitioned table #49547 @hi-rustin\nFix the issue that old statistics are not automatically deleted when you clear data from a non-partitioned table using TRUNCATE TABLE #49663 @hi-rustin\nFix the issue that enforced sorting might become ineffective when a query uses optimizer hints (such as STREAM_AGG()) that enforce sorting and its execution plan contains IndexMerge #49605 @AilinKid\nFix the issue that histogram statistics might not be parsed into readable strings when the histogram boundary contains NULL #49823 @AilinKid\nFix the issue that executing queries containing the GROUP_CONCAT(ORDER BY) syntax might return errors #49986 @AilinKid\nFix the issue that UPDATE, DELETE, and INSERT statements return overflow errors instead of warnings when the SQL_MODE is not strict #49137 @YangKeao\nFix the issue that data cannot be inserted when a table has a composite index consisting of multi-valued indexes and non-binary type strings #49680 @YangKeao\nFix the issue that LIMIT in multi-level nested UNION queries might become ineffective #49874 @Defined2014\nFix the issue that querying partitioned tables with the BETWEEN ... AND ... condition returns incorrect results #49842 @Defined2014\nFix the issue that hints cannot be used in REPLACE INTO statements #34325 @YangKeao\nFix the issue that TiDB might select the wrong partition when querying Hash partitioned tables #50044 @Defined2014\nFix the connection error that occurs when you use MariaDB Connector/J with compression enabled #49845 @onlyacat",
          "Fix the issue that TiDB panics and reports an error invalid memory address or nil pointer dereference #42739 @CbcWestwolf",
          "Fix the TiDB node panic issue that occurs when DDL jobID is restored to 0 #46296 @jiyfhust",
          "Fix the issue that the same query plan has different PLAN_DIGEST values in some cases #47634 @King-Dylan",
          "Fix the issue that executing UNION ALL with the DUAL table as the first subnode might cause an error #48755 @winoros",
          "Fix the issue that queries containing common table expressions (CTEs) report runtime error: index out of range [32] with length 32 when tidb_max_chunk_size is set to a small value #48808 @guo-shaoge",
          "Fix the issue of Goroutine leak when using AUTO_ID_CACHE=1 #46324 @tiancaiamao",
          "Fix the issue that the result of COUNT(INT) calculated by MPP might be incorrect #48643 @AilinKid",
          "Fix the issue that executing ALTER TABLE ... LAST PARTITION fails when the partition column type is DATETIME #48814 @crazycs520",
          "Fix the issue that using the _ wildcard in LIKE when the data contains trailing spaces can result in incorrect query results #48983 @time-and-fate",
          "Fix the issue that high CPU usage of TiDB occurs due to long-term memory pressure caused by tidb_server_memory_limit #48741 @XuHuaiyu",
          "Fix the issue that the query result is incorrect when an ENUM type column is used as the join key #48991 @winoros",
          "Fix the issue that queries containing CTEs unexpectedly get stuck when the memory limit is exceeded #49096 @AilinKid",
          "Fix the issue that TiDB server might consume a significant amount of resources when the enterprise plugin for audit logging is used #49273 @lcwangchao",
          "Fix the issue that the optimizer incorrectly converts TiFlash selection path to the DUAL table in specific scenarios #49285 @AilinKid",
          "Fix the issue that UPDATE or DELETE statements containing WITH RECURSIVE CTEs might produce incorrect results #48969 @winoros",
          "Fix the issue that a query containing the IndexHashJoin operator gets stuck when memory exceeds tidb_mem_quota_query #49033 @XuHuaiyu",
          "Fix the issue that in non-strict mode (sql_mode = ''), truncation during executing INSERT still reports an error #49369 @tiancaiamao",
          "Fix the issue that CTE queries might report an error type assertion for CTEStorageMap failed during the retry process #46522 @tiancaiamao",
          "Fix the issue that LIMIT and ORDER BY might be invalid in nested UNION queries #49377 @AilinKid",
          "Fix the issue that parsing invalid values of ENUM or SET types would directly cause SQL statement errors #49487 @winoros",
          "Fix the issue of excessive statistical error in constructing statistics caused by Golang's implicit conversion algorithm #49801 @qw4990",
          "Fix the issue that Daylight Saving Time is displayed incorrectly in some time zones #49586 @overvenus",
          "Fix the issue that tables with AUTO_ID_CACHE=1 might lead to gRPC client leaks when there are a large number of tables #48869 @tiancaiamao",
          "Fix the issue that TiDB server might panic during graceful shutdown #36793 @bb7133",
          "Fix the issue that ADMIN RECOVER INDEX reports ERROR 1105 when processing a table containing CommonHandle #47687 @Defined2014",
          "Fix the issue that specifying placement rules when executing ALTER TABLE t PARTITION BY reports the error ERROR 8239 #48630 @mjonss",
          "Fix the issue that the START_TIME column type in INFORMATION_SCHEMA.CLUSTER_INFO is not valid #45221 @dveeden",
          "Fix the issue that invalid EXTRA column type in INFORMATION_SCHEMA.COLUMNS leads to the error Data Too Long, field len 30, data len 45 #42030 @tangenta",
          "Fix the issue that IN (...) causes different plan digests in INFORMATION_SCHEMA.STATEMENTS_SUMMARY #33559 @King-Dylan",
          "Fix the issue that when converting the TIME type to the YEAR type, the returned result mixes TIME and the year #48557 @YangKeao",
          "Fix the issue that disabling tidb_enable_collect_execution_info causes the coprocessor cache to panic #48212 @you06",
          "Fix the issue that TiDB crashes when shuffleExec quits unexpectedly #48230 @wshwsh12",
          "Fix the issue that static CALIBRATE RESOURCE relies on the Prometheus data #49174 @glorv",
          "Fix the issue that when adding a large interval to a date, it returns an incorrect result. After the fix, an interval with an invalid prefix or the string true is treated as zero, which is consistent with MySQL 8.0 #49227 @lcwangchao",
          "Fix the issue that the ROW function incorrectly infers the null type and causes an unexpected error #49015 @wshwsh12",
          "Fix the issue that the ILIKE function might cause data race in some scenarios #49677 @lcwangchao",
          "Fix the issue that query results are incorrect due to STREAM_AGG() incorrectly handling CI #49902 @wshwsh12",
          "Fix the issue that encoding fails when converting bytes to TIME #47346 @wshwsh12",
          "Fix the issue that the behavior of the ENFORCED option in the CHECK constraint is inconsistent with MySQL 8.0 #47567 #47631 @jiyfhust",
          "Fix the issue that DDL statements with the CHECK constraint are stuck #47632 @jiyfhust",
          "Fix the issue that adding index fails for DDL statements due to out of memory #47862 @GMHDBJD",
          "Fix the issue that upgrading the cluster during executing ADD INDEX might cause the data to be inconsistent with the indexes #46306 @zimulala",
          "Fix the issue that executing ADMIN CHECK after updating the tidb_mem_quota_query system variable returns ERROR 8175 #49258 @tangenta",
          "Fix the issue that when ALTER TABLE modifies the type of a column referenced by a foreign key, the change in DECIMAL precision is not reported as an error #49836 @yoshikipom",
          "Fix the issue that when ALTER TABLE modifies the type of a column referenced by a foreign key, the change in INTEGER length is reported as an error by mistake #47702 @yoshikipom",
          "Fix the issue that in some scenarios the expression index does not detect that the divisor is 0 #50053 @lcwangchao",
          "Mitigate the issue that TiDB nodes might encounter OOM errors when dealing with a large number of tables #50077 @zimulala",
          "Fix the issue that DDL gets stuck in the running state during cluster rolling restart #50073 @tangenta",
          "Fix the issue that results might be incorrect when accessing global indexes of partitioned tables using PointGet or BatchPointGet operators #47539 @L-maple",
          "Fix the issue that MPP plans might not be selected when indexes on generated columns are set as visible #47766 @AilinKid",
          "Fix the issue that LIMIT might not be pushed down to the OR type Index Merge #48588 @AilinKid",
          "Fix the issue that duplicate built-in rows might exist in the mysql.bind_info table after BR import #46527 @qw4990",
          "Fix the issue that statistics for partitioned tables are not updated as expected after partitions are dropped #48182 @hi-rustin",
          "Fix the issue that errors might be returned during the concurrent merging of global statistics for partitioned tables #48713 @hawkingrei",
          "Fix the issue that query results might be incorrect when the LIKE operator is used for index range scans on a column with PADDING SPACE #48821 @time-and-fate",
          "Fix the issue that generated columns might trigger concurrent read and write on memory and result in data race #44919 @tangenta",
          "Fix the issue that ANALYZE TABLE might still collect Top1 statistics even when WITH 0 TOPN (indicating not collecting topN statistics) is specified #49080 @hawkingrei",
          "Fix the issue that invalid optimizer hints might cause valid hints to be ineffective #49308 @hawkingrei",
          "Fix the issue that statistics for Hash partitioned tables are not correspondingly updated when you add, drop, reorganize, or TRUNCATE partitions #48235 #48233 #48226 #48231 @hi-rustin",
          "Fix the issue that after the time window for automatic statistics updates is configured, statistics might still be updated outside that time window #49552 @hawkingrei",
          "Fix the issue that old statistics are not automatically deleted when a partitioned table is converted to a non-partitioned table #49547 @hi-rustin",
          "Fix the issue that old statistics are not automatically deleted when you clear data from a non-partitioned table using TRUNCATE TABLE #49663 @hi-rustin",
          "Fix the issue that enforced sorting might become ineffective when a query uses optimizer hints (such as STREAM_AGG()) that enforce sorting and its execution plan contains IndexMerge #49605 @AilinKid",
          "Fix the issue that histogram statistics might not be parsed into readable strings when the histogram boundary contains NULL #49823 @AilinKid",
          "Fix the issue that executing queries containing the GROUP_CONCAT(ORDER BY) syntax might return errors #49986 @AilinKid",
          "Fix the issue that UPDATE, DELETE, and INSERT statements return overflow errors instead of warnings when the SQL_MODE is not strict #49137 @YangKeao",
          "Fix the issue that data cannot be inserted when a table has a composite index consisting of multi-valued indexes and non-binary type strings #49680 @YangKeao",
          "Fix the issue that LIMIT in multi-level nested UNION queries might become ineffective #49874 @Defined2014",
          "Fix the issue that querying partitioned tables with the BETWEEN ... AND ... condition returns incorrect results #49842 @Defined2014",
          "Fix the issue that hints cannot be used in REPLACE INTO statements #34325 @YangKeao",
          "Fix the issue that TiDB might select the wrong partition when querying Hash partitioned tables #50044 @Defined2014",
          "Fix the connection error that occurs when you use MariaDB Connector/J with compression enabled #49845 @onlyacat",
          "TiKV\nFix the issue that the damaged SST files might spread to other TiKV nodes and cause TiKV to panic #15986 @Connor1996\nFix the issue that Online Unsafe Recovery cannot handle merge abort #15580 @v01dstar\nFix the issue that the joint state of DR Auto-Sync might time out when scaling out #15817 @Connor1996\nFix the issue that blob-run-mode in Titan cannot be updated online #15978 @tonyxuqqi\nFix the issue that Resolved TS might be blocked for two hours #11847 #15520 #39130 @overvenus\nFix the issue that Flashback might get stuck when encountering notLeader or regionNotFound #15712 @HuSharp\nFix the issue that if TiKV runs extremely slowly, it might panic after Region merge #16111 @overvenus\nFix the issue that TiKV cannot read in-memory pessimistic locks when GC scans expired locks #15066 @cfzjywxk\nFix the issue that the blob file size in Titan monitoring is incorrect #15971 @Connor1996\nFix the issue that replicating large tables using TiCDC might cause TiKV to OOM #16035 @overvenus\nFix the issue that TiDB and TiKV might produce inconsistent results when processing DECIMAL arithmetic multiplication truncation #16268 @solotzg\nFix the issue that cast_duration_as_time might return incorrect results #16211 @gengliqi\nFix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus\nFix the issue that TiKV might panic when gRPC threads are checking is_shutdown #16236 @pingyu",
          "Fix the issue that the damaged SST files might spread to other TiKV nodes and cause TiKV to panic #15986 @Connor1996",
          "Fix the issue that Online Unsafe Recovery cannot handle merge abort #15580 @v01dstar",
          "Fix the issue that the joint state of DR Auto-Sync might time out when scaling out #15817 @Connor1996",
          "Fix the issue that blob-run-mode in Titan cannot be updated online #15978 @tonyxuqqi",
          "Fix the issue that Resolved TS might be blocked for two hours #11847 #15520 #39130 @overvenus",
          "Fix the issue that Flashback might get stuck when encountering notLeader or regionNotFound #15712 @HuSharp",
          "Fix the issue that if TiKV runs extremely slowly, it might panic after Region merge #16111 @overvenus",
          "Fix the issue that TiKV cannot read in-memory pessimistic locks when GC scans expired locks #15066 @cfzjywxk",
          "Fix the issue that the blob file size in Titan monitoring is incorrect #15971 @Connor1996",
          "Fix the issue that replicating large tables using TiCDC might cause TiKV to OOM #16035 @overvenus",
          "Fix the issue that TiDB and TiKV might produce inconsistent results when processing DECIMAL arithmetic multiplication truncation #16268 @solotzg",
          "Fix the issue that cast_duration_as_time might return incorrect results #16211 @gengliqi",
          "Fix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus",
          "Fix the issue that TiKV might panic when gRPC threads are checking is_shutdown #16236 @pingyu",
          "PD\nFix the issue that the etcd health check in PD does not remove expired addresses #7226 @iosmanthus\nFix the issue that when PD leader is transferred and there is a network partition between the new leader and the PD client, the PD client fails to update the information of the leader #7416 @CabinfeverB\nFix some security issues by upgrading the version of Gin Web Framework from v1.8.1 to v1.9.1 #7438 @niubell\nFix the issue that the orphan peer is deleted when the number of replicas does not meet the requirements #7584 @bufferflies",
          "Fix the issue that the etcd health check in PD does not remove expired addresses #7226 @iosmanthus",
          "Fix the issue that when PD leader is transferred and there is a network partition between the new leader and the PD client, the PD client fails to update the information of the leader #7416 @CabinfeverB",
          "Fix some security issues by upgrading the version of Gin Web Framework from v1.8.1 to v1.9.1 #7438 @niubell",
          "Fix the issue that the orphan peer is deleted when the number of replicas does not meet the requirements #7584 @bufferflies",
          "TiFlash\nFix the issue of memory leak when TiFlash encounters memory limitation during query #8447 @JinheLin\nFix the issue that data of TiFlash replicas would still be garbage collected after executing FLASHBACK DATABASE #8450 @JaySon-Huang\nFix the issue that the memory usage increases significantly due to slow queries #8564 @JinheLin\nFix the issue that some TiFlash replica data cannot be recovered through RECOVER TABLE or FLASHBACK TABLE in scenarios with frequent execution of CREATE TABLE and DROP TABLE #1664 @JaySon-Huang\nFix the issue that query results are incorrect when querying with filtering conditions like ColumnRef in (Literal, Func...) #8631 @Lloyd-Pottiger\nFix the TiFlash panic issue when TiFlash encounters conflicts during concurrent DDL execution #8578 @JaySon-Huang\nFix the issue that TiFlash might not be able to select the GC owner of object storage data under the disaggregated storage and compute architecture #8519 @JaySon-Huang\nFix the issue that the lowerUTF8 and upperUTF8 functions do not allow characters in different cases to occupy different bytes #8484 @gengliqi\nFix the issue that TiFlash incorrectly handles ENUM when the ENUM value is 0 #8311 @solotzg\nFix the incompatibility issue in the INET_NTOA() expression #8211 @solotzg\nFix the potential OOM issue that might occur when scanning multiple partitioned tables during stream read #8505 @gengliqi\nFix the issue that short queries executed successfully print excessive info logs #8592 @windtalker\nFix the issue that TiFlash might crash when it is stopped #8550 @guo-shaoge\nFix the random invalid memory access issue that might occur with GREATEST or LEAST functions containing constant string parameters #8604 @windtalker",
          "Fix the issue of memory leak when TiFlash encounters memory limitation during query #8447 @JinheLin",
          "Fix the issue that data of TiFlash replicas would still be garbage collected after executing FLASHBACK DATABASE #8450 @JaySon-Huang",
          "Fix the issue that the memory usage increases significantly due to slow queries #8564 @JinheLin",
          "Fix the issue that some TiFlash replica data cannot be recovered through RECOVER TABLE or FLASHBACK TABLE in scenarios with frequent execution of CREATE TABLE and DROP TABLE #1664 @JaySon-Huang",
          "Fix the issue that query results are incorrect when querying with filtering conditions like ColumnRef in (Literal, Func...) #8631 @Lloyd-Pottiger",
          "Fix the TiFlash panic issue when TiFlash encounters conflicts during concurrent DDL execution #8578 @JaySon-Huang",
          "Fix the issue that TiFlash might not be able to select the GC owner of object storage data under the disaggregated storage and compute architecture #8519 @JaySon-Huang",
          "Fix the issue that the lowerUTF8 and upperUTF8 functions do not allow characters in different cases to occupy different bytes #8484 @gengliqi",
          "Fix the issue that TiFlash incorrectly handles ENUM when the ENUM value is 0 #8311 @solotzg",
          "Fix the incompatibility issue in the INET_NTOA() expression #8211 @solotzg",
          "Fix the potential OOM issue that might occur when scanning multiple partitioned tables during stream read #8505 @gengliqi",
          "Fix the issue that short queries executed successfully print excessive info logs #8592 @windtalker",
          "Fix the issue that TiFlash might crash when it is stopped #8550 @guo-shaoge",
          "Fix the random invalid memory access issue that might occur with GREATEST or LEAST functions containing constant string parameters #8604 @windtalker",
          "Tools\nBackup & Restore (BR)\nFix the issue that BR generates incorrect URIs for external storage files #48452 @3AceShowHand\nFix the issue that the log backup task can start but does not work properly if failing to connect to PD during task initialization #16056 @YuJuncen\nFix the issue that the log backup task might encounter memory leak and fail to run properly after startup #16070 @YuJuncen\nFix the issue that inserting data into the system table mysql.gc_delete_range during the PITR process returns an error #49346 @Leavrth\nFix the issue that the Unsupported collation error is reported when you restore data from backups of an old version #49466 @3pointer\nFix the issue that permissions are not updated timely after user tables are recovered through snapshots in certain scenarios #49394 @Leavrth\nTiCDC\nFix the issue that the WHERE clause does not use the primary key as a condition when replicating DELETE statements in certain scenarios #9812 @asddongmen\nFix the issue that the TiCDC server might panic when replicating data to an object storage service #10137 @sdojjy\nFix the potential data race issue during kv-client initialization #10095 @3AceShowHand\nFix the issue that TiCDC mistakenly closes the connection with TiKV in certain special scenarios #10239 @hicqu\nFix the issue that TiCDC server might panic when executing lossy DDL statements in upstream #9739 @hicqu\nFix the issue that checkpoint-ts might get stuck when TiCDC replicates data to downstream MySQL #10334 @zhangjinpeng87\nTiDB Data Migration (DM)\nFix the issue that DM encounters \"event type truncate not valid\" error that causes the upgrade to fail #10282 @GMHDBJD\nFix the performance degradation issue when replicating data in GTID mode #9676 @feran-morgan-pingcap\nFix the issue that a migration task error occurs when the downstream table structure contains shard_row_id_bits #10308 @GMHDBJD",
          "Backup & Restore (BR)\nFix the issue that BR generates incorrect URIs for external storage files #48452 @3AceShowHand\nFix the issue that the log backup task can start but does not work properly if failing to connect to PD during task initialization #16056 @YuJuncen\nFix the issue that the log backup task might encounter memory leak and fail to run properly after startup #16070 @YuJuncen\nFix the issue that inserting data into the system table mysql.gc_delete_range during the PITR process returns an error #49346 @Leavrth\nFix the issue that the Unsupported collation error is reported when you restore data from backups of an old version #49466 @3pointer\nFix the issue that permissions are not updated timely after user tables are recovered through snapshots in certain scenarios #49394 @Leavrth",
          "Fix the issue that BR generates incorrect URIs for external storage files #48452 @3AceShowHand",
          "Fix the issue that the log backup task can start but does not work properly if failing to connect to PD during task initialization #16056 @YuJuncen",
          "Fix the issue that the log backup task might encounter memory leak and fail to run properly after startup #16070 @YuJuncen",
          "Fix the issue that inserting data into the system table mysql.gc_delete_range during the PITR process returns an error #49346 @Leavrth",
          "Fix the issue that the Unsupported collation error is reported when you restore data from backups of an old version #49466 @3pointer",
          "Fix the issue that permissions are not updated timely after user tables are recovered through snapshots in certain scenarios #49394 @Leavrth",
          "TiCDC\nFix the issue that the WHERE clause does not use the primary key as a condition when replicating DELETE statements in certain scenarios #9812 @asddongmen\nFix the issue that the TiCDC server might panic when replicating data to an object storage service #10137 @sdojjy\nFix the potential data race issue during kv-client initialization #10095 @3AceShowHand\nFix the issue that TiCDC mistakenly closes the connection with TiKV in certain special scenarios #10239 @hicqu\nFix the issue that TiCDC server might panic when executing lossy DDL statements in upstream #9739 @hicqu\nFix the issue that checkpoint-ts might get stuck when TiCDC replicates data to downstream MySQL #10334 @zhangjinpeng87",
          "Fix the issue that the WHERE clause does not use the primary key as a condition when replicating DELETE statements in certain scenarios #9812 @asddongmen",
          "Fix the issue that the TiCDC server might panic when replicating data to an object storage service #10137 @sdojjy",
          "Fix the potential data race issue during kv-client initialization #10095 @3AceShowHand",
          "Fix the issue that TiCDC mistakenly closes the connection with TiKV in certain special scenarios #10239 @hicqu",
          "Fix the issue that TiCDC server might panic when executing lossy DDL statements in upstream #9739 @hicqu",
          "Fix the issue that checkpoint-ts might get stuck when TiCDC replicates data to downstream MySQL #10334 @zhangjinpeng87",
          "TiDB Data Migration (DM)\nFix the issue that DM encounters \"event type truncate not valid\" error that causes the upgrade to fail #10282 @GMHDBJD\nFix the performance degradation issue when replicating data in GTID mode #9676 @feran-morgan-pingcap\nFix the issue that a migration task error occurs when the downstream table structure contains shard_row_id_bits #10308 @GMHDBJD",
          "Fix the issue that DM encounters \"event type truncate not valid\" error that causes the upgrade to fail #10282 @GMHDBJD",
          "Fix the performance degradation issue when replicating data in GTID mode #9676 @feran-morgan-pingcap",
          "Fix the issue that a migration task error occurs when the downstream table structure contains shard_row_id_bits #10308 @GMHDBJD"
        ]
      }
    ]
  },
  {
    "major_version": "7.5",
    "patches": [
      {
        "version": "7.5.7",
        "date": "2025-09-04",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.5.7/",
        "changes": [
          "TiDB\nAdd flow control interfaces for Region splitting and data ingestion during data import #61553 @tangenta\nOptimize the performance of obtaining data distribution information when performing simple queries on tables with large data volumes #53850 @you06\nAdd a monitoring metric to observe the write speed to TiKV during index addition #60925 @CbcWestwolf\nOptimize the locking logic of DML during DDL execution to reduce lock conflicts between DML and DDL operations, improving DDL performance in some scenarios. However, due to the additional secondary index locking operations, DML performance might decrease slightly #62337 @lcwangchao\nImprove the behavior when the system variable tidb_opt_ordering_index_selectivity_threshold is set to 1, enhancing the control capability of this variable #60242 @time-and-fate\nAvoid refreshing statistics across the entire cluster after ANALYZE statement execution, reducing the execution time of ANALYZE #57631 @0xPoe\nSupport constant folding for columns with NOT NULL constraints, folding IS NULL evaluations into FALSE #62050 @hawkingrei\nThe optimizer supports constant propagation in more types of JOIN operations #51700 @hawkingrei\nImprove the performance of temporary index merging when extensive lock conflicts exist between DML and DDL operations #61433 @tangenta",
          "Add flow control interfaces for Region splitting and data ingestion during data import #61553 @tangenta",
          "Optimize the performance of obtaining data distribution information when performing simple queries on tables with large data volumes #53850 @you06",
          "Add a monitoring metric to observe the write speed to TiKV during index addition #60925 @CbcWestwolf",
          "Optimize the locking logic of DML during DDL execution to reduce lock conflicts between DML and DDL operations, improving DDL performance in some scenarios. However, due to the additional secondary index locking operations, DML performance might decrease slightly #62337 @lcwangchao",
          "Improve the behavior when the system variable tidb_opt_ordering_index_selectivity_threshold is set to 1, enhancing the control capability of this variable #60242 @time-and-fate",
          "Avoid refreshing statistics across the entire cluster after ANALYZE statement execution, reducing the execution time of ANALYZE #57631 @0xPoe",
          "Support constant folding for columns with NOT NULL constraints, folding IS NULL evaluations into FALSE #62050 @hawkingrei",
          "The optimizer supports constant propagation in more types of JOIN operations #51700 @hawkingrei",
          "Improve the performance of temporary index merging when extensive lock conflicts exist between DML and DDL operations #61433 @tangenta",
          "TiKV\nOptimize the trigger logic of TiKV compaction to process all data segments in order of reclamation efficiency, reducing the performance impact of MVCC redundant data #18571 @v01dstar\nOptimize the tail latency of async snapshot and write operations in environments with a large number of SST files #18743 @Connor1996\nImprove the speed of Region Merge in scenarios with empty tables and small Regions #17376 @LykxSassinator\nOptimize the handling of CompactedEvent in Raftstore by moving it to the split-check worker, reducing blocking on the main Raftstore thread #18532 @LykxSassinator\nAdd metrics for memory usage per thread #15927 @Connor1996\nLog only SST ingest is experiencing slowdowns when SST ingest is too slow, and skip calling get_sst_key_ranges to avoid performance jitter #18549 @LykxSassinator\nOptimize the jittery access delay when restarting TiKV due to waiting for the log to be applied, improving the stability of TiKV #15874 @LykxSassinator\nOptimize the cleanup mechanism of residual data to mitigate the impact on request latency #18107 @LykxSassinator\nOptimize the performance of fetch_entries_to in Raft Engine to reduce contention and improve performance under mixed workloads #18605 @LykxSassinator\nSupport dynamically modifying flow-control configurations for write operations #17395 @glorv\nSupport ingesting SST files without blocking foreground writes, reducing the impact of latency #18081 @hhwyt\nOptimize the detection mechanism for I/O jitter on KvDB disks when KvDB and RaftDB use separate mount paths #18463 @LykxSassinator\nAdd slow logs for peer and store messages #16600 @Connor1996",
          "Optimize the trigger logic of TiKV compaction to process all data segments in order of reclamation efficiency, reducing the performance impact of MVCC redundant data #18571 @v01dstar",
          "Optimize the tail latency of async snapshot and write operations in environments with a large number of SST files #18743 @Connor1996",
          "Improve the speed of Region Merge in scenarios with empty tables and small Regions #17376 @LykxSassinator",
          "Optimize the handling of CompactedEvent in Raftstore by moving it to the split-check worker, reducing blocking on the main Raftstore thread #18532 @LykxSassinator",
          "Add metrics for memory usage per thread #15927 @Connor1996",
          "Log only SST ingest is experiencing slowdowns when SST ingest is too slow, and skip calling get_sst_key_ranges to avoid performance jitter #18549 @LykxSassinator",
          "Optimize the jittery access delay when restarting TiKV due to waiting for the log to be applied, improving the stability of TiKV #15874 @LykxSassinator",
          "Optimize the cleanup mechanism of residual data to mitigate the impact on request latency #18107 @LykxSassinator",
          "Optimize the performance of fetch_entries_to in Raft Engine to reduce contention and improve performance under mixed workloads #18605 @LykxSassinator",
          "Support dynamically modifying flow-control configurations for write operations #17395 @glorv",
          "Support ingesting SST files without blocking foreground writes, reducing the impact of latency #18081 @hhwyt",
          "Optimize the detection mechanism for I/O jitter on KvDB disks when KvDB and RaftDB use separate mount paths #18463 @LykxSassinator",
          "Add slow logs for peer and store messages #16600 @Connor1996",
          "PD\nAdd GO runtime-related monitoring metrics in Prometheus #8931 @bufferflies\nReduce unnecessary error logs #9370 @bufferflies",
          "Add GO runtime-related monitoring metrics in Prometheus #8931 @bufferflies",
          "Reduce unnecessary error logs #9370 @bufferflies",
          "TiFlash\nEnhance the observability for TiFlash OOM risks in wide table scenarios #10272 @JaySon-Huang\nIncrease the maximum retry count when acquiring storage snapshots to improve query stability for large tables #10300 @JaySon-Huang",
          "Enhance the observability for TiFlash OOM risks in wide table scenarios #10272 @JaySon-Huang",
          "Increase the maximum retry count when acquiring storage snapshots to improve query stability for large tables #10300 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nWhen deploying TiDB on Amazon EC2, BR supports AWS Instance Metadata Service Version 2 (IMDSv2). You can configure your EC2 instance to allow BR to use the IAM role associated with the instance for appropriate permissions to access Amazon S3 #16443 @pingyu\nThe Download API of TiKV supports filtering out data within a certain time range when downloading backup files, which avoids importing outdated or future data versions during restore #18399 @3pointer",
          "Backup & Restore (BR)\nWhen deploying TiDB on Amazon EC2, BR supports AWS Instance Metadata Service Version 2 (IMDSv2). You can configure your EC2 instance to allow BR to use the IAM role associated with the instance for appropriate permissions to access Amazon S3 #16443 @pingyu\nThe Download API of TiKV supports filtering out data within a certain time range when downloading backup files, which avoids importing outdated or future data versions during restore #18399 @3pointer",
          "When deploying TiDB on Amazon EC2, BR supports AWS Instance Metadata Service Version 2 (IMDSv2). You can configure your EC2 instance to allow BR to use the IAM role associated with the instance for appropriate permissions to access Amazon S3 #16443 @pingyu",
          "The Download API of TiKV supports filtering out data within a certain time range when downloading backup files, which avoids importing outdated or future data versions during restore #18399 @3pointer",
          "TiDB\nFix the issue that shared KV requests in IndexMerge and IndexLookUp operators cause data races when pushing down queries #60175 @you06\nFix a potential goroutine leak issue in the Hash Aggregation operator #58004 @xzhangxian1008\nFix the issue that MPP plans might not be selected when indexes on generated columns are set as visible #47766 @AilinKid\nFix the issue that SQL statements containing _charset(xxx), _charset(xxx2), ... generate different digests #58447 @xhebox\nFix the issue that frequent Region merges prevent TTL jobs from starting #61512 @YangKeao\nFix the issue that TiFlash query results are inconsistent after executing a lossy DDL statement #61455 @Lloyd-Pottiger\nFix the issue of incorrect key range in ALTER RANGE meta SET PLACEMENT POLICY #60888 @nolouch\nFix the issue that the data in the Stats Healthy Distribution panel of Grafana might be incorrect #57176 @hawkingrei\nFix the issue that the comparison behavior of latin1_bin differs from that of utf8mb4_bin and utf8_bin #60701 @hawkingrei\nFix the issue that after disabling metadata locking (MDL), DDL operations get stuck after failing to update the schema version #61210 @wjhuang2016\nFix the issue that enabling Redact log does not take effect in certain scenarios #59279 @tangenta\nFix the issue that a TiDB session might crash when Fix Control #44855 is enabled #59762 @winoros\nRemove redundant log entries when the IndexLookup operator encounters a context canceled error #61072 @yibin87\nFix the issue that improper exception handling for statistics causes in-memory statistics to be mistakenly deleted when background tasks time out #57901 @hawkingrei\nFix the issue that executing ADD UNIQUE INDEX might cause data inconsistency #60339 @tangenta\nFix the issue that non-public indexes are shown in the statistics system table #60430 @tangenta\nFix the issue that the Close() method of the Hash Join v1 operator fails to recover from a panic #60926 @xzhangxian1008\nFix the issue that shallow copy of PhysicalExchangeSender.HashCol causes TiFlash to crash or generate incorrect results #60517 @windtalker\nFix the issue that statistics for tables of the BIT type cannot be loaded #62289 @YangKeao\nFix the issue that statistics for BIT type columns fail to be loaded into memory #59759 @YangKeao\nFix the issue that when the disk-spilling operation of an ANALYZE statement takes too long in extreme cases, other TiDB nodes might fail to update the latest statistics #54552 @0xPoe\nFix the issue that when the collected column statistics are all in TopN, the row count estimation might remain 0 even after subsequent writes #47400 @terry1purcell\nFix the issue that the estimated cost displayed in explain format=\"cost_trace\" might be incorrect #61155 @hawkingrei\nFix the issue that the cost formulas displayed in explain format=\"cost_trace\" might contain empty parentheses #61127 @hawkingrei\nFix the issue that circular foreign key definitions cause infinite loops #60985 @hawkingrei\nFix the issue that internal queries might fail to construct index range queries properly when using NULL #62196 @hawkingrei\nFix the issue that Plan Cache stores an incorrect execution plan, causing execution errors #56772 @dash12653\nFix the issue that row count estimates across months or years can be significantly overestimated #50080 @terry1purcell\nFix the issue that the concurrency of ANALYZE subtasks greatly exceeds the configured limit #61785 @hawkingrei\nFix the issue that an expression-based TopN sort item is incorrectly generated during TopN pushdown #60655 @hawkingrei\nFix the issue that TiDB might print panic logs in the background when column or index statistics are missing #61733 @winoros\nFix the issue that row count estimation for JOIN can be highly inaccurate when column or index statistics are missing #61602 @qw4990\nFix the issue that the default value of the system variable tidb_cost_model_version is set incorrectly #61565 @hawkingrei\nFix the issue that statistics might be incorrect when the first column of a table is a virtual generated column #61606 @winoros\nFix the issue that Plan Cache is incorrectly skipped with predicate simplification #61513 @hawkingrei\nFix the issue that executing ADMIN CANCEL DDL JOBS while adding an index causes the index-adding process to hang #61087 @tangenta\nFix the issue that ADMIN CHECK still returns success even after some internal SQL executions fail #61612 @joechenrh\nFix the issue that data and indexes became inconsistent after adding multiple indexes through multi-schema change #61255 @tangenta",
          "Fix the issue that shared KV requests in IndexMerge and IndexLookUp operators cause data races when pushing down queries #60175 @you06",
          "Fix a potential goroutine leak issue in the Hash Aggregation operator #58004 @xzhangxian1008",
          "Fix the issue that MPP plans might not be selected when indexes on generated columns are set as visible #47766 @AilinKid",
          "Fix the issue that SQL statements containing _charset(xxx), _charset(xxx2), ... generate different digests #58447 @xhebox",
          "Fix the issue that frequent Region merges prevent TTL jobs from starting #61512 @YangKeao",
          "Fix the issue that TiFlash query results are inconsistent after executing a lossy DDL statement #61455 @Lloyd-Pottiger",
          "Fix the issue of incorrect key range in ALTER RANGE meta SET PLACEMENT POLICY #60888 @nolouch",
          "Fix the issue that the data in the Stats Healthy Distribution panel of Grafana might be incorrect #57176 @hawkingrei",
          "Fix the issue that the comparison behavior of latin1_bin differs from that of utf8mb4_bin and utf8_bin #60701 @hawkingrei",
          "Fix the issue that after disabling metadata locking (MDL), DDL operations get stuck after failing to update the schema version #61210 @wjhuang2016",
          "Fix the issue that enabling Redact log does not take effect in certain scenarios #59279 @tangenta",
          "Fix the issue that a TiDB session might crash when Fix Control #44855 is enabled #59762 @winoros",
          "Remove redundant log entries when the IndexLookup operator encounters a context canceled error #61072 @yibin87",
          "Fix the issue that improper exception handling for statistics causes in-memory statistics to be mistakenly deleted when background tasks time out #57901 @hawkingrei",
          "Fix the issue that executing ADD UNIQUE INDEX might cause data inconsistency #60339 @tangenta",
          "Fix the issue that non-public indexes are shown in the statistics system table #60430 @tangenta",
          "Fix the issue that the Close() method of the Hash Join v1 operator fails to recover from a panic #60926 @xzhangxian1008",
          "Fix the issue that shallow copy of PhysicalExchangeSender.HashCol causes TiFlash to crash or generate incorrect results #60517 @windtalker",
          "Fix the issue that statistics for tables of the BIT type cannot be loaded #62289 @YangKeao",
          "Fix the issue that statistics for BIT type columns fail to be loaded into memory #59759 @YangKeao",
          "Fix the issue that when the disk-spilling operation of an ANALYZE statement takes too long in extreme cases, other TiDB nodes might fail to update the latest statistics #54552 @0xPoe",
          "Fix the issue that when the collected column statistics are all in TopN, the row count estimation might remain 0 even after subsequent writes #47400 @terry1purcell",
          "Fix the issue that the estimated cost displayed in explain format=\"cost_trace\" might be incorrect #61155 @hawkingrei",
          "Fix the issue that the cost formulas displayed in explain format=\"cost_trace\" might contain empty parentheses #61127 @hawkingrei",
          "Fix the issue that circular foreign key definitions cause infinite loops #60985 @hawkingrei",
          "Fix the issue that internal queries might fail to construct index range queries properly when using NULL #62196 @hawkingrei",
          "Fix the issue that Plan Cache stores an incorrect execution plan, causing execution errors #56772 @dash12653",
          "Fix the issue that row count estimates across months or years can be significantly overestimated #50080 @terry1purcell",
          "Fix the issue that the concurrency of ANALYZE subtasks greatly exceeds the configured limit #61785 @hawkingrei",
          "Fix the issue that an expression-based TopN sort item is incorrectly generated during TopN pushdown #60655 @hawkingrei",
          "Fix the issue that TiDB might print panic logs in the background when column or index statistics are missing #61733 @winoros",
          "Fix the issue that row count estimation for JOIN can be highly inaccurate when column or index statistics are missing #61602 @qw4990",
          "Fix the issue that the default value of the system variable tidb_cost_model_version is set incorrectly #61565 @hawkingrei",
          "Fix the issue that statistics might be incorrect when the first column of a table is a virtual generated column #61606 @winoros",
          "Fix the issue that Plan Cache is incorrectly skipped with predicate simplification #61513 @hawkingrei",
          "Fix the issue that executing ADMIN CANCEL DDL JOBS while adding an index causes the index-adding process to hang #61087 @tangenta",
          "Fix the issue that ADMIN CHECK still returns success even after some internal SQL executions fail #61612 @joechenrh",
          "Fix the issue that data and indexes became inconsistent after adding multiple indexes through multi-schema change #61255 @tangenta",
          "TiKV\nFix the issue that a deadlock might be triggered during CPU profiling #18474 @YangKeao\nFix the issue that Online Unsafe Recovery might be blocked by certain TiFlash replicas, preventing the commit index from advancing #18197 @v01dstar\nFix the issue that TiKV might use a compression algorithm that the client cannot decode #18079 @ekexium\nFix the issue that TiKV allows excessive SST ingest requests under high concurrency #18452 @hbisheng\nFix the issue that Ingestion picked level and Compaction Job Size(files) are displayed incorrectly in the TiKV dashboard in Grafana #15990 @Connor1996\nFix the issue that the unexpected Server is busy error occurs after TiKV restarts #18233 @LykxSassinator\nFix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus\nFix misleading descriptions in StoreMsg log entries in slow logs #18561 @LykxSassinator\nFix incorrect thread memory metrics #18125 @Connor1996\nFix the issue that TiKV fails to terminate ongoing manual compaction tasks during graceful shutdown #18396 @LykxSassinator",
          "Fix the issue that a deadlock might be triggered during CPU profiling #18474 @YangKeao",
          "Fix the issue that Online Unsafe Recovery might be blocked by certain TiFlash replicas, preventing the commit index from advancing #18197 @v01dstar",
          "Fix the issue that TiKV might use a compression algorithm that the client cannot decode #18079 @ekexium",
          "Fix the issue that TiKV allows excessive SST ingest requests under high concurrency #18452 @hbisheng",
          "Fix the issue that Ingestion picked level and Compaction Job Size(files) are displayed incorrectly in the TiKV dashboard in Grafana #15990 @Connor1996",
          "Fix the issue that the unexpected Server is busy error occurs after TiKV restarts #18233 @LykxSassinator",
          "Fix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus",
          "Fix misleading descriptions in StoreMsg log entries in slow logs #18561 @LykxSassinator",
          "Fix incorrect thread memory metrics #18125 @Connor1996",
          "Fix the issue that TiKV fails to terminate ongoing manual compaction tasks during graceful shutdown #18396 @LykxSassinator",
          "PD\nFix the issue that the split-merge-interval configuration item might not take effect when you modify its value repeatedly (such as changing it from 1s to 1h and back to 1s) #8404 @lhy1024\nFix the issue that the default value of lease is not correctly set #9156 @rleungx\nFix the issue that improperly closing TiDB Dashboard TCP connections could lead to PD goroutine leaks #9402 @baurine\nFix the issue that newly added TiKV nodes might fail to be scheduled #9145 @bufferflies\nFix the issue that enabling tidb_enable_tso_follower_proxy might cause the TSO service to become unavailable #9188 @Tema",
          "Fix the issue that the split-merge-interval configuration item might not take effect when you modify its value repeatedly (such as changing it from 1s to 1h and back to 1s) #8404 @lhy1024",
          "Fix the issue that the default value of lease is not correctly set #9156 @rleungx",
          "Fix the issue that improperly closing TiDB Dashboard TCP connections could lead to PD goroutine leaks #9402 @baurine",
          "Fix the issue that newly added TiKV nodes might fail to be scheduled #9145 @bufferflies",
          "Fix the issue that enabling tidb_enable_tso_follower_proxy might cause the TSO service to become unavailable #9188 @Tema",
          "TiFlash\nFix the panic issue caused by accidental deletion of SST files during running IMPORT INTO or BR restore #10141 @CalvinNeo\nFix the issue that creating an expression index in the form of ((NULL)) causes TiFlash to panic #9891 @JaySon-Huang\nFix the issue that TiFlash might panic when handling snapshots with irregular Region key-ranges #10147 @JaySon-Huang\nFix the issue that TiFlash might consume a large amount of memory when tables in a cluster contain a large number of ENUM type columns #9947 @JaySon-Huang\nFix the issue that TiFlash might fail to restart after inserting a single row of data larger than 16 MiB #10052 @JaySon-Huang\nFix the issue that missing resource control low token signals lead to query throttling #10137 @guo-shaoge\nFix the issue that TiFlash might return the Exception: Block schema mismatch error when executing SQL statements containing GROUP BY ... WITH ROLLUP #10110 @gengliqi",
          "Fix the panic issue caused by accidental deletion of SST files during running IMPORT INTO or BR restore #10141 @CalvinNeo",
          "Fix the issue that creating an expression index in the form of ((NULL)) causes TiFlash to panic #9891 @JaySon-Huang",
          "Fix the issue that TiFlash might panic when handling snapshots with irregular Region key-ranges #10147 @JaySon-Huang",
          "Fix the issue that TiFlash might consume a large amount of memory when tables in a cluster contain a large number of ENUM type columns #9947 @JaySon-Huang",
          "Fix the issue that TiFlash might fail to restart after inserting a single row of data larger than 16 MiB #10052 @JaySon-Huang",
          "Fix the issue that missing resource control low token signals lead to query throttling #10137 @guo-shaoge",
          "Fix the issue that TiFlash might return the Exception: Block schema mismatch error when executing SQL statements containing GROUP BY ... WITH ROLLUP #10110 @gengliqi",
          "Tools\nBackup & Restore (BR)\nFix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen\nFix the issue that log backup uploads to Azure Blob Storage are slow when transferring large volumes of data #18410 @YuJuncen\nFix the issue that BR does not check whether the corresponding table exists in the cluster when filtering tables with -f #61592 @RidRisR\nTiCDC\nFix the issue that the changefeed might get stuck when using external storage as the downstream #9162 @asddongmen\nFix the issue that the changefeed might get stuck after the replication traffic exceeds the traffic threshold of the downstream Kafka #12110 @3AceShowHand\nFix the issue that using the --overwrite-checkpoint-ts parameter in the changefeed pause command might cause the changefeed to be stuck #12055 @hongyunyan\nFix the issue that evaluating event filter expressions on tables containing virtual columns might cause a panic #12206 @lidezhu\nFix the issue of case-sensitive matching for column and index names in the dispatcher configuration #12103 @wk989898\nFix the issue that the resolved ts lag keeps increasing after scaling in or out TiKV nodes on the same IP address because of outdated store IDs #12162 @3AceShowHand\nTiDB Lightning\nFix the issue that TiDB Lightning can get stuck for several hours when importing Parquet files from cloud storage into TiDB #60224 @joechenrh\nFix the issue that TiDB Lightning returns the context deadline exceeded error when the RPC request to TiKV times out #61326 @OliverS929\nNG Monitoring\nFix the issue that TSDB consumes too much memory under high cardinality of time series data, and provide a memory configuration option for TSDB #295 @mornyx",
          "Backup & Restore (BR)\nFix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen\nFix the issue that log backup uploads to Azure Blob Storage are slow when transferring large volumes of data #18410 @YuJuncen\nFix the issue that BR does not check whether the corresponding table exists in the cluster when filtering tables with -f #61592 @RidRisR",
          "Fix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen",
          "Fix the issue that log backup uploads to Azure Blob Storage are slow when transferring large volumes of data #18410 @YuJuncen",
          "Fix the issue that BR does not check whether the corresponding table exists in the cluster when filtering tables with -f #61592 @RidRisR",
          "TiCDC\nFix the issue that the changefeed might get stuck when using external storage as the downstream #9162 @asddongmen\nFix the issue that the changefeed might get stuck after the replication traffic exceeds the traffic threshold of the downstream Kafka #12110 @3AceShowHand\nFix the issue that using the --overwrite-checkpoint-ts parameter in the changefeed pause command might cause the changefeed to be stuck #12055 @hongyunyan\nFix the issue that evaluating event filter expressions on tables containing virtual columns might cause a panic #12206 @lidezhu\nFix the issue of case-sensitive matching for column and index names in the dispatcher configuration #12103 @wk989898\nFix the issue that the resolved ts lag keeps increasing after scaling in or out TiKV nodes on the same IP address because of outdated store IDs #12162 @3AceShowHand",
          "Fix the issue that the changefeed might get stuck when using external storage as the downstream #9162 @asddongmen",
          "Fix the issue that the changefeed might get stuck after the replication traffic exceeds the traffic threshold of the downstream Kafka #12110 @3AceShowHand",
          "Fix the issue that using the --overwrite-checkpoint-ts parameter in the changefeed pause command might cause the changefeed to be stuck #12055 @hongyunyan",
          "Fix the issue that evaluating event filter expressions on tables containing virtual columns might cause a panic #12206 @lidezhu",
          "Fix the issue of case-sensitive matching for column and index names in the dispatcher configuration #12103 @wk989898",
          "Fix the issue that the resolved ts lag keeps increasing after scaling in or out TiKV nodes on the same IP address because of outdated store IDs #12162 @3AceShowHand",
          "TiDB Lightning\nFix the issue that TiDB Lightning can get stuck for several hours when importing Parquet files from cloud storage into TiDB #60224 @joechenrh\nFix the issue that TiDB Lightning returns the context deadline exceeded error when the RPC request to TiKV times out #61326 @OliverS929",
          "Fix the issue that TiDB Lightning can get stuck for several hours when importing Parquet files from cloud storage into TiDB #60224 @joechenrh",
          "Fix the issue that TiDB Lightning returns the context deadline exceeded error when the RPC request to TiKV times out #61326 @OliverS929",
          "NG Monitoring\nFix the issue that TSDB consumes too much memory under high cardinality of time series data, and provide a memory configuration option for TSDB #295 @mornyx",
          "Fix the issue that TSDB consumes too much memory under high cardinality of time series data, and provide a memory configuration option for TSDB #295 @mornyx"
        ]
      },
      {
        "version": "7.5.6",
        "date": "2025-03-14",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.5.6/",
        "changes": [
          "TiDB\nAdjust estimation results from 0 to 1 for equality conditions that do not hit TopN when statistics are entirely composed of TopN and the modified row count in the corresponding table statistics is non-zero #47400 @terry1purcell\nEnhance the timestamp validity check #57786 @MyonKeminta\nLimit the execution of GC for TTL tables and related statistics collection tasks to the owner node, thereby reducing overhead #59357 @lcwangchao",
          "Adjust estimation results from 0 to 1 for equality conditions that do not hit TopN when statistics are entirely composed of TopN and the modified row count in the corresponding table statistics is non-zero #47400 @terry1purcell",
          "Enhance the timestamp validity check #57786 @MyonKeminta",
          "Limit the execution of GC for TTL tables and related statistics collection tasks to the owner node, thereby reducing overhead #59357 @lcwangchao",
          "TiKV\nAdd the detection mechanism for invalid max_ts updates #17916 @ekexium\nAdd slow logs for peer and store messages #16600 @Connor1996\nOptimize the jittery access delay when restarting TiKV due to waiting for the log to be applied, improving the stability of TiKV #15874 @LykxSassinator",
          "Add the detection mechanism for invalid max_ts updates #17916 @ekexium",
          "Add slow logs for peer and store messages #16600 @Connor1996",
          "Optimize the jittery access delay when restarting TiKV due to waiting for the log to be applied, improving the stability of TiKV #15874 @LykxSassinator",
          "TiFlash\nMitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker",
          "Mitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker",
          "Tools\nBackup & Restore (BR)\nDisable the table-level checksum calculation during full backups by default (--checksum=false) to improve backup performance #56373 @Tristan1900\nAdd a check to verify whether the target cluster contains a table with the same name for non-full restore #55087 @RidRisR\nTiDB Lightning\nAdd a row width check when parsing CSV files to prevent OOM issues #58590 @D3Hunter",
          "Backup & Restore (BR)\nDisable the table-level checksum calculation during full backups by default (--checksum=false) to improve backup performance #56373 @Tristan1900\nAdd a check to verify whether the target cluster contains a table with the same name for non-full restore #55087 @RidRisR",
          "Disable the table-level checksum calculation during full backups by default (--checksum=false) to improve backup performance #56373 @Tristan1900",
          "Add a check to verify whether the target cluster contains a table with the same name for non-full restore #55087 @RidRisR",
          "TiDB Lightning\nAdd a row width check when parsing CSV files to prevent OOM issues #58590 @D3Hunter",
          "Add a row width check when parsing CSV files to prevent OOM issues #58590 @D3Hunter",
          "TiDB\nFix the issue that some predicates might be lost when constructing IndexMerge #58476 @hawkingrei\nFix the issue that the ONLY_FULL_GROUP_BY setting does not take effect on statements in views #53175 @mjonss\nFix the issue that creating two views with the same name does not report an error #58769 @tiancaiamao\nFix the issue that converting data from the BIT type to the CHAR type might cause TiKV panics #56494 @lcwangchao\nFix the issue that a TTL job that loses the heartbeat blocks other jobs from getting heartbeats #57915 @YangKeao\nFix the issue that querying partitioned tables using an IN condition containing a mismatched value type and a type conversion error leads to incorrect query results #54746 @mjonss\nFix the issue that the default value of the BIT column is incorrect #57301 @YangKeao\nFix the issue that in the Prepare protocol, an error occurs when the client uses a non-UTF8 character set #58870 @xhebox\nFix the issue that using variables or parameters in the CREATE VIEW statement does not report errors #53176 @mjonss\nFix the issue that loading statistics manually might fail when the statistics file contains null values #53966 @King-Dylan\nFix the issue that when querying the information_schema.cluster_slow_query table, if the time filter is not added, only the latest slow log file is queried #56100 @crazycs520\nFix the issue that querying temporary tables might trigger unexpected TiKV requests in some cases #58875 @tiancaiamao\nFix the issue that the data in the Stats Healthy Distribution panel of Grafana might be incorrect #57176 @hawkingrei\nFix the issue that some TTL jobs might hang when modifying tidb_ttl_delete_rate_limit #58484 @lcwangchao\nFix the issue that improper exception handling for statistics causes in-memory statistics to be mistakenly deleted when background tasks time out #57901 @hawkingrei\nFix the issue that using ORDER BY when querying cluster_slow_query table might generate unordered results #51723 @Defined2014\nFix the issue that when a virtual generated column's dependencies contain a column with the ON UPDATE attribute, the data of the updated row and its index data might be inconsistent #56829 @joechenrh\nFix the issue that TTL jobs cannot be canceled if the TiDB heartbeat is lost #57784 @YangKeao\nWhen the parameter is of Enum, Bit, or Set type, the Conv() function is no longer pushed down to TiKV #51877 @yibin87\nFix the issue that after executing ALTER TABLE ... PLACEMENT POLICY ... in a cluster with TiFlash nodes in the disaggregated storage and compute architecture, Region peers might be accidentally added to TiFlash Compute nodes #58633 @JaySon-Huang\nFix the issue that job status is overwritten when the DDL owner changes #52747 @D3Hunter\nFix the issue that queries with is null conditions on Hash partitioned tables cause a panic #58374 @Defined2014\nFix the issue that an error occurs when querying partitioned tables that contain generated columns #58475 @joechenrh\nFix the issue that TTL jobs might be ignored or processed multiple times #59347 @YangKeao\nFix the issue that incorrect judgment in exchange partition causes execution failure #59534 @mjonss\nFix the issue that setting the tidb_audit_log variable with multi-level relative paths causes errors in the log directory #58971 @lcwangchao\nFix the issue that different data types on both sides of the equality condition in Join might cause incorrect results in TiFlash #59877 @yibin87",
          "Fix the issue that some predicates might be lost when constructing IndexMerge #58476 @hawkingrei",
          "Fix the issue that the ONLY_FULL_GROUP_BY setting does not take effect on statements in views #53175 @mjonss",
          "Fix the issue that creating two views with the same name does not report an error #58769 @tiancaiamao",
          "Fix the issue that converting data from the BIT type to the CHAR type might cause TiKV panics #56494 @lcwangchao",
          "Fix the issue that a TTL job that loses the heartbeat blocks other jobs from getting heartbeats #57915 @YangKeao",
          "Fix the issue that querying partitioned tables using an IN condition containing a mismatched value type and a type conversion error leads to incorrect query results #54746 @mjonss",
          "Fix the issue that the default value of the BIT column is incorrect #57301 @YangKeao",
          "Fix the issue that in the Prepare protocol, an error occurs when the client uses a non-UTF8 character set #58870 @xhebox",
          "Fix the issue that using variables or parameters in the CREATE VIEW statement does not report errors #53176 @mjonss",
          "Fix the issue that loading statistics manually might fail when the statistics file contains null values #53966 @King-Dylan",
          "Fix the issue that when querying the information_schema.cluster_slow_query table, if the time filter is not added, only the latest slow log file is queried #56100 @crazycs520",
          "Fix the issue that querying temporary tables might trigger unexpected TiKV requests in some cases #58875 @tiancaiamao",
          "Fix the issue that the data in the Stats Healthy Distribution panel of Grafana might be incorrect #57176 @hawkingrei",
          "Fix the issue that some TTL jobs might hang when modifying tidb_ttl_delete_rate_limit #58484 @lcwangchao",
          "Fix the issue that improper exception handling for statistics causes in-memory statistics to be mistakenly deleted when background tasks time out #57901 @hawkingrei",
          "Fix the issue that using ORDER BY when querying cluster_slow_query table might generate unordered results #51723 @Defined2014",
          "Fix the issue that when a virtual generated column's dependencies contain a column with the ON UPDATE attribute, the data of the updated row and its index data might be inconsistent #56829 @joechenrh",
          "Fix the issue that TTL jobs cannot be canceled if the TiDB heartbeat is lost #57784 @YangKeao",
          "When the parameter is of Enum, Bit, or Set type, the Conv() function is no longer pushed down to TiKV #51877 @yibin87",
          "Fix the issue that after executing ALTER TABLE ... PLACEMENT POLICY ... in a cluster with TiFlash nodes in the disaggregated storage and compute architecture, Region peers might be accidentally added to TiFlash Compute nodes #58633 @JaySon-Huang",
          "Fix the issue that job status is overwritten when the DDL owner changes #52747 @D3Hunter",
          "Fix the issue that queries with is null conditions on Hash partitioned tables cause a panic #58374 @Defined2014",
          "Fix the issue that an error occurs when querying partitioned tables that contain generated columns #58475 @joechenrh",
          "Fix the issue that TTL jobs might be ignored or processed multiple times #59347 @YangKeao",
          "Fix the issue that incorrect judgment in exchange partition causes execution failure #59534 @mjonss",
          "Fix the issue that setting the tidb_audit_log variable with multi-level relative paths causes errors in the log directory #58971 @lcwangchao",
          "Fix the issue that different data types on both sides of the equality condition in Join might cause incorrect results in TiFlash #59877 @yibin87",
          "TiKV\nFix the issue that the leader could not be quickly elected after Region split #17602 @LykxSassinator\nFix the issue that time rollback might cause abnormal RocksDB flow control, leading to performance jitter #17995 @LykxSassinator\nFix the issue that the latest written data might not be readable when only one-phase commit (1PC) is enabled and Async Commit is not enabled #18117 @zyguan\nFix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus\nFix the issue that a deadlock might occur when GC Worker is under heavy load #18214 @zyguan\nFix the issue that disk stalls might prevent leader migration, leading to performance jitter #17363 @hhwyt\nFix the issue that encoding might fail when processing GBK/GB18030 encoded data #17618 @CbcWestwolf\nFix the issue that CDC connections might cause resource leakage when encountering exceptions #18245 @wlwilliamx\nFix the issue that Region merge might lead to TiKV abnormal exit due to Raft index mismatch #18129 @glorv\nFix the issue that Resolved-TS monitoring and logs might be abnormal #17989 @ekexium\nFix the issue that an incompatibility with the Titan component causes upgrade failure #18263 @v01dstar @LykxSassinator",
          "Fix the issue that the leader could not be quickly elected after Region split #17602 @LykxSassinator",
          "Fix the issue that time rollback might cause abnormal RocksDB flow control, leading to performance jitter #17995 @LykxSassinator",
          "Fix the issue that the latest written data might not be readable when only one-phase commit (1PC) is enabled and Async Commit is not enabled #18117 @zyguan",
          "Fix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus",
          "Fix the issue that a deadlock might occur when GC Worker is under heavy load #18214 @zyguan",
          "Fix the issue that disk stalls might prevent leader migration, leading to performance jitter #17363 @hhwyt",
          "Fix the issue that encoding might fail when processing GBK/GB18030 encoded data #17618 @CbcWestwolf",
          "Fix the issue that CDC connections might cause resource leakage when encountering exceptions #18245 @wlwilliamx",
          "Fix the issue that Region merge might lead to TiKV abnormal exit due to Raft index mismatch #18129 @glorv",
          "Fix the issue that Resolved-TS monitoring and logs might be abnormal #17989 @ekexium",
          "Fix the issue that an incompatibility with the Titan component causes upgrade failure #18263 @v01dstar @LykxSassinator",
          "PD\nFix the issue that the default value of max-size for a single log file is not correctly set #9037 @rleungx\nFix the issue that the value of the flow-round-by-digit configuration item might be overwritten after a restart #8980 @nolouch\nFix the issue that operations in data import or adding index scenarios might fail due to unstable PD network #8962 @okJiang\nFix the issue that PD might panic when the tidb_enable_tso_follower_proxy system variable is enabled #8950 @okJiang\nFix the issue that the tidb_enable_tso_follower_proxy system variable might not take effect #8947 @JmPotato\nFix the issue that memory leaks might occur when allocating TSOs #9004 @rleungx\nFix the issue that Region syncer might not exit in time during the PD Leader switch #9017 @rleungx\nFix the issue that a PD node might still generate TSOs even when it is not the Leader #9051 @rleungx",
          "Fix the issue that the default value of max-size for a single log file is not correctly set #9037 @rleungx",
          "Fix the issue that the value of the flow-round-by-digit configuration item might be overwritten after a restart #8980 @nolouch",
          "Fix the issue that operations in data import or adding index scenarios might fail due to unstable PD network #8962 @okJiang",
          "Fix the issue that PD might panic when the tidb_enable_tso_follower_proxy system variable is enabled #8950 @okJiang",
          "Fix the issue that the tidb_enable_tso_follower_proxy system variable might not take effect #8947 @JmPotato",
          "Fix the issue that memory leaks might occur when allocating TSOs #9004 @rleungx",
          "Fix the issue that Region syncer might not exit in time during the PD Leader switch #9017 @rleungx",
          "Fix the issue that a PD node might still generate TSOs even when it is not the Leader #9051 @rleungx",
          "TiFlash\nFix the issue that TiFlash might unexpectedly reject processing Raft messages when memory usage is low #9745 @CalvinNeo\nFix the issue that TiFlash might maintain high memory usage after importing large amounts of data #9812 @CalvinNeo\nFix the issue that queries on a partitioned table might return errors after executing ALTER TABLE ... RENAME COLUMN on that partitioned table #9787 @Lloyd-Pottiger\nFix the issue that TiFlash might fail to print error stack traces when it unexpectedly exits in certain situations #9902 @JaySon-Huang\nFix the issue that TiFlash startup might be blocked when profiles.default.init_thread_count_scale is set to 0 #9906 @JaySon-Huang\nFix the issue that a Not found column error might occur when a query involves virtual columns and triggers remote reads #9561 @guo-shaoge\nFix the issue that in the disaggregated storage and compute architecture, TiFlash compute nodes might be incorrectly selected as target nodes for adding Region peers #9750 @JaySon-Huang",
          "Fix the issue that TiFlash might unexpectedly reject processing Raft messages when memory usage is low #9745 @CalvinNeo",
          "Fix the issue that TiFlash might maintain high memory usage after importing large amounts of data #9812 @CalvinNeo",
          "Fix the issue that queries on a partitioned table might return errors after executing ALTER TABLE ... RENAME COLUMN on that partitioned table #9787 @Lloyd-Pottiger",
          "Fix the issue that TiFlash might fail to print error stack traces when it unexpectedly exits in certain situations #9902 @JaySon-Huang",
          "Fix the issue that TiFlash startup might be blocked when profiles.default.init_thread_count_scale is set to 0 #9906 @JaySon-Huang",
          "Fix the issue that a Not found column error might occur when a query involves virtual columns and triggers remote reads #9561 @guo-shaoge",
          "Fix the issue that in the disaggregated storage and compute architecture, TiFlash compute nodes might be incorrectly selected as target nodes for adding Region peers #9750 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nFix the issue that log backup fails to exit properly when encountering a fatal error due to not being able to access PD #18087 @YuJuncen\nFix the issue that BR fails to restore due to getting the rpcClient is idle error when sending requests to TiKV #58845 @Tristan1900\nFix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen\nFix the issue that the status field is missing in the result when querying log backup tasks using br log status --json #57959 @Leavrth\nFix the issue that log backup might unexpectedly enter a paused state when the advancer owner switches #58031 @3pointer\nTiCDC\nFix the issue that enabling TiCDC in scenarios with many small tables might cause TiKV to restart #18142 @hicqu\nFix the issue that after the default value of a newly added column in the upstream is changed from NOT NULL to NULL, the default values of that column in the downstream are incorrect #12037 @wk989898\nFix the issue that out-of-order messages resent by the Sarama client cause Kafka message order to be incorrect #11935 @3AceShowHand\nFix the issue that TiCDC uses incorrect table names for filtering during RENAME TABLE operations #11946 @wk989898\nFix the issue that goroutines leak occurs after a changefeed is deleted #11954 @hicqu\nFix the issue that using the --overwrite-checkpoint-ts parameter in the changefeed pause command might cause the changefeed to be stuck #12055 @hongyunyan\nFix the issue that TiCDC reports errors when replicating default NULL SQL statements via the Avro protocol #11994 @wk989898\nFix the issue that TiCDC fails to properly connect to PD after PD scale-in #12004 @lidezhu\nTiDB Lightning\nFix the issue that logs are not properly desensitized #59086 @GMHDBJD",
          "Backup & Restore (BR)\nFix the issue that log backup fails to exit properly when encountering a fatal error due to not being able to access PD #18087 @YuJuncen\nFix the issue that BR fails to restore due to getting the rpcClient is idle error when sending requests to TiKV #58845 @Tristan1900\nFix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen\nFix the issue that the status field is missing in the result when querying log backup tasks using br log status --json #57959 @Leavrth\nFix the issue that log backup might unexpectedly enter a paused state when the advancer owner switches #58031 @3pointer",
          "Fix the issue that log backup fails to exit properly when encountering a fatal error due to not being able to access PD #18087 @YuJuncen",
          "Fix the issue that BR fails to restore due to getting the rpcClient is idle error when sending requests to TiKV #58845 @Tristan1900",
          "Fix the issue that PITR fails to restore indexes larger than 3072 bytes #58430 @YuJuncen",
          "Fix the issue that the status field is missing in the result when querying log backup tasks using br log status --json #57959 @Leavrth",
          "Fix the issue that log backup might unexpectedly enter a paused state when the advancer owner switches #58031 @3pointer",
          "TiCDC\nFix the issue that enabling TiCDC in scenarios with many small tables might cause TiKV to restart #18142 @hicqu\nFix the issue that after the default value of a newly added column in the upstream is changed from NOT NULL to NULL, the default values of that column in the downstream are incorrect #12037 @wk989898\nFix the issue that out-of-order messages resent by the Sarama client cause Kafka message order to be incorrect #11935 @3AceShowHand\nFix the issue that TiCDC uses incorrect table names for filtering during RENAME TABLE operations #11946 @wk989898\nFix the issue that goroutines leak occurs after a changefeed is deleted #11954 @hicqu\nFix the issue that using the --overwrite-checkpoint-ts parameter in the changefeed pause command might cause the changefeed to be stuck #12055 @hongyunyan\nFix the issue that TiCDC reports errors when replicating default NULL SQL statements via the Avro protocol #11994 @wk989898\nFix the issue that TiCDC fails to properly connect to PD after PD scale-in #12004 @lidezhu",
          "Fix the issue that enabling TiCDC in scenarios with many small tables might cause TiKV to restart #18142 @hicqu",
          "Fix the issue that after the default value of a newly added column in the upstream is changed from NOT NULL to NULL, the default values of that column in the downstream are incorrect #12037 @wk989898",
          "Fix the issue that out-of-order messages resent by the Sarama client cause Kafka message order to be incorrect #11935 @3AceShowHand",
          "Fix the issue that TiCDC uses incorrect table names for filtering during RENAME TABLE operations #11946 @wk989898",
          "Fix the issue that goroutines leak occurs after a changefeed is deleted #11954 @hicqu",
          "Fix the issue that using the --overwrite-checkpoint-ts parameter in the changefeed pause command might cause the changefeed to be stuck #12055 @hongyunyan",
          "Fix the issue that TiCDC reports errors when replicating default NULL SQL statements via the Avro protocol #11994 @wk989898",
          "Fix the issue that TiCDC fails to properly connect to PD after PD scale-in #12004 @lidezhu",
          "TiDB Lightning\nFix the issue that logs are not properly desensitized #59086 @GMHDBJD",
          "Fix the issue that logs are not properly desensitized #59086 @GMHDBJD"
        ]
      },
      {
        "version": "7.5.5",
        "date": "2024-12-31",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.5.5/",
        "changes": [
          "TiDB\nAdjust estimation results from 0 to 1 for equality conditions that do not hit TopN when statistics are entirely composed of TopN and the modified row count in the corresponding table statistics is non-zero #47400 @terry1purcell",
          "Adjust estimation results from 0 to 1 for equality conditions that do not hit TopN when statistics are entirely composed of TopN and the modified row count in the corresponding table statistics is non-zero #47400 @terry1purcell",
          "TiKV\nFix the issue that when Raft and RocksDB are deployed on different disks, the slow disk detection does not work for the disk where RocksDB is located #17884 @LykxSassinator\nAdd slow logs for peer and store messages #16600 @Connor1996\nOptimize the jittery access delay when restarting TiKV due to waiting for the log to be applied, improving the stability of TiKV #15874 @LykxSassinator",
          "Fix the issue that when Raft and RocksDB are deployed on different disks, the slow disk detection does not work for the disk where RocksDB is located #17884 @LykxSassinator",
          "Add slow logs for peer and store messages #16600 @Connor1996",
          "Optimize the jittery access delay when restarting TiKV due to waiting for the log to be applied, improving the stability of TiKV #15874 @LykxSassinator",
          "TiFlash\nMitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker\nImprove the garbage collection speed of outdated data in the background for tables with clustered indexes #9529 @JaySon-Huang\nOptimize the retry strategy for TiFlash compute nodes in the disaggregated storage and compute architecture to handle exceptions when downloading files from Amazon S3 #9695 @JinheLin",
          "Mitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker",
          "Improve the garbage collection speed of outdated data in the background for tables with clustered indexes #9529 @JaySon-Huang",
          "Optimize the retry strategy for TiFlash compute nodes in the disaggregated storage and compute architecture to handle exceptions when downloading files from Amazon S3 #9695 @JinheLin",
          "Tools\nBackup & Restore (BR)\nReduce unnecessary log printing during backup #55902 @Leavrth\nTiDB Data Migration (DM)\nLower the log level for unrecognized MariaDB binlog events #10204 @dveeden",
          "Backup & Restore (BR)\nReduce unnecessary log printing during backup #55902 @Leavrth",
          "Reduce unnecessary log printing during backup #55902 @Leavrth",
          "TiDB Data Migration (DM)\nLower the log level for unrecognized MariaDB binlog events #10204 @dveeden",
          "Lower the log level for unrecognized MariaDB binlog events #10204 @dveeden",
          "TiDB\nFix the issue that TiDB cannot resume Reorg DDL tasks from the previous progress after the DDL owner node is switched #56506 @tangenta\nFix the issue that invalid NULL values can be inserted in non-strict mode (sql_mode = '') #56381 @joechenrh\nFix the issue that the data in the Stats Healthy Distribution panel of Grafana might be incorrect #57176 @hawkingrei\nFix the issue of invalid memory access that might occur when a Common Table Expression (CTE) has multiple data consumers and one consumer exits without reading any data #55881 @windtalker\nFix the issue that existing TTL tasks are executed unexpectedly frequently in a cluster that is upgraded from v6.5 to v7.5 or later #56539 @lcwangchao\nFix the issue that TTL tasks are not canceled after the tidb_ttl_job_enable variable is disabled #57404 @YangKeao\nFix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520\nFix the issue that stale read does not strictly verify the timestamp of the read operation, resulting in a small probability of affecting the consistency of the transaction when an offset exists between the TSO and the real physical time #56809 @MyonKeminta\nFix the issue that the AUTO_INCREMENT field is not correctly set after importing data using the IMPORT INTO statement #56476 @D3Hunter\nFix the issue that two DDL Owners might exist at the same time #54689 @joccau\nFix the issue that TTL might fail if TiKV is not selected as the storage engine #56402 @YangKeao\nFix the issue that TiDB does not check the index length limitation when executing ADD INDEX #56930 @fzzf678\nFix the issue that when canceling a TTL task, the corresponding SQL is not killed forcibly #56511 @lcwangchao\nFix the issue that execution plan bindings cannot be created for the multi-table DELETE statement with aliases #56726 @hawkingrei\nFix the issue that when using ANALYZE to collect statistics for a table, if the table contains expression indexes of virtually generated columns, the execution reports an error #57079 @hawkingrei\nFix the issue that Plan Replayer might report an error when importing a table structure containing Placement Rules #54961 @hawkingrei\nFix the issue that when parsing a database name in CTE, it returns a wrong database name #54582 @hawkingrei\nFix the issue that the INSERT ... ON DUPLICATE KEY statement is not compatible with mysql_insert_id #55965 @tiancaiamao\nFix the issue that improper use of metadata locks might lead to writing anomalous data when using the plan cache under certain circumstances #53634 @zimulala\nFix the issue that the performance is unstable when adding indexes using Global Sort #54147 @tangenta\nFix the issue that Plan Replayer might report an error when importing a table structure containing foreign keys #56456 @hawkingrei\nFix the issue that using the RANGE COLUMNS partition function and the utf8mb4_0900_ai_ci collation at the same time could result in incorrect query results #57261 @Defined2014\nFix the issue that using subqueries after the NATURAL JOIN or USING clause might result in errors #53766 @dash12653\nFix the issue that TTL tasks cannot be canceled when there is a write conflict #56422 @YangKeao\nFix the issue that if a CTE contains the ORDER BY, LIMIT, or SELECT DISTINCT clause and is referenced by the recursive part of another CTE, it might be incorrectly inlined and result in an execution error #56603 @elsa0520\nFix the issue that the UPDATE statement incorrectly updates values of the ENUM type #56832 @xhebox\nFix the issue that executing RECOVER TABLE BY JOB JOB_ID; might cause TiDB to panic #55113 @crazycs520\nFix the issue that the read_from_storage hint might not take effect when the query has an available Index Merge execution plan #56217 @AilinKid\nFix the issue that INDEX_HASH_JOIN might hang during an abnormal exit #54055 @wshwsh12\nFix the issue that querying system tables related to the Distributed eXecution Framework (DXF) might lead to upgrade failures #49263 @D3Hunter\nFix the issue that the DDL internal transaction error GC life time is shorter than transaction duration causes index addition to fail #57043 @tangenta\nFix the issue that when executing EXCHANGE PARTITION and encountering invalid rows, InfoSchema is fully loaded and the error failed to load schema diff is reported #56685 @D3Hunter\nFix the issue that collation is not handled correctly when tidb_ddl_enable_fast_reorg and new_collations_enabled_on_first_bootstrap are enabled, resulting in inconsistent data indexes #58036 @djshow832\nFix the issue that data indexes are inconsistent because plan cache uses the wrong schema when adding indexes #56733 @wjhuang2016\nFix the issue that executing ALTER TABLE TIFLASH REPLICA during upgrade causes the TiDB node to crash #57863 @tangenta\nFix the issue that the performance of querying INFORMATION_SCHEMA.columns degrades #58184 @lance6716\nFix the issue that the default timeout for querying the TiFlash system table is too short #57816 @JaySon-Huang\nFix the issue that the value of the default_collation_for_utf8mb4 variable does not work for the SET NAMES statement #56439 @Defined2014\nFix the issue that TTL internal coroutine might panic when you manually delete a timer in the mysql.tidb_timer table #57112 @lcwangchao\nFix the issue that when converting a normal table to a partitioned table using the ALTER TABLE statement, insufficient checks might result in incorrect data #55721 @mjonss\nFix the issue that when setting tidb_gogc_tuner_max_value and tidb_gogc_tuner_min_value, if the maximum value is null, an incorrect warning message occurs #57889 @hawkingrei\nFix the potential data race issue that might occur in TiDB's internal coroutine #57798 #56053 @fishiu @tiancaiamao\nUpdate golang-jwt and jwt to prevent potential security risks #57135 @hawkingrei\nFix the issue that concurrent writes might result in duplicate data when converting a table with clustered indexes to a partitioned table using the ALTER TABLE statement #57510 @mjonss",
          "Fix the issue that TiDB cannot resume Reorg DDL tasks from the previous progress after the DDL owner node is switched #56506 @tangenta",
          "Fix the issue that invalid NULL values can be inserted in non-strict mode (sql_mode = '') #56381 @joechenrh",
          "Fix the issue that the data in the Stats Healthy Distribution panel of Grafana might be incorrect #57176 @hawkingrei",
          "Fix the issue of invalid memory access that might occur when a Common Table Expression (CTE) has multiple data consumers and one consumer exits without reading any data #55881 @windtalker",
          "Fix the issue that existing TTL tasks are executed unexpectedly frequently in a cluster that is upgraded from v6.5 to v7.5 or later #56539 @lcwangchao",
          "Fix the issue that TTL tasks are not canceled after the tidb_ttl_job_enable variable is disabled #57404 @YangKeao",
          "Fix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520",
          "Fix the issue that stale read does not strictly verify the timestamp of the read operation, resulting in a small probability of affecting the consistency of the transaction when an offset exists between the TSO and the real physical time #56809 @MyonKeminta",
          "Fix the issue that the AUTO_INCREMENT field is not correctly set after importing data using the IMPORT INTO statement #56476 @D3Hunter",
          "Fix the issue that two DDL Owners might exist at the same time #54689 @joccau",
          "Fix the issue that TTL might fail if TiKV is not selected as the storage engine #56402 @YangKeao",
          "Fix the issue that TiDB does not check the index length limitation when executing ADD INDEX #56930 @fzzf678",
          "Fix the issue that when canceling a TTL task, the corresponding SQL is not killed forcibly #56511 @lcwangchao",
          "Fix the issue that execution plan bindings cannot be created for the multi-table DELETE statement with aliases #56726 @hawkingrei",
          "Fix the issue that when using ANALYZE to collect statistics for a table, if the table contains expression indexes of virtually generated columns, the execution reports an error #57079 @hawkingrei",
          "Fix the issue that Plan Replayer might report an error when importing a table structure containing Placement Rules #54961 @hawkingrei",
          "Fix the issue that when parsing a database name in CTE, it returns a wrong database name #54582 @hawkingrei",
          "Fix the issue that the INSERT ... ON DUPLICATE KEY statement is not compatible with mysql_insert_id #55965 @tiancaiamao",
          "Fix the issue that improper use of metadata locks might lead to writing anomalous data when using the plan cache under certain circumstances #53634 @zimulala",
          "Fix the issue that the performance is unstable when adding indexes using Global Sort #54147 @tangenta",
          "Fix the issue that Plan Replayer might report an error when importing a table structure containing foreign keys #56456 @hawkingrei",
          "Fix the issue that using the RANGE COLUMNS partition function and the utf8mb4_0900_ai_ci collation at the same time could result in incorrect query results #57261 @Defined2014",
          "Fix the issue that using subqueries after the NATURAL JOIN or USING clause might result in errors #53766 @dash12653",
          "Fix the issue that TTL tasks cannot be canceled when there is a write conflict #56422 @YangKeao",
          "Fix the issue that if a CTE contains the ORDER BY, LIMIT, or SELECT DISTINCT clause and is referenced by the recursive part of another CTE, it might be incorrectly inlined and result in an execution error #56603 @elsa0520",
          "Fix the issue that the UPDATE statement incorrectly updates values of the ENUM type #56832 @xhebox",
          "Fix the issue that executing RECOVER TABLE BY JOB JOB_ID; might cause TiDB to panic #55113 @crazycs520",
          "Fix the issue that the read_from_storage hint might not take effect when the query has an available Index Merge execution plan #56217 @AilinKid",
          "Fix the issue that INDEX_HASH_JOIN might hang during an abnormal exit #54055 @wshwsh12",
          "Fix the issue that querying system tables related to the Distributed eXecution Framework (DXF) might lead to upgrade failures #49263 @D3Hunter",
          "Fix the issue that the DDL internal transaction error GC life time is shorter than transaction duration causes index addition to fail #57043 @tangenta",
          "Fix the issue that when executing EXCHANGE PARTITION and encountering invalid rows, InfoSchema is fully loaded and the error failed to load schema diff is reported #56685 @D3Hunter",
          "Fix the issue that collation is not handled correctly when tidb_ddl_enable_fast_reorg and new_collations_enabled_on_first_bootstrap are enabled, resulting in inconsistent data indexes #58036 @djshow832",
          "Fix the issue that data indexes are inconsistent because plan cache uses the wrong schema when adding indexes #56733 @wjhuang2016",
          "Fix the issue that executing ALTER TABLE TIFLASH REPLICA during upgrade causes the TiDB node to crash #57863 @tangenta",
          "Fix the issue that the performance of querying INFORMATION_SCHEMA.columns degrades #58184 @lance6716",
          "Fix the issue that the default timeout for querying the TiFlash system table is too short #57816 @JaySon-Huang",
          "Fix the issue that the value of the default_collation_for_utf8mb4 variable does not work for the SET NAMES statement #56439 @Defined2014",
          "Fix the issue that TTL internal coroutine might panic when you manually delete a timer in the mysql.tidb_timer table #57112 @lcwangchao",
          "Fix the issue that when converting a normal table to a partitioned table using the ALTER TABLE statement, insufficient checks might result in incorrect data #55721 @mjonss",
          "Fix the issue that when setting tidb_gogc_tuner_max_value and tidb_gogc_tuner_min_value, if the maximum value is null, an incorrect warning message occurs #57889 @hawkingrei",
          "Fix the potential data race issue that might occur in TiDB's internal coroutine #57798 #56053 @fishiu @tiancaiamao",
          "Update golang-jwt and jwt to prevent potential security risks #57135 @hawkingrei",
          "Fix the issue that concurrent writes might result in duplicate data when converting a table with clustered indexes to a partitioned table using the ALTER TABLE statement #57510 @mjonss",
          "TiKV\nFix the issue that merging Regions might cause TiKV to panic in rare cases #17840 @glorv\nFix the issue that when Raft and RocksDB are deployed on different disks, the slow disk detection does not work for the disk where RocksDB is located #17884 @LykxSassinator\nFix the issue that the output of jprof is not correctly captured and processed when the log-file parameter is not specified #17607 @Hexilee\nFix the issue that latency might increase when hibernated Regions are awake #17101 @Connor1996\nFix the issue that TiKV might panic when executing queries containing RADIANS() or DEGREES() functions #17852 @gengliqi\nFix the panic issue that occurs when read threads access outdated indexes in the MemTable of the Raft Engine #17383 @LykxSassinator\nFix the issue that when a large number of transactions are queuing for lock release on the same key and the key is frequently updated, excessive pressure on deadlock detection might cause TiKV OOM issues #17394 @MyonKeminta\nFix the issue that write jitter might occur when all hibernated Regions are awakened #17101 @hhwyt\nFix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus\nFix the issue that Online Unsafe Recovery cannot handle merge abort #15580 @v01dstar\nFix the issue that CPU profiling flag is not reset correctly when an error occurs #17234 @Connor1996\nFix the issue that large batch writes cause performance jitter when raft-entry-max-size is set too high #17701 @SpadeA-Tang\nFix the issue that improper error handling in the conflict detection interface of the import module might cause TiKV to panic #17830 @joccau",
          "Fix the issue that merging Regions might cause TiKV to panic in rare cases #17840 @glorv",
          "Fix the issue that when Raft and RocksDB are deployed on different disks, the slow disk detection does not work for the disk where RocksDB is located #17884 @LykxSassinator",
          "Fix the issue that the output of jprof is not correctly captured and processed when the log-file parameter is not specified #17607 @Hexilee",
          "Fix the issue that latency might increase when hibernated Regions are awake #17101 @Connor1996",
          "Fix the issue that TiKV might panic when executing queries containing RADIANS() or DEGREES() functions #17852 @gengliqi",
          "Fix the panic issue that occurs when read threads access outdated indexes in the MemTable of the Raft Engine #17383 @LykxSassinator",
          "Fix the issue that when a large number of transactions are queuing for lock release on the same key and the key is frequently updated, excessive pressure on deadlock detection might cause TiKV OOM issues #17394 @MyonKeminta",
          "Fix the issue that write jitter might occur when all hibernated Regions are awakened #17101 @hhwyt",
          "Fix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus",
          "Fix the issue that Online Unsafe Recovery cannot handle merge abort #15580 @v01dstar",
          "Fix the issue that CPU profiling flag is not reset correctly when an error occurs #17234 @Connor1996",
          "Fix the issue that large batch writes cause performance jitter when raft-entry-max-size is set too high #17701 @SpadeA-Tang",
          "Fix the issue that improper error handling in the conflict detection interface of the import module might cause TiKV to panic #17830 @joccau",
          "PD\nFix the issue that when creating evict-leader-scheduler or grant-leader-scheduler encounters an error, the error message is not returned to pd-ctl #8759 @okJiang\nFix the issue that PD cannot quickly re-elect a leader during etcd leader transition #8823 @rleungx\nFix the memory leak issue in label statistics #8700 @lhy1024\nFix the issue that evict-leader-scheduler fails to work properly when it is repeatedly created with the same Store ID #8756 @okJiang\nFix the issue that slots are not fully deleted in a resource group client, which causes the number of the allocated tokens to be less than the specified value #7346 @guo-shaoge\nFix the issue that when using a wrong parameter in evict-leader-scheduler, PD does not report errors correctly and some schedulers are unavailable #8619 @rleungx\nFix the memory leak issue in hotspot cache #8698 @lhy1024\nFix the performance jitter issue caused by frequent creation of random number generator #8674 @rleungx",
          "Fix the issue that when creating evict-leader-scheduler or grant-leader-scheduler encounters an error, the error message is not returned to pd-ctl #8759 @okJiang",
          "Fix the issue that PD cannot quickly re-elect a leader during etcd leader transition #8823 @rleungx",
          "Fix the memory leak issue in label statistics #8700 @lhy1024",
          "Fix the issue that evict-leader-scheduler fails to work properly when it is repeatedly created with the same Store ID #8756 @okJiang",
          "Fix the issue that slots are not fully deleted in a resource group client, which causes the number of the allocated tokens to be less than the specified value #7346 @guo-shaoge",
          "Fix the issue that when using a wrong parameter in evict-leader-scheduler, PD does not report errors correctly and some schedulers are unavailable #8619 @rleungx",
          "Fix the memory leak issue in hotspot cache #8698 @lhy1024",
          "Fix the performance jitter issue caused by frequent creation of random number generator #8674 @rleungx",
          "TiFlash\nFix the TiFlash panic issue when TiFlash encounters conflicts during concurrent DDL execution #8578 @JaySon-Huang\nFix the issue that LPAD() and RPAD() functions return incorrect results in some cases #9465 @guo-shaoge\nFix the issue that the SUBSTRING() function returns incorrect results when the second parameter is negative #9604 @guo-shaoge\nFix the issue that TiFlash fails to parse the table schema when the table contains Bit-type columns with a default value that contains invalid characters #9461 @Lloyd-Pottiger\nFix the issue that querying new columns might return incorrect results under the disaggregated storage and compute architecture #9665 @zimulala",
          "Fix the TiFlash panic issue when TiFlash encounters conflicts during concurrent DDL execution #8578 @JaySon-Huang",
          "Fix the issue that LPAD() and RPAD() functions return incorrect results in some cases #9465 @guo-shaoge",
          "Fix the issue that the SUBSTRING() function returns incorrect results when the second parameter is negative #9604 @guo-shaoge",
          "Fix the issue that TiFlash fails to parse the table schema when the table contains Bit-type columns with a default value that contains invalid characters #9461 @Lloyd-Pottiger",
          "Fix the issue that querying new columns might return incorrect results under the disaggregated storage and compute architecture #9665 @zimulala",
          "Tools\nBackup & Restore (BR)\nFix the issue that when resuming from a checkpoint after data restore fails, an error the target cluster is not fresh occurs #50232 @Leavrth\nFix the issue that log backups cannot resolve residual locks promptly, causing the checkpoint to fail to advance #57134 @3pointer\nFix the issue that logs might print out encrypted information #57585 @kennytm\nFix the issue that the TestStoreRemoved test case is unstable #52791 @YuJuncen\nFix potential security vulnerabilities by upgrading the k8s.io/api library version #57790 @BornChanger\nFix the issue that PITR tasks might return the Information schema is out of date error when there are a large number of tables in the cluster but the actual data size is small #57743 @Tristan1900\nTiCDC\nFix the issue that TiCDC might report an error when replicating a TRUNCATE TABLE DDL on a table without valid index #11765 @asddongmen\nFix the issue that the tableID for partitioned tables is not correctly set in Simple Protocol messages #11846 @3AceShowHand\nFix the issue that the redo module fails to properly report errors #11744 @CharlesCheung96\nFix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96\nFix the issue that TiCDC mistakenly discards DDL tasks when the schema versions of DDL tasks become non-incremental during TiDB DDL owner changes #11714 @wlwilliamx\nTiDB Data Migration (DM)\nFix the issue that automatically generated IDs in a table might have significant jumps after data import in physical import mode #11768 @D3Hunter\nFix the issue that the pre-check of start-task fails when both TLS and shard-mode are configured #11842 @sunxiaoguang\nFix the issue that connecting to MySQL 8.0 fails when the password length exceeds 19 characters #11603 @fishiu\nTiDB Lightning\nFix the issue that TiDB Lightning fails to receive oversized messages sent from TiKV #56114 @fishiu\nFix the issue that the AUTO_INCREMENT value is set too high after importing data using the physical import mode #56814 @D3Hunter\nFix the issue that TiDB Lightning does not automatically retry when encountering Lock wait timeout errors during metadata updates #53042 @guoshouyan\nFix the issue that the performance degrades when importing data from a cloud storage in high-concurrency scenarios #57413 @xuanyu66\nFix the issue that TiDB Lightning might get stuck for a long time during the preparation phase when importing a large number of Parquet files #56104 @zeminzhou\nFix the issue that the error report output is truncated when importing data using TiDB Lightning #58085 @lance6716\nDumpling\nFix the issue that Dumpling fails to retry properly when receiving a 503 error from Google Cloud Storage (GCS) #56127 @OliverS929",
          "Backup & Restore (BR)\nFix the issue that when resuming from a checkpoint after data restore fails, an error the target cluster is not fresh occurs #50232 @Leavrth\nFix the issue that log backups cannot resolve residual locks promptly, causing the checkpoint to fail to advance #57134 @3pointer\nFix the issue that logs might print out encrypted information #57585 @kennytm\nFix the issue that the TestStoreRemoved test case is unstable #52791 @YuJuncen\nFix potential security vulnerabilities by upgrading the k8s.io/api library version #57790 @BornChanger\nFix the issue that PITR tasks might return the Information schema is out of date error when there are a large number of tables in the cluster but the actual data size is small #57743 @Tristan1900",
          "Fix the issue that when resuming from a checkpoint after data restore fails, an error the target cluster is not fresh occurs #50232 @Leavrth",
          "Fix the issue that log backups cannot resolve residual locks promptly, causing the checkpoint to fail to advance #57134 @3pointer",
          "Fix the issue that logs might print out encrypted information #57585 @kennytm",
          "Fix the issue that the TestStoreRemoved test case is unstable #52791 @YuJuncen",
          "Fix potential security vulnerabilities by upgrading the k8s.io/api library version #57790 @BornChanger",
          "Fix the issue that PITR tasks might return the Information schema is out of date error when there are a large number of tables in the cluster but the actual data size is small #57743 @Tristan1900",
          "TiCDC\nFix the issue that TiCDC might report an error when replicating a TRUNCATE TABLE DDL on a table without valid index #11765 @asddongmen\nFix the issue that the tableID for partitioned tables is not correctly set in Simple Protocol messages #11846 @3AceShowHand\nFix the issue that the redo module fails to properly report errors #11744 @CharlesCheung96\nFix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96\nFix the issue that TiCDC mistakenly discards DDL tasks when the schema versions of DDL tasks become non-incremental during TiDB DDL owner changes #11714 @wlwilliamx",
          "Fix the issue that TiCDC might report an error when replicating a TRUNCATE TABLE DDL on a table without valid index #11765 @asddongmen",
          "Fix the issue that the tableID for partitioned tables is not correctly set in Simple Protocol messages #11846 @3AceShowHand",
          "Fix the issue that the redo module fails to properly report errors #11744 @CharlesCheung96",
          "Fix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96",
          "Fix the issue that TiCDC mistakenly discards DDL tasks when the schema versions of DDL tasks become non-incremental during TiDB DDL owner changes #11714 @wlwilliamx",
          "TiDB Data Migration (DM)\nFix the issue that automatically generated IDs in a table might have significant jumps after data import in physical import mode #11768 @D3Hunter\nFix the issue that the pre-check of start-task fails when both TLS and shard-mode are configured #11842 @sunxiaoguang\nFix the issue that connecting to MySQL 8.0 fails when the password length exceeds 19 characters #11603 @fishiu",
          "Fix the issue that automatically generated IDs in a table might have significant jumps after data import in physical import mode #11768 @D3Hunter",
          "Fix the issue that the pre-check of start-task fails when both TLS and shard-mode are configured #11842 @sunxiaoguang",
          "Fix the issue that connecting to MySQL 8.0 fails when the password length exceeds 19 characters #11603 @fishiu",
          "TiDB Lightning\nFix the issue that TiDB Lightning fails to receive oversized messages sent from TiKV #56114 @fishiu\nFix the issue that the AUTO_INCREMENT value is set too high after importing data using the physical import mode #56814 @D3Hunter\nFix the issue that TiDB Lightning does not automatically retry when encountering Lock wait timeout errors during metadata updates #53042 @guoshouyan\nFix the issue that the performance degrades when importing data from a cloud storage in high-concurrency scenarios #57413 @xuanyu66\nFix the issue that TiDB Lightning might get stuck for a long time during the preparation phase when importing a large number of Parquet files #56104 @zeminzhou\nFix the issue that the error report output is truncated when importing data using TiDB Lightning #58085 @lance6716",
          "Fix the issue that TiDB Lightning fails to receive oversized messages sent from TiKV #56114 @fishiu",
          "Fix the issue that the AUTO_INCREMENT value is set too high after importing data using the physical import mode #56814 @D3Hunter",
          "Fix the issue that TiDB Lightning does not automatically retry when encountering Lock wait timeout errors during metadata updates #53042 @guoshouyan",
          "Fix the issue that the performance degrades when importing data from a cloud storage in high-concurrency scenarios #57413 @xuanyu66",
          "Fix the issue that TiDB Lightning might get stuck for a long time during the preparation phase when importing a large number of Parquet files #56104 @zeminzhou",
          "Fix the issue that the error report output is truncated when importing data using TiDB Lightning #58085 @lance6716",
          "Dumpling\nFix the issue that Dumpling fails to retry properly when receiving a 503 error from Google Cloud Storage (GCS) #56127 @OliverS929",
          "Fix the issue that Dumpling fails to retry properly when receiving a 503 error from Google Cloud Storage (GCS) #56127 @OliverS929"
        ]
      },
      {
        "version": "7.5.4",
        "date": "2024-10-15",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.5.4/",
        "changes": [
          "TiDB\nSupport applying the tidb_redact_log setting to the output of EXPLAIN statements and further optimize the logic in processing logs #54565 @hawkingrei\nOptimize the query speed of TiDB slow queries #54630 @yibin87",
          "Support applying the tidb_redact_log setting to the output of EXPLAIN statements and further optimize the logic in processing logs #54565 @hawkingrei",
          "Optimize the query speed of TiDB slow queries #54630 @yibin87",
          "TiKV\nOptimize the trigger mechanism of RocksDB compaction to accelerate disk space reclamation when handling a large number of DELETE versions #17269 @AndreMouche\nReduce the memory usage of the peer message channel #16229 @Connor1996\nOptimize the jittery access delay when restarting TiKV due to waiting for the log to be applied, improving the stability of TiKV #15874 @LykxSassinator\nOptimize TiKV's DiskFull detection to make it compatible with RaftEngine's spill-dir configuration, ensuring that this feature works consistently #17356 @LykxSassinator",
          "Optimize the trigger mechanism of RocksDB compaction to accelerate disk space reclamation when handling a large number of DELETE versions #17269 @AndreMouche",
          "Reduce the memory usage of the peer message channel #16229 @Connor1996",
          "Optimize the jittery access delay when restarting TiKV due to waiting for the log to be applied, improving the stability of TiKV #15874 @LykxSassinator",
          "Optimize TiKV's DiskFull detection to make it compatible with RaftEngine's spill-dir configuration, ensuring that this feature works consistently #17356 @LykxSassinator",
          "TiFlash\nOptimize the execution efficiency of LENGTH() and ASCII() functions #9344 @xzhangxian1008\nMitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker\nImprove the cancel mechanism of the JOIN operator, so that the JOIN operator can respond to cancel requests in a timely manner #9430 @windtalker",
          "Optimize the execution efficiency of LENGTH() and ASCII() functions #9344 @xzhangxian1008",
          "Mitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker",
          "Improve the cancel mechanism of the JOIN operator, so that the JOIN operator can respond to cancel requests in a timely manner #9430 @windtalker",
          "Tools\nBackup & Restore (BR)\nSupport checking whether the disk space in TiKV is sufficient before TiKV downloads each SST file. If the space is insufficient, BR terminates the restore and returns an error #17224 @RidRisR\nTiCDC\nWhen the downstream is TiDB with the SUPER permission granted, TiCDC supports querying the execution status of ADD INDEX DDL from the downstream database to avoid data replication failure due to timeout in retrying executing the DDL statement in some cases #10682 @CharlesCheung96",
          "Backup & Restore (BR)\nSupport checking whether the disk space in TiKV is sufficient before TiKV downloads each SST file. If the space is insufficient, BR terminates the restore and returns an error #17224 @RidRisR",
          "Support checking whether the disk space in TiKV is sufficient before TiKV downloads each SST file. If the space is insufficient, BR terminates the restore and returns an error #17224 @RidRisR",
          "TiCDC\nWhen the downstream is TiDB with the SUPER permission granted, TiCDC supports querying the execution status of ADD INDEX DDL from the downstream database to avoid data replication failure due to timeout in retrying executing the DDL statement in some cases #10682 @CharlesCheung96",
          "When the downstream is TiDB with the SUPER permission granted, TiCDC supports querying the execution status of ADD INDEX DDL from the downstream database to avoid data replication failure due to timeout in retrying executing the DDL statement in some cases #10682 @CharlesCheung96",
          "TiDB\nFix the issue that FLASHBACK DATABASE fails when many tables exist in the database #54415 @lance6716\nFix the issue that RANGE partitioned tables that are not strictly self-incrementing can be created #54829 @Defined2014\nFix the issue that a query statement that contains UNION might return incorrect results #52985 @XuHuaiyu\nFix the issue that INDEX_HASH_JOIN cannot exit properly when SQL is abnormally interrupted #54688 @wshwsh12\nReset the parameters in the Open method of PipelinedWindow to fix the unexpected error that occurs when the PipelinedWindow is used as a child node of Apply due to the reuse of previous parameter values caused by repeated opening and closing operations #53600 @XuHuaiyu\nFix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520\nFix the issue that disk files might not be deleted after the Sort operator spills and a query error occurs #55061 @wshwsh12\nFix the issue that the query might return incorrect results instead of an error after being killed #50089 @D3Hunter\nFix the issue that table replication fails when the index length of the table replicated from DM exceeds the maximum length specified by max-index-length #55138 @lance6716\nFix the issue that the SUB_PART value in the INFORMATION_SCHEMA.STATISTICS table is NULL #55812 @Defined2014\nFix the issue that an error occurs when a DML statement contains nested generated columns #53967 @wjhuang2016\nFix the issue that the tot_col_size column in the mysql.stats_histograms table might be a negative number #55126 @qw4990\nFix the data race issue in IndexNestedLoopHashJoin #49692 @solotzg\nFix the issue that the query might get stuck when terminated because the memory usage exceeds the limit set by tidb_mem_quota_query #55042 @yibin87\nFix the issue that columnEvaluator cannot identify the column references in the input chunk, which leads to runtime error: index out of range when executing SQL statements #53713 @AilinKid\nFix the issue that the performance of the SELECT ... WHERE ... ORDER BY ... statement execution is poor in some cases #54969 @tiancaiamao\nFix the issue that empty groupOffset in StreamAggExec might cause TiDB to panic #53867 @xzhangxian1008\nFix the issue that TiDB queries cannot be canceled during cop task construction #55957 @yibin87\nFix the issue that an out of range error might occur when a small display width is specified for a column of the integer type #55837 @windtalker\nFix the issue that duplicate entry might occur when adding unique indexes #56161 @tangenta\nFix the issue that TiDB panics when importing temporary tables using the IMPORT INTO statement #55970 @D3Hunter\nFix the issue of data index inconsistency caused by retries during index addition #55808 @lance6716",
          "Fix the issue that FLASHBACK DATABASE fails when many tables exist in the database #54415 @lance6716",
          "Fix the issue that RANGE partitioned tables that are not strictly self-incrementing can be created #54829 @Defined2014",
          "Fix the issue that a query statement that contains UNION might return incorrect results #52985 @XuHuaiyu",
          "Fix the issue that INDEX_HASH_JOIN cannot exit properly when SQL is abnormally interrupted #54688 @wshwsh12",
          "Reset the parameters in the Open method of PipelinedWindow to fix the unexpected error that occurs when the PipelinedWindow is used as a child node of Apply due to the reuse of previous parameter values caused by repeated opening and closing operations #53600 @XuHuaiyu",
          "Fix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520",
          "Fix the issue that disk files might not be deleted after the Sort operator spills and a query error occurs #55061 @wshwsh12",
          "Fix the issue that the query might return incorrect results instead of an error after being killed #50089 @D3Hunter",
          "Fix the issue that table replication fails when the index length of the table replicated from DM exceeds the maximum length specified by max-index-length #55138 @lance6716",
          "Fix the issue that the SUB_PART value in the INFORMATION_SCHEMA.STATISTICS table is NULL #55812 @Defined2014",
          "Fix the issue that an error occurs when a DML statement contains nested generated columns #53967 @wjhuang2016",
          "Fix the issue that the tot_col_size column in the mysql.stats_histograms table might be a negative number #55126 @qw4990",
          "Fix the data race issue in IndexNestedLoopHashJoin #49692 @solotzg",
          "Fix the issue that the query might get stuck when terminated because the memory usage exceeds the limit set by tidb_mem_quota_query #55042 @yibin87",
          "Fix the issue that columnEvaluator cannot identify the column references in the input chunk, which leads to runtime error: index out of range when executing SQL statements #53713 @AilinKid",
          "Fix the issue that the performance of the SELECT ... WHERE ... ORDER BY ... statement execution is poor in some cases #54969 @tiancaiamao",
          "Fix the issue that empty groupOffset in StreamAggExec might cause TiDB to panic #53867 @xzhangxian1008",
          "Fix the issue that TiDB queries cannot be canceled during cop task construction #55957 @yibin87",
          "Fix the issue that an out of range error might occur when a small display width is specified for a column of the integer type #55837 @windtalker",
          "Fix the issue that duplicate entry might occur when adding unique indexes #56161 @tangenta",
          "Fix the issue that TiDB panics when importing temporary tables using the IMPORT INTO statement #55970 @D3Hunter",
          "Fix the issue of data index inconsistency caused by retries during index addition #55808 @lance6716",
          "TiKV\nFix the issue that TiKV might panic when a stale replica processes Raft snapshots, triggered by a slow split operation and immediate removal of the new replica #17469 @hbisheng\nFix the flow control issue that might occur after deleting large tables or partitions #17304 @Connor1996\nFix the issue that bloom filters are incompatible between earlier versions (earlier than v7.1) and later versions #17272 @v01dstar\nFix the issue that prevents master key rotation when the master key is stored in a Key Management Service (KMS) #17410 @hhwyt\nFix the issue that the Storage async write duration monitoring metric on the TiKV panel in Grafana is inaccurate #17579 @overvenus\nFix the issue that when a large number of transactions are queuing for lock release on the same key and the key is frequently updated, excessive pressure on deadlock detection might cause TiKV OOM issues #17394 @MyonKeminta",
          "Fix the issue that TiKV might panic when a stale replica processes Raft snapshots, triggered by a slow split operation and immediate removal of the new replica #17469 @hbisheng",
          "Fix the flow control issue that might occur after deleting large tables or partitions #17304 @Connor1996",
          "Fix the issue that bloom filters are incompatible between earlier versions (earlier than v7.1) and later versions #17272 @v01dstar",
          "Fix the issue that prevents master key rotation when the master key is stored in a Key Management Service (KMS) #17410 @hhwyt",
          "Fix the issue that the Storage async write duration monitoring metric on the TiKV panel in Grafana is inaccurate #17579 @overvenus",
          "Fix the issue that when a large number of transactions are queuing for lock release on the same key and the key is frequently updated, excessive pressure on deadlock detection might cause TiKV OOM issues #17394 @MyonKeminta",
          "PD\nFix the issue that PD's Region API cannot be requested when a large number of Regions exist #55872 @rleungx\nFix the issue that when using a wrong parameter in evict-leader-scheduler, PD does not report errors correctly and some schedulers are unavailable #8619 @rleungx\nFix the issue that data race might occur in the scheduling server when a PD leader is switched in the microservice mode #8538 @lhy1024\nFix the issue that slots are not fully deleted in a resource group client, which causes the number of the allocated tokens to be less than the specified value #7346 @guo-shaoge\nFix the issue that the time data type in the INFORMATION_SCHEMA.RUNAWAY_WATCHES table is incorrect #54770 @HuSharp\nFix the issue that setting replication.strictly-match-label to true causes TiFlash to fail to start #8480 @rleungx",
          "Fix the issue that PD's Region API cannot be requested when a large number of Regions exist #55872 @rleungx",
          "Fix the issue that when using a wrong parameter in evict-leader-scheduler, PD does not report errors correctly and some schedulers are unavailable #8619 @rleungx",
          "Fix the issue that data race might occur in the scheduling server when a PD leader is switched in the microservice mode #8538 @lhy1024",
          "Fix the issue that slots are not fully deleted in a resource group client, which causes the number of the allocated tokens to be less than the specified value #7346 @guo-shaoge",
          "Fix the issue that the time data type in the INFORMATION_SCHEMA.RUNAWAY_WATCHES table is incorrect #54770 @HuSharp",
          "Fix the issue that setting replication.strictly-match-label to true causes TiFlash to fail to start #8480 @rleungx",
          "TiFlash\nFix the issue that TiFlash write nodes might fail to restart in the disaggregated storage and compute architecture #9282 @JaySon-Huang\nFix the issue that a network partition (network disconnection) between TiFlash and any PD might cause read request timeout errors #9243 @Lloyd-Pottiger\nFix the issue that when using the CAST() function to convert a string to a datetime with a time zone or invalid characters, the result is incorrect #8754 @solotzg\nFix the issue that read snapshots of TiFlash write nodes are not released in a timely manner in the disaggregated storage and compute architecture #9298 @JinheLin\nFix the issue that TiFlash fails to parse the table schema when the table contains Bit-type columns with a default value that contains invalid characters #9461 @Lloyd-Pottiger\nFix the issue that some queries might report errors when late materialization is enabled #9472 @Lloyd-Pottiger\nFix the issue that converting a data type to the DECIMAL type might lead to wrong query results in some extreme cases #53892 @guo-shaoge",
          "Fix the issue that TiFlash write nodes might fail to restart in the disaggregated storage and compute architecture #9282 @JaySon-Huang",
          "Fix the issue that a network partition (network disconnection) between TiFlash and any PD might cause read request timeout errors #9243 @Lloyd-Pottiger",
          "Fix the issue that when using the CAST() function to convert a string to a datetime with a time zone or invalid characters, the result is incorrect #8754 @solotzg",
          "Fix the issue that read snapshots of TiFlash write nodes are not released in a timely manner in the disaggregated storage and compute architecture #9298 @JinheLin",
          "Fix the issue that TiFlash fails to parse the table schema when the table contains Bit-type columns with a default value that contains invalid characters #9461 @Lloyd-Pottiger",
          "Fix the issue that some queries might report errors when late materialization is enabled #9472 @Lloyd-Pottiger",
          "Fix the issue that converting a data type to the DECIMAL type might lead to wrong query results in some extreme cases #53892 @guo-shaoge",
          "Tools\nBackup & Restore (BR)\nFix the issue that backup tasks might get stuck if TiKV becomes unresponsive during the backup process #53480 @Leavrth\nFix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth\nFix the issue that after a log backup PITR task fails and you stop it, the safepoints related to that task are not properly cleared in PD #17316 @Leavrth\nFix the issue that BR logs might print sensitive credential information when log backup is enabled #55273 @RidRisR\nFix the issue that BR integration test cases are unstable, and add a new test case to simulate snapshot or log backup file corruption #53835 @Leavrth\nTiCDC\nFix the issue that the barrier-ts monitoring metric for changefeed checkpoints might be inaccurate #11553 @3AceShowHand\nTiDB Data Migration (DM)\nFix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng\nFix the issue that DM does not set the default database when processing the ALTER DATABASE statement, which causes a replication error #11503 @lance6716\nFix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD\nTiDB Lightning\nFix the issue that transaction conflicts occur during data import using TiDB Lightning #49826 @lance6716",
          "Backup & Restore (BR)\nFix the issue that backup tasks might get stuck if TiKV becomes unresponsive during the backup process #53480 @Leavrth\nFix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth\nFix the issue that after a log backup PITR task fails and you stop it, the safepoints related to that task are not properly cleared in PD #17316 @Leavrth\nFix the issue that BR logs might print sensitive credential information when log backup is enabled #55273 @RidRisR\nFix the issue that BR integration test cases are unstable, and add a new test case to simulate snapshot or log backup file corruption #53835 @Leavrth",
          "Fix the issue that backup tasks might get stuck if TiKV becomes unresponsive during the backup process #53480 @Leavrth",
          "Fix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth",
          "Fix the issue that after a log backup PITR task fails and you stop it, the safepoints related to that task are not properly cleared in PD #17316 @Leavrth",
          "Fix the issue that BR logs might print sensitive credential information when log backup is enabled #55273 @RidRisR",
          "Fix the issue that BR integration test cases are unstable, and add a new test case to simulate snapshot or log backup file corruption #53835 @Leavrth",
          "TiCDC\nFix the issue that the barrier-ts monitoring metric for changefeed checkpoints might be inaccurate #11553 @3AceShowHand",
          "Fix the issue that the barrier-ts monitoring metric for changefeed checkpoints might be inaccurate #11553 @3AceShowHand",
          "TiDB Data Migration (DM)\nFix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng\nFix the issue that DM does not set the default database when processing the ALTER DATABASE statement, which causes a replication error #11503 @lance6716\nFix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD",
          "Fix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng",
          "Fix the issue that DM does not set the default database when processing the ALTER DATABASE statement, which causes a replication error #11503 @lance6716",
          "Fix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD",
          "TiDB Lightning\nFix the issue that transaction conflicts occur during data import using TiDB Lightning #49826 @lance6716",
          "Fix the issue that transaction conflicts occur during data import using TiDB Lightning #49826 @lance6716"
        ]
      },
      {
        "version": "7.5.3",
        "date": "2024-08-05",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.5.3/",
        "changes": [
          "TiDB\nBy batch deleting TiFlash placement rules, improve the processing speed of data GC after performing the TRUNCATE or DROP operation on partitioned tables #54068 @Lloyd-Pottiger",
          "By batch deleting TiFlash placement rules, improve the processing speed of data GC after performing the TRUNCATE or DROP operation on partitioned tables #54068 @Lloyd-Pottiger",
          "TiFlash\nMitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker\nReduce lock conflicts under highly concurrent data read operations and optimize short query performance #9125 @JinheLin",
          "Mitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker",
          "Reduce lock conflicts under highly concurrent data read operations and optimize short query performance #9125 @JinheLin",
          "Tools\nBackup & Restore (BR)\nExcept for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth\nSupport automatically abandoning log backup tasks when encountering a large checkpoint lag, to avoid prolonged blocking GC and potential cluster issues #50803 @RidRisR\nIncrease the number of retries for failures caused by DNS errors #53029 @YuJuncen\nAdd PITR integration test cases to cover compatibility testing for log backup and adding index acceleration #51987 @Leavrth\nIncrease the number of retries for failures caused by the absence of a leader in a Region #54017 @Leavrth\nSupport setting Alibaba Cloud access credentials through environment variables #45551 @RidRisR\nTiCDC\nSupport directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96",
          "Backup & Restore (BR)\nExcept for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth\nSupport automatically abandoning log backup tasks when encountering a large checkpoint lag, to avoid prolonged blocking GC and potential cluster issues #50803 @RidRisR\nIncrease the number of retries for failures caused by DNS errors #53029 @YuJuncen\nAdd PITR integration test cases to cover compatibility testing for log backup and adding index acceleration #51987 @Leavrth\nIncrease the number of retries for failures caused by the absence of a leader in a Region #54017 @Leavrth\nSupport setting Alibaba Cloud access credentials through environment variables #45551 @RidRisR",
          "Except for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth",
          "Support automatically abandoning log backup tasks when encountering a large checkpoint lag, to avoid prolonged blocking GC and potential cluster issues #50803 @RidRisR",
          "Increase the number of retries for failures caused by DNS errors #53029 @YuJuncen",
          "Add PITR integration test cases to cover compatibility testing for log backup and adding index acceleration #51987 @Leavrth",
          "Increase the number of retries for failures caused by the absence of a leader in a Region #54017 @Leavrth",
          "Support setting Alibaba Cloud access credentials through environment variables #45551 @RidRisR",
          "TiCDC\nSupport directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96",
          "Support directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96",
          "TiDB\nFix the issue that loading index statistics might cause memory leaks #54022 @hi-rustin\nFix the issue that the UPDATE operation can cause TiDB OOM in multi-table scenarios #53742 @hawkingrei\nFix the issue that indirect placeholder ? references in a GROUP BY statement cannot find columns #53872 @qw4990\nFix the issue that the LENGTH() condition is unexpectedly removed when the collation is utf8_bin or utf8mb4_bin #53730 @elsa0520\nFix the issue that inserting an overlarge number in scientific notation returns a warning instead of an error, making it consistent with MySQL #47787 @qw4990\nFix the issue that recursive CTE queries might result in invalid pointers #54449 @hawkingrei\nFix the issue that statistics collection does not update the stats_history table when encountering duplicate primary keys #47539 @Defined2014\nFix the issue that when queries contain non-correlated subqueries and LIMIT clauses, column pruning might be incomplete, resulting in a less optimal plan #54213 @qw4990\nFix the issue of abnormally high memory usage caused by memTracker not being detached when the HashJoin or IndexLookUp operator is the driven side sub-node of the Apply operator #54005 @XuHuaiyu\nFix the issue that the recursive CTE operator incorrectly tracks memory usage #54181 @guo-shaoge\nFix the issue that the memory used by transactions might be tracked multiple times #53984 @ekexium\nFix the issue that using SHOW WARNINGS; to obtain warnings might cause a panic #48756 @xhebox\nFix the issue that updating an UNSIGNED type of field to -1 returns null instead of 0 when sql_mode='' #47816 @lcwangchao\nFix the issue that the TIMESTAMPADD() function goes into an infinite loop when the first argument is month and the second argument is negative #54908 @xzhangxian1008\nFix the issue that the Connection Count monitoring metric in Grafana is incorrect when some connections exit before the handshake is complete #54428 @YangKeao\nFix the issue that the Connection Count of each resource group is incorrect when using TiProxy and resource groups #54545 @YangKeao\nFix the issue that executing CREATE OR REPLACE VIEW concurrently might result in the table doesn't exist error #53673 @tangenta\nFix the issue that TiDB might return incorrect query results when you query tables with virtual columns in transactions that involve data modification operations #53951 @qw4990\nFix the issue that executing the SELECT DISTINCT CAST(col AS DECIMAL), CAST(col AS SIGNED) FROM ... query might return incorrect results #53726 @hawkingrei\nFix the issue of incorrect WARNINGS information when using Optimizer Hints #53767 @hawkingrei\nFix the issue that the invalid column type DECIMAL(0,0) can be created in some cases #53779 @tangenta\nFix the issue that the memory_quota hint might not work in subqueries #53834 @qw4990\nFix the issue that JSON-related functions return errors inconsistent with MySQL in some cases #53799 @dveeden\nFix the issue that improper use of metadata locks might lead to writing anomalous data when using the plan cache under certain circumstances #53634 @zimulala\nFix the issue that certain filter conditions in queries might cause the planner module to report an invalid memory address or nil pointer dereference error #53582 #53580 #53594 #53603 @YangKeao\nFix the issue that after a statement within a transaction is killed by OOM, if TiDB continues to execute the next statement within the same transaction, you might get an error Trying to start aggressive locking while it's already started and a panic occurs #53540 @MyonKeminta\nFix the issue that executing ALTER TABLE ... REMOVE PARTITIONING might cause data loss #53385 @mjonss\nFix the issue that PREPARE/EXECUTE statements with the CONV expression containing a ? argument might result in incorrect query results when executed multiple times #53505 @qw4990\nFix the issue that TiDB fails to reject unauthenticated user connections in some cases when using the auth_socket authentication plugin #54031 @lcwangchao\nFix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520\nFix the issue that the STATE field in the INFORMATION_SCHEMA.TIDB_TRX table is empty due to the size of the STATE field not being defined #53026 @cfzjywxk\nFix the issue that the tidb_enable_async_merge_global_stats and tidb_analyze_partition_concurrency system variables do not take effect during automatic statistics collection #53972 @hi-rustin\nFix the issue that using CURRENT_DATE() as the default value for a column results in incorrect query results #53746 @tangenta\nFix the issue of reusing wrong point get plans for SELECT ... FOR UPDATE #54652 @qw4990",
          "Fix the issue that loading index statistics might cause memory leaks #54022 @hi-rustin",
          "Fix the issue that the UPDATE operation can cause TiDB OOM in multi-table scenarios #53742 @hawkingrei",
          "Fix the issue that indirect placeholder ? references in a GROUP BY statement cannot find columns #53872 @qw4990",
          "Fix the issue that the LENGTH() condition is unexpectedly removed when the collation is utf8_bin or utf8mb4_bin #53730 @elsa0520",
          "Fix the issue that inserting an overlarge number in scientific notation returns a warning instead of an error, making it consistent with MySQL #47787 @qw4990",
          "Fix the issue that recursive CTE queries might result in invalid pointers #54449 @hawkingrei",
          "Fix the issue that statistics collection does not update the stats_history table when encountering duplicate primary keys #47539 @Defined2014",
          "Fix the issue that when queries contain non-correlated subqueries and LIMIT clauses, column pruning might be incomplete, resulting in a less optimal plan #54213 @qw4990",
          "Fix the issue of abnormally high memory usage caused by memTracker not being detached when the HashJoin or IndexLookUp operator is the driven side sub-node of the Apply operator #54005 @XuHuaiyu",
          "Fix the issue that the recursive CTE operator incorrectly tracks memory usage #54181 @guo-shaoge",
          "Fix the issue that the memory used by transactions might be tracked multiple times #53984 @ekexium",
          "Fix the issue that using SHOW WARNINGS; to obtain warnings might cause a panic #48756 @xhebox",
          "Fix the issue that updating an UNSIGNED type of field to -1 returns null instead of 0 when sql_mode='' #47816 @lcwangchao",
          "Fix the issue that the TIMESTAMPADD() function goes into an infinite loop when the first argument is month and the second argument is negative #54908 @xzhangxian1008",
          "Fix the issue that the Connection Count monitoring metric in Grafana is incorrect when some connections exit before the handshake is complete #54428 @YangKeao",
          "Fix the issue that the Connection Count of each resource group is incorrect when using TiProxy and resource groups #54545 @YangKeao",
          "Fix the issue that executing CREATE OR REPLACE VIEW concurrently might result in the table doesn't exist error #53673 @tangenta",
          "Fix the issue that TiDB might return incorrect query results when you query tables with virtual columns in transactions that involve data modification operations #53951 @qw4990",
          "Fix the issue that executing the SELECT DISTINCT CAST(col AS DECIMAL), CAST(col AS SIGNED) FROM ... query might return incorrect results #53726 @hawkingrei",
          "Fix the issue of incorrect WARNINGS information when using Optimizer Hints #53767 @hawkingrei",
          "Fix the issue that the invalid column type DECIMAL(0,0) can be created in some cases #53779 @tangenta",
          "Fix the issue that the memory_quota hint might not work in subqueries #53834 @qw4990",
          "Fix the issue that JSON-related functions return errors inconsistent with MySQL in some cases #53799 @dveeden",
          "Fix the issue that improper use of metadata locks might lead to writing anomalous data when using the plan cache under certain circumstances #53634 @zimulala",
          "Fix the issue that certain filter conditions in queries might cause the planner module to report an invalid memory address or nil pointer dereference error #53582 #53580 #53594 #53603 @YangKeao",
          "Fix the issue that after a statement within a transaction is killed by OOM, if TiDB continues to execute the next statement within the same transaction, you might get an error Trying to start aggressive locking while it's already started and a panic occurs #53540 @MyonKeminta",
          "Fix the issue that executing ALTER TABLE ... REMOVE PARTITIONING might cause data loss #53385 @mjonss",
          "Fix the issue that PREPARE/EXECUTE statements with the CONV expression containing a ? argument might result in incorrect query results when executed multiple times #53505 @qw4990",
          "Fix the issue that TiDB fails to reject unauthenticated user connections in some cases when using the auth_socket authentication plugin #54031 @lcwangchao",
          "Fix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520",
          "Fix the issue that the STATE field in the INFORMATION_SCHEMA.TIDB_TRX table is empty due to the size of the STATE field not being defined #53026 @cfzjywxk",
          "Fix the issue that the tidb_enable_async_merge_global_stats and tidb_analyze_partition_concurrency system variables do not take effect during automatic statistics collection #53972 @hi-rustin",
          "Fix the issue that using CURRENT_DATE() as the default value for a column results in incorrect query results #53746 @tangenta",
          "Fix the issue of reusing wrong point get plans for SELECT ... FOR UPDATE #54652 @qw4990",
          "TiKV\nFix the issue that setting the gRPC message compression method via grpc-compression-type does not take effect on messages sent from TiKV to TiDB #17176 @ekexium\nFix the issue that highly concurrent Coprocessor requests might cause TiKV OOM #16653 @overvenus\nFix the issue that CDC and log-backup do not limit the timeout of check_leader using the advance-ts-interval configuration, causing the resolved_ts lag to be too large when TiKV restarts normally in some cases #17107 @MyonKeminta\nFix the issue that TiKV might repeatedly panic when applying a corrupted Raft data snapshot #15292 @LykxSassinator",
          "Fix the issue that setting the gRPC message compression method via grpc-compression-type does not take effect on messages sent from TiKV to TiDB #17176 @ekexium",
          "Fix the issue that highly concurrent Coprocessor requests might cause TiKV OOM #16653 @overvenus",
          "Fix the issue that CDC and log-backup do not limit the timeout of check_leader using the advance-ts-interval configuration, causing the resolved_ts lag to be too large when TiKV restarts normally in some cases #17107 @MyonKeminta",
          "Fix the issue that TiKV might repeatedly panic when applying a corrupted Raft data snapshot #15292 @LykxSassinator",
          "PD\nFix the issue that slots are not fully deleted in a resource group client, which causes the number of the allocated tokens to be less than the specified value #7346 @guo-shaoge\nFix the issue that a resource group encounters quota limits when requesting tokens for more than 500 ms #8349 @nolouch\nFix the data race issue of resource groups #8267 @HuSharp\nFix the data race issue that PD encounters during operator checks #8263 @lhy1024\nFix the issue that deleted nodes still appear in the candidate connection list in etcd client #8286 @JmPotato\nFix the issue that setting the TiKV configuration item coprocessor.region-split-size to a value less than 1 MiB causes PD panic #8323 @JmPotato\nFix the issue that the encryption manager is not initialized before use #8384 @releungx\nFix the issue that PD logs are not fully redacted when the PD configuration item security.redact-info-log is enabled #8419 @releungx\nFix the issue that no error is reported when binding a role to a resource group #54417 @JmPotato",
          "Fix the issue that slots are not fully deleted in a resource group client, which causes the number of the allocated tokens to be less than the specified value #7346 @guo-shaoge",
          "Fix the issue that a resource group encounters quota limits when requesting tokens for more than 500 ms #8349 @nolouch",
          "Fix the data race issue of resource groups #8267 @HuSharp",
          "Fix the data race issue that PD encounters during operator checks #8263 @lhy1024",
          "Fix the issue that deleted nodes still appear in the candidate connection list in etcd client #8286 @JmPotato",
          "Fix the issue that setting the TiKV configuration item coprocessor.region-split-size to a value less than 1 MiB causes PD panic #8323 @JmPotato",
          "Fix the issue that the encryption manager is not initialized before use #8384 @releungx",
          "Fix the issue that PD logs are not fully redacted when the PD configuration item security.redact-info-log is enabled #8419 @releungx",
          "Fix the issue that no error is reported when binding a role to a resource group #54417 @JmPotato",
          "TiFlash\nFix the issue that a large number of duplicate rows might be read in FastScan mode after importing data via BR or TiDB Lightning #9118 @JinheLin\nFix the issue that the SUBSTRING_INDEX() function might cause TiFlash to crash in some corner cases #9116 @wshwsh12\nFix the issue that setting the SSL certificate configuration to an empty string in TiFlash incorrectly enables TLS and causes TiFlash to fail to start #9235 @JaySon-Huang\nFix the issue that some queries might report a column type mismatch error after late materialization is enabled #9175 @JinheLin\nFix the issue that queries with virtual generated columns might return incorrect results after late materialization is enabled #9188 @JinheLin\nFix the issue that TiFlash might panic after executing RENAME TABLE ... TO ... on a partitioned table with empty partitions across databases #9132 @JaySon-Huang\nFix the issue that TiFlash might panic when a database is deleted shortly after creation #9266 @JaySon-Huang",
          "Fix the issue that a large number of duplicate rows might be read in FastScan mode after importing data via BR or TiDB Lightning #9118 @JinheLin",
          "Fix the issue that the SUBSTRING_INDEX() function might cause TiFlash to crash in some corner cases #9116 @wshwsh12",
          "Fix the issue that setting the SSL certificate configuration to an empty string in TiFlash incorrectly enables TLS and causes TiFlash to fail to start #9235 @JaySon-Huang",
          "Fix the issue that some queries might report a column type mismatch error after late materialization is enabled #9175 @JinheLin",
          "Fix the issue that queries with virtual generated columns might return incorrect results after late materialization is enabled #9188 @JinheLin",
          "Fix the issue that TiFlash might panic after executing RENAME TABLE ... TO ... on a partitioned table with empty partitions across databases #9132 @JaySon-Huang",
          "Fix the issue that TiFlash might panic when a database is deleted shortly after creation #9266 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nFix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR\nFix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR\nFix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer\nFix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth\nFix the issue that after pausing, stopping, and rebuilding the log backup task, the task status is normal, but the checkpoint does not advance #53047 @RidRisR\nFix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer\nTiCDC\nFix the issue that the checksum is not correctly set to 0 after splitting UPDATE events #11402 @3AceShowHand\nFix the issue that the Processor module might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen\nDumpling\nFix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta",
          "Backup & Restore (BR)\nFix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR\nFix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR\nFix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer\nFix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth\nFix the issue that after pausing, stopping, and rebuilding the log backup task, the task status is normal, but the checkpoint does not advance #53047 @RidRisR\nFix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer",
          "Fix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR",
          "Fix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR",
          "Fix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer",
          "Fix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth",
          "Fix the issue that after pausing, stopping, and rebuilding the log backup task, the task status is normal, but the checkpoint does not advance #53047 @RidRisR",
          "Fix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer",
          "TiCDC\nFix the issue that the checksum is not correctly set to 0 after splitting UPDATE events #11402 @3AceShowHand\nFix the issue that the Processor module might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen",
          "Fix the issue that the checksum is not correctly set to 0 after splitting UPDATE events #11402 @3AceShowHand",
          "Fix the issue that the Processor module might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen",
          "Dumpling\nFix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta",
          "Fix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta"
        ]
      },
      {
        "version": "7.5.2",
        "date": "2024-06-13",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.5.2/",
        "changes": [
          "TiDB\nOptimize the issue that the ANALYZE statement blocks the metadata lock #47475 @wjhuang2016\nImprove the MySQL compatibility of expression default values displayed in the output of SHOW CREATE TABLE #52939 @CbcWestwolf\nEnhance the handling of DNF items that are always false by directly ignoring such filter conditions, thus avoiding unnecessary full table scans #40997 @hi-rustin\nOptimize the statistics for the execution process of the TiFlash TableScan operator in EXPLAIN ANALYZE #51727 @JinheLin\nRemove stores without Regions during MPP load balancing #52313 @xzhangxian1008\nSupport loading Regions in batch from PD to speed up the conversion process from the KV range to Regions when querying large tables #51326 @SeaRise\nOn the Resource Control monitoring page, add a new panel RU(Max) to show the maximum RU consumption rate for each resource group #49318 @nolouch\nImprove sync load performance to reduce latency in loading statistics #52994 hawkingrei\nIncrease concurrency of statistics initialization to speed up startup #52466 #52102 #52553 hawkingrei",
          "Optimize the issue that the ANALYZE statement blocks the metadata lock #47475 @wjhuang2016",
          "Improve the MySQL compatibility of expression default values displayed in the output of SHOW CREATE TABLE #52939 @CbcWestwolf",
          "Enhance the handling of DNF items that are always false by directly ignoring such filter conditions, thus avoiding unnecessary full table scans #40997 @hi-rustin",
          "Optimize the statistics for the execution process of the TiFlash TableScan operator in EXPLAIN ANALYZE #51727 @JinheLin",
          "Remove stores without Regions during MPP load balancing #52313 @xzhangxian1008",
          "Support loading Regions in batch from PD to speed up the conversion process from the KV range to Regions when querying large tables #51326 @SeaRise",
          "On the Resource Control monitoring page, add a new panel RU(Max) to show the maximum RU consumption rate for each resource group #49318 @nolouch",
          "Improve sync load performance to reduce latency in loading statistics #52994 hawkingrei",
          "Increase concurrency of statistics initialization to speed up startup #52466 #52102 #52553 hawkingrei",
          "TiKV\nAdjust the log level of coprocessor errors from warn to debug to reduce unnecessary logs of the cluster #15881 @cfzjywxk\nAdd monitoring metrics for the queue time for processing CDC events to facilitate troubleshooting downstream CDC event latency issues #16282 @hicqu\nAvoid performing IO operations on snapshot files in raftstore threads to improve TiKV stability #16564 @Connor1996\nAdd slow logs for peer and store messages #16600 @Connor1996\nWhen TiKV detects the existence of corrupted SST files, it logs the specific reasons for the corruption #16308 @overvenus\nRemove unnecessary async blocks to reduce memory usage #16540 @overvenus\nAccelerate the shutdown speed of TiKV #16680 @LykxSassinator",
          "Adjust the log level of coprocessor errors from warn to debug to reduce unnecessary logs of the cluster #15881 @cfzjywxk",
          "Add monitoring metrics for the queue time for processing CDC events to facilitate troubleshooting downstream CDC event latency issues #16282 @hicqu",
          "Avoid performing IO operations on snapshot files in raftstore threads to improve TiKV stability #16564 @Connor1996",
          "Add slow logs for peer and store messages #16600 @Connor1996",
          "When TiKV detects the existence of corrupted SST files, it logs the specific reasons for the corruption #16308 @overvenus",
          "Remove unnecessary async blocks to reduce memory usage #16540 @overvenus",
          "Accelerate the shutdown speed of TiKV #16680 @LykxSassinator",
          "PD\nUpgrade the etcd version to v3.4.30 #7904 @JmPotato\nAdd the monitoring metric for the maximum Request Unit (RU) per second #7908 @nolouch",
          "Upgrade the etcd version to v3.4.30 #7904 @JmPotato",
          "Add the monitoring metric for the maximum Request Unit (RU) per second #7908 @nolouch",
          "TiFlash\nMitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker",
          "Mitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker",
          "Tools\nBackup & Restore (BR)\nBR cleans up empty SST files during data recovery #16005 @Leavrth\nAdd PITR integration test cases to cover compatibility testing for log backup and adding index acceleration #51987 @Leavrth\nEnhance the tolerance of log backup to merge operations. When encountering a reasonably long merge operation, log backup tasks are less likely to enter the error state #16554 @YuJuncen\nImprove the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth\nSupport pre-allocating Table ID during the restore process to maximize the reuse of Table ID and improve restore performance #51736 @Leavrth\nRemove the invalid verification for active DDL jobs when log backup starts #52733 @Leavrth\nRemove an outdated compatibility check when using Google Cloud Storage (GCS) as the external storage #50533 @lance6716\nIncrease the number of retries for failures caused by DNS errors #53029 @YuJuncen\nTiCDC\nImprove memory stability during data recovery using redo logs to reduce the probability of OOM #10900 @CharlesCheung96\nSignificantly improve the stability of data replication in transaction conflict scenarios, with up to 10 times performance improvement #10896 @CharlesCheung96\nEnable the PD client forwarding function to make TiCDC more stable during network isolation between TiCDC and the PD leader #10849 @asddongmen\nImprove the initialization speed of replication tasks #11124 @asddongmen\nInitialize replication tasks asynchronously to reduce initialization time for the processor and owner #10845 @sdojjy\nDetect the Kafka cluster version automatically to improve compatibility with Kafka #10852 @wk989898",
          "Backup & Restore (BR)\nBR cleans up empty SST files during data recovery #16005 @Leavrth\nAdd PITR integration test cases to cover compatibility testing for log backup and adding index acceleration #51987 @Leavrth\nEnhance the tolerance of log backup to merge operations. When encountering a reasonably long merge operation, log backup tasks are less likely to enter the error state #16554 @YuJuncen\nImprove the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth\nSupport pre-allocating Table ID during the restore process to maximize the reuse of Table ID and improve restore performance #51736 @Leavrth\nRemove the invalid verification for active DDL jobs when log backup starts #52733 @Leavrth\nRemove an outdated compatibility check when using Google Cloud Storage (GCS) as the external storage #50533 @lance6716\nIncrease the number of retries for failures caused by DNS errors #53029 @YuJuncen",
          "BR cleans up empty SST files during data recovery #16005 @Leavrth",
          "Add PITR integration test cases to cover compatibility testing for log backup and adding index acceleration #51987 @Leavrth",
          "Enhance the tolerance of log backup to merge operations. When encountering a reasonably long merge operation, log backup tasks are less likely to enter the error state #16554 @YuJuncen",
          "Improve the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth",
          "Support pre-allocating Table ID during the restore process to maximize the reuse of Table ID and improve restore performance #51736 @Leavrth",
          "Remove the invalid verification for active DDL jobs when log backup starts #52733 @Leavrth",
          "Remove an outdated compatibility check when using Google Cloud Storage (GCS) as the external storage #50533 @lance6716",
          "Increase the number of retries for failures caused by DNS errors #53029 @YuJuncen",
          "TiCDC\nImprove memory stability during data recovery using redo logs to reduce the probability of OOM #10900 @CharlesCheung96\nSignificantly improve the stability of data replication in transaction conflict scenarios, with up to 10 times performance improvement #10896 @CharlesCheung96\nEnable the PD client forwarding function to make TiCDC more stable during network isolation between TiCDC and the PD leader #10849 @asddongmen\nImprove the initialization speed of replication tasks #11124 @asddongmen\nInitialize replication tasks asynchronously to reduce initialization time for the processor and owner #10845 @sdojjy\nDetect the Kafka cluster version automatically to improve compatibility with Kafka #10852 @wk989898",
          "Improve memory stability during data recovery using redo logs to reduce the probability of OOM #10900 @CharlesCheung96",
          "Significantly improve the stability of data replication in transaction conflict scenarios, with up to 10 times performance improvement #10896 @CharlesCheung96",
          "Enable the PD client forwarding function to make TiCDC more stable during network isolation between TiCDC and the PD leader #10849 @asddongmen",
          "Improve the initialization speed of replication tasks #11124 @asddongmen",
          "Initialize replication tasks asynchronously to reduce initialization time for the processor and owner #10845 @sdojjy",
          "Detect the Kafka cluster version automatically to improve compatibility with Kafka #10852 @wk989898",
          "TiDB\nFix the issue of inconsistent data indexes caused by concurrent DML operations when adding a unique index #52914 @wjhuang2016\nFix the issue of inconsistent data indexes caused by adding indexes with multi-schema changes on partitioned tables #52080 @tangenta\nFix the issue of inconsistent data indexes caused by adding multi-valued indexes #51162 @ywqzzy\nFix the issue that DDL operations get stuck due to network problems #47060 @wjhuang2016\nFix the issue that TiDB might report an error due to GC when loading statistics at startup #53592 @you06\nFix the issue that TiDB might send requests to unready TiKV nodes #50758 @zyguan\nFix the issue that Stale Read might miss after a TiKV rolling restart #52193 @zyguan\nFix the issue that data race might occur during KV request retries, leading to TiDB panics #51921 @zyguan\nFix the issue that TiDB might panic when parsing index data #47115 @zyguan\nFix the issue that TiDB might panic when the JOIN condition contains an implicit type conversion #46556 @qw4990\nFix the issue that comparing a column of YEAR type with an unsigned integer that is out of range causes incorrect results #50235 @qw4990\nFix the issue that subqueries in an UPDATE list might cause TiDB to panic #52687 @winoros\nFix the overflow issue of the Longlong type in predicates #45783 @hawkingrei\nFix the issue that SELECT INTO OUTFILE does not work when clustered indexes are used as predicates #42093 @qw4990\nFix the issue that the TopN operator might be pushed down incorrectly #37986 @qw4990\nFix the issue that an empty projection causes TiDB to panic #49109 @winoros\nFix the issue that Index Merge incorrectly pushes partial limit down when index plans are kept ordered #52947 @AilinKid\nFix the issue that using a view does not work in recursive CTE #49721 @hawkingrei\nFix the issue that unstable unique IDs of columns might cause the UPDATE statement to return errors #53236 @winoros\nFix the issue that TiDB panics when executing the SHOW ERRORS statement with a predicate that is always true #46962 @elsa0520\nFix the issue that the final AggMode and the non-final AggMode cannot coexist in Massively Parallel Processing (MPP) #51362 @AilinKid\nFix the issue that a wrong TableDual plan causes empty query results #50051 @onlyacat\nFix the issue that TiDB might panic when initializing statistics after enabling both lite-init-stats and concurrently-init-stats #52223 @hawkingrei\nFix the issue that NO_JOIN hints do not work with CREATE BINDING #52813 @qw4990\nFix the issue that subqueries included in the ALL function might cause incorrect results #52755 @hawkingrei\nFix the issue that VAR_SAMP() cannot be used as a window function #52933 @hi-rustin\nFix the issue that column pruning without using shallow copies of slices might cause TiDB to panic #52768 @winoros\nFix the issue that adding a unique index might cause TiDB to panic #52312 @wjhuang2016\nFix the issue that the TiDB server is marked as health before the initialization is complete #51596 @shenqidebaozi\nFix the issue that the type returned by the IFNULL function is inconsistent with MySQL #51765 @YangKeao\nFix the issue that parallel Apply might generate incorrect results when the table has a clustered index #51372 @guo-shaoge\nFix the issue that query results might be incorrect when the HAVING clause in a subquery contains correlated columns #51107 @hawkingrei\nFix the issue that querying the TIDB_HOT_REGIONS table might incorrectly return INFORMATION_SCHEMA tables #50810 @Defined2014\nFix the issue that automatic statistics collection is triggered before the initialization of statistics finishes #52346 @hi-rustin\nFix the issue that AutoID Leader change might cause the value of the auto-increment column to decrease in the case of AUTO_ID_CACHE=1 #52600 @tiancaiamao\nFix the issue that query results might be incorrect when you use Common Table Expressions (CTE) to access partitioned tables with missing statistics #51873 @qw4990\nFix the incorrect calculation and display of the number of connections (Connection Count) on the TiDB Dashboard Monitoring page #51889 @YangKeao\nFix the issue that DDL operations get stuck when restoring a table with the foreign key #51838 @YangKeao\nFix the issue that getting the default value of a column returns an error if the column default value is dropped #50043 #51324 @crazycs520\nFix the issue that TiDB does not listen to the corresponding port when force-init-stats is configured #51473 @hawkingrei\nFix the issue that the query result is incorrect when the IN() predicate contains NULL #51560 @winoros\nFix the issue that the TiDB synchronously loading statistics mechanism retries to load empty statistics indefinitely and prints the fail to get stats version for this histogram log #52657 @hawkingrei\nFix the issue that EXCHANGE PARTITION incorrectly processes foreign keys #51807 @YangKeao\nFix the issue that LIMIT might not be pushed down to the OR type Index Merge #48588 @AilinKid\nFix the incorrect result of the TopN operator in correlated subqueries #52777 @yibin87\nFix the issue that the CPS by type metric displays incorrect values #52605 @nolouch\nFix the issue that the EXPLAIN statement might display incorrect column IDs in the result when statistics for certain columns are not fully loaded #52207 @time-and-fate\nFix the issue that expressions containing different collations might cause the query to panic when the new framework for collations is disabled #52772 @wjhuang2016\nFix the issue that executing SQL statements containing tables with multi-valued indexes might return the Can't find a proper physical plan for this query error #49438 @qw4990\nFix the issue that TiDB cannot correctly convert the type of a system variable in an expression #43527 @hi-rustin\nFix the issue that executing INSERT IGNORE might result in inconsistency between the unique index and the data #51784 @wjhuang2016\nFix the issue that automatic statistics collection gets stuck after an OOM error occurs #51993 @hi-rustin\nFix the issue that TiDB might crash when tidb_mem_quota_analyze is enabled and the memory used by updating statistics exceeds the limit #52601 @hawkingrei\nFix the issue that max_execute_time settings at multiple levels interfere with each other #50914 @jiyfhust\nFix the issue of index inconsistency caused by adding multiple indexes using a single SQL statement #51746 @tangenta\nFix the issue that the Window function might panic when there is a related subquery in it #42734 @hi-rustin\nFix the issue that TiDB crashes when shuffleExec quits unexpectedly #48230 @wshwsh12\nFix the issue that the status gets stuck when rolling back the partition DDL tasks #51090 @jiyfhust\nFix the issue that querying JSON of BINARY type might cause an error in some cases #51547 @YangKeao\nFix the issue that adding indexes to large tables fails after enabling the Distributed eXecution Framework (DXF) #52640 @tangenta\nFix the issue that the TTL feature causes data hotspots due to incorrect data range splitting in some cases #51527 @lcwangchao\nFix the issue that ALTER TABLE ... COMPACT TIFLASH REPLICA might incorrectly end when the primary key type is VARCHAR #51810 @breezewish\nFix the issue of inconsistent data indexes caused by cluster upgrade during adding indexes #52411 @tangenta\nFix the performance regression issue caused by disabling predicate pushdown in TableDual #50614 @time-and-fate\nFix the issue that the TiDB server adds a label via the HTTP interface and returns success, but does not take effect #51427 @you06\nFix the issue that adding indexes in the ingest mode might cause inconsistent data index in some corner cases #51954 @lance6716\nFix the issue that the init-stats process might cause TiDB to panic and the load stats process to quit #51581 @hawkingrei\nFix the issue that the configuration file does not take effect when it contains an invalid configuration item #51399 @Defined2014\nFix the issue that query execution using MPP might lead to incorrect query results when a SQL statement contains JOIN and the SELECT list in the statement contains only constants #50358 @yibin87\nFix the issue that in determinate mode (tidb_opt_objective='determinate'), if a query does not contain predicates, statistics might not be loaded #48257 @time-and-fate\nFix the issue that the SURVIVAL_PREFERENCES attribute might not appear in the output of the SHOW CREATE PLACEMENT POLICY statement under certain conditions #51699 @lcwangchao\nFix the issue that IndexJoin produces duplicate rows when calculating hash values in the Left Outer Anti Semi type #52902 @yibin87\nFix the issue that the TIMESTAMPADD() function returns incorrect results #41052 @xzhangxian1008\nFix the issue that data conversion from the FLOAT type to the UNSIGNED type returns incorrect results #41736 @guo-shaoge\nFix the issue that the TRUNCATE() function returns incorrect results when its second argument is a large negative number #52978 @yibin87\nFix the issue that duplicated panel IDs in Grafana might cause abnormal display #51556 @D3Hunter\nFix the issue that TiDB unexpectedly restarts when logging gRPC errors #51301 @guo-shaoge\nFix the issue that TiDB loading statistics during startup might cause OOM #52219 @hawkingrei\nFix the issue that the TTL job for a table does not stop after the table is deleted #51540 @YangKeao",
          "Fix the issue of inconsistent data indexes caused by concurrent DML operations when adding a unique index #52914 @wjhuang2016",
          "Fix the issue of inconsistent data indexes caused by adding indexes with multi-schema changes on partitioned tables #52080 @tangenta",
          "Fix the issue of inconsistent data indexes caused by adding multi-valued indexes #51162 @ywqzzy",
          "Fix the issue that DDL operations get stuck due to network problems #47060 @wjhuang2016",
          "Fix the issue that TiDB might report an error due to GC when loading statistics at startup #53592 @you06",
          "Fix the issue that TiDB might send requests to unready TiKV nodes #50758 @zyguan",
          "Fix the issue that Stale Read might miss after a TiKV rolling restart #52193 @zyguan",
          "Fix the issue that data race might occur during KV request retries, leading to TiDB panics #51921 @zyguan",
          "Fix the issue that TiDB might panic when parsing index data #47115 @zyguan",
          "Fix the issue that TiDB might panic when the JOIN condition contains an implicit type conversion #46556 @qw4990",
          "Fix the issue that comparing a column of YEAR type with an unsigned integer that is out of range causes incorrect results #50235 @qw4990",
          "Fix the issue that subqueries in an UPDATE list might cause TiDB to panic #52687 @winoros",
          "Fix the overflow issue of the Longlong type in predicates #45783 @hawkingrei",
          "Fix the issue that SELECT INTO OUTFILE does not work when clustered indexes are used as predicates #42093 @qw4990",
          "Fix the issue that the TopN operator might be pushed down incorrectly #37986 @qw4990",
          "Fix the issue that an empty projection causes TiDB to panic #49109 @winoros",
          "Fix the issue that Index Merge incorrectly pushes partial limit down when index plans are kept ordered #52947 @AilinKid",
          "Fix the issue that using a view does not work in recursive CTE #49721 @hawkingrei",
          "Fix the issue that unstable unique IDs of columns might cause the UPDATE statement to return errors #53236 @winoros",
          "Fix the issue that TiDB panics when executing the SHOW ERRORS statement with a predicate that is always true #46962 @elsa0520",
          "Fix the issue that the final AggMode and the non-final AggMode cannot coexist in Massively Parallel Processing (MPP) #51362 @AilinKid",
          "Fix the issue that a wrong TableDual plan causes empty query results #50051 @onlyacat",
          "Fix the issue that TiDB might panic when initializing statistics after enabling both lite-init-stats and concurrently-init-stats #52223 @hawkingrei",
          "Fix the issue that NO_JOIN hints do not work with CREATE BINDING #52813 @qw4990",
          "Fix the issue that subqueries included in the ALL function might cause incorrect results #52755 @hawkingrei",
          "Fix the issue that VAR_SAMP() cannot be used as a window function #52933 @hi-rustin",
          "Fix the issue that column pruning without using shallow copies of slices might cause TiDB to panic #52768 @winoros",
          "Fix the issue that adding a unique index might cause TiDB to panic #52312 @wjhuang2016",
          "Fix the issue that the TiDB server is marked as health before the initialization is complete #51596 @shenqidebaozi",
          "Fix the issue that the type returned by the IFNULL function is inconsistent with MySQL #51765 @YangKeao",
          "Fix the issue that parallel Apply might generate incorrect results when the table has a clustered index #51372 @guo-shaoge",
          "Fix the issue that query results might be incorrect when the HAVING clause in a subquery contains correlated columns #51107 @hawkingrei",
          "Fix the issue that querying the TIDB_HOT_REGIONS table might incorrectly return INFORMATION_SCHEMA tables #50810 @Defined2014",
          "Fix the issue that automatic statistics collection is triggered before the initialization of statistics finishes #52346 @hi-rustin",
          "Fix the issue that AutoID Leader change might cause the value of the auto-increment column to decrease in the case of AUTO_ID_CACHE=1 #52600 @tiancaiamao",
          "Fix the issue that query results might be incorrect when you use Common Table Expressions (CTE) to access partitioned tables with missing statistics #51873 @qw4990",
          "Fix the incorrect calculation and display of the number of connections (Connection Count) on the TiDB Dashboard Monitoring page #51889 @YangKeao",
          "Fix the issue that DDL operations get stuck when restoring a table with the foreign key #51838 @YangKeao",
          "Fix the issue that getting the default value of a column returns an error if the column default value is dropped #50043 #51324 @crazycs520",
          "Fix the issue that TiDB does not listen to the corresponding port when force-init-stats is configured #51473 @hawkingrei",
          "Fix the issue that the query result is incorrect when the IN() predicate contains NULL #51560 @winoros",
          "Fix the issue that the TiDB synchronously loading statistics mechanism retries to load empty statistics indefinitely and prints the fail to get stats version for this histogram log #52657 @hawkingrei",
          "Fix the issue that EXCHANGE PARTITION incorrectly processes foreign keys #51807 @YangKeao",
          "Fix the issue that LIMIT might not be pushed down to the OR type Index Merge #48588 @AilinKid",
          "Fix the incorrect result of the TopN operator in correlated subqueries #52777 @yibin87",
          "Fix the issue that the CPS by type metric displays incorrect values #52605 @nolouch",
          "Fix the issue that the EXPLAIN statement might display incorrect column IDs in the result when statistics for certain columns are not fully loaded #52207 @time-and-fate",
          "Fix the issue that expressions containing different collations might cause the query to panic when the new framework for collations is disabled #52772 @wjhuang2016",
          "Fix the issue that executing SQL statements containing tables with multi-valued indexes might return the Can't find a proper physical plan for this query error #49438 @qw4990",
          "Fix the issue that TiDB cannot correctly convert the type of a system variable in an expression #43527 @hi-rustin",
          "Fix the issue that executing INSERT IGNORE might result in inconsistency between the unique index and the data #51784 @wjhuang2016",
          "Fix the issue that automatic statistics collection gets stuck after an OOM error occurs #51993 @hi-rustin",
          "Fix the issue that TiDB might crash when tidb_mem_quota_analyze is enabled and the memory used by updating statistics exceeds the limit #52601 @hawkingrei",
          "Fix the issue that max_execute_time settings at multiple levels interfere with each other #50914 @jiyfhust",
          "Fix the issue of index inconsistency caused by adding multiple indexes using a single SQL statement #51746 @tangenta",
          "Fix the issue that the Window function might panic when there is a related subquery in it #42734 @hi-rustin",
          "Fix the issue that TiDB crashes when shuffleExec quits unexpectedly #48230 @wshwsh12",
          "Fix the issue that the status gets stuck when rolling back the partition DDL tasks #51090 @jiyfhust",
          "Fix the issue that querying JSON of BINARY type might cause an error in some cases #51547 @YangKeao",
          "Fix the issue that adding indexes to large tables fails after enabling the Distributed eXecution Framework (DXF) #52640 @tangenta",
          "Fix the issue that the TTL feature causes data hotspots due to incorrect data range splitting in some cases #51527 @lcwangchao",
          "Fix the issue that ALTER TABLE ... COMPACT TIFLASH REPLICA might incorrectly end when the primary key type is VARCHAR #51810 @breezewish",
          "Fix the issue of inconsistent data indexes caused by cluster upgrade during adding indexes #52411 @tangenta",
          "Fix the performance regression issue caused by disabling predicate pushdown in TableDual #50614 @time-and-fate",
          "Fix the issue that the TiDB server adds a label via the HTTP interface and returns success, but does not take effect #51427 @you06",
          "Fix the issue that adding indexes in the ingest mode might cause inconsistent data index in some corner cases #51954 @lance6716",
          "Fix the issue that the init-stats process might cause TiDB to panic and the load stats process to quit #51581 @hawkingrei",
          "Fix the issue that the configuration file does not take effect when it contains an invalid configuration item #51399 @Defined2014",
          "Fix the issue that query execution using MPP might lead to incorrect query results when a SQL statement contains JOIN and the SELECT list in the statement contains only constants #50358 @yibin87",
          "Fix the issue that in determinate mode (tidb_opt_objective='determinate'), if a query does not contain predicates, statistics might not be loaded #48257 @time-and-fate",
          "Fix the issue that the SURVIVAL_PREFERENCES attribute might not appear in the output of the SHOW CREATE PLACEMENT POLICY statement under certain conditions #51699 @lcwangchao",
          "Fix the issue that IndexJoin produces duplicate rows when calculating hash values in the Left Outer Anti Semi type #52902 @yibin87",
          "Fix the issue that the TIMESTAMPADD() function returns incorrect results #41052 @xzhangxian1008",
          "Fix the issue that data conversion from the FLOAT type to the UNSIGNED type returns incorrect results #41736 @guo-shaoge",
          "Fix the issue that the TRUNCATE() function returns incorrect results when its second argument is a large negative number #52978 @yibin87",
          "Fix the issue that duplicated panel IDs in Grafana might cause abnormal display #51556 @D3Hunter",
          "Fix the issue that TiDB unexpectedly restarts when logging gRPC errors #51301 @guo-shaoge",
          "Fix the issue that TiDB loading statistics during startup might cause OOM #52219 @hawkingrei",
          "Fix the issue that the TTL job for a table does not stop after the table is deleted #51540 @YangKeao",
          "TiKV\nFix the issue that thread_id values are incorrectly displayed as 0x5 in TiKV logs #16398 @overvenus\nFix the issue of unstable test cases, ensuring that each test uses an independent temporary directory to avoid online configuration changes affecting other test cases #16871 @glorv\nFix the issue that TiKV might panic during the conversion from Binary to JSON #16616 @YangKeao\nFix the issue that the output of the raft region command in tikv-ctl does not include the Region status information #17037 @glorv\nFix the issue that slow check-leader operations on one TiKV node cause resolved-ts on other TiKV nodes to fail to advance normally #15999 @crazycs520\nFix the issue that after the process of destroying Peer is interrupted by applying snapshots, it does not resume even after applying snapshots is complete #16561 @tonyxuqqi\nFix the issue that the decimal part of the DECIMAL type is incorrect in some cases #16913 @gengliqi\nFix the issue that the CONV() function in queries might overflow during numeric system conversion, leading to TiKV panic #16969 @gengliqi\nFix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus\nFix the issue that the monitoring metric tikv_unified_read_pool_thread_count has no data in some cases #16629 @YuJuncen\nFix the issue that inactive Write Ahead Logs (WALs) in RocksDB might corrupt data #16705 @Connor1996\nFix the issue that resolve-ts is blocked when a stale Region peer ignores the GC message #16504 @crazycs520\nFix the issue that during the execution of an optimistic transaction, if other transactions initiate the resolving lock operation on it, there is a small chance that the atomicity of the transaction might be broken if the transaction's primary key has data that was previously committed in Async Commit or 1PC mode #16620 @MyonKeminta",
          "Fix the issue that thread_id values are incorrectly displayed as 0x5 in TiKV logs #16398 @overvenus",
          "Fix the issue of unstable test cases, ensuring that each test uses an independent temporary directory to avoid online configuration changes affecting other test cases #16871 @glorv",
          "Fix the issue that TiKV might panic during the conversion from Binary to JSON #16616 @YangKeao",
          "Fix the issue that the output of the raft region command in tikv-ctl does not include the Region status information #17037 @glorv",
          "Fix the issue that slow check-leader operations on one TiKV node cause resolved-ts on other TiKV nodes to fail to advance normally #15999 @crazycs520",
          "Fix the issue that after the process of destroying Peer is interrupted by applying snapshots, it does not resume even after applying snapshots is complete #16561 @tonyxuqqi",
          "Fix the issue that the decimal part of the DECIMAL type is incorrect in some cases #16913 @gengliqi",
          "Fix the issue that the CONV() function in queries might overflow during numeric system conversion, leading to TiKV panic #16969 @gengliqi",
          "Fix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus",
          "Fix the issue that the monitoring metric tikv_unified_read_pool_thread_count has no data in some cases #16629 @YuJuncen",
          "Fix the issue that inactive Write Ahead Logs (WALs) in RocksDB might corrupt data #16705 @Connor1996",
          "Fix the issue that resolve-ts is blocked when a stale Region peer ignores the GC message #16504 @crazycs520",
          "Fix the issue that during the execution of an optimistic transaction, if other transactions initiate the resolving lock operation on it, there is a small chance that the atomicity of the transaction might be broken if the transaction's primary key has data that was previously committed in Async Commit or 1PC mode #16620 @MyonKeminta",
          "PD\nFix the issue of connection panic after fault recovery in the TiDB network partition #7926 @CabinfeverB\nFix the issue that scheduling might be incorrectly paused after online data recovery #8095 @JmPotato\nFix the issue that the CPS By Type monitoring types display incorrectly after enabling resource groups #52605 @nolouch\nFix the issue that changing the log level via the configuration file does not take effect #8117 @rleungx\nFix the issue that a large number of retries occur when canceling resource groups queries #8217 @nolouch\nFix the issue that ALTER PLACEMENT POLICY cannot modify the placement policy #52257 #51712 @jiyfhust\nFix the issue that down peers might not recover when using Placement Rules #7808 @rleungx\nFix the issue that manually transferring the PD leader might fail #8225 @HuSharp\nFix the issue that the scheduling of write hotspots might break placement policy constraints #7848 @lhy1024\nFix the issue that slots are not fully deleted in a resource group client, which causes the number of the allocated tokens to be less than the specified value #7346 @guo-shaoge\nFix the issue that the scaling progress is not correctly displayed #7726 @CabinfeverB\nFix the issue that the Leader fails to transfer when you switch it between two deployed data centers #7992 @TonsnakeLin\nFix the issue that the Filter target monitoring metric for PD does not provide scatter range information #8125 @HuSharp\nFix the issue that the query result of SHOW CONFIG includes the deprecated configuration item trace-region-flow #7917 @rleungx",
          "Fix the issue of connection panic after fault recovery in the TiDB network partition #7926 @CabinfeverB",
          "Fix the issue that scheduling might be incorrectly paused after online data recovery #8095 @JmPotato",
          "Fix the issue that the CPS By Type monitoring types display incorrectly after enabling resource groups #52605 @nolouch",
          "Fix the issue that changing the log level via the configuration file does not take effect #8117 @rleungx",
          "Fix the issue that a large number of retries occur when canceling resource groups queries #8217 @nolouch",
          "Fix the issue that ALTER PLACEMENT POLICY cannot modify the placement policy #52257 #51712 @jiyfhust",
          "Fix the issue that down peers might not recover when using Placement Rules #7808 @rleungx",
          "Fix the issue that manually transferring the PD leader might fail #8225 @HuSharp",
          "Fix the issue that the scheduling of write hotspots might break placement policy constraints #7848 @lhy1024",
          "Fix the issue that slots are not fully deleted in a resource group client, which causes the number of the allocated tokens to be less than the specified value #7346 @guo-shaoge",
          "Fix the issue that the scaling progress is not correctly displayed #7726 @CabinfeverB",
          "Fix the issue that the Leader fails to transfer when you switch it between two deployed data centers #7992 @TonsnakeLin",
          "Fix the issue that the Filter target monitoring metric for PD does not provide scatter range information #8125 @HuSharp",
          "Fix the issue that the query result of SHOW CONFIG includes the deprecated configuration item trace-region-flow #7917 @rleungx",
          "TiFlash\nFix the issue that in the disaggregated storage and compute architecture, null values might be incorrectly returned in queries after adding non-null columns in DDL operations #9084 @Lloyd-Pottiger\nFix the issue of query timeout when executing queries on partitioned tables that contain empty partitions #9024 @JinheLin\nFix the issue that in the disaggregated storage and compute architecture, TiFlash might panic when the compute node process is stopped #8860 @guo-shaoge\nFix the issue that querying generated columns returns an error #8787 @guo-shaoge\nFix the issue that TiFlash metadata might become corrupted and cause the process to panic when upgrading a cluster from a version earlier than v6.5.0 to v6.5.0 or later #9039 @JaySon-Huang\nFix the issue that the ENUM column might cause TiFlash to crash during chunk encoding #8674 @yibin87\nFix incorrect local_region_num values in logs #8895 @JaySon-Huang\nFix the issue that in the disaggregated storage and compute architecture, TiFlash might panic during shutdown #8837 @JaySon-Huang\nFix the issue that TiFlash might return transiently incorrect results in high-concurrency read scenarios #8845 @JinheLin\nFix the issue that in the disaggregated storage and compute architecture, the disk used_size metric displayed in Grafana is incorrect after you modify the value of the storage.remote.cache.capacity configuration item for TiFlash compute nodes #8920 @JinheLin\nFix the issue that in the disaggregated storage and compute architecture, queries might be permanently blocked after network isolation #8806 @JinheLin\nFix the issue that TiFlash might panic when you insert data to columns with invalid default values in non-strict sql_mode #8803 @Lloyd-Pottiger",
          "Fix the issue that in the disaggregated storage and compute architecture, null values might be incorrectly returned in queries after adding non-null columns in DDL operations #9084 @Lloyd-Pottiger",
          "Fix the issue of query timeout when executing queries on partitioned tables that contain empty partitions #9024 @JinheLin",
          "Fix the issue that in the disaggregated storage and compute architecture, TiFlash might panic when the compute node process is stopped #8860 @guo-shaoge",
          "Fix the issue that querying generated columns returns an error #8787 @guo-shaoge",
          "Fix the issue that TiFlash metadata might become corrupted and cause the process to panic when upgrading a cluster from a version earlier than v6.5.0 to v6.5.0 or later #9039 @JaySon-Huang",
          "Fix the issue that the ENUM column might cause TiFlash to crash during chunk encoding #8674 @yibin87",
          "Fix incorrect local_region_num values in logs #8895 @JaySon-Huang",
          "Fix the issue that in the disaggregated storage and compute architecture, TiFlash might panic during shutdown #8837 @JaySon-Huang",
          "Fix the issue that TiFlash might return transiently incorrect results in high-concurrency read scenarios #8845 @JinheLin",
          "Fix the issue that in the disaggregated storage and compute architecture, the disk used_size metric displayed in Grafana is incorrect after you modify the value of the storage.remote.cache.capacity configuration item for TiFlash compute nodes #8920 @JinheLin",
          "Fix the issue that in the disaggregated storage and compute architecture, queries might be permanently blocked after network isolation #8806 @JinheLin",
          "Fix the issue that TiFlash might panic when you insert data to columns with invalid default values in non-strict sql_mode #8803 @Lloyd-Pottiger",
          "Tools\nBackup & Restore (BR)\nFix a rare issue that special event timing might cause the data loss in log backup #16739 @YuJuncen\nFix the issue that too many logs are printed when a full backup fails #51572 @Leavrth\nFix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen\nFix the issue that the global checkpoint of log backup is advanced ahead of the actual backup file write point due to TiKV restart, which might cause a small amount of backup data loss #16809 @YuJuncen\nFix the issue that TiKV might panic when resuming a paused log backup task with unstable network connections to PD #17020 @YuJuncen\nFix an unstable test case #52547 @Leavrth\nFix the issue that the Region fetched from PD does not have a Leader when restoring data using BR or importing data using TiDB Lightning in physical import mode #51124 #50501 @Leavrth\nFix the issue that TiKV panics when a full backup fails to find a peer in some extreme cases #16394 @Leavrth\nFix the issue that removing a log backup task after it is paused does not immediately restore the GC safepoint #52082 @3pointer\nFix the unstable test case TestClearCache #50743 @3pointer\nFix the issue that BR fails to restore a transactional KV cluster due to an empty EndKey #52574 @3pointer\nFix the issue that the transfer of PD leaders might cause BR to panic when restoring data #53724 @Leavrth\nFix the issue that BR could not back up the AUTO_RANDOM ID allocation progress in a union clustered index that contains an AUTO_RANDOM column #52255 @Leavrth\nTiCDC\nFix the issue that high latency in the PD disk I/O causes severe latency in data replication #9054 @asddongmen\nFix the issue that calling the API (/api/v2/owner/resign) that evicts the TiCDC owner node causes the TiCDC task to restart unexpectedly #10781 @sdojjy\nFix the issue that data is written to a wrong CSV file due to wrong BarrierTS in scenarios where DDL statements are executed frequently #10668 @lidezhu\nFix the issue that TiCDC fails to validate TIMESTAMP type checksum due to time zone mismatch after data integrity validation for single-row data is enabled #10573 @3AceShowHand\nFix the issue that a changefeed with eventual consistency enabled might fail when the object storage sink encounters a temporary failure #10710 @CharlesCheung96\nFix the issue that DROP PRIMARY KEY and DROP UNIQUE KEY statements are not replicated correctly #10890 @asddongmen\nFix the issue TiCDC panics when scheduling table replication tasks #10613 @CharlesCheung96\nFix the issue that when the downstream Pulsar is stopped, removing the changefeed causes the normal TiCDC process to get stuck, which causes other changefeed processes to get stuck #10629 @asddongmen\nFix the issue that restarting PD might cause the TiCDC node to restart with an error #10799 @3AceShowHand\nFix the issue that the old value part of open-protocol incorrectly outputs the default value according to the STRING type instead of its actual type #10803 @3AceShowHand\nFix the issue that the default value of TIMEZONE type is not set according to the correct time zone #10931 @3AceShowHand\nFix the issue that TiCDC fails to execute the Exchange Partition ... With Validation DDL downstream after it is written upstream, causing the changefeed to get stuck #10859 @hongyunyan\nFix the issue that data race in the KV client causes TiCDC to panic #10718 @asddongmen\nFix the issue that updating the primary key or the unique key in upstream might cause data inconsistency between upstream and downstream #10918 @lidezhu\nTiDB Data Migration (DM)\nFix the connection blocking issue by upgrading go-mysql #11041 @D3Hunter\nFix the issue that data is lost when the upstream primary key is of binary type #10672 @GMHDBJD\nTiDB Lightning\nFix the issue that TiDB Lightning might fail to import data when EBS BR is running #49517 @mittalrishabh\nFix the issue that TiDB Lightning reports no database selected during data import due to incompatible SQL statements in the source files #51800 @lance6716\nFix the issue that killing the PD Leader causes TiDB Lightning to report the invalid store ID 0 error during data import #50501 @Leavrth\nFix the issue that TiDB Lightning panics when importing an empty table of Parquet format #52518 @kennytm",
          "Backup & Restore (BR)\nFix a rare issue that special event timing might cause the data loss in log backup #16739 @YuJuncen\nFix the issue that too many logs are printed when a full backup fails #51572 @Leavrth\nFix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen\nFix the issue that the global checkpoint of log backup is advanced ahead of the actual backup file write point due to TiKV restart, which might cause a small amount of backup data loss #16809 @YuJuncen\nFix the issue that TiKV might panic when resuming a paused log backup task with unstable network connections to PD #17020 @YuJuncen\nFix an unstable test case #52547 @Leavrth\nFix the issue that the Region fetched from PD does not have a Leader when restoring data using BR or importing data using TiDB Lightning in physical import mode #51124 #50501 @Leavrth\nFix the issue that TiKV panics when a full backup fails to find a peer in some extreme cases #16394 @Leavrth\nFix the issue that removing a log backup task after it is paused does not immediately restore the GC safepoint #52082 @3pointer\nFix the unstable test case TestClearCache #50743 @3pointer\nFix the issue that BR fails to restore a transactional KV cluster due to an empty EndKey #52574 @3pointer\nFix the issue that the transfer of PD leaders might cause BR to panic when restoring data #53724 @Leavrth\nFix the issue that BR could not back up the AUTO_RANDOM ID allocation progress in a union clustered index that contains an AUTO_RANDOM column #52255 @Leavrth",
          "Fix a rare issue that special event timing might cause the data loss in log backup #16739 @YuJuncen",
          "Fix the issue that too many logs are printed when a full backup fails #51572 @Leavrth",
          "Fix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen",
          "Fix the issue that the global checkpoint of log backup is advanced ahead of the actual backup file write point due to TiKV restart, which might cause a small amount of backup data loss #16809 @YuJuncen",
          "Fix the issue that TiKV might panic when resuming a paused log backup task with unstable network connections to PD #17020 @YuJuncen",
          "Fix an unstable test case #52547 @Leavrth",
          "Fix the issue that the Region fetched from PD does not have a Leader when restoring data using BR or importing data using TiDB Lightning in physical import mode #51124 #50501 @Leavrth",
          "Fix the issue that TiKV panics when a full backup fails to find a peer in some extreme cases #16394 @Leavrth",
          "Fix the issue that removing a log backup task after it is paused does not immediately restore the GC safepoint #52082 @3pointer",
          "Fix the unstable test case TestClearCache #50743 @3pointer",
          "Fix the issue that BR fails to restore a transactional KV cluster due to an empty EndKey #52574 @3pointer",
          "Fix the issue that the transfer of PD leaders might cause BR to panic when restoring data #53724 @Leavrth",
          "Fix the issue that BR could not back up the AUTO_RANDOM ID allocation progress in a union clustered index that contains an AUTO_RANDOM column #52255 @Leavrth",
          "TiCDC\nFix the issue that high latency in the PD disk I/O causes severe latency in data replication #9054 @asddongmen\nFix the issue that calling the API (/api/v2/owner/resign) that evicts the TiCDC owner node causes the TiCDC task to restart unexpectedly #10781 @sdojjy\nFix the issue that data is written to a wrong CSV file due to wrong BarrierTS in scenarios where DDL statements are executed frequently #10668 @lidezhu\nFix the issue that TiCDC fails to validate TIMESTAMP type checksum due to time zone mismatch after data integrity validation for single-row data is enabled #10573 @3AceShowHand\nFix the issue that a changefeed with eventual consistency enabled might fail when the object storage sink encounters a temporary failure #10710 @CharlesCheung96\nFix the issue that DROP PRIMARY KEY and DROP UNIQUE KEY statements are not replicated correctly #10890 @asddongmen\nFix the issue TiCDC panics when scheduling table replication tasks #10613 @CharlesCheung96\nFix the issue that when the downstream Pulsar is stopped, removing the changefeed causes the normal TiCDC process to get stuck, which causes other changefeed processes to get stuck #10629 @asddongmen\nFix the issue that restarting PD might cause the TiCDC node to restart with an error #10799 @3AceShowHand\nFix the issue that the old value part of open-protocol incorrectly outputs the default value according to the STRING type instead of its actual type #10803 @3AceShowHand\nFix the issue that the default value of TIMEZONE type is not set according to the correct time zone #10931 @3AceShowHand\nFix the issue that TiCDC fails to execute the Exchange Partition ... With Validation DDL downstream after it is written upstream, causing the changefeed to get stuck #10859 @hongyunyan\nFix the issue that data race in the KV client causes TiCDC to panic #10718 @asddongmen\nFix the issue that updating the primary key or the unique key in upstream might cause data inconsistency between upstream and downstream #10918 @lidezhu",
          "Fix the issue that high latency in the PD disk I/O causes severe latency in data replication #9054 @asddongmen",
          "Fix the issue that calling the API (/api/v2/owner/resign) that evicts the TiCDC owner node causes the TiCDC task to restart unexpectedly #10781 @sdojjy",
          "Fix the issue that data is written to a wrong CSV file due to wrong BarrierTS in scenarios where DDL statements are executed frequently #10668 @lidezhu",
          "Fix the issue that TiCDC fails to validate TIMESTAMP type checksum due to time zone mismatch after data integrity validation for single-row data is enabled #10573 @3AceShowHand",
          "Fix the issue that a changefeed with eventual consistency enabled might fail when the object storage sink encounters a temporary failure #10710 @CharlesCheung96",
          "Fix the issue that DROP PRIMARY KEY and DROP UNIQUE KEY statements are not replicated correctly #10890 @asddongmen",
          "Fix the issue TiCDC panics when scheduling table replication tasks #10613 @CharlesCheung96",
          "Fix the issue that when the downstream Pulsar is stopped, removing the changefeed causes the normal TiCDC process to get stuck, which causes other changefeed processes to get stuck #10629 @asddongmen",
          "Fix the issue that restarting PD might cause the TiCDC node to restart with an error #10799 @3AceShowHand",
          "Fix the issue that the old value part of open-protocol incorrectly outputs the default value according to the STRING type instead of its actual type #10803 @3AceShowHand",
          "Fix the issue that the default value of TIMEZONE type is not set according to the correct time zone #10931 @3AceShowHand",
          "Fix the issue that TiCDC fails to execute the Exchange Partition ... With Validation DDL downstream after it is written upstream, causing the changefeed to get stuck #10859 @hongyunyan",
          "Fix the issue that data race in the KV client causes TiCDC to panic #10718 @asddongmen",
          "Fix the issue that updating the primary key or the unique key in upstream might cause data inconsistency between upstream and downstream #10918 @lidezhu",
          "TiDB Data Migration (DM)\nFix the connection blocking issue by upgrading go-mysql #11041 @D3Hunter\nFix the issue that data is lost when the upstream primary key is of binary type #10672 @GMHDBJD",
          "Fix the connection blocking issue by upgrading go-mysql #11041 @D3Hunter",
          "Fix the issue that data is lost when the upstream primary key is of binary type #10672 @GMHDBJD",
          "TiDB Lightning\nFix the issue that TiDB Lightning might fail to import data when EBS BR is running #49517 @mittalrishabh\nFix the issue that TiDB Lightning reports no database selected during data import due to incompatible SQL statements in the source files #51800 @lance6716\nFix the issue that killing the PD Leader causes TiDB Lightning to report the invalid store ID 0 error during data import #50501 @Leavrth\nFix the issue that TiDB Lightning panics when importing an empty table of Parquet format #52518 @kennytm",
          "Fix the issue that TiDB Lightning might fail to import data when EBS BR is running #49517 @mittalrishabh",
          "Fix the issue that TiDB Lightning reports no database selected during data import due to incompatible SQL statements in the source files #51800 @lance6716",
          "Fix the issue that killing the PD Leader causes TiDB Lightning to report the invalid store ID 0 error during data import #50501 @Leavrth",
          "Fix the issue that TiDB Lightning panics when importing an empty table of Parquet format #52518 @kennytm"
        ]
      },
      {
        "version": "7.5.1",
        "date": "2024-02-29",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.5.1/",
        "changes": [
          "TiDB\nUse tikv_client_read_timeout during the DDL schema reload process to reduce the impact of Meta Region Leader read unavailability on the cluster #48124 @cfzjywxk\nEnhance observability related to resource control #49318 @glorv @bufferflies @nolouch\nAs more and more users use resource groups to isolate application workloads, Resource Control provides enhanced data based on resource groups. This helps you monitor resource group workloads and settings, ensuring that you can quickly identify and accurately diagnose problems, including:\nSlow Queries: add the resource group name, resource unit (RU) consumption, and time for waiting for resources.\nStatement Summary Tables: add the resource group name, RU consumption, and time for waiting for resources.\nIn the system variable tidb_last_query_info, add a new entry ru_consumption to indicate the consumed RU by SQL statements. You can use this variable to get the resource consumption of the last statement in the session.\nAdd database metrics based on resource groups: QPS/TPS, execution time (P999/P99/P95), number of failures, and number of connections.\nModify the CANCEL IMPORT JOB statement to a synchronous statement #48736 @D3Hunter\nSupport the FLASHBACK CLUSTER TO TSO syntax #48372 @BornChanger\nOptimize the TiDB implementation when handling some type conversions and fix related issues #47945 #47864 #47829 #47816 @YangKeao @lcwangchao\nWhen a non-binary collation is set and the query includes LIKE, the optimizer generates an IndexRangeScan to improve the execution efficiency #48181 #49138 @time-and-fate\nEnhance the ability to convert OUTER JOIN to INNER JOIN in specific scenarios #49616 @qw4990\nSupport multiple accelerated ADD INDEX DDL tasks to be queued for execution, instead of falling back to normal ADD INDEX tasks #47758 @tangenta\nImprove the speed of adding indexes to empty tables #49682 @zimulala",
          "Use tikv_client_read_timeout during the DDL schema reload process to reduce the impact of Meta Region Leader read unavailability on the cluster #48124 @cfzjywxk",
          "Enhance observability related to resource control #49318 @glorv @bufferflies @nolouch\nAs more and more users use resource groups to isolate application workloads, Resource Control provides enhanced data based on resource groups. This helps you monitor resource group workloads and settings, ensuring that you can quickly identify and accurately diagnose problems, including:\nSlow Queries: add the resource group name, resource unit (RU) consumption, and time for waiting for resources.\nStatement Summary Tables: add the resource group name, RU consumption, and time for waiting for resources.\nIn the system variable tidb_last_query_info, add a new entry ru_consumption to indicate the consumed RU by SQL statements. You can use this variable to get the resource consumption of the last statement in the session.\nAdd database metrics based on resource groups: QPS/TPS, execution time (P999/P99/P95), number of failures, and number of connections.",
          "Slow Queries: add the resource group name, resource unit (RU) consumption, and time for waiting for resources.",
          "Statement Summary Tables: add the resource group name, RU consumption, and time for waiting for resources.",
          "In the system variable tidb_last_query_info, add a new entry ru_consumption to indicate the consumed RU by SQL statements. You can use this variable to get the resource consumption of the last statement in the session.",
          "Add database metrics based on resource groups: QPS/TPS, execution time (P999/P99/P95), number of failures, and number of connections.",
          "Modify the CANCEL IMPORT JOB statement to a synchronous statement #48736 @D3Hunter",
          "Support the FLASHBACK CLUSTER TO TSO syntax #48372 @BornChanger",
          "Optimize the TiDB implementation when handling some type conversions and fix related issues #47945 #47864 #47829 #47816 @YangKeao @lcwangchao",
          "When a non-binary collation is set and the query includes LIKE, the optimizer generates an IndexRangeScan to improve the execution efficiency #48181 #49138 @time-and-fate",
          "Enhance the ability to convert OUTER JOIN to INNER JOIN in specific scenarios #49616 @qw4990",
          "Support multiple accelerated ADD INDEX DDL tasks to be queued for execution, instead of falling back to normal ADD INDEX tasks #47758 @tangenta",
          "Improve the speed of adding indexes to empty tables #49682 @zimulala",
          "TiKV\nEnhance the slow store detection algorithm by improving its sensitivity and reducing the false-positive rate, especially in intensive read and write load scenarios #15909 @LykxSassinator",
          "Enhance the slow store detection algorithm by improving its sensitivity and reducing the false-positive rate, especially in intensive read and write load scenarios #15909 @LykxSassinator",
          "TiFlash\nImprove the calculation method for Request Unit (RU) to make RU values more stable #8391 @guo-shaoge\nReduce the impact of disk performance jitter on read latency #8583 @JaySon-Huang\nReduce the impact of background GC tasks on read and write task latency #8650 @JaySon-Huang",
          "Improve the calculation method for Request Unit (RU) to make RU values more stable #8391 @guo-shaoge",
          "Reduce the impact of disk performance jitter on read latency #8583 @JaySon-Huang",
          "Reduce the impact of background GC tasks on read and write task latency #8650 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nImprove the speed of merging SST files during data restore by using a more efficient algorithm #50613 @Leavrth\nSupport creating databases in batch during data restore #50767 @Leavrth\nSupport ingesting SST files in batch during data restore #16267 @3pointer\nPrint the information of the slowest Region that affects global checkpoint advancement in logs and metrics during log backups #51046 @YuJuncen\nImprove the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth\nBR can pause Region merging by setting the merge-schedule-limit configuration to 0 #7148 @BornChanger\nRefactor the BR exception handling mechanism to increase tolerance for unknown errors #47656 @3pointer\nTiCDC\nSupport searching TiCDC logs in the TiDB Dashboard #10263 @CharlesCheung96\nSupport querying the downstream synchronization status of a changefeed, which helps you determine whether the upstream data changes received by TiCDC have been synchronized to the downstream system completely #10289 @hongyunyan\nImprove the performance of TiCDC replicating data to object storage by increasing parallelism #10098 @CharlesCheung96\nTiDB Lightning\nImprove the performance of ALTER TABLE when importing a large number of small tables #50105 @D3Hunter",
          "Backup & Restore (BR)\nImprove the speed of merging SST files during data restore by using a more efficient algorithm #50613 @Leavrth\nSupport creating databases in batch during data restore #50767 @Leavrth\nSupport ingesting SST files in batch during data restore #16267 @3pointer\nPrint the information of the slowest Region that affects global checkpoint advancement in logs and metrics during log backups #51046 @YuJuncen\nImprove the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth\nBR can pause Region merging by setting the merge-schedule-limit configuration to 0 #7148 @BornChanger\nRefactor the BR exception handling mechanism to increase tolerance for unknown errors #47656 @3pointer",
          "Improve the speed of merging SST files during data restore by using a more efficient algorithm #50613 @Leavrth",
          "Support creating databases in batch during data restore #50767 @Leavrth",
          "Support ingesting SST files in batch during data restore #16267 @3pointer",
          "Print the information of the slowest Region that affects global checkpoint advancement in logs and metrics during log backups #51046 @YuJuncen",
          "Improve the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth",
          "BR can pause Region merging by setting the merge-schedule-limit configuration to 0 #7148 @BornChanger",
          "Refactor the BR exception handling mechanism to increase tolerance for unknown errors #47656 @3pointer",
          "TiCDC\nSupport searching TiCDC logs in the TiDB Dashboard #10263 @CharlesCheung96\nSupport querying the downstream synchronization status of a changefeed, which helps you determine whether the upstream data changes received by TiCDC have been synchronized to the downstream system completely #10289 @hongyunyan\nImprove the performance of TiCDC replicating data to object storage by increasing parallelism #10098 @CharlesCheung96",
          "Support searching TiCDC logs in the TiDB Dashboard #10263 @CharlesCheung96",
          "Support querying the downstream synchronization status of a changefeed, which helps you determine whether the upstream data changes received by TiCDC have been synchronized to the downstream system completely #10289 @hongyunyan",
          "Improve the performance of TiCDC replicating data to object storage by increasing parallelism #10098 @CharlesCheung96",
          "TiDB Lightning\nImprove the performance of ALTER TABLE when importing a large number of small tables #50105 @D3Hunter",
          "Improve the performance of ALTER TABLE when importing a large number of small tables #50105 @D3Hunter",
          "TiDB\nFix the issue that setting the system variable tidb_service_scope does not take effect #49245 @ywqzzy\nFix the issue that the communication protocol cannot handle packets larger than or equal to 16 MB when compression is enabled #47157 #47161 @dveeden\nFix the issue that the approx_percentile function might cause TiDB panic #40463 @xzhangxian1008\nFix the issue that TiDB might implicitly insert the from_binary function when the argument of a string function is a NULL constant, causing some expressions unable to be pushed down to TiFlash #49526 @YangKeao\nFix the goroutine leak issue that might occur when the HashJoin operator fails to spill to disk #50841 @wshwsh12\nFix the issue that BIT type columns might cause query errors due to decode failures when they are involved in calculations of some functions #49566 #50850 #50855 @jiyfhust\nFix the goroutine leak issue that occurs when the memory usage of CTE queries exceed limits #50337 @guo-shaoge\nFix the issue that wrong results might be returned when TiFlash late materialization processes associated columns #49241 #51204 @Lloyd-Pottiger\nFix the issue that the background job thread of TiDB might panic when TiDB records historical statistics #49076 @hawkingrei\nFix the error that might occur when TiDB merges histograms of global statistics for partitioned tables #49023 @hawkingrei\nFix the issue that the historical statistics of the stats_meta table are not updated after a partition is dropped #49334 @hi-rustin\nFix the issue of incorrect query results caused by multi-valued indexes mistakenly selected as the Index Join probe side #50382 @AilinKid\nFix the issue that the USE_INDEX_MERGE hint does not take effect on multi-valued indexes #50553 @AilinKid\nFix the issue that users might get errors when querying the INFORMATION_SCHEMA.ANALYZE_STATUS system table #48835 @hi-rustin\nFix the issue of wrong query results due to TiDB incorrectly eliminating constant values in group by #38756 @hi-rustin\nFix the issue that the processed_rows of the ANALYZE task on a table might exceed the total number of rows in that table #50632 @hawkingrei\nFix the issue that TiDB might panic when using the EXECUTE statement to execute PREPARE STMT after the tidb_enable_prepared_plan_cache system variable is enabled and then disabled #49344 @qw4990\nFix the Column ... in from clause is ambiguous error that might occur when a query uses NATURAL JOIN #32044 @AilinKid\nFix the issue that using a multi-valued index to access an empty JSON array might return incorrect results #50125 @YangKeao\nFix the Can't find column ... error that might occur when aggregate functions are used for group calculations #50926 @qw4990\nFix the issue that the control of SET_VAR for variables of the string type might become invalid #50507 @qw4990\nFix the issue that high CPU usage of TiDB occurs due to long-term memory pressure caused by tidb_server_memory_limit #48741 @XuHuaiyu\nFix the issue that the completion times of two DDL tasks with dependencies are incorrectly sequenced #49498 @tangenta\nFix the issue that invalid optimizer hints might cause valid hints to be ineffective #49308 @hawkingrei\nFix the issue that DDL statements with the CHECK constraint are stuck #47632 @jiyfhust\nFix the issue that the behavior of the ENFORCED option in the CHECK constraint is inconsistent with MySQL 8.0 #47567 #47631 @jiyfhust\nFix the issue that CTE queries might report an error type assertion for CTEStorageMap failed during the retry process #46522 @tiancaiamao\nFix the issue that the DELETE and UPDATE statements using index lookup might report an error when tidb_multi_statement_mode mode is enabled #50012 @tangenta\nFix the issue that UPDATE or DELETE statements containing WITH RECURSIVE CTEs might produce incorrect results #48969 @winoros\nFix the issue that the optimizer incorrectly converts TiFlash selection path to the DUAL table in specific scenarios #49285 @AilinKid\nFix the issue that the same query plan has different PLAN_DIGEST values in some cases #47634 @King-Dylan\nFix the issue that after the time window for automatic statistics updates is configured, statistics might still be updated outside that time window #49552 @hawkingrei\nFix the issue that the query result is incorrect when an ENUM type column is used as the join key #48991 @winoros\nFix the issue that executing UNIQUE index lookup with an ORDER BY clause might cause an error #49920 @jackysp\nFix the issue that LIMIT in multi-level nested UNION queries might become ineffective #49874 @Defined2014\nFix the issue that the result of COUNT(INT) calculated by MPP might be incorrect #48643 @AilinKid\nFix the issue that parsing invalid values of ENUM or SET types would directly cause SQL statement errors #49487 @winoros\nFix the issue that TiDB panics and reports an error invalid memory address or nil pointer dereference #42739 @CbcWestwolf\nFix the issue that executing UNION ALL with the DUAL table as the first subnode might cause an error #48755 @winoros\nFix the issue that common hints do not take effect in UNION ALL statements #50068 @hawkingrei\nFix the issue that TiDB server might panic during graceful shutdown #36793 @bb7133\nFix the issue that Daylight Saving Time is displayed incorrectly in some time zones #49586 @overvenus\nFix the issue that static CALIBRATE RESOURCE relies on the Prometheus data #49174 @glorv\nFix the issue that hints cannot be used in REPLACE INTO statements #34325 @YangKeao\nFix the issue that executing queries containing the GROUP_CONCAT(ORDER BY) syntax might return errors #49986 @AilinKid\nFix the issue that TiDB server might consume a significant amount of resources when the enterprise plugin for audit logging is used #49273 @lcwangchao\nFix the issue that using old interfaces might cause inconsistent metadata for tables #49751 @hawkingrei\nFix the issue that disabling tidb_enable_collect_execution_info causes the coprocessor cache to panic #48212 @you06\nFix the issue that executing ALTER TABLE ... LAST PARTITION fails when the partition column type is DATETIME #48814 @crazycs520\nFix the issue that the COMMIT or ROLLBACK operation executed through COM_STMT_EXECUTE fails to terminate transactions that have timed out #49151 @zyguan\nFix the issue that histogram statistics might not be parsed into readable strings when the histogram boundary contains NULL #49823 @AilinKid\nFix the issue that queries containing common table expressions (CTEs) unexpectedly get stuck when the memory limit is exceeded #49096 @AilinKid\nFix the issue that data is inconsistent under the TiDB Distributed eXecution Framework (DXF) when executing ADD INDEX after the DDL Owner is network isolated #49773 @tangenta\nFix the issue that the auto-increment ID allocation reports an error due to concurrent conflicts when using an auto-increment column with AUTO_ID_CACHE=1 #50519 @tiancaiamao\nFix the issue that TiDB might panic when a query contains the Apply operator and the fatal error: concurrent map writes error occurs #50347 @SeaRise\nFix the TiDB node panic issue that occurs when DDL jobID is restored to 0 #46296 @jiyfhust\nFix the issue that query results are incorrect due to STREAM_AGG() incorrectly handling CI #49902 @wshwsh12\nMitigate the issue that TiDB nodes might encounter OOM errors when dealing with a large number of tables or partitions #50077 @zimulala\nFix the issue that the LEADING hint does not take effect in UNION ALL statements #50067 @hawkingrei\nFix the issue that LIMIT and OPRDERBY might be invalid in nested UNION queries #49377 @AilinKid\nFix the issue that a query containing the IndexHashJoin operator gets stuck when memory exceeds tidb_mem_quota_query #49033 @XuHuaiyu\nFix the issue that TiDB returns wrong query results when processing ENUM or SET types by constant propagation #49440 @winoros\nFix the issue that executing SELECT INTO OUTFILE using the PREPARE method incorrectly returns a success message instead of an error #49166 @qw4990\nFix the issue that enforced sorting might become ineffective when a query uses optimizer hints (such as STREAM_AGG()) that enforce sorting and its execution plan contains IndexMerge #49605 @AilinKid\nFix the issue that tables with AUTO_ID_CACHE=1 might lead to gRPC client leaks when there are a large number of tables #48869 @tiancaiamao\nFix the issue that in non-strict mode (sql_mode = ''), truncation during executing INSERT still reports an error #49369 @tiancaiamao\nFix the issue that using the _ wildcard in LIKE when the data contains trailing spaces can result in incorrect query results #48983 @time-and-fate\nFix the issue that executing ADMIN CHECK after updating the tidb_mem_quota_query system variable returns ERROR 8175 #49258 @tangenta\nFix the issue of excessive statistical error in constructing statistics caused by Golang's implicit conversion algorithm #49801 @qw4990\nFix the issue that queries containing CTEs report runtime error: index out of range [32] with length 32 when tidb_max_chunk_size is set to a small value #48808 @guo-shaoge",
          "Fix the issue that setting the system variable tidb_service_scope does not take effect #49245 @ywqzzy",
          "Fix the issue that the communication protocol cannot handle packets larger than or equal to 16 MB when compression is enabled #47157 #47161 @dveeden",
          "Fix the issue that the approx_percentile function might cause TiDB panic #40463 @xzhangxian1008",
          "Fix the issue that TiDB might implicitly insert the from_binary function when the argument of a string function is a NULL constant, causing some expressions unable to be pushed down to TiFlash #49526 @YangKeao",
          "Fix the goroutine leak issue that might occur when the HashJoin operator fails to spill to disk #50841 @wshwsh12",
          "Fix the issue that BIT type columns might cause query errors due to decode failures when they are involved in calculations of some functions #49566 #50850 #50855 @jiyfhust",
          "Fix the goroutine leak issue that occurs when the memory usage of CTE queries exceed limits #50337 @guo-shaoge",
          "Fix the issue that wrong results might be returned when TiFlash late materialization processes associated columns #49241 #51204 @Lloyd-Pottiger",
          "Fix the issue that the background job thread of TiDB might panic when TiDB records historical statistics #49076 @hawkingrei",
          "Fix the error that might occur when TiDB merges histograms of global statistics for partitioned tables #49023 @hawkingrei",
          "Fix the issue that the historical statistics of the stats_meta table are not updated after a partition is dropped #49334 @hi-rustin",
          "Fix the issue of incorrect query results caused by multi-valued indexes mistakenly selected as the Index Join probe side #50382 @AilinKid",
          "Fix the issue that the USE_INDEX_MERGE hint does not take effect on multi-valued indexes #50553 @AilinKid",
          "Fix the issue that users might get errors when querying the INFORMATION_SCHEMA.ANALYZE_STATUS system table #48835 @hi-rustin",
          "Fix the issue of wrong query results due to TiDB incorrectly eliminating constant values in group by #38756 @hi-rustin",
          "Fix the issue that the processed_rows of the ANALYZE task on a table might exceed the total number of rows in that table #50632 @hawkingrei",
          "Fix the issue that TiDB might panic when using the EXECUTE statement to execute PREPARE STMT after the tidb_enable_prepared_plan_cache system variable is enabled and then disabled #49344 @qw4990",
          "Fix the Column ... in from clause is ambiguous error that might occur when a query uses NATURAL JOIN #32044 @AilinKid",
          "Fix the issue that using a multi-valued index to access an empty JSON array might return incorrect results #50125 @YangKeao",
          "Fix the Can't find column ... error that might occur when aggregate functions are used for group calculations #50926 @qw4990",
          "Fix the issue that the control of SET_VAR for variables of the string type might become invalid #50507 @qw4990",
          "Fix the issue that high CPU usage of TiDB occurs due to long-term memory pressure caused by tidb_server_memory_limit #48741 @XuHuaiyu",
          "Fix the issue that the completion times of two DDL tasks with dependencies are incorrectly sequenced #49498 @tangenta",
          "Fix the issue that invalid optimizer hints might cause valid hints to be ineffective #49308 @hawkingrei",
          "Fix the issue that DDL statements with the CHECK constraint are stuck #47632 @jiyfhust",
          "Fix the issue that the behavior of the ENFORCED option in the CHECK constraint is inconsistent with MySQL 8.0 #47567 #47631 @jiyfhust",
          "Fix the issue that CTE queries might report an error type assertion for CTEStorageMap failed during the retry process #46522 @tiancaiamao",
          "Fix the issue that the DELETE and UPDATE statements using index lookup might report an error when tidb_multi_statement_mode mode is enabled #50012 @tangenta",
          "Fix the issue that UPDATE or DELETE statements containing WITH RECURSIVE CTEs might produce incorrect results #48969 @winoros",
          "Fix the issue that the optimizer incorrectly converts TiFlash selection path to the DUAL table in specific scenarios #49285 @AilinKid",
          "Fix the issue that the same query plan has different PLAN_DIGEST values in some cases #47634 @King-Dylan",
          "Fix the issue that after the time window for automatic statistics updates is configured, statistics might still be updated outside that time window #49552 @hawkingrei",
          "Fix the issue that the query result is incorrect when an ENUM type column is used as the join key #48991 @winoros",
          "Fix the issue that executing UNIQUE index lookup with an ORDER BY clause might cause an error #49920 @jackysp",
          "Fix the issue that LIMIT in multi-level nested UNION queries might become ineffective #49874 @Defined2014",
          "Fix the issue that the result of COUNT(INT) calculated by MPP might be incorrect #48643 @AilinKid",
          "Fix the issue that parsing invalid values of ENUM or SET types would directly cause SQL statement errors #49487 @winoros",
          "Fix the issue that TiDB panics and reports an error invalid memory address or nil pointer dereference #42739 @CbcWestwolf",
          "Fix the issue that executing UNION ALL with the DUAL table as the first subnode might cause an error #48755 @winoros",
          "Fix the issue that common hints do not take effect in UNION ALL statements #50068 @hawkingrei",
          "Fix the issue that TiDB server might panic during graceful shutdown #36793 @bb7133",
          "Fix the issue that Daylight Saving Time is displayed incorrectly in some time zones #49586 @overvenus",
          "Fix the issue that static CALIBRATE RESOURCE relies on the Prometheus data #49174 @glorv",
          "Fix the issue that hints cannot be used in REPLACE INTO statements #34325 @YangKeao",
          "Fix the issue that executing queries containing the GROUP_CONCAT(ORDER BY) syntax might return errors #49986 @AilinKid",
          "Fix the issue that TiDB server might consume a significant amount of resources when the enterprise plugin for audit logging is used #49273 @lcwangchao",
          "Fix the issue that using old interfaces might cause inconsistent metadata for tables #49751 @hawkingrei",
          "Fix the issue that disabling tidb_enable_collect_execution_info causes the coprocessor cache to panic #48212 @you06",
          "Fix the issue that executing ALTER TABLE ... LAST PARTITION fails when the partition column type is DATETIME #48814 @crazycs520",
          "Fix the issue that the COMMIT or ROLLBACK operation executed through COM_STMT_EXECUTE fails to terminate transactions that have timed out #49151 @zyguan",
          "Fix the issue that histogram statistics might not be parsed into readable strings when the histogram boundary contains NULL #49823 @AilinKid",
          "Fix the issue that queries containing common table expressions (CTEs) unexpectedly get stuck when the memory limit is exceeded #49096 @AilinKid",
          "Fix the issue that data is inconsistent under the TiDB Distributed eXecution Framework (DXF) when executing ADD INDEX after the DDL Owner is network isolated #49773 @tangenta",
          "Fix the issue that the auto-increment ID allocation reports an error due to concurrent conflicts when using an auto-increment column with AUTO_ID_CACHE=1 #50519 @tiancaiamao",
          "Fix the issue that TiDB might panic when a query contains the Apply operator and the fatal error: concurrent map writes error occurs #50347 @SeaRise",
          "Fix the TiDB node panic issue that occurs when DDL jobID is restored to 0 #46296 @jiyfhust",
          "Fix the issue that query results are incorrect due to STREAM_AGG() incorrectly handling CI #49902 @wshwsh12",
          "Mitigate the issue that TiDB nodes might encounter OOM errors when dealing with a large number of tables or partitions #50077 @zimulala",
          "Fix the issue that the LEADING hint does not take effect in UNION ALL statements #50067 @hawkingrei",
          "Fix the issue that LIMIT and OPRDERBY might be invalid in nested UNION queries #49377 @AilinKid",
          "Fix the issue that a query containing the IndexHashJoin operator gets stuck when memory exceeds tidb_mem_quota_query #49033 @XuHuaiyu",
          "Fix the issue that TiDB returns wrong query results when processing ENUM or SET types by constant propagation #49440 @winoros",
          "Fix the issue that executing SELECT INTO OUTFILE using the PREPARE method incorrectly returns a success message instead of an error #49166 @qw4990",
          "Fix the issue that enforced sorting might become ineffective when a query uses optimizer hints (such as STREAM_AGG()) that enforce sorting and its execution plan contains IndexMerge #49605 @AilinKid",
          "Fix the issue that tables with AUTO_ID_CACHE=1 might lead to gRPC client leaks when there are a large number of tables #48869 @tiancaiamao",
          "Fix the issue that in non-strict mode (sql_mode = ''), truncation during executing INSERT still reports an error #49369 @tiancaiamao",
          "Fix the issue that using the _ wildcard in LIKE when the data contains trailing spaces can result in incorrect query results #48983 @time-and-fate",
          "Fix the issue that executing ADMIN CHECK after updating the tidb_mem_quota_query system variable returns ERROR 8175 #49258 @tangenta",
          "Fix the issue of excessive statistical error in constructing statistics caused by Golang's implicit conversion algorithm #49801 @qw4990",
          "Fix the issue that queries containing CTEs report runtime error: index out of range [32] with length 32 when tidb_max_chunk_size is set to a small value #48808 @guo-shaoge",
          "TiKV\nFix the issue that enabling tidb_enable_row_level_checksum might cause TiKV to panic #16371 @cfzjywxk\nFix the issue that TiKV might panic when gRPC threads are checking is_shutdown #16236 @pingyu\nFix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus\nFix the issue that blob-run-mode in Titan cannot be updated online #15978 @tonyxuqqi\nFix the issue that TiDB and TiKV might produce inconsistent results when processing DECIMAL arithmetic multiplication truncation #16268 @solotzg\nFix the issue that Flashback might get stuck when encountering notLeader or regionNotFound #15712 @HuSharp\nFix the issue that damaged SST files might be spread to other TiKV nodes #15986 @Connor1996\nFix the issue that if TiKV runs extremely slowly, it might panic after Region merge #16111 @overvenus\nFix the issue that the joint state of DR Auto-Sync might time out when scaling out #15817 @Connor1996\nFix the issue that Resolved TS might be blocked for two hours #11847 #15520 #39130 @overvenus\nFix the issue that cast_duration_as_time might return incorrect results #16211 @gengliqi\nFix the issue that TiKV hangs in corner cases (for example, when disk I/O operations are blocked), which affects availability #16368 @LykxSassinator",
          "Fix the issue that enabling tidb_enable_row_level_checksum might cause TiKV to panic #16371 @cfzjywxk",
          "Fix the issue that TiKV might panic when gRPC threads are checking is_shutdown #16236 @pingyu",
          "Fix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus",
          "Fix the issue that blob-run-mode in Titan cannot be updated online #15978 @tonyxuqqi",
          "Fix the issue that TiDB and TiKV might produce inconsistent results when processing DECIMAL arithmetic multiplication truncation #16268 @solotzg",
          "Fix the issue that Flashback might get stuck when encountering notLeader or regionNotFound #15712 @HuSharp",
          "Fix the issue that damaged SST files might be spread to other TiKV nodes #15986 @Connor1996",
          "Fix the issue that if TiKV runs extremely slowly, it might panic after Region merge #16111 @overvenus",
          "Fix the issue that the joint state of DR Auto-Sync might time out when scaling out #15817 @Connor1996",
          "Fix the issue that Resolved TS might be blocked for two hours #11847 #15520 #39130 @overvenus",
          "Fix the issue that cast_duration_as_time might return incorrect results #16211 @gengliqi",
          "Fix the issue that TiKV hangs in corner cases (for example, when disk I/O operations are blocked), which affects availability #16368 @LykxSassinator",
          "PD\nFix the issue that querying resource groups in batch might cause PD to panic #7206 @nolouch\nFix the issue that PD cannot read resource limitations when it is started with systemd #7628 @bufferflies\nFix the issue that continuous jitter in PD disk latency might cause PD to fail to select a new leader #7251 @HuSharp\nFix the issue that a network partition in PD might cause scheduling not to be started immediately #7016 @HuSharp\nFix the issue that the PD monitoring item learner-peer-count does not synchronize the old value after a leader switch #7728 @CabinfeverB\nFix the issue that when PD leader is transferred and there is a network partition between the new leader and the PD client, the PD client fails to update the information of the leader #7416 @CabinfeverB\nFix some security issues by upgrading the version of Gin Web Framework from v1.8.1 to v1.9.1 #7438 @niubell\nFix the issue that the orphan peer is deleted when the number of replicas does not meet the requirements #7584 @bufferflies\nFix the issue that querying a Region without a leader using pd-ctl might cause PD to panic #7630 @rleungx",
          "Fix the issue that querying resource groups in batch might cause PD to panic #7206 @nolouch",
          "Fix the issue that PD cannot read resource limitations when it is started with systemd #7628 @bufferflies",
          "Fix the issue that continuous jitter in PD disk latency might cause PD to fail to select a new leader #7251 @HuSharp",
          "Fix the issue that a network partition in PD might cause scheduling not to be started immediately #7016 @HuSharp",
          "Fix the issue that the PD monitoring item learner-peer-count does not synchronize the old value after a leader switch #7728 @CabinfeverB",
          "Fix the issue that when PD leader is transferred and there is a network partition between the new leader and the PD client, the PD client fails to update the information of the leader #7416 @CabinfeverB",
          "Fix some security issues by upgrading the version of Gin Web Framework from v1.8.1 to v1.9.1 #7438 @niubell",
          "Fix the issue that the orphan peer is deleted when the number of replicas does not meet the requirements #7584 @bufferflies",
          "Fix the issue that querying a Region without a leader using pd-ctl might cause PD to panic #7630 @rleungx",
          "TiFlash\nFix the issue that TiFlash might panic due to unstable network connections with PD during replica migration #8323 @JaySon-Huang\nFix the issue that removing and then re-adding TiFlash replicas might lead to data corruption in TiFlash #8695 @JaySon-Huang\nFix a potential issue that FLASHBACK TABLE or RECOVER TABLE might fail to recover data of some TiFlash replicas if DROP TABLE is executed immediately after data insertion #8395 @JaySon-Huang\nFix incorrect display of maximum percentile time for some panels in Grafana #8076 @JaySon-Huang\nFix the issue that TiFlash might crash during remote reads #8685 @guo-shaoge\nFix the issue that TiFlash incorrectly handles ENUM when the ENUM value is 0 #8311 @solotzg\nFix the issue that short queries executed successfully print excessive info logs #8592 @windtalker\nFix the issue that the memory usage increases significantly due to slow queries #8564 @JinheLin\nFix the issue that the lowerUTF8 and upperUTF8 functions do not allow characters in different cases to occupy different bytes #8484 @gengliqi\nFix the potential OOM issue that might occur when scanning multiple partitioned tables during stream read #8505 @gengliqi\nFix the issue of memory leak when TiFlash encounters memory limitation during query #8447 @JinheLin\nFix the TiFlash panic issue when TiFlash encounters conflicts during concurrent DDL execution #8578 @JaySon-Huang\nFix the issue that TiFlash panics after executing ALTER TABLE ... MODIFY COLUMN ... NOT NULL, which changes nullable columns to non-nullable #8419 @JaySon-Huang\nFix the issue that query results are incorrect when querying with filtering conditions like ColumnRef in (Literal, Func...) #8631 @Lloyd-Pottiger\nFix the issue that data of TiFlash replicas would still be garbage collected after executing FLASHBACK DATABASE #8450 @JaySon-Huang\nFix the issue that TiFlash might not be able to select the GC owner of object storage data under the disaggregated storage and compute architecture #8519 @JaySon-Huang\nFix the random invalid memory access issue that might occur with GREATEST or LEAST functions containing constant string parameters #8604 @windtalker\nFix the issue that TiFlash replica data might be accidentally deleted after performing point-in-time recovery (PITR) or executing FLASHBACK CLUSTER TO, which might result in data anomalies #8777 @JaySon-Huang\nFix the issue that TiFlash Anti Semi Join might return incorrect results when the join includes non-equivalent conditions #8791 @windtalker",
          "Fix the issue that TiFlash might panic due to unstable network connections with PD during replica migration #8323 @JaySon-Huang",
          "Fix the issue that removing and then re-adding TiFlash replicas might lead to data corruption in TiFlash #8695 @JaySon-Huang",
          "Fix a potential issue that FLASHBACK TABLE or RECOVER TABLE might fail to recover data of some TiFlash replicas if DROP TABLE is executed immediately after data insertion #8395 @JaySon-Huang",
          "Fix incorrect display of maximum percentile time for some panels in Grafana #8076 @JaySon-Huang",
          "Fix the issue that TiFlash might crash during remote reads #8685 @guo-shaoge",
          "Fix the issue that TiFlash incorrectly handles ENUM when the ENUM value is 0 #8311 @solotzg",
          "Fix the issue that short queries executed successfully print excessive info logs #8592 @windtalker",
          "Fix the issue that the memory usage increases significantly due to slow queries #8564 @JinheLin",
          "Fix the issue that the lowerUTF8 and upperUTF8 functions do not allow characters in different cases to occupy different bytes #8484 @gengliqi",
          "Fix the potential OOM issue that might occur when scanning multiple partitioned tables during stream read #8505 @gengliqi",
          "Fix the issue of memory leak when TiFlash encounters memory limitation during query #8447 @JinheLin",
          "Fix the TiFlash panic issue when TiFlash encounters conflicts during concurrent DDL execution #8578 @JaySon-Huang",
          "Fix the issue that TiFlash panics after executing ALTER TABLE ... MODIFY COLUMN ... NOT NULL, which changes nullable columns to non-nullable #8419 @JaySon-Huang",
          "Fix the issue that query results are incorrect when querying with filtering conditions like ColumnRef in (Literal, Func...) #8631 @Lloyd-Pottiger",
          "Fix the issue that data of TiFlash replicas would still be garbage collected after executing FLASHBACK DATABASE #8450 @JaySon-Huang",
          "Fix the issue that TiFlash might not be able to select the GC owner of object storage data under the disaggregated storage and compute architecture #8519 @JaySon-Huang",
          "Fix the random invalid memory access issue that might occur with GREATEST or LEAST functions containing constant string parameters #8604 @windtalker",
          "Fix the issue that TiFlash replica data might be accidentally deleted after performing point-in-time recovery (PITR) or executing FLASHBACK CLUSTER TO, which might result in data anomalies #8777 @JaySon-Huang",
          "Fix the issue that TiFlash Anti Semi Join might return incorrect results when the join includes non-equivalent conditions #8791 @windtalker",
          "Tools\nBackup & Restore (BR)\nFix the issue that data restore is slowed down due to absence of a leader on a TiKV node #50566 @Leavrth\nFix the issue that full restore still requires the target cluster to be empty after the --filter option is specified #51009 @3pointer\nFix the issue that when resuming from a checkpoint after data restore fails, an error the target cluster is not fresh occurs #50232 @Leavrth\nFix the issue that stopping a log backup task causes TiDB to crash #50839 @YuJuncen\nFix the issue that the Unsupported collation error is reported when you restore data from backups of an old version #49466 @3pointer\nFix the issue that the log backup task can start but does not work properly if failing to connect to PD during task initialization #16056 @YuJuncen\nFix the issue that BR generates incorrect URIs for external storage files #48452 @3AceShowHand\nFix the issue that log backup gets stuck after changing the TiKV IP address on the same node #50445 @3pointer\nFix the issue that BR cannot retry when encountering an error while reading file content from S3 #49942 @Leavrth\nTiCDC\nFix the issue that the sink module fails to restart correctly after encountering an error when Syncpoint is enabled (enable-sync-point = true) #10091 @hicqu\nFix the issue that the file sequence number generated by the storage service might not increment correctly when using the storage sink #10352 @CharlesCheung96\nFix the issue that the Syncpoint table might be incorrectly replicated #10576 @asddongmen\nFix the issue that OAuth2.0, TLS, and mTLS cannot be enabled properly when using Apache Pulsar as the downstream #10602 @asddongmen\nFix the issue that TiCDC returns the ErrChangeFeedAlreadyExists error when concurrently creating multiple changefeeds #10430 @CharlesCheung96\nFix the issue that the changefeed resolved ts does not advance in extreme cases #10157 @sdojjy\nFix the issue that TiCDC mistakenly closes the connection with TiKV in certain special scenarios #10239 @hicqu\nFix the issue that the TiCDC server might panic when replicating data to an object storage service #10137 @sdojjy\nFix the issue that the changefeed reports an error after TRUNCATE PARTITION is executed on the upstream table #10522 @sdojjy\nFix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96\nFix the potential data race issue during kv-client initialization #10095 @3AceShowHand\nTiDB Data Migration (DM)\nFix the issue that a migration task error occurs when the downstream table structure contains shard_row_id_bits #10308 @GMHDBJD\nFix the issue that DM encounters \"event type truncate not valid\" error that causes the upgrade to fail #10282 @GMHDBJD",
          "Backup & Restore (BR)\nFix the issue that data restore is slowed down due to absence of a leader on a TiKV node #50566 @Leavrth\nFix the issue that full restore still requires the target cluster to be empty after the --filter option is specified #51009 @3pointer\nFix the issue that when resuming from a checkpoint after data restore fails, an error the target cluster is not fresh occurs #50232 @Leavrth\nFix the issue that stopping a log backup task causes TiDB to crash #50839 @YuJuncen\nFix the issue that the Unsupported collation error is reported when you restore data from backups of an old version #49466 @3pointer\nFix the issue that the log backup task can start but does not work properly if failing to connect to PD during task initialization #16056 @YuJuncen\nFix the issue that BR generates incorrect URIs for external storage files #48452 @3AceShowHand\nFix the issue that log backup gets stuck after changing the TiKV IP address on the same node #50445 @3pointer\nFix the issue that BR cannot retry when encountering an error while reading file content from S3 #49942 @Leavrth",
          "Fix the issue that data restore is slowed down due to absence of a leader on a TiKV node #50566 @Leavrth",
          "Fix the issue that full restore still requires the target cluster to be empty after the --filter option is specified #51009 @3pointer",
          "Fix the issue that when resuming from a checkpoint after data restore fails, an error the target cluster is not fresh occurs #50232 @Leavrth",
          "Fix the issue that stopping a log backup task causes TiDB to crash #50839 @YuJuncen",
          "Fix the issue that the Unsupported collation error is reported when you restore data from backups of an old version #49466 @3pointer",
          "Fix the issue that the log backup task can start but does not work properly if failing to connect to PD during task initialization #16056 @YuJuncen",
          "Fix the issue that BR generates incorrect URIs for external storage files #48452 @3AceShowHand",
          "Fix the issue that log backup gets stuck after changing the TiKV IP address on the same node #50445 @3pointer",
          "Fix the issue that BR cannot retry when encountering an error while reading file content from S3 #49942 @Leavrth",
          "TiCDC\nFix the issue that the sink module fails to restart correctly after encountering an error when Syncpoint is enabled (enable-sync-point = true) #10091 @hicqu\nFix the issue that the file sequence number generated by the storage service might not increment correctly when using the storage sink #10352 @CharlesCheung96\nFix the issue that the Syncpoint table might be incorrectly replicated #10576 @asddongmen\nFix the issue that OAuth2.0, TLS, and mTLS cannot be enabled properly when using Apache Pulsar as the downstream #10602 @asddongmen\nFix the issue that TiCDC returns the ErrChangeFeedAlreadyExists error when concurrently creating multiple changefeeds #10430 @CharlesCheung96\nFix the issue that the changefeed resolved ts does not advance in extreme cases #10157 @sdojjy\nFix the issue that TiCDC mistakenly closes the connection with TiKV in certain special scenarios #10239 @hicqu\nFix the issue that the TiCDC server might panic when replicating data to an object storage service #10137 @sdojjy\nFix the issue that the changefeed reports an error after TRUNCATE PARTITION is executed on the upstream table #10522 @sdojjy\nFix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96\nFix the potential data race issue during kv-client initialization #10095 @3AceShowHand",
          "Fix the issue that the sink module fails to restart correctly after encountering an error when Syncpoint is enabled (enable-sync-point = true) #10091 @hicqu",
          "Fix the issue that the file sequence number generated by the storage service might not increment correctly when using the storage sink #10352 @CharlesCheung96",
          "Fix the issue that the Syncpoint table might be incorrectly replicated #10576 @asddongmen",
          "Fix the issue that OAuth2.0, TLS, and mTLS cannot be enabled properly when using Apache Pulsar as the downstream #10602 @asddongmen",
          "Fix the issue that TiCDC returns the ErrChangeFeedAlreadyExists error when concurrently creating multiple changefeeds #10430 @CharlesCheung96",
          "Fix the issue that the changefeed resolved ts does not advance in extreme cases #10157 @sdojjy",
          "Fix the issue that TiCDC mistakenly closes the connection with TiKV in certain special scenarios #10239 @hicqu",
          "Fix the issue that the TiCDC server might panic when replicating data to an object storage service #10137 @sdojjy",
          "Fix the issue that the changefeed reports an error after TRUNCATE PARTITION is executed on the upstream table #10522 @sdojjy",
          "Fix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96",
          "Fix the potential data race issue during kv-client initialization #10095 @3AceShowHand",
          "TiDB Data Migration (DM)\nFix the issue that a migration task error occurs when the downstream table structure contains shard_row_id_bits #10308 @GMHDBJD\nFix the issue that DM encounters \"event type truncate not valid\" error that causes the upgrade to fail #10282 @GMHDBJD",
          "Fix the issue that a migration task error occurs when the downstream table structure contains shard_row_id_bits #10308 @GMHDBJD",
          "Fix the issue that DM encounters \"event type truncate not valid\" error that causes the upgrade to fail #10282 @GMHDBJD"
        ]
      },
      {
        "version": "7.5.0",
        "date": "2023-12-01",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.5.0/",
        "changes": [
          "TiDB\nOptimize the concurrency model of merging global statistics: introduce tidb_enable_async_merge_global_stats to enable simultaneous loading and merging of statistics, which speeds up the generation of global statistics on partitioned tables. Optimize the memory usage of merging global statistics to avoid OOM and reduce memory allocations. #47219 @hawkingrei\nOptimize the ANALYZE process: introduce tidb_build_sampling_stats_concurrency to better control the ANALYZE concurrency to reduce resource consumption. Optimize the memory usage of ANALYZE to reduce memory allocation and avoid frequent GC by reusing some intermediate results. #47275 @hawkingrei\nOptimize the use of placement policies: support configuring the range of a policy to global and improve the syntax support for common scenarios. #45384 @nolouch\nImprove the performance of adding indexes with tidb_ddl_enable_fast_reorg enabled. In internal tests, v7.5.0 improves the performance by up to 62.5% compared with v6.5.0. #47757 @tangenta",
          "Optimize the concurrency model of merging global statistics: introduce tidb_enable_async_merge_global_stats to enable simultaneous loading and merging of statistics, which speeds up the generation of global statistics on partitioned tables. Optimize the memory usage of merging global statistics to avoid OOM and reduce memory allocations. #47219 @hawkingrei",
          "Optimize the ANALYZE process: introduce tidb_build_sampling_stats_concurrency to better control the ANALYZE concurrency to reduce resource consumption. Optimize the memory usage of ANALYZE to reduce memory allocation and avoid frequent GC by reusing some intermediate results. #47275 @hawkingrei",
          "Optimize the use of placement policies: support configuring the range of a policy to global and improve the syntax support for common scenarios. #45384 @nolouch",
          "Improve the performance of adding indexes with tidb_ddl_enable_fast_reorg enabled. In internal tests, v7.5.0 improves the performance by up to 62.5% compared with v6.5.0. #47757 @tangenta",
          "TiKV\nAvoid holding mutex when writing Titan manifest files to prevent affecting other threads #15351 @Connor1996",
          "Avoid holding mutex when writing Titan manifest files to prevent affecting other threads #15351 @Connor1996",
          "PD\nImprove the stability and usability of the evict-slow-trend scheduler #7156 @LykxSassinato",
          "Improve the stability and usability of the evict-slow-trend scheduler #7156 @LykxSassinato",
          "Tools\nBackup & Restore (BR)\nAdd a new inter-table backup parameter table-concurrency for snapshot backups. This parameter is used to control the inter-table concurrency of meta information such as statistics backup and data validation #48571 @3pointer\nDuring restoring a snapshot backup, BR retries when it encounters certain network errors #48528 @Leavrth",
          "Backup & Restore (BR)\nAdd a new inter-table backup parameter table-concurrency for snapshot backups. This parameter is used to control the inter-table concurrency of meta information such as statistics backup and data validation #48571 @3pointer\nDuring restoring a snapshot backup, BR retries when it encounters certain network errors #48528 @Leavrth",
          "Add a new inter-table backup parameter table-concurrency for snapshot backups. This parameter is used to control the inter-table concurrency of meta information such as statistics backup and data validation #48571 @3pointer",
          "During restoring a snapshot backup, BR retries when it encounters certain network errors #48528 @Leavrth",
          "TiDB\nProhibit split table operations on non-integer clustered indexes #47350 @tangenta\nFix the issue of encoding time fields with incorrect timezone information #46033 @tangenta\nFix the issue that the Sort operator might cause TiDB to crash during the spill process #47538 @windtalker\nFix the issue that TiDB returns Can't find column for queries with GROUP_CONCAT #41957 @AilinKid\nFix the panic issue of batch-client in client-go #47691 @crazycs520\nFix the issue of incorrect memory usage estimation in INDEX_LOOKUP_HASH_JOIN #47788 @SeaRise\nFix the issue of uneven workload caused by the rejoining of a TiFlash node that has been offline for a long time #35418 @windtalker\nFix the issue that the chunk cannot be reused when the HashJoin operator performs probe #48082 @wshwsh12\nFix the issue that the COALESCE() function returns incorrect result type for DATE type parameters #46475 @xzhangxian1008\nFix the issue that UPDATE statements with subqueries are incorrectly converted to PointGet #48171 @hi-rustin\nFix the issue that incorrect results are returned when the cached execution plans contain the comparison between date types and unix_timestamp #48165 @qw4990\nFix the issue that an error is reported when default inline common table expressions (CTEs) with aggregate functions or window functions are referenced by recursive CTEs #47881 @elsa0520\nFix the issue that the optimizer mistakenly selects IndexFullScan to reduce sort introduced by window functions #46177 @qw4990\nFix the issue that multiple references to CTEs result in incorrect results due to condition pushdown of CTEs #47881 @winoros\nFix the issue that the MySQL compression protocol cannot handle large loads of data (>=16M) #47152 #47157 #47161 @dveeden\nFix the issue that TiDB does not read cgroup resource limits when it is started with systemd #47442 @hawkingrei",
          "Prohibit split table operations on non-integer clustered indexes #47350 @tangenta",
          "Fix the issue of encoding time fields with incorrect timezone information #46033 @tangenta",
          "Fix the issue that the Sort operator might cause TiDB to crash during the spill process #47538 @windtalker",
          "Fix the issue that TiDB returns Can't find column for queries with GROUP_CONCAT #41957 @AilinKid",
          "Fix the panic issue of batch-client in client-go #47691 @crazycs520",
          "Fix the issue of incorrect memory usage estimation in INDEX_LOOKUP_HASH_JOIN #47788 @SeaRise",
          "Fix the issue of uneven workload caused by the rejoining of a TiFlash node that has been offline for a long time #35418 @windtalker",
          "Fix the issue that the chunk cannot be reused when the HashJoin operator performs probe #48082 @wshwsh12",
          "Fix the issue that the COALESCE() function returns incorrect result type for DATE type parameters #46475 @xzhangxian1008",
          "Fix the issue that UPDATE statements with subqueries are incorrectly converted to PointGet #48171 @hi-rustin",
          "Fix the issue that incorrect results are returned when the cached execution plans contain the comparison between date types and unix_timestamp #48165 @qw4990",
          "Fix the issue that an error is reported when default inline common table expressions (CTEs) with aggregate functions or window functions are referenced by recursive CTEs #47881 @elsa0520",
          "Fix the issue that the optimizer mistakenly selects IndexFullScan to reduce sort introduced by window functions #46177 @qw4990",
          "Fix the issue that multiple references to CTEs result in incorrect results due to condition pushdown of CTEs #47881 @winoros",
          "Fix the issue that the MySQL compression protocol cannot handle large loads of data (>=16M) #47152 #47157 #47161 @dveeden",
          "Fix the issue that TiDB does not read cgroup resource limits when it is started with systemd #47442 @hawkingrei",
          "TiKV\nFix the issue that retrying prewrite requests in the pessimistic transaction mode might cause the risk of data inconsistency in rare cases #11187 @MyonKeminta",
          "Fix the issue that retrying prewrite requests in the pessimistic transaction mode might cause the risk of data inconsistency in rare cases #11187 @MyonKeminta",
          "PD\nFix the issue that evict-leader-scheduler might lose configuration #6897 @HuSharp\nFix the issue that after a store goes offline, the monitoring metric of its statistics is not deleted #7180 @rleungx\nFix the issue that canSync and hasMajority might be calculated incorrectly for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode when the configuration of Placement Rules is complex #7201 @disksing\nFix the issue that the rule checker does not add Learners according to the configuration of Placement Rules #7185 @nolouch\nFix the issue that TiDB Dashboard cannot read PD trace data correctly #7253 @nolouch\nFix the issue that PD might panic due to empty Regions obtained internally #7261 @lhy1024\nFix the issue that available_stores is calculated incorrectly for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode #7221 @disksing\nFix the issue that PD might delete normal Peers when TiKV nodes are unavailable #7249 @lhy1024\nFix the issue that adding multiple TiKV nodes to a large cluster might cause TiKV heartbeat reporting to become slow or stuck #7248 @rleungx",
          "Fix the issue that evict-leader-scheduler might lose configuration #6897 @HuSharp",
          "Fix the issue that after a store goes offline, the monitoring metric of its statistics is not deleted #7180 @rleungx",
          "Fix the issue that canSync and hasMajority might be calculated incorrectly for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode when the configuration of Placement Rules is complex #7201 @disksing",
          "Fix the issue that the rule checker does not add Learners according to the configuration of Placement Rules #7185 @nolouch",
          "Fix the issue that TiDB Dashboard cannot read PD trace data correctly #7253 @nolouch",
          "Fix the issue that PD might panic due to empty Regions obtained internally #7261 @lhy1024",
          "Fix the issue that available_stores is calculated incorrectly for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode #7221 @disksing",
          "Fix the issue that PD might delete normal Peers when TiKV nodes are unavailable #7249 @lhy1024",
          "Fix the issue that adding multiple TiKV nodes to a large cluster might cause TiKV heartbeat reporting to become slow or stuck #7248 @rleungx",
          "TiFlash\nFix the issue that the UPPER() and LOWER() functions return inconsistent results between TiDB and TiFlash #7695 @windtalker\nFix the issue that executing queries on empty partitions causes query failure #8220 @JaySon-Huang\nFix the panic issue caused by table creation failure when replicating TiFlash replicas #8217 @hongyunyan",
          "Fix the issue that the UPPER() and LOWER() functions return inconsistent results between TiDB and TiFlash #7695 @windtalker",
          "Fix the issue that executing queries on empty partitions causes query failure #8220 @JaySon-Huang",
          "Fix the panic issue caused by table creation failure when replicating TiFlash replicas #8217 @hongyunyan",
          "Tools\nBackup & Restore (BR)\nFix the issue that PITR might skip restoring the CREATE INDEX DDL statement #47482 @Leavrth\nFix the issue that the log backup might get stuck in some scenarios when backing up large wide tables #15714 @YuJuncen\nTiCDC\nFix the performance issue caused by accessing NFS directories when replicating data to an object store sink #10041 @CharlesCheung96\nFix the issue that the storage path is misspelled when claim-check is enabled #10036 @3AceShowHand\nFix the issue that TiCDC scheduling is not balanced in some cases #9845 @3AceShowHand\nFix the issue that TiCDC might get stuck when replicating data to Kafka #9855 @hicqu\nFix the issue that the TiCDC processor might panic in some cases #9849 #9915 @hicqu @3AceShowHand\nFix the issue that enabling kv-client.enable-multiplexing causes replication tasks to get stuck #9673 @fubinzh\nFix the issue that an owner node gets stuck due to NFS failure when the redo log is enabled #9886 @3AceShowHand",
          "Backup & Restore (BR)\nFix the issue that PITR might skip restoring the CREATE INDEX DDL statement #47482 @Leavrth\nFix the issue that the log backup might get stuck in some scenarios when backing up large wide tables #15714 @YuJuncen",
          "Fix the issue that PITR might skip restoring the CREATE INDEX DDL statement #47482 @Leavrth",
          "Fix the issue that the log backup might get stuck in some scenarios when backing up large wide tables #15714 @YuJuncen",
          "TiCDC\nFix the performance issue caused by accessing NFS directories when replicating data to an object store sink #10041 @CharlesCheung96\nFix the issue that the storage path is misspelled when claim-check is enabled #10036 @3AceShowHand\nFix the issue that TiCDC scheduling is not balanced in some cases #9845 @3AceShowHand\nFix the issue that TiCDC might get stuck when replicating data to Kafka #9855 @hicqu\nFix the issue that the TiCDC processor might panic in some cases #9849 #9915 @hicqu @3AceShowHand\nFix the issue that enabling kv-client.enable-multiplexing causes replication tasks to get stuck #9673 @fubinzh\nFix the issue that an owner node gets stuck due to NFS failure when the redo log is enabled #9886 @3AceShowHand",
          "Fix the performance issue caused by accessing NFS directories when replicating data to an object store sink #10041 @CharlesCheung96",
          "Fix the issue that the storage path is misspelled when claim-check is enabled #10036 @3AceShowHand",
          "Fix the issue that TiCDC scheduling is not balanced in some cases #9845 @3AceShowHand",
          "Fix the issue that TiCDC might get stuck when replicating data to Kafka #9855 @hicqu",
          "Fix the issue that the TiCDC processor might panic in some cases #9849 #9915 @hicqu @3AceShowHand",
          "Fix the issue that enabling kv-client.enable-multiplexing causes replication tasks to get stuck #9673 @fubinzh",
          "Fix the issue that an owner node gets stuck due to NFS failure when the redo log is enabled #9886 @3AceShowHand"
        ]
      }
    ]
  },
  {
    "major_version": "7.4",
    "patches": [
      {
        "version": "7.4.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.4.0/",
        "changes": [
          "TiDB\nOptimize memory usage and performance for ANALYZE operations on partitioned tables #47071 #47104 #46804 @hawkingrei\nOptimize memory usage and performance for statistics garbage collection #31778 @winoros\nOptimize the pushdown of limit for index merge intersections to improve query performance #46863 @AilinKid\nImprove the cost model to minimize the chances of mistakenly choosing a full table scan when IndexLookup involves many table retrieval tasks #45132 @qw4990\nOptimize the join elimination rule to improve the query performance of join on unique keys #46248 @fixdb\nChange the collation of multi-valued index columns to binary to avoid execution failure #46717 @YangKeao",
          "Optimize memory usage and performance for ANALYZE operations on partitioned tables #47071 #47104 #46804 @hawkingrei",
          "Optimize memory usage and performance for statistics garbage collection #31778 @winoros",
          "Optimize the pushdown of limit for index merge intersections to improve query performance #46863 @AilinKid",
          "Improve the cost model to minimize the chances of mistakenly choosing a full table scan when IndexLookup involves many table retrieval tasks #45132 @qw4990",
          "Optimize the join elimination rule to improve the query performance of join on unique keys #46248 @fixdb",
          "Change the collation of multi-valued index columns to binary to avoid execution failure #46717 @YangKeao",
          "TiKV\nOptimize memory usage of Resolver to prevent OOM #15458 @overvenus\nEliminate LRUCache in Router objects to reduce memory usage and prevent OOM #15430 @Connor1996\nReduce memory usage of TiCDC Resolver #15412 @overvenus\nReduce memory fluctuations caused by RocksDB compaction #15324 @overvenus\nReduce memory consumption in the flow control module of Partitioned Raft KV #15269 @overvenus\nAdd the backoff mechanism for the PD client in the process of connection retries, which gradually increases retry intervals during error retries to reduce PD pressure #15428 @nolouch\nSupport dynamically adjusting background_compaction of RocksDB #15424 @glorv",
          "Optimize memory usage of Resolver to prevent OOM #15458 @overvenus",
          "Eliminate LRUCache in Router objects to reduce memory usage and prevent OOM #15430 @Connor1996",
          "Reduce memory usage of TiCDC Resolver #15412 @overvenus",
          "Reduce memory fluctuations caused by RocksDB compaction #15324 @overvenus",
          "Reduce memory consumption in the flow control module of Partitioned Raft KV #15269 @overvenus",
          "Add the backoff mechanism for the PD client in the process of connection retries, which gradually increases retry intervals during error retries to reduce PD pressure #15428 @nolouch",
          "Support dynamically adjusting background_compaction of RocksDB #15424 @glorv",
          "PD\nOptimize TSO tracing information for easier investigation of TSO-related issues #6856 @tiancaiamao\nSupport reusing HTTP Client connections to reduce memory usage #6913 @nolouch\nImprove the speed of PD automatically updating cluster status when the backup cluster is disconnected #6883 @disksing\nEnhance the configuration retrieval method of the resource control client to dynamically fetch the latest configurations #7043 @nolouch",
          "Optimize TSO tracing information for easier investigation of TSO-related issues #6856 @tiancaiamao",
          "Support reusing HTTP Client connections to reduce memory usage #6913 @nolouch",
          "Improve the speed of PD automatically updating cluster status when the backup cluster is disconnected #6883 @disksing",
          "Enhance the configuration retrieval method of the resource control client to dynamically fetch the latest configurations #7043 @nolouch",
          "TiFlash\nImprove write performance during random write workloads by optimizing the spilling policy of the TiFlash write process #7564 @CalvinNeo\nAdd more metrics about the Raft replication process for TiFlash #8068 @CalvinNeo\nReduce the number of small files to avoid potential exhaustion of file system inodes #7595 @hongyunyan",
          "Improve write performance during random write workloads by optimizing the spilling policy of the TiFlash write process #7564 @CalvinNeo",
          "Add more metrics about the Raft replication process for TiFlash #8068 @CalvinNeo",
          "Reduce the number of small files to avoid potential exhaustion of file system inodes #7595 @hongyunyan",
          "Tools\nBackup & Restore (BR)\nAlleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen\nEnhance support for connection reuse of log backup and PITR restore tasks by setting MaxIdleConns and MaxIdleConnsPerHost parameters in the HTTP client #46011 @Leavrth\nImprove fault tolerance of BR when it fails to connect to PD or external S3 storage #42909 @Leavrth\nAdd a new restore parameter WaitTiflashReady. When this parameter is enabled, the restore operation will be completed after TiFlash replicas are successfully replicated #43828 #46302 @3pointer\nReduce the CPU overhead of log backup resolve lock #40759 @3pointer\nTiCDC\nOptimize the execution logic of replicating the ADD INDEX DDL operations to avoid blocking subsequent DML statements #9644 @sdojjy\nTiDB Lightning\nOptimize the retry logic of TiDB Lightning during the Region scatter phase #46203 @mittalrishabh\nOptimize the retry logic of TiDB Lightning for the no leader error during the data import phase #46253 @lance6716",
          "Backup & Restore (BR)\nAlleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen\nEnhance support for connection reuse of log backup and PITR restore tasks by setting MaxIdleConns and MaxIdleConnsPerHost parameters in the HTTP client #46011 @Leavrth\nImprove fault tolerance of BR when it fails to connect to PD or external S3 storage #42909 @Leavrth\nAdd a new restore parameter WaitTiflashReady. When this parameter is enabled, the restore operation will be completed after TiFlash replicas are successfully replicated #43828 #46302 @3pointer\nReduce the CPU overhead of log backup resolve lock #40759 @3pointer",
          "Alleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen",
          "Enhance support for connection reuse of log backup and PITR restore tasks by setting MaxIdleConns and MaxIdleConnsPerHost parameters in the HTTP client #46011 @Leavrth",
          "Improve fault tolerance of BR when it fails to connect to PD or external S3 storage #42909 @Leavrth",
          "Add a new restore parameter WaitTiflashReady. When this parameter is enabled, the restore operation will be completed after TiFlash replicas are successfully replicated #43828 #46302 @3pointer",
          "Reduce the CPU overhead of log backup resolve lock #40759 @3pointer",
          "TiCDC\nOptimize the execution logic of replicating the ADD INDEX DDL operations to avoid blocking subsequent DML statements #9644 @sdojjy",
          "Optimize the execution logic of replicating the ADD INDEX DDL operations to avoid blocking subsequent DML statements #9644 @sdojjy",
          "TiDB Lightning\nOptimize the retry logic of TiDB Lightning during the Region scatter phase #46203 @mittalrishabh\nOptimize the retry logic of TiDB Lightning for the no leader error during the data import phase #46253 @lance6716",
          "Optimize the retry logic of TiDB Lightning during the Region scatter phase #46203 @mittalrishabh",
          "Optimize the retry logic of TiDB Lightning for the no leader error during the data import phase #46253 @lance6716",
          "TiDB\nFix the issue that the BatchPointGet operator returns incorrect results for tables that are not hash partitioned #45889 @Defined2014\nFix the issue that the BatchPointGet operator returns incorrect results for hash partitioned tables #46779 @jiyfhust\nFix the issue that the TiDB parser remains in a state and causes parsing failure #45898 @qw4990\nFix the issue that EXCHANGE PARTITION does not check constraints #45922 @mjonss\nFix the issue that the tidb_enforce_mpp system variable cannot be correctly restored #46214 @djshow832\nFix the issue that the _ in the LIKE clause is incorrectly handled #46287 #46618 @Defined2014\nFix the issue that the schemaTs is set to 0 when TiDB fails to obtain the schema #46325 @hihihuhu\nFix the issue that Duplicate entry might occur when AUTO_ID_CACHE=1 is set #46444 @tiancaiamao\nFix the issue that TiDB recovers slowly after a panic when AUTO_ID_CACHE=1 is set #46454 @tiancaiamao\nFix the issue that the next_row_id in SHOW CREATE TABLE is incorrect when AUTO_ID_CACHE=1 is set #46545 @tiancaiamao\nFix the panic issue that occurs during parsing when using CTE in subqueries #45838 @djshow832\nFix the issue that restrictions on partitioned tables remain on the original table when EXCHANGE PARTITION fails or is canceled #45920 #45791 @mjonss\nFix the issue that the definition of List partitions does not support using both NULL and empty strings #45694 @mjonss\nFix the issue of not being able to detect data that does not comply with partition definitions during partition exchange #46492 @mjonss\nFix the issue that the tmp-storage-quota configuration does not take effect #45161 #26806 @wshwsh12\nFix the issue that the WEIGHT_STRING() function does not match the collation #45725 @dveeden\nFix the issue that an error in Index Join might cause the query to get stuck #45716 @wshwsh12\nFix the issue that the behavior is inconsistent with MySQL when comparing a DATETIME or TIMESTAMP column with a number constant #38361 @yibin87\nFix the incorrect result that occurs when comparing unsigned types with Duration type constants #45410 @wshwsh12\nFix the issue that access path pruning logic ignores the READ_FROM_STORAGE(TIFLASH[...]) hint, which causes the Can't find a proper physical plan error #40146 @AilinKid\nFix the issue that GROUP_CONCAT cannot parse the ORDER BY column #41986 @AilinKid\nFix the issue that HashCode is repeatedly calculated for deeply nested expressions, which causes high memory usage and OOM #42788 @AilinKid\nFix the issue that the cast(col)=range condition causes FullScan when CAST has no precision loss #45199 @AilinKid\nFix the issue that when Aggregation is pushed down through Union in MPP execution plans, the results are incorrect #45850 @AilinKid\nFix the issue that bindings with in (?) cannot match in (?, ... ?) #44298 @qw4990\nFix the error caused by not considering the connection collation when non-prep plan cache reuses the execution plan #47008 @qw4990\nFix the issue that no warning is reported when an executed plan does not hit the plan cache #46159 @qw4990\nFix the issue that plan replayer dump explain reports an error #46197 @time-and-fate\nFix the issue that executing DML statements with CTE can cause panic #46083 @winoros\nFix the issue that the TIDB_INLJ hint does not take effect when joining two sub-queries #46160 @qw4990\nFix the issue that the results of MERGE_JOIN are incorrect #46580 @qw4990",
          "Fix the issue that the BatchPointGet operator returns incorrect results for tables that are not hash partitioned #45889 @Defined2014",
          "Fix the issue that the BatchPointGet operator returns incorrect results for hash partitioned tables #46779 @jiyfhust",
          "Fix the issue that the TiDB parser remains in a state and causes parsing failure #45898 @qw4990",
          "Fix the issue that EXCHANGE PARTITION does not check constraints #45922 @mjonss",
          "Fix the issue that the tidb_enforce_mpp system variable cannot be correctly restored #46214 @djshow832",
          "Fix the issue that the _ in the LIKE clause is incorrectly handled #46287 #46618 @Defined2014",
          "Fix the issue that the schemaTs is set to 0 when TiDB fails to obtain the schema #46325 @hihihuhu",
          "Fix the issue that Duplicate entry might occur when AUTO_ID_CACHE=1 is set #46444 @tiancaiamao",
          "Fix the issue that TiDB recovers slowly after a panic when AUTO_ID_CACHE=1 is set #46454 @tiancaiamao",
          "Fix the issue that the next_row_id in SHOW CREATE TABLE is incorrect when AUTO_ID_CACHE=1 is set #46545 @tiancaiamao",
          "Fix the panic issue that occurs during parsing when using CTE in subqueries #45838 @djshow832",
          "Fix the issue that restrictions on partitioned tables remain on the original table when EXCHANGE PARTITION fails or is canceled #45920 #45791 @mjonss",
          "Fix the issue that the definition of List partitions does not support using both NULL and empty strings #45694 @mjonss",
          "Fix the issue of not being able to detect data that does not comply with partition definitions during partition exchange #46492 @mjonss",
          "Fix the issue that the tmp-storage-quota configuration does not take effect #45161 #26806 @wshwsh12",
          "Fix the issue that the WEIGHT_STRING() function does not match the collation #45725 @dveeden",
          "Fix the issue that an error in Index Join might cause the query to get stuck #45716 @wshwsh12",
          "Fix the issue that the behavior is inconsistent with MySQL when comparing a DATETIME or TIMESTAMP column with a number constant #38361 @yibin87",
          "Fix the incorrect result that occurs when comparing unsigned types with Duration type constants #45410 @wshwsh12",
          "Fix the issue that access path pruning logic ignores the READ_FROM_STORAGE(TIFLASH[...]) hint, which causes the Can't find a proper physical plan error #40146 @AilinKid",
          "Fix the issue that GROUP_CONCAT cannot parse the ORDER BY column #41986 @AilinKid",
          "Fix the issue that HashCode is repeatedly calculated for deeply nested expressions, which causes high memory usage and OOM #42788 @AilinKid",
          "Fix the issue that the cast(col)=range condition causes FullScan when CAST has no precision loss #45199 @AilinKid",
          "Fix the issue that when Aggregation is pushed down through Union in MPP execution plans, the results are incorrect #45850 @AilinKid",
          "Fix the issue that bindings with in (?) cannot match in (?, ... ?) #44298 @qw4990",
          "Fix the error caused by not considering the connection collation when non-prep plan cache reuses the execution plan #47008 @qw4990",
          "Fix the issue that no warning is reported when an executed plan does not hit the plan cache #46159 @qw4990",
          "Fix the issue that plan replayer dump explain reports an error #46197 @time-and-fate",
          "Fix the issue that executing DML statements with CTE can cause panic #46083 @winoros",
          "Fix the issue that the TIDB_INLJ hint does not take effect when joining two sub-queries #46160 @qw4990",
          "Fix the issue that the results of MERGE_JOIN are incorrect #46580 @qw4990",
          "TiKV\nFix the issue that TiKV fails to start when Titan is enabled and the Blob file deleted twice error occurs #15454 @Connor1996\nFix the issue of no data in the Thread Voluntary and Thread Nonvoluntary monitoring panels #15413 @SpadeA-Tang\nFix the data error of continuously increasing raftstore-applys #15371 @Connor1996\nFix the TiKV panic issue caused by incorrect metadata of Region #13311 @zyguan\nFix the issue of QPS dropping to 0 after switching from sync_recovery to sync #15366 @nolouch\nFix the issue that Online Unsafe Recovery does not abort on timeout #15346 @Connor1996\nFix the potential memory leak issue caused by CpuRecord #15304 @overvenus\nFix the issue that \"Error 9002: TiKV server timeout\" occurs when the backup cluster is down and the primary cluster is queried #12914 @Connor1996\nFix the issue that the backup TiKV gets stuck when TiKV restarts after the primary cluster recovers #12320 @disksing",
          "Fix the issue that TiKV fails to start when Titan is enabled and the Blob file deleted twice error occurs #15454 @Connor1996",
          "Fix the issue of no data in the Thread Voluntary and Thread Nonvoluntary monitoring panels #15413 @SpadeA-Tang",
          "Fix the data error of continuously increasing raftstore-applys #15371 @Connor1996",
          "Fix the TiKV panic issue caused by incorrect metadata of Region #13311 @zyguan",
          "Fix the issue of QPS dropping to 0 after switching from sync_recovery to sync #15366 @nolouch",
          "Fix the issue that Online Unsafe Recovery does not abort on timeout #15346 @Connor1996",
          "Fix the potential memory leak issue caused by CpuRecord #15304 @overvenus",
          "Fix the issue that \"Error 9002: TiKV server timeout\" occurs when the backup cluster is down and the primary cluster is queried #12914 @Connor1996",
          "Fix the issue that the backup TiKV gets stuck when TiKV restarts after the primary cluster recovers #12320 @disksing",
          "PD\nFix the issue that the Region information is not updated and saved during Flashback #6912 @overvenus\nFix the issue of slow switching of PD Leaders due to slow synchronization of store config #6918 @bufferflies\nFix the issue that the groups are not considered in Scatter Peers #6962 @bufferflies\nFix the issue that RU consumption less than 0 causes PD to crash #6973 @CabinfeverB\nFix the issue that modified isolation levels are not synchronized to the default placement rules #7121 @rleungx\nFix the issue that the client-go regularly updating min-resolved-ts might cause PD OOM when the cluster is large #46664 @HuSharp",
          "Fix the issue that the Region information is not updated and saved during Flashback #6912 @overvenus",
          "Fix the issue of slow switching of PD Leaders due to slow synchronization of store config #6918 @bufferflies",
          "Fix the issue that the groups are not considered in Scatter Peers #6962 @bufferflies",
          "Fix the issue that RU consumption less than 0 causes PD to crash #6973 @CabinfeverB",
          "Fix the issue that modified isolation levels are not synchronized to the default placement rules #7121 @rleungx",
          "Fix the issue that the client-go regularly updating min-resolved-ts might cause PD OOM when the cluster is large #46664 @HuSharp",
          "TiFlash\nFix the issue that the max_snapshot_lifetime metric is displayed incorrectly on Grafana #7713 @JaySon-Huang\nFix the issue that some metrics about the maximum duration are not correct #8076 @CalvinNeo\nFix the issue that TiDB incorrectly reports that an MPP task has failed #7177 @yibin87",
          "Fix the issue that the max_snapshot_lifetime metric is displayed incorrectly on Grafana #7713 @JaySon-Huang",
          "Fix the issue that some metrics about the maximum duration are not correct #8076 @CalvinNeo",
          "Fix the issue that TiDB incorrectly reports that an MPP task has failed #7177 @yibin87",
          "Tools\nBackup & Restore (BR)\nFix an issue that the misleading error message resolve lock timeout covers up the actual error when backup fails #43236 @YuJuncen\nFix the issue that recovering implicit primary keys using PITR might cause conflicts #46520 @3pointer\nFix the issue that recovering meta-kv using PITR might cause errors #46578 @Leavrth\nFix the errors in BR integration test cases #46561 @purelind\nTiCDC\nFix the issue that TiCDC accesses the invalid old address during PD scaling up and down #9584 @fubinzh @asddongmen\nFix the issue that changefeed fails in some scenarios #9309 #9450 #9542 #9685 @hicqu @CharlesCheung96\nFix the issue that replication write conflicts might occur when the unique keys for multiple rows are modified in one transaction on the upstream #9430 @sdojjy\nFix the issue that a replication error occurs when multiple tables are renamed in the same DDL statement on the upstream #9476 #9488 @CharlesCheung96 @asddongmen\nFix the issue that Chinese characters are not validated in CSV files #9609 @CharlesCheung96\nFix the issue that upstream TiDB GC is blocked after all changefeeds are removed #9633 @sdojjy\nFix the issue of uneven distribution of write keys among nodes when scale-out is enabled #9665 @sdojjy\nFix the issue that sensitive user information is recorded in the logs #9690 @sdojjy\nTiDB Data Migration (DM)\nFix the issue that DM cannot handle conflicts correctly with case-insensitive collations #9489 @hihihuhu\nFix the DM validator deadlock issue and enhance retries #9257 @D3Hunter\nFix the issue that replication lag returned by DM keeps growing when a failed DDL is skipped and no subsequent DDLs are executed #9605 @D3Hunter\nFix the issue that DM cannot properly track upstream table schemas when skipping online DDLs #9587 @GMHDBJD\nFix the issue that DM skips all DMLs when resuming a task in optimistic mode #9588 @GMHDBJD\nFix the issue that DM skips partition DDLs in optimistic mode #9788 @GMHDBJD\nTiDB Lightning\nFix the issue that inserting data returns an error after TiDB Lightning imports the NONCLUSTERED auto_increment and AUTO_ID_CACHE=1 tables #46100 @tiancaiamao\nFix the issue that checksum still reports errors when checksum = \"optional\" #45382 @lyzx2001\nFix the issue that data import fails when the PD cluster address changes #43436 @lichunzhu",
          "Backup & Restore (BR)\nFix an issue that the misleading error message resolve lock timeout covers up the actual error when backup fails #43236 @YuJuncen\nFix the issue that recovering implicit primary keys using PITR might cause conflicts #46520 @3pointer\nFix the issue that recovering meta-kv using PITR might cause errors #46578 @Leavrth\nFix the errors in BR integration test cases #46561 @purelind",
          "Fix an issue that the misleading error message resolve lock timeout covers up the actual error when backup fails #43236 @YuJuncen",
          "Fix the issue that recovering implicit primary keys using PITR might cause conflicts #46520 @3pointer",
          "Fix the issue that recovering meta-kv using PITR might cause errors #46578 @Leavrth",
          "Fix the errors in BR integration test cases #46561 @purelind",
          "TiCDC\nFix the issue that TiCDC accesses the invalid old address during PD scaling up and down #9584 @fubinzh @asddongmen\nFix the issue that changefeed fails in some scenarios #9309 #9450 #9542 #9685 @hicqu @CharlesCheung96\nFix the issue that replication write conflicts might occur when the unique keys for multiple rows are modified in one transaction on the upstream #9430 @sdojjy\nFix the issue that a replication error occurs when multiple tables are renamed in the same DDL statement on the upstream #9476 #9488 @CharlesCheung96 @asddongmen\nFix the issue that Chinese characters are not validated in CSV files #9609 @CharlesCheung96\nFix the issue that upstream TiDB GC is blocked after all changefeeds are removed #9633 @sdojjy\nFix the issue of uneven distribution of write keys among nodes when scale-out is enabled #9665 @sdojjy\nFix the issue that sensitive user information is recorded in the logs #9690 @sdojjy",
          "Fix the issue that TiCDC accesses the invalid old address during PD scaling up and down #9584 @fubinzh @asddongmen",
          "Fix the issue that changefeed fails in some scenarios #9309 #9450 #9542 #9685 @hicqu @CharlesCheung96",
          "Fix the issue that replication write conflicts might occur when the unique keys for multiple rows are modified in one transaction on the upstream #9430 @sdojjy",
          "Fix the issue that a replication error occurs when multiple tables are renamed in the same DDL statement on the upstream #9476 #9488 @CharlesCheung96 @asddongmen",
          "Fix the issue that Chinese characters are not validated in CSV files #9609 @CharlesCheung96",
          "Fix the issue that upstream TiDB GC is blocked after all changefeeds are removed #9633 @sdojjy",
          "Fix the issue of uneven distribution of write keys among nodes when scale-out is enabled #9665 @sdojjy",
          "Fix the issue that sensitive user information is recorded in the logs #9690 @sdojjy",
          "TiDB Data Migration (DM)\nFix the issue that DM cannot handle conflicts correctly with case-insensitive collations #9489 @hihihuhu\nFix the DM validator deadlock issue and enhance retries #9257 @D3Hunter\nFix the issue that replication lag returned by DM keeps growing when a failed DDL is skipped and no subsequent DDLs are executed #9605 @D3Hunter\nFix the issue that DM cannot properly track upstream table schemas when skipping online DDLs #9587 @GMHDBJD\nFix the issue that DM skips all DMLs when resuming a task in optimistic mode #9588 @GMHDBJD\nFix the issue that DM skips partition DDLs in optimistic mode #9788 @GMHDBJD",
          "Fix the issue that DM cannot handle conflicts correctly with case-insensitive collations #9489 @hihihuhu",
          "Fix the DM validator deadlock issue and enhance retries #9257 @D3Hunter",
          "Fix the issue that replication lag returned by DM keeps growing when a failed DDL is skipped and no subsequent DDLs are executed #9605 @D3Hunter",
          "Fix the issue that DM cannot properly track upstream table schemas when skipping online DDLs #9587 @GMHDBJD",
          "Fix the issue that DM skips all DMLs when resuming a task in optimistic mode #9588 @GMHDBJD",
          "Fix the issue that DM skips partition DDLs in optimistic mode #9788 @GMHDBJD",
          "TiDB Lightning\nFix the issue that inserting data returns an error after TiDB Lightning imports the NONCLUSTERED auto_increment and AUTO_ID_CACHE=1 tables #46100 @tiancaiamao\nFix the issue that checksum still reports errors when checksum = \"optional\" #45382 @lyzx2001\nFix the issue that data import fails when the PD cluster address changes #43436 @lichunzhu",
          "Fix the issue that inserting data returns an error after TiDB Lightning imports the NONCLUSTERED auto_increment and AUTO_ID_CACHE=1 tables #46100 @tiancaiamao",
          "Fix the issue that checksum still reports errors when checksum = \"optional\" #45382 @lyzx2001",
          "Fix the issue that data import fails when the PD cluster address changes #43436 @lichunzhu"
        ]
      }
    ]
  },
  {
    "major_version": "7.3",
    "patches": [
      {
        "version": "7.3.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.3.0/",
        "changes": [
          "TiDB\nIntroduce a new system variable tidb_opt_enable_non_eval_scalar_subquery to control whether the EXPLAIN statement executes subqueries in advance during the optimization phase #22076 @winoros\nWhen Global Kill is enabled, you can terminate the current session by pressing Control+C #8854 @pingyu\nSupport the IS_FREE_LOCK() and IS_USED_LOCK() locking functions #44493 @dveeden\nOptimize the performance of reading the dumped chunks from disk #45125 @YangKeao\nOptimize the overestimation issue of the inner table of Index Join by using Optimizer Fix Controls #44855 @time-and-fate",
          "Introduce a new system variable tidb_opt_enable_non_eval_scalar_subquery to control whether the EXPLAIN statement executes subqueries in advance during the optimization phase #22076 @winoros",
          "When Global Kill is enabled, you can terminate the current session by pressing Control+C #8854 @pingyu",
          "Support the IS_FREE_LOCK() and IS_USED_LOCK() locking functions #44493 @dveeden",
          "Optimize the performance of reading the dumped chunks from disk #45125 @YangKeao",
          "Optimize the overestimation issue of the inner table of Index Join by using Optimizer Fix Controls #44855 @time-and-fate",
          "TiKV\nAdd the Max gap of safe-ts and Min safe ts region metrics and introduce the tikv-ctl get-region-read-progress command to better observe and diagnose the status of resolved-ts and safe-ts #15082 @ekexium",
          "Add the Max gap of safe-ts and Min safe ts region metrics and introduce the tikv-ctl get-region-read-progress command to better observe and diagnose the status of resolved-ts and safe-ts #15082 @ekexium",
          "PD\nSupport blocking the Swagger API by default when the Swagger server is not enabled #6786 @bufferflies\nImprove the high availability of etcd #6554 #6442 @lhy1024\nReduce the memory consumption of GetRegions requests #6835 @lhy1024",
          "Support blocking the Swagger API by default when the Swagger server is not enabled #6786 @bufferflies",
          "Improve the high availability of etcd #6554 #6442 @lhy1024",
          "Reduce the memory consumption of GetRegions requests #6835 @lhy1024",
          "TiFlash\nSupport a new DTFile format version storage.format_version = 5 to reduce the number of physical files (experimental) #7595 @hongyunyan",
          "Support a new DTFile format version storage.format_version = 5 to reduce the number of physical files (experimental) #7595 @hongyunyan",
          "Tools\nBackup & Restore (BR)\nWhen backing up data to Azure Blob Storage using BR, you can specify either an encryption scope or an encryption key for server-side encryption #45025 @Leavrth\nTiCDC\nOptimize the message size of the Open Protocol output to make it include only the updated column values when sending UPDATE events #9336 @3AceShowHand\nStorage Sink now supports hexadecimal encoding for HEX formatted data, making it compatible with AWS DMS format specifications #9373 @CharlesCheung96\nKafka Sink supports sending only handle key data when the message is too large, reducing the size of the message #9382 @3AceShowHand",
          "Backup & Restore (BR)\nWhen backing up data to Azure Blob Storage using BR, you can specify either an encryption scope or an encryption key for server-side encryption #45025 @Leavrth",
          "When backing up data to Azure Blob Storage using BR, you can specify either an encryption scope or an encryption key for server-side encryption #45025 @Leavrth",
          "TiCDC\nOptimize the message size of the Open Protocol output to make it include only the updated column values when sending UPDATE events #9336 @3AceShowHand\nStorage Sink now supports hexadecimal encoding for HEX formatted data, making it compatible with AWS DMS format specifications #9373 @CharlesCheung96\nKafka Sink supports sending only handle key data when the message is too large, reducing the size of the message #9382 @3AceShowHand",
          "Optimize the message size of the Open Protocol output to make it include only the updated column values when sending UPDATE events #9336 @3AceShowHand",
          "Storage Sink now supports hexadecimal encoding for HEX formatted data, making it compatible with AWS DMS format specifications #9373 @CharlesCheung96",
          "Kafka Sink supports sending only handle key data when the message is too large, reducing the size of the message #9382 @3AceShowHand",
          "TiDB\nFix the issue that when the MySQL Cursor Fetch protocol is used, the memory consumption of result sets might exceed the tidb_mem_quota_query limit and causes TiDB OOM. After the fix, TiDB will automatically write result sets to the disk to release memory #43233 @YangKeao\nFix the TiDB panic issue caused by data race #45561 @genliqi\nFix the hang-up issue that occurs when queries with indexMerge are killed #45279 @xzhangxian1008\nFix the issue that query results in MPP mode are incorrect when tidb_enable_parallel_apply is enabled #45299 @windtalker\nFix the issue that resolve lock might hang when there is a sudden change in PD time #44822 @zyguan\nFix the issue that the GC Resolve Locks step might miss some pessimistic locks #45134 @MyonKeminta\nFix the issue that the query with ORDER BY returns incorrect results in dynamic pruning mode #45007 @Defined2014\nFix the issue that AUTO_INCREMENT can be specified on the same column with the DEFAULT column value #45136 @Defined2014\nFix the issue that querying the system table INFORMATION_SCHEMA.TIKV_REGION_STATUS returns incorrect results in some cases #45531 @Defined2014\nFix the issue of incorrect partition table pruning in some cases #42273 @jiyfhust\nFix the issue that global indexes are not cleared when truncating partition of a partitioned table #42435 @L-maple\nFix the issue that other TiDB nodes do not take over TTL tasks after failures in one TiDB node #45022 @lcwangchao\nFix the memory leak issue when TTL is running #45510 @lcwangchao\nFix the issue of inaccurate error messages when inserting data into partitioned tables #44966 @lilinghai\nFix the read permission issue on the INFORMATION_SCHEMA.TIFLASH_REPLICA table #7795 @Lloyd-Pottiger\nFix the issue that an error occurs when using a wrong partition table name #44967 @River2000i\nFix the issue that creating indexes gets stuck when tidb_enable_dist_task is enabled in some cases #44440 @tangenta\nFix the duplicate entry error that occurs when restoring a table with AUTO_ID_CACHE=1 using BR #44716 @tiancaiamao\nFix the issue that the time consumed for executing TRUNCATE TABLE is inconsistent with the task execution time shown in ADMIN SHOW DDL JOBS #44785 @tangenta\nFix the issue that upgrading TiDB gets stuck when reading metadata takes longer than one DDL lease #45176 @zimulala\nFix the issue that the query result of the SELECT CAST(n AS CHAR) statement is incorrect when n in the statement is a negative number #44786 @xhebox\nFix the issue that queries might return incorrect results when tidb_opt_agg_push_down is enabled #44795 @AilinKid\nFix the issue of wrong results that occurs when a query with current_date() uses plan cache #45086 @qw4990",
          "Fix the issue that when the MySQL Cursor Fetch protocol is used, the memory consumption of result sets might exceed the tidb_mem_quota_query limit and causes TiDB OOM. After the fix, TiDB will automatically write result sets to the disk to release memory #43233 @YangKeao",
          "Fix the TiDB panic issue caused by data race #45561 @genliqi",
          "Fix the hang-up issue that occurs when queries with indexMerge are killed #45279 @xzhangxian1008",
          "Fix the issue that query results in MPP mode are incorrect when tidb_enable_parallel_apply is enabled #45299 @windtalker",
          "Fix the issue that resolve lock might hang when there is a sudden change in PD time #44822 @zyguan",
          "Fix the issue that the GC Resolve Locks step might miss some pessimistic locks #45134 @MyonKeminta",
          "Fix the issue that the query with ORDER BY returns incorrect results in dynamic pruning mode #45007 @Defined2014",
          "Fix the issue that AUTO_INCREMENT can be specified on the same column with the DEFAULT column value #45136 @Defined2014",
          "Fix the issue that querying the system table INFORMATION_SCHEMA.TIKV_REGION_STATUS returns incorrect results in some cases #45531 @Defined2014",
          "Fix the issue of incorrect partition table pruning in some cases #42273 @jiyfhust",
          "Fix the issue that global indexes are not cleared when truncating partition of a partitioned table #42435 @L-maple",
          "Fix the issue that other TiDB nodes do not take over TTL tasks after failures in one TiDB node #45022 @lcwangchao",
          "Fix the memory leak issue when TTL is running #45510 @lcwangchao",
          "Fix the issue of inaccurate error messages when inserting data into partitioned tables #44966 @lilinghai",
          "Fix the read permission issue on the INFORMATION_SCHEMA.TIFLASH_REPLICA table #7795 @Lloyd-Pottiger",
          "Fix the issue that an error occurs when using a wrong partition table name #44967 @River2000i",
          "Fix the issue that creating indexes gets stuck when tidb_enable_dist_task is enabled in some cases #44440 @tangenta",
          "Fix the duplicate entry error that occurs when restoring a table with AUTO_ID_CACHE=1 using BR #44716 @tiancaiamao",
          "Fix the issue that the time consumed for executing TRUNCATE TABLE is inconsistent with the task execution time shown in ADMIN SHOW DDL JOBS #44785 @tangenta",
          "Fix the issue that upgrading TiDB gets stuck when reading metadata takes longer than one DDL lease #45176 @zimulala",
          "Fix the issue that the query result of the SELECT CAST(n AS CHAR) statement is incorrect when n in the statement is a negative number #44786 @xhebox",
          "Fix the issue that queries might return incorrect results when tidb_opt_agg_push_down is enabled #44795 @AilinKid",
          "Fix the issue of wrong results that occurs when a query with current_date() uses plan cache #45086 @qw4990",
          "TiKV\nFix the issue that reading data during GC might cause TiKV panic in some rare cases #15109 @MyonKeminta",
          "Fix the issue that reading data during GC might cause TiKV panic in some rare cases #15109 @MyonKeminta",
          "PD\nFix the issue that restarting PD might cause the default resource group to be reinitialized #6787 @glorv\nFix the issue that when etcd is already started but the client has not yet connected to it, calling the client might cause PD to panic #6860 @HuSharp\nFix the issue that the health-check output of a Region is inconsistent with the Region information returned by querying the Region ID #6560 @JmPotato\nFix the issue that failed learner peers in unsafe recovery are ignored in auto-detect mode #6690 @v01dstar\nFix the issue that Placement Rules select TiFlash learners that do not meet the rules #6662 @rleungx\nFix the issue that unhealthy peers cannot be removed when rule checker selects peers #6559 @nolouch",
          "Fix the issue that restarting PD might cause the default resource group to be reinitialized #6787 @glorv",
          "Fix the issue that when etcd is already started but the client has not yet connected to it, calling the client might cause PD to panic #6860 @HuSharp",
          "Fix the issue that the health-check output of a Region is inconsistent with the Region information returned by querying the Region ID #6560 @JmPotato",
          "Fix the issue that failed learner peers in unsafe recovery are ignored in auto-detect mode #6690 @v01dstar",
          "Fix the issue that Placement Rules select TiFlash learners that do not meet the rules #6662 @rleungx",
          "Fix the issue that unhealthy peers cannot be removed when rule checker selects peers #6559 @nolouch",
          "TiFlash\nFix the issue that TiFlash cannot replicate partitioned tables successfully due to deadlocks #7758 @hongyunyan\nFix the issue that the INFORMATION_SCHEMA.TIFLASH_REPLICA system table contains tables that users do not have privileges to access #7795 @Lloyd-Pottiger\nFix the issue that when there are multiple HashAgg operators within the same MPP task, the compilation of the MPP task might take an excessively long time, severely affecting query performance #7810 @SeaRise",
          "Fix the issue that TiFlash cannot replicate partitioned tables successfully due to deadlocks #7758 @hongyunyan",
          "Fix the issue that the INFORMATION_SCHEMA.TIFLASH_REPLICA system table contains tables that users do not have privileges to access #7795 @Lloyd-Pottiger",
          "Fix the issue that when there are multiple HashAgg operators within the same MPP task, the compilation of the MPP task might take an excessively long time, severely affecting query performance #7810 @SeaRise",
          "Tools\nTiCDC\nFix the issue that changefeeds would fail due to the temporary unavailability of PD #9294 @asddongmen\nFix the data inconsistency issue that might occur when some TiCDC nodes are isolated from the network #9344 @CharlesCheung96\nFix the issue that when Kafka Sink encounters errors it might indefinitely block changefeed progress #9309 @hicqu\nFix the panic issue that might occur when the TiCDC node status changes #9354 @sdojjy\nFix the encoding error for the default ENUM values #9259 @3AceShowHand\nTiDB Lightning\nFix the issue that executing checksum after TiDB Lightning completes import might get SSL errors #45462 @D3Hunter\nFix the issue that in Logical Import Mode, deleting tables downstream during import might cause TiDB Lightning metadata not to be updated in time #44614 @dsdashun",
          "TiCDC\nFix the issue that changefeeds would fail due to the temporary unavailability of PD #9294 @asddongmen\nFix the data inconsistency issue that might occur when some TiCDC nodes are isolated from the network #9344 @CharlesCheung96\nFix the issue that when Kafka Sink encounters errors it might indefinitely block changefeed progress #9309 @hicqu\nFix the panic issue that might occur when the TiCDC node status changes #9354 @sdojjy\nFix the encoding error for the default ENUM values #9259 @3AceShowHand",
          "Fix the issue that changefeeds would fail due to the temporary unavailability of PD #9294 @asddongmen",
          "Fix the data inconsistency issue that might occur when some TiCDC nodes are isolated from the network #9344 @CharlesCheung96",
          "Fix the issue that when Kafka Sink encounters errors it might indefinitely block changefeed progress #9309 @hicqu",
          "Fix the panic issue that might occur when the TiCDC node status changes #9354 @sdojjy",
          "Fix the encoding error for the default ENUM values #9259 @3AceShowHand",
          "TiDB Lightning\nFix the issue that executing checksum after TiDB Lightning completes import might get SSL errors #45462 @D3Hunter\nFix the issue that in Logical Import Mode, deleting tables downstream during import might cause TiDB Lightning metadata not to be updated in time #44614 @dsdashun",
          "Fix the issue that executing checksum after TiDB Lightning completes import might get SSL errors #45462 @D3Hunter",
          "Fix the issue that in Logical Import Mode, deleting tables downstream during import might cause TiDB Lightning metadata not to be updated in time #44614 @dsdashun"
        ]
      }
    ]
  },
  {
    "major_version": "7.2",
    "patches": [
      {
        "version": "7.2.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.2.0/",
        "changes": [
          "TiDB\nOptimize the logic of constructing index scan range so that it supports converting complex conditions into index scan range #41572 #44389 @xuyifangreeneyes\nAdd new monitoring metrics Stale Read OPS and Stale Read Traffic #43325 @you06\nWhen the retry leader of stale read encounters a lock, TiDB forcibly retries with the leader after resolving the lock, which avoids unnecessary overhead #43659 @you06\nUse estimated time to calculate stale read ts and reduce the overhead of stale read #44215 @you06\nAdd logs and system variables for long-running transactions #41471 @crazycs520\nSupport connecting to TiDB through the compressed MySQL protocol, which improves the performance of data-intensive queries under low bandwidth networks and saves bandwidth costs. This supports both zlib and zstd based compression. #22605 @dveeden\nRecognize both utf8 and utf8bm3 as the legacy three-byte UTF-8 character set encodings, which facilitates the migration of tables with legacy UTF-8 encodings from MySQL 8.0 to TiDB #26226 @dveeden\nSupport using := for assignment in UPDATE statements #44751 @CbcWestwolf",
          "Optimize the logic of constructing index scan range so that it supports converting complex conditions into index scan range #41572 #44389 @xuyifangreeneyes",
          "Add new monitoring metrics Stale Read OPS and Stale Read Traffic #43325 @you06",
          "When the retry leader of stale read encounters a lock, TiDB forcibly retries with the leader after resolving the lock, which avoids unnecessary overhead #43659 @you06",
          "Use estimated time to calculate stale read ts and reduce the overhead of stale read #44215 @you06",
          "Add logs and system variables for long-running transactions #41471 @crazycs520",
          "Support connecting to TiDB through the compressed MySQL protocol, which improves the performance of data-intensive queries under low bandwidth networks and saves bandwidth costs. This supports both zlib and zstd based compression. #22605 @dveeden",
          "Recognize both utf8 and utf8bm3 as the legacy three-byte UTF-8 character set encodings, which facilitates the migration of tables with legacy UTF-8 encodings from MySQL 8.0 to TiDB #26226 @dveeden",
          "Support using := for assignment in UPDATE statements #44751 @CbcWestwolf",
          "TiKV\nSupport configuring the retry interval of PD connections in scenarios such as connection request failures using pd.retry-interval #14964 @rleungx\nOptimize the resource control scheduling algorithm by incorporating the global resource usage #14604 @Connor1996\nUse gzip compression for check_leader requests to reduce traffic #14553 @you06\nAdd related metrics for check_leader requests #14658 @you06\nProvide detailed time information during TiKV handling write commands #12362 @cfzjywxk",
          "Support configuring the retry interval of PD connections in scenarios such as connection request failures using pd.retry-interval #14964 @rleungx",
          "Optimize the resource control scheduling algorithm by incorporating the global resource usage #14604 @Connor1996",
          "Use gzip compression for check_leader requests to reduce traffic #14553 @you06",
          "Add related metrics for check_leader requests #14658 @you06",
          "Provide detailed time information during TiKV handling write commands #12362 @cfzjywxk",
          "PD\nUse a separate gRPC connection for PD leader election to prevent the impact of other requests #6403 @rleungx\nEnable the bucket splitting by default to mitigate hotspot issues in multi-Region scenarios #6433 @bufferflies",
          "Use a separate gRPC connection for PD leader election to prevent the impact of other requests #6403 @rleungx",
          "Enable the bucket splitting by default to mitigate hotspot issues in multi-Region scenarios #6433 @bufferflies",
          "Tools\nBackup & Restore (BR)\nSupport access to Azure Blob Storage by shared access signature (SAS) #44199 @Leavrth\nTiCDC\nOptimize the structure of the directory where data files are stored when a DDL operation occurs in the scenario of replication to an object storage service #8891 @CharlesCheung96\nSupport the OAUTHBEARER authentication in the scenario of replication to Kafka #8865 @hi-rustin\nAdd the option of outputting only the handle keys for the DELETE operation in the scenario of replication to Kafka #9143 @3AceShowHand\nTiDB Data Migration (DM)\nSupport reading compressed binlogs in MySQL 8.0 as a data source for incremental replication #6381 @dveeden\nTiDB Lightning\nOptimize the retry mechanism during import to avoid errors caused by leader switching #44263 @lance6716\nVerify checksum through SQL after the import to improve stability of verification #41941 @GMHDBJD\nOptimize TiDB Lightning OOM issues when importing wide tables #43853 @D3Hunter",
          "Backup & Restore (BR)\nSupport access to Azure Blob Storage by shared access signature (SAS) #44199 @Leavrth",
          "Support access to Azure Blob Storage by shared access signature (SAS) #44199 @Leavrth",
          "TiCDC\nOptimize the structure of the directory where data files are stored when a DDL operation occurs in the scenario of replication to an object storage service #8891 @CharlesCheung96\nSupport the OAUTHBEARER authentication in the scenario of replication to Kafka #8865 @hi-rustin\nAdd the option of outputting only the handle keys for the DELETE operation in the scenario of replication to Kafka #9143 @3AceShowHand",
          "Optimize the structure of the directory where data files are stored when a DDL operation occurs in the scenario of replication to an object storage service #8891 @CharlesCheung96",
          "Support the OAUTHBEARER authentication in the scenario of replication to Kafka #8865 @hi-rustin",
          "Add the option of outputting only the handle keys for the DELETE operation in the scenario of replication to Kafka #9143 @3AceShowHand",
          "TiDB Data Migration (DM)\nSupport reading compressed binlogs in MySQL 8.0 as a data source for incremental replication #6381 @dveeden",
          "Support reading compressed binlogs in MySQL 8.0 as a data source for incremental replication #6381 @dveeden",
          "TiDB Lightning\nOptimize the retry mechanism during import to avoid errors caused by leader switching #44263 @lance6716\nVerify checksum through SQL after the import to improve stability of verification #41941 @GMHDBJD\nOptimize TiDB Lightning OOM issues when importing wide tables #43853 @D3Hunter",
          "Optimize the retry mechanism during import to avoid errors caused by leader switching #44263 @lance6716",
          "Verify checksum through SQL after the import to improve stability of verification #41941 @GMHDBJD",
          "Optimize TiDB Lightning OOM issues when importing wide tables #43853 @D3Hunter",
          "TiDB\nFix the issue that the query with CTE causes TiDB to hang #43749 #36896 @guo-shaoge\nFix the issue that the min, max query result is incorrect #43805 @wshwsh12\nFix the issue that the SHOW PROCESSLIST statement cannot display the TxnStart of the transaction of the statement with a long subquery time #40851 @crazycs520\nFix the issue that the stale read global optimization does not take effect due to the lack of TxnScope in Coprocessor tasks #43365 @you06\nFix the issue that follower read does not handle flashback errors before retrying, which causes query errors #43673 @you06\nFix the issue that data and indexes are inconsistent when the ON UPDATE statement does not correctly update the primary key #44565 @zyguan\nFix the case sensitivity issue in some columns of the permission table #41048 @bb7133\nModify the upper limit of the UNIX_TIMESTAMP() function to 3001-01-19 03:14:07.999999 UTC to be consistent with that of MySQL 8.0.28 or later versions #43987 @YangKeao\nFix the issue that adding an index fails in the ingest mode #44137 @tangenta\nFix the issue that canceling a DDL task in the rollback state causes errors in related metadata #44143 @wjhuang2016\nFix the issue that using memTracker with cursor fetch causes memory leaks #44254 @YangKeao\nFix the issue that dropping a database causes slow GC progress #33069 @tiancaiamao\nFix the issue that TiDB returns an error when the corresponding rows in partitioned tables cannot be found in the probe phase of index join #43686 @AilinKid @mjonss\nFix the issue that there is no warning when using SUBPARTITION to create partitioned tables #41198 #41200 @mjonss\nFix the issue that when a query is killed because it exceeds MAX_EXECUTION_TIME, the returned error message is inconsistent with that of MySQL #43031 @dveeden\nFix the issue that the LEADING hint does not support querying block aliases #44645 @qw4990\nModify the return type of the LAST_INSERT_ID() function from VARCHAR to LONGLONG to be consistent with that of MySQL #44574 @Defined2014\nFix the issue that incorrect results might be returned when using a common table expression (CTE) in statements with non-correlated subqueries #44051 @winoros\nFix the issue that Join Reorder might cause incorrect outer join results #44314 @AilinKid\nFix the issue that PREPARE stmt FROM \"ANALYZE TABLE xxx\" might be killed by tidb_mem_quota_query #44320 @chrysan",
          "Fix the issue that the query with CTE causes TiDB to hang #43749 #36896 @guo-shaoge",
          "Fix the issue that the min, max query result is incorrect #43805 @wshwsh12",
          "Fix the issue that the SHOW PROCESSLIST statement cannot display the TxnStart of the transaction of the statement with a long subquery time #40851 @crazycs520",
          "Fix the issue that the stale read global optimization does not take effect due to the lack of TxnScope in Coprocessor tasks #43365 @you06",
          "Fix the issue that follower read does not handle flashback errors before retrying, which causes query errors #43673 @you06",
          "Fix the issue that data and indexes are inconsistent when the ON UPDATE statement does not correctly update the primary key #44565 @zyguan",
          "Fix the case sensitivity issue in some columns of the permission table #41048 @bb7133",
          "Modify the upper limit of the UNIX_TIMESTAMP() function to 3001-01-19 03:14:07.999999 UTC to be consistent with that of MySQL 8.0.28 or later versions #43987 @YangKeao",
          "Fix the issue that adding an index fails in the ingest mode #44137 @tangenta",
          "Fix the issue that canceling a DDL task in the rollback state causes errors in related metadata #44143 @wjhuang2016",
          "Fix the issue that using memTracker with cursor fetch causes memory leaks #44254 @YangKeao",
          "Fix the issue that dropping a database causes slow GC progress #33069 @tiancaiamao",
          "Fix the issue that TiDB returns an error when the corresponding rows in partitioned tables cannot be found in the probe phase of index join #43686 @AilinKid @mjonss",
          "Fix the issue that there is no warning when using SUBPARTITION to create partitioned tables #41198 #41200 @mjonss",
          "Fix the issue that when a query is killed because it exceeds MAX_EXECUTION_TIME, the returned error message is inconsistent with that of MySQL #43031 @dveeden",
          "Fix the issue that the LEADING hint does not support querying block aliases #44645 @qw4990",
          "Modify the return type of the LAST_INSERT_ID() function from VARCHAR to LONGLONG to be consistent with that of MySQL #44574 @Defined2014",
          "Fix the issue that incorrect results might be returned when using a common table expression (CTE) in statements with non-correlated subqueries #44051 @winoros",
          "Fix the issue that Join Reorder might cause incorrect outer join results #44314 @AilinKid",
          "Fix the issue that PREPARE stmt FROM \"ANALYZE TABLE xxx\" might be killed by tidb_mem_quota_query #44320 @chrysan",
          "TiKV\nFix the issue that the transaction returns an incorrect value when TiKV handles stale pessimistic lock conflicts #13298 @cfzjywxk\nFix the issue that in-memory pessimistic lock might cause flashback failures and data inconsistency #13303 @JmPotato\nFix the issue that the fair lock might be incorrect when TiKV handles stale requests #13298 @cfzjywxk\nFix the issue that autocommit and point get replica read might break linearizability #14715 @cfzjywxk",
          "Fix the issue that the transaction returns an incorrect value when TiKV handles stale pessimistic lock conflicts #13298 @cfzjywxk",
          "Fix the issue that in-memory pessimistic lock might cause flashback failures and data inconsistency #13303 @JmPotato",
          "Fix the issue that the fair lock might be incorrect when TiKV handles stale requests #13298 @cfzjywxk",
          "Fix the issue that autocommit and point get replica read might break linearizability #14715 @cfzjywxk",
          "PD\nFix the issue that redundant replicas cannot be automatically repaired in some corner cases #6573 @nolouch",
          "Fix the issue that redundant replicas cannot be automatically repaired in some corner cases #6573 @nolouch",
          "TiFlash\nFix the issue that queries might consume more memory than needed when the data on the Join build side is very large and contains many small string type columns #7416 @yibin87",
          "Fix the issue that queries might consume more memory than needed when the data on the Join build side is very large and contains many small string type columns #7416 @yibin87",
          "Tools\nBackup & Restore (BR)\nFix the issue that checksum mismatch is falsely reported in some cases #44472 @Leavrth\nFix the issue that resolved lock timeout is falsely reported in some cases #43236 @YuJuncen\nFix the issue that TiDB might panic when restoring statistics information #44490 @tangenta\nTiCDC\nFix the issue that Resolved TS does not advance properly in some cases #8963 @CharlesCheung96\nFix the issue that the UPDATE operation cannot output old values when the Avro or CSV protocol is used #9086 @3AceShowHand\nFix the issue of excessive downstream pressure caused by reading downstream metadata too frequently when replicating data to Kafka #8959 @hi-rustin\nFix the issue of too many downstream logs caused by frequently setting the downstream bidirectional replication-related variables when replicating data to TiDB or MySQL #9180 @asddongmen\nFix the issue that the PD node crashing causes the TiCDC node to restart #8868 @asddongmen\nFix the issue that TiCDC cannot create a changefeed with a downstream Kafka-on-Pulsar #8892 @hi-rustin\nTiDB Lightning\nFix the TiDB Lightning panic issue when experimental.allow-expression-index is enabled and the default value is UUID #44497 @lichunzhu\nFix the TiDB Lightning panic issue when a task exits while dividing a data file #43195 @lance6716",
          "Backup & Restore (BR)\nFix the issue that checksum mismatch is falsely reported in some cases #44472 @Leavrth\nFix the issue that resolved lock timeout is falsely reported in some cases #43236 @YuJuncen\nFix the issue that TiDB might panic when restoring statistics information #44490 @tangenta",
          "Fix the issue that checksum mismatch is falsely reported in some cases #44472 @Leavrth",
          "Fix the issue that resolved lock timeout is falsely reported in some cases #43236 @YuJuncen",
          "Fix the issue that TiDB might panic when restoring statistics information #44490 @tangenta",
          "TiCDC\nFix the issue that Resolved TS does not advance properly in some cases #8963 @CharlesCheung96\nFix the issue that the UPDATE operation cannot output old values when the Avro or CSV protocol is used #9086 @3AceShowHand\nFix the issue of excessive downstream pressure caused by reading downstream metadata too frequently when replicating data to Kafka #8959 @hi-rustin\nFix the issue of too many downstream logs caused by frequently setting the downstream bidirectional replication-related variables when replicating data to TiDB or MySQL #9180 @asddongmen\nFix the issue that the PD node crashing causes the TiCDC node to restart #8868 @asddongmen\nFix the issue that TiCDC cannot create a changefeed with a downstream Kafka-on-Pulsar #8892 @hi-rustin",
          "Fix the issue that Resolved TS does not advance properly in some cases #8963 @CharlesCheung96",
          "Fix the issue that the UPDATE operation cannot output old values when the Avro or CSV protocol is used #9086 @3AceShowHand",
          "Fix the issue of excessive downstream pressure caused by reading downstream metadata too frequently when replicating data to Kafka #8959 @hi-rustin",
          "Fix the issue of too many downstream logs caused by frequently setting the downstream bidirectional replication-related variables when replicating data to TiDB or MySQL #9180 @asddongmen",
          "Fix the issue that the PD node crashing causes the TiCDC node to restart #8868 @asddongmen",
          "Fix the issue that TiCDC cannot create a changefeed with a downstream Kafka-on-Pulsar #8892 @hi-rustin",
          "TiDB Lightning\nFix the TiDB Lightning panic issue when experimental.allow-expression-index is enabled and the default value is UUID #44497 @lichunzhu\nFix the TiDB Lightning panic issue when a task exits while dividing a data file #43195 @lance6716",
          "Fix the TiDB Lightning panic issue when experimental.allow-expression-index is enabled and the default value is UUID #44497 @lichunzhu",
          "Fix the TiDB Lightning panic issue when a task exits while dividing a data file #43195 @lance6716"
        ]
      }
    ]
  },
  {
    "major_version": "7.1",
    "patches": [
      {
        "version": "7.1.6",
        "date": "2024-11-21",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.1.6/",
        "changes": [
          "TiDB\nAdjust estimation results from 0 to 1 for equality conditions that do not hit TopN when statistics are entirely composed of TopN and the modified row count in the corresponding table statistics is non-zero #47400 @terry1purcell\nRemove stores without Regions during MPP load balancing #52313 @xzhangxian1008\nImprove the MySQL compatibility of expression default values displayed in the output of SHOW CREATE TABLE #52939 @CbcWestwolf\nBy batch deleting TiFlash placement rules, improve the processing speed of data GC after performing the TRUNCATE or DROP operation on partitioned tables #54068 @Lloyd-Pottiger\nImprove sync load performance to reduce latency in loading statistics #52294 hawkingrei",
          "Adjust estimation results from 0 to 1 for equality conditions that do not hit TopN when statistics are entirely composed of TopN and the modified row count in the corresponding table statistics is non-zero #47400 @terry1purcell",
          "Remove stores without Regions during MPP load balancing #52313 @xzhangxian1008",
          "Improve the MySQL compatibility of expression default values displayed in the output of SHOW CREATE TABLE #52939 @CbcWestwolf",
          "By batch deleting TiFlash placement rules, improve the processing speed of data GC after performing the TRUNCATE or DROP operation on partitioned tables #54068 @Lloyd-Pottiger",
          "Improve sync load performance to reduce latency in loading statistics #52294 hawkingrei",
          "TiKV\nAdd slow logs for peer and store messages #16600 @Connor1996\nOptimize the compaction trigger mechanism of RocksDB to accelerate disk space reclamation when handling a large number of DELETE versions #17269 @AndreMouche\nOptimize the jittery access delay when restarting TiKV due to waiting for the log to be applied, improving the stability of TiKV #15874 @LykxSassinator\nRemove unnecessary async blocks to reduce memory usage #16540 @overvenus",
          "Add slow logs for peer and store messages #16600 @Connor1996",
          "Optimize the compaction trigger mechanism of RocksDB to accelerate disk space reclamation when handling a large number of DELETE versions #17269 @AndreMouche",
          "Optimize the jittery access delay when restarting TiKV due to waiting for the log to be applied, improving the stability of TiKV #15874 @LykxSassinator",
          "Remove unnecessary async blocks to reduce memory usage #16540 @overvenus",
          "TiFlash\nOptimize the execution efficiency of LENGTH() and ASCII() functions #9344 @xzhangxian1008\nMitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker\nImprove the cancel mechanism of the JOIN operator, so that the JOIN operator can respond to cancel requests in a timely manner #9430 @windtalker\nReduce lock conflicts under highly concurrent data read operations and optimize short query performance #9125 @JinheLin\nImprove the garbage collection speed of outdated data in the background for tables with clustered indexes #9529 @JaySon-Huang",
          "Optimize the execution efficiency of LENGTH() and ASCII() functions #9344 @xzhangxian1008",
          "Mitigate the issue that TiFlash might panic due to updating certificates after TLS is enabled #8535 @windtalker",
          "Improve the cancel mechanism of the JOIN operator, so that the JOIN operator can respond to cancel requests in a timely manner #9430 @windtalker",
          "Reduce lock conflicts under highly concurrent data read operations and optimize short query performance #9125 @JinheLin",
          "Improve the garbage collection speed of outdated data in the background for tables with clustered indexes #9529 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nEnhance the tolerance of log backup to merge operations. When encountering a reasonably long merge operation, log backup tasks are less likely to enter the error state #16554 @YuJuncen\nBR cleans up empty SST files during data recovery #16005 @Leavrth\nIncrease the number of retries for failures caused by DNS errors #53029 @YuJuncen\nIncrease the number of retries for failures caused by the absence of a leader in a Region #54017 @Leavrth\nExcept for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth\nSupport checking whether the disk space in TiKV is sufficient before TiKV downloads each SST file. If the space is insufficient, BR terminates the restore and returns an error #17224 @RidRisR\nSupport setting Alibaba Cloud access credentials through environment variables #45551 @RidRisR\nReduce unnecessary log printing during backup #55902 @Leavrth\nTiCDC\nSupport directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96\nImprove memory stability during data recovery using redo logs to reduce the probability of OOM #10900 @CharlesCheung96\nWhen the downstream is TiDB with the SUPER permission granted, TiCDC supports querying the execution status of ADD INDEX DDL from the downstream database to avoid data replication failure due to timeout in retrying executing the DDL statement in some cases #10682 @CharlesCheung96\nTiDB Data Migration (DM)\nUpgrade go-mysql to 1.9.1 to support connecting to MySQL server 8.0 using passwords longer than 19 characters #11603 @fishiu",
          "Backup & Restore (BR)\nEnhance the tolerance of log backup to merge operations. When encountering a reasonably long merge operation, log backup tasks are less likely to enter the error state #16554 @YuJuncen\nBR cleans up empty SST files during data recovery #16005 @Leavrth\nIncrease the number of retries for failures caused by DNS errors #53029 @YuJuncen\nIncrease the number of retries for failures caused by the absence of a leader in a Region #54017 @Leavrth\nExcept for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth\nSupport checking whether the disk space in TiKV is sufficient before TiKV downloads each SST file. If the space is insufficient, BR terminates the restore and returns an error #17224 @RidRisR\nSupport setting Alibaba Cloud access credentials through environment variables #45551 @RidRisR\nReduce unnecessary log printing during backup #55902 @Leavrth",
          "Enhance the tolerance of log backup to merge operations. When encountering a reasonably long merge operation, log backup tasks are less likely to enter the error state #16554 @YuJuncen",
          "BR cleans up empty SST files during data recovery #16005 @Leavrth",
          "Increase the number of retries for failures caused by DNS errors #53029 @YuJuncen",
          "Increase the number of retries for failures caused by the absence of a leader in a Region #54017 @Leavrth",
          "Except for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth",
          "Support checking whether the disk space in TiKV is sufficient before TiKV downloads each SST file. If the space is insufficient, BR terminates the restore and returns an error #17224 @RidRisR",
          "Support setting Alibaba Cloud access credentials through environment variables #45551 @RidRisR",
          "Reduce unnecessary log printing during backup #55902 @Leavrth",
          "TiCDC\nSupport directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96\nImprove memory stability during data recovery using redo logs to reduce the probability of OOM #10900 @CharlesCheung96\nWhen the downstream is TiDB with the SUPER permission granted, TiCDC supports querying the execution status of ADD INDEX DDL from the downstream database to avoid data replication failure due to timeout in retrying executing the DDL statement in some cases #10682 @CharlesCheung96",
          "Support directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96",
          "Improve memory stability during data recovery using redo logs to reduce the probability of OOM #10900 @CharlesCheung96",
          "When the downstream is TiDB with the SUPER permission granted, TiCDC supports querying the execution status of ADD INDEX DDL from the downstream database to avoid data replication failure due to timeout in retrying executing the DDL statement in some cases #10682 @CharlesCheung96",
          "TiDB Data Migration (DM)\nUpgrade go-mysql to 1.9.1 to support connecting to MySQL server 8.0 using passwords longer than 19 characters #11603 @fishiu",
          "Upgrade go-mysql to 1.9.1 to support connecting to MySQL server 8.0 using passwords longer than 19 characters #11603 @fishiu",
          "TiDB\nFix the issue of inconsistent data indexes caused by concurrent DML operations when adding a unique index #52914 @wjhuang2016\nFix the issue that comparing a column of YEAR type with an unsigned integer that is out of range causes incorrect results #50235 @qw4990\nFix the issue that INDEX_HASH_JOIN cannot exit properly when SQL is abnormally interrupted #54688 @wshwsh12\nFix the issue that the network partition during adding indexes using the Distributed eXecution Framework (DXF) might cause inconsistent data indexes #54897 @tangenta\nFix the issue that using SHOW WARNINGS; to obtain warnings might cause a panic #48756 @xhebox\nFix the issue that querying the INFORMATION_SCHEMA.CLUSTER_SLOW_QUERY table might cause TiDB to panic #54324 @tiancaiamao\nFix the issue of abnormally high memory usage caused by memTracker not being detached when the HashJoin or IndexLookUp operator is the driven side sub-node of the Apply operator #54005 @XuHuaiyu\nFix the issue that recursive CTE queries might result in invalid pointers #54449 @hawkingrei\nFix the issue that an empty projection causes TiDB to panic #49109 @winoros\nFix the issue that TiDB might return incorrect query results when you query tables with virtual columns in transactions that involve data modification operations #53951 @qw4990\nFix the issue that for tables containing auto-increment columns with AUTO_ID_CACHE=1, setting auto_increment_increment and auto_increment_offset system variables to non-default values might cause incorrect auto-increment ID allocation #52622 @tiancaiamao\nFix the issue that subqueries included in the ALL function might cause incorrect results #52755 @hawkingrei\nFix the issue that predicates cannot be pushed down properly when the filter condition of a SQL query contains virtual columns and the execution condition contains UnionScan #54870 @qw4990\nFix the issue that subqueries in an UPDATE list might cause TiDB to panic #52687 @winoros\nFix the issue that indirect placeholder ? references in a GROUP BY statement cannot find columns #53872 @qw4990\nFix the issue that disk files might not be deleted after the Sort operator spills and a query error occurs #55061 @wshwsh12\nFix the issue of reusing wrong point get plans for SELECT ... FOR UPDATE #54652 @qw4990\nFix the issue that max_execute_time settings at multiple levels interfere with each other #50914 @jiyfhust\nFix the issue that the histogram and TopN in the primary key column statistics are not loaded after restarting TiDB #37548 @hawkingrei\nFix the issue that the TopN operator might be pushed down incorrectly #37986 @qw4990\nFix the issue that the performance of the SELECT ... WHERE ... ORDER BY ... statement execution is poor in some cases #54969 @tiancaiamao\nFix the issue that TiDB reports an error in the log when closing the connection in some cases #53689 @jackysp\nFix the issue that the invalid column type DECIMAL(0,0) can be created in some cases #53779 @tangenta\nFix the issue that obtaining the column information using information_schema.columns returns warning 1356 when a subquery is used as a column definition in a view definition #54343 @lance6716\nFix the issue that the optimizer incorrectly estimates the number of rows as 1 when accessing a unique index with the query condition column IS NULL #56116 @hawkingrei\nFix the issue that SELECT INTO OUTFILE does not work when clustered indexes are used as predicates #42093 @qw4990\nFix the issue of incorrect WARNINGS information when using Optimizer Hints #53767 @hawkingrei\nFix the issue that the Sync Load QPS monitoring metric is incorrect #53558 @hawkingrei\nFix the issue that executing CREATE OR REPLACE VIEW concurrently might result in the table doesn't exist error #53673 @tangenta\nFix the issue that restoring a table with AUTO_ID_CACHE=1 using the RESTORE statement might cause a Duplicate entry error #52680 @tiancaiamao\nFix the issue that the SUB_PART value in the INFORMATION_SCHEMA.STATISTICS table is NULL #55812 @Defined2014\nFix the overflow issue of the Longlong type in predicates #45783 @hawkingrei\nFix the issue that incorrect results are returned when the cached execution plans contain the comparison between date types and unix_timestamp #48165 @qw4990\nFix the issue that the LENGTH() condition is unexpectedly removed when the collation is utf8_bin or utf8mb4_bin #53730 @elsa0520\nFix the issue that when an UPDATE or DELETE statement contains a recursive CTE, the statement might report an error or not take effect #55666 @time-and-fate\nFix the issue that TiDB might hang or return incorrect results when executing a query containing a correlated subquery and CTE #55551 @guo-shaoge\nFix the issue that statistics for string columns with non-binary collations might fail to load when initializing statistics #55684 @winoros\nFix the issue that IndexJoin produces duplicate rows when calculating hash values in the Left Outer Anti Semi type #52902 @yibin87\nFix the issue that a query statement that contains UNION might return incorrect results #52985 @XuHuaiyu\nFix the issue that empty groupOffset in StreamAggExec might cause TiDB to panic #53867 @xzhangxian1008\nFix the issue that RANGE partitioned tables that are not strictly self-incrementing can be created #54829 @Defined2014\nFix the issue that the query might get stuck when terminated because the memory usage exceeds the limit set by tidb_mem_quota_query #55042 @yibin87\nFix the issue that the STATE field in the INFORMATION_SCHEMA.TIDB_TRX table is empty due to the size of the STATE field not being defined #53026 @cfzjywxk\nFix the data race issue in IndexNestedLoopHashJoin #49692 @solotzg\nFix the issue that a wrong TableDual plan causes empty query results #50051 @onlyacat\nFix the issue that the tot_col_size column in the mysql.stats_histograms table might be a negative number #55126 @qw4990\nFix the issue that data conversion from the FLOAT type to the UNSIGNED type returns incorrect results #41736 @guo-shaoge\nFix the issue that TiDB fails to reject unauthenticated user connections in some cases when using the auth_socket authentication plugin #54031 @lcwangchao\nFix the issue that the memory_quota hint might not work in subqueries #53834 @qw4990\nFix the issue that the metadata lock fails to prevent DDL operations from executing in the plan cache scenario #51407 @wjhuang2016\nFix the issue that using CURRENT_DATE() as the default value for a column results in incorrect query results #53746 @tangenta\nFix the issue that the COALESCE() function returns incorrect result type for DATE type parameters #46475 @xzhangxian1008\nReset the parameters in the Open method of PipelinedWindow to fix the unexpected error that occurs when the PipelinedWindow is used as a child node of Apply due to the reuse of previous parameter values caused by repeated opening and closing operations #53600 @XuHuaiyu\nFix the incorrect result of the TopN operator in correlated subqueries #52777 @yibin87\nFix the issue that the recursive CTE operator incorrectly tracks memory usage #54181 @guo-shaoge\nFix the issue that an error occurs when using SHOW COLUMNS to view columns in a view #54964 @lance6716\nFix the issue that reducing the value of tidb_ttl_delete_worker_count during TTL job execution makes the job fail to complete #55561 @lcwangchao\nFix the issue that using a view does not work in recursive CTE #49721 @hawkingrei\nFix the issue that TiDB does not create corresponding statistics metadata (stats_meta) when creating a table with foreign keys #53652 @hawkingrei\nFix the issue that the query might return incorrect results instead of an error after being killed #50089 @D3Hunter\nFix the issue that the statistics synchronous loading mechanism might fail unexpectedly under high query concurrency #52294 @hawkingrei\nFix the issue that certain filter conditions in queries might cause the planner module to report an invalid memory address or nil pointer dereference error #53582 #53580 #53594 #53603 @YangKeao\nFix the issue that the TiDB synchronously loading statistics mechanism retries to load empty statistics indefinitely and prints the fail to get stats version for this histogram log #52657 @hawkingrei\nFix the issue that the TIMESTAMPADD() function goes into an infinite loop when the first argument is month and the second argument is negative #54908 @xzhangxian1008\nFix the issue that TiDB might crash when tidb_mem_quota_analyze is enabled and the memory used by updating statistics exceeds the limit #52601 @hawkingrei\nFix the issue that duplicate entry might occur when adding unique indexes #56161 @tangenta\nFix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520\nFix the issue that the Distinct_count information in GlobalStats might be incorrect #53752 @hawkingrei\nFix the issue that executing the SELECT DISTINCT CAST(col AS DECIMAL), CAST(col AS SIGNED) FROM ... query might return incorrect results #53726 @hawkingrei\nFix the issue that the read_from_storage hint might not take effect when the query has an available Index Merge execution plan #56217 @AilinKid\nFix the issue that the TIMESTAMPADD() function returns incorrect results #41052 @xzhangxian1008\nFix the issue that PREPARE/EXECUTE statements with the CONV expression containing a ? argument might result in incorrect query results when executed multiple times #53505 @qw4990\nFix the issue that the memory used by transactions might be tracked multiple times #53984 @ekexium\nFix the issue that column pruning without using shallow copies of slices might cause TiDB to panic #52768 @winoros\nFix the issue that a SQL binding containing window functions might not take effect in some cases #55981 @winoros\nFix the issue that TiDB might panic when parsing index data #47115 @zyguan\nFix the issue that TiDB might report an error due to GC when loading statistics at startup #53592 @you06\nFix the issue that an error occurs when a DML statement contains nested generated columns #53967 @wjhuang2016\nFix the issue that TiDB panics when executing the SHOW ERRORS statement with a predicate that is always true #46962 @elsa0520\nFix the issue that improper use of metadata locks might lead to writing anomalous data when using the plan cache under certain circumstances #53634 @zimulala\nFix the issue of data index inconsistency caused by retries during index addition #55808 @lance6716\nFix the issue that unstable unique IDs of columns might cause the UPDATE statement to return errors #53236 @winoros\nFix the issue that after a statement within a transaction is killed by OOM, if TiDB continues to execute the next statement within the same transaction, you might get an error Trying to start aggressive locking while it's already started and a panic occurs #53540 @MyonKeminta\nFix the issue that executing RECOVER TABLE BY JOB JOB_ID; might cause TiDB to panic #55113 @crazycs520\nFix the issue that executing ADD INDEX might fail after modifying the PD member in the distributed execution framework #48680 @lance6716\nFix the issue that two DDL Owners might exist at the same time #54689 @joccau\nFix the issue that TiDB rolling restart during the execution of ADD INDEX might cause the adding index operation to fail #52805 @tangenta\nFix the issue that the LOAD DATA ... REPLACE INTO operation causes data inconsistency #56408 @fzzf678\nFix the issue that the AUTO_INCREMENT field is not correctly set after importing data using the IMPORT INTO statement #56476 @D3Hunter\nFix the issue that TiDB does not check for the existence of local files before restoring from a checkpoint #53009 @lance6716\nFix the issue that the DM schema tracker cannot create indexes longer than the default length #55138 @lance6716\nFix the issue that ALTER TABLE does not handle the AUTO_INCREMENT field correctly #47899 @D3Hunter\nFix the issue that unreleased session resources might lead to memory leaks #56271 @lance6716\nFix the issue that float or integer overflow affects the plan cache #46538 @hawkingrei\nFix the issue that part of the memory of the IndexLookUp operator is not tracked #56440 @wshwsh12\nFix the issue that stale read does not strictly verify the timestamp of the read operation, resulting in a small probability of affecting the consistency of the transaction when an offset exists between the TSO and the real physical time #56809 @MyonKeminta\nFix the issue that TTL might fail if TiKV is not selected as the storage engine #56402 @YangKeao\nFix the issue that TTL tasks cannot be canceled when there is a write conflict #56422 @YangKeao\nFix the issue that inserting oversized numbers in scientific notation causes an error ERROR 1264 (22003), to make the behavior consistent with MySQL #47787 @lcwangchao\nFix the issue that when canceling a TTL task, the corresponding SQL is not killed forcibly #56511 @lcwangchao\nFix the issue that the INSERT ... ON DUPLICATE KEY statement is not compatible with mysql_insert_id #55965 @tiancaiamao\nFix the issue that audit log filtering does not take effect when SQL cannot build an execution plan #50988 @CbcWestwolf\nFix the issue that existing TTL tasks are executed unexpectedly frequently in a cluster that is upgraded from v6.5 to v7.5 or later #56539 @lcwangchao\nFix the issue that the CAST function does not support explicitly setting the character set #55677 @Defined2014\nFix the issue that TiDB does not check the index length limitation when executing ADD INDEX #56930 @fzzf678",
          "Fix the issue of inconsistent data indexes caused by concurrent DML operations when adding a unique index #52914 @wjhuang2016",
          "Fix the issue that comparing a column of YEAR type with an unsigned integer that is out of range causes incorrect results #50235 @qw4990",
          "Fix the issue that INDEX_HASH_JOIN cannot exit properly when SQL is abnormally interrupted #54688 @wshwsh12",
          "Fix the issue that the network partition during adding indexes using the Distributed eXecution Framework (DXF) might cause inconsistent data indexes #54897 @tangenta",
          "Fix the issue that using SHOW WARNINGS; to obtain warnings might cause a panic #48756 @xhebox",
          "Fix the issue that querying the INFORMATION_SCHEMA.CLUSTER_SLOW_QUERY table might cause TiDB to panic #54324 @tiancaiamao",
          "Fix the issue of abnormally high memory usage caused by memTracker not being detached when the HashJoin or IndexLookUp operator is the driven side sub-node of the Apply operator #54005 @XuHuaiyu",
          "Fix the issue that recursive CTE queries might result in invalid pointers #54449 @hawkingrei",
          "Fix the issue that an empty projection causes TiDB to panic #49109 @winoros",
          "Fix the issue that TiDB might return incorrect query results when you query tables with virtual columns in transactions that involve data modification operations #53951 @qw4990",
          "Fix the issue that for tables containing auto-increment columns with AUTO_ID_CACHE=1, setting auto_increment_increment and auto_increment_offset system variables to non-default values might cause incorrect auto-increment ID allocation #52622 @tiancaiamao",
          "Fix the issue that subqueries included in the ALL function might cause incorrect results #52755 @hawkingrei",
          "Fix the issue that predicates cannot be pushed down properly when the filter condition of a SQL query contains virtual columns and the execution condition contains UnionScan #54870 @qw4990",
          "Fix the issue that subqueries in an UPDATE list might cause TiDB to panic #52687 @winoros",
          "Fix the issue that indirect placeholder ? references in a GROUP BY statement cannot find columns #53872 @qw4990",
          "Fix the issue that disk files might not be deleted after the Sort operator spills and a query error occurs #55061 @wshwsh12",
          "Fix the issue of reusing wrong point get plans for SELECT ... FOR UPDATE #54652 @qw4990",
          "Fix the issue that max_execute_time settings at multiple levels interfere with each other #50914 @jiyfhust",
          "Fix the issue that the histogram and TopN in the primary key column statistics are not loaded after restarting TiDB #37548 @hawkingrei",
          "Fix the issue that the TopN operator might be pushed down incorrectly #37986 @qw4990",
          "Fix the issue that the performance of the SELECT ... WHERE ... ORDER BY ... statement execution is poor in some cases #54969 @tiancaiamao",
          "Fix the issue that TiDB reports an error in the log when closing the connection in some cases #53689 @jackysp",
          "Fix the issue that the invalid column type DECIMAL(0,0) can be created in some cases #53779 @tangenta",
          "Fix the issue that obtaining the column information using information_schema.columns returns warning 1356 when a subquery is used as a column definition in a view definition #54343 @lance6716",
          "Fix the issue that the optimizer incorrectly estimates the number of rows as 1 when accessing a unique index with the query condition column IS NULL #56116 @hawkingrei",
          "Fix the issue that SELECT INTO OUTFILE does not work when clustered indexes are used as predicates #42093 @qw4990",
          "Fix the issue of incorrect WARNINGS information when using Optimizer Hints #53767 @hawkingrei",
          "Fix the issue that the Sync Load QPS monitoring metric is incorrect #53558 @hawkingrei",
          "Fix the issue that executing CREATE OR REPLACE VIEW concurrently might result in the table doesn't exist error #53673 @tangenta",
          "Fix the issue that restoring a table with AUTO_ID_CACHE=1 using the RESTORE statement might cause a Duplicate entry error #52680 @tiancaiamao",
          "Fix the issue that the SUB_PART value in the INFORMATION_SCHEMA.STATISTICS table is NULL #55812 @Defined2014",
          "Fix the overflow issue of the Longlong type in predicates #45783 @hawkingrei",
          "Fix the issue that incorrect results are returned when the cached execution plans contain the comparison between date types and unix_timestamp #48165 @qw4990",
          "Fix the issue that the LENGTH() condition is unexpectedly removed when the collation is utf8_bin or utf8mb4_bin #53730 @elsa0520",
          "Fix the issue that when an UPDATE or DELETE statement contains a recursive CTE, the statement might report an error or not take effect #55666 @time-and-fate",
          "Fix the issue that TiDB might hang or return incorrect results when executing a query containing a correlated subquery and CTE #55551 @guo-shaoge",
          "Fix the issue that statistics for string columns with non-binary collations might fail to load when initializing statistics #55684 @winoros",
          "Fix the issue that IndexJoin produces duplicate rows when calculating hash values in the Left Outer Anti Semi type #52902 @yibin87",
          "Fix the issue that a query statement that contains UNION might return incorrect results #52985 @XuHuaiyu",
          "Fix the issue that empty groupOffset in StreamAggExec might cause TiDB to panic #53867 @xzhangxian1008",
          "Fix the issue that RANGE partitioned tables that are not strictly self-incrementing can be created #54829 @Defined2014",
          "Fix the issue that the query might get stuck when terminated because the memory usage exceeds the limit set by tidb_mem_quota_query #55042 @yibin87",
          "Fix the issue that the STATE field in the INFORMATION_SCHEMA.TIDB_TRX table is empty due to the size of the STATE field not being defined #53026 @cfzjywxk",
          "Fix the data race issue in IndexNestedLoopHashJoin #49692 @solotzg",
          "Fix the issue that a wrong TableDual plan causes empty query results #50051 @onlyacat",
          "Fix the issue that the tot_col_size column in the mysql.stats_histograms table might be a negative number #55126 @qw4990",
          "Fix the issue that data conversion from the FLOAT type to the UNSIGNED type returns incorrect results #41736 @guo-shaoge",
          "Fix the issue that TiDB fails to reject unauthenticated user connections in some cases when using the auth_socket authentication plugin #54031 @lcwangchao",
          "Fix the issue that the memory_quota hint might not work in subqueries #53834 @qw4990",
          "Fix the issue that the metadata lock fails to prevent DDL operations from executing in the plan cache scenario #51407 @wjhuang2016",
          "Fix the issue that using CURRENT_DATE() as the default value for a column results in incorrect query results #53746 @tangenta",
          "Fix the issue that the COALESCE() function returns incorrect result type for DATE type parameters #46475 @xzhangxian1008",
          "Reset the parameters in the Open method of PipelinedWindow to fix the unexpected error that occurs when the PipelinedWindow is used as a child node of Apply due to the reuse of previous parameter values caused by repeated opening and closing operations #53600 @XuHuaiyu",
          "Fix the incorrect result of the TopN operator in correlated subqueries #52777 @yibin87",
          "Fix the issue that the recursive CTE operator incorrectly tracks memory usage #54181 @guo-shaoge",
          "Fix the issue that an error occurs when using SHOW COLUMNS to view columns in a view #54964 @lance6716",
          "Fix the issue that reducing the value of tidb_ttl_delete_worker_count during TTL job execution makes the job fail to complete #55561 @lcwangchao",
          "Fix the issue that using a view does not work in recursive CTE #49721 @hawkingrei",
          "Fix the issue that TiDB does not create corresponding statistics metadata (stats_meta) when creating a table with foreign keys #53652 @hawkingrei",
          "Fix the issue that the query might return incorrect results instead of an error after being killed #50089 @D3Hunter",
          "Fix the issue that the statistics synchronous loading mechanism might fail unexpectedly under high query concurrency #52294 @hawkingrei",
          "Fix the issue that certain filter conditions in queries might cause the planner module to report an invalid memory address or nil pointer dereference error #53582 #53580 #53594 #53603 @YangKeao",
          "Fix the issue that the TiDB synchronously loading statistics mechanism retries to load empty statistics indefinitely and prints the fail to get stats version for this histogram log #52657 @hawkingrei",
          "Fix the issue that the TIMESTAMPADD() function goes into an infinite loop when the first argument is month and the second argument is negative #54908 @xzhangxian1008",
          "Fix the issue that TiDB might crash when tidb_mem_quota_analyze is enabled and the memory used by updating statistics exceeds the limit #52601 @hawkingrei",
          "Fix the issue that duplicate entry might occur when adding unique indexes #56161 @tangenta",
          "Fix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520",
          "Fix the issue that the Distinct_count information in GlobalStats might be incorrect #53752 @hawkingrei",
          "Fix the issue that executing the SELECT DISTINCT CAST(col AS DECIMAL), CAST(col AS SIGNED) FROM ... query might return incorrect results #53726 @hawkingrei",
          "Fix the issue that the read_from_storage hint might not take effect when the query has an available Index Merge execution plan #56217 @AilinKid",
          "Fix the issue that the TIMESTAMPADD() function returns incorrect results #41052 @xzhangxian1008",
          "Fix the issue that PREPARE/EXECUTE statements with the CONV expression containing a ? argument might result in incorrect query results when executed multiple times #53505 @qw4990",
          "Fix the issue that the memory used by transactions might be tracked multiple times #53984 @ekexium",
          "Fix the issue that column pruning without using shallow copies of slices might cause TiDB to panic #52768 @winoros",
          "Fix the issue that a SQL binding containing window functions might not take effect in some cases #55981 @winoros",
          "Fix the issue that TiDB might panic when parsing index data #47115 @zyguan",
          "Fix the issue that TiDB might report an error due to GC when loading statistics at startup #53592 @you06",
          "Fix the issue that an error occurs when a DML statement contains nested generated columns #53967 @wjhuang2016",
          "Fix the issue that TiDB panics when executing the SHOW ERRORS statement with a predicate that is always true #46962 @elsa0520",
          "Fix the issue that improper use of metadata locks might lead to writing anomalous data when using the plan cache under certain circumstances #53634 @zimulala",
          "Fix the issue of data index inconsistency caused by retries during index addition #55808 @lance6716",
          "Fix the issue that unstable unique IDs of columns might cause the UPDATE statement to return errors #53236 @winoros",
          "Fix the issue that after a statement within a transaction is killed by OOM, if TiDB continues to execute the next statement within the same transaction, you might get an error Trying to start aggressive locking while it's already started and a panic occurs #53540 @MyonKeminta",
          "Fix the issue that executing RECOVER TABLE BY JOB JOB_ID; might cause TiDB to panic #55113 @crazycs520",
          "Fix the issue that executing ADD INDEX might fail after modifying the PD member in the distributed execution framework #48680 @lance6716",
          "Fix the issue that two DDL Owners might exist at the same time #54689 @joccau",
          "Fix the issue that TiDB rolling restart during the execution of ADD INDEX might cause the adding index operation to fail #52805 @tangenta",
          "Fix the issue that the LOAD DATA ... REPLACE INTO operation causes data inconsistency #56408 @fzzf678",
          "Fix the issue that the AUTO_INCREMENT field is not correctly set after importing data using the IMPORT INTO statement #56476 @D3Hunter",
          "Fix the issue that TiDB does not check for the existence of local files before restoring from a checkpoint #53009 @lance6716",
          "Fix the issue that the DM schema tracker cannot create indexes longer than the default length #55138 @lance6716",
          "Fix the issue that ALTER TABLE does not handle the AUTO_INCREMENT field correctly #47899 @D3Hunter",
          "Fix the issue that unreleased session resources might lead to memory leaks #56271 @lance6716",
          "Fix the issue that float or integer overflow affects the plan cache #46538 @hawkingrei",
          "Fix the issue that part of the memory of the IndexLookUp operator is not tracked #56440 @wshwsh12",
          "Fix the issue that stale read does not strictly verify the timestamp of the read operation, resulting in a small probability of affecting the consistency of the transaction when an offset exists between the TSO and the real physical time #56809 @MyonKeminta",
          "Fix the issue that TTL might fail if TiKV is not selected as the storage engine #56402 @YangKeao",
          "Fix the issue that TTL tasks cannot be canceled when there is a write conflict #56422 @YangKeao",
          "Fix the issue that inserting oversized numbers in scientific notation causes an error ERROR 1264 (22003), to make the behavior consistent with MySQL #47787 @lcwangchao",
          "Fix the issue that when canceling a TTL task, the corresponding SQL is not killed forcibly #56511 @lcwangchao",
          "Fix the issue that the INSERT ... ON DUPLICATE KEY statement is not compatible with mysql_insert_id #55965 @tiancaiamao",
          "Fix the issue that audit log filtering does not take effect when SQL cannot build an execution plan #50988 @CbcWestwolf",
          "Fix the issue that existing TTL tasks are executed unexpectedly frequently in a cluster that is upgraded from v6.5 to v7.5 or later #56539 @lcwangchao",
          "Fix the issue that the CAST function does not support explicitly setting the character set #55677 @Defined2014",
          "Fix the issue that TiDB does not check the index length limitation when executing ADD INDEX #56930 @fzzf678",
          "TiKV\nAdd the RawKvMaxTimestampNotSynced error, log detailed error information in errorpb.Error.max_ts_not_synced, and add a retry mechanism for the must_raw_put operation when this error occurs #16789 @pingyu\nFix a traffic control issue that might occur after deleting large tables or partitions #17304 @SpadeA-Tang\nFix the panic issue that occurs when read threads access outdated indexes in the MemTable of the Raft Engine #17383 @LykxSassinator\nFix the issue that CDC and log-backup do not limit the timeout of check_leader using the advance-ts-interval configuration, causing the resolved_ts lag to be too large when TiKV restarts normally in some cases #17107 @SpadeA-Tang\nFix the issue that SST files imported by TiDB Lightning are lost after TiKV is restarted #15912 @lance6716\nFix the issue that TiKV might panic due to ingesting deleted sst_importer SST files #15053 @lance6716\nFix the issue that when there are a large number of Regions in a TiKV instance, TiKV might be OOM during data import #16229 @SpadeA-Tang\nFix the issue that bloom filters are incompatible between earlier versions (earlier than v7.1) and later versions #17272 @v01dstar\nFix the issue that setting the gRPC message compression method via grpc-compression-type does not take effect on messages sent from TiKV to TiDB #17176 @ekexium\nFix the issue of unstable test cases, ensuring that each test uses an independent temporary directory to avoid online configuration changes affecting other test cases #16871 @glorv\nFix the issue that when a large number of transactions are queuing for lock release on the same key and the key is frequently updated, excessive pressure on deadlock detection might cause TiKV OOM issues #17394 @MyonKeminta\nFix the issue that the decimal part of the DECIMAL type is incorrect in some cases #16913 @gengliqi\nFix the issue that the CONV() function in queries might overflow during numeric system conversion, leading to TiKV panic #16969 @gengliqi\nFix the issue that TiKV might panic when a stale replica processes Raft snapshots, triggered by a slow split operation and immediate removal of the new replica #17469 @hbisheng\nFix the issue that highly concurrent Coprocessor requests might cause TiKV OOM #16653 @overvenus\nFix the issue that prevents master key rotation when the master key is stored in a Key Management Service (KMS) #17410 @hhwyt\nFix the issue that the output of the raft region command in tikv-ctl does not include the Region status information #17037 @glorv\nFix the issue that the Storage async write duration monitoring metric on the TiKV panel in Grafana is inaccurate #17579 @overvenus\nFix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus",
          "Add the RawKvMaxTimestampNotSynced error, log detailed error information in errorpb.Error.max_ts_not_synced, and add a retry mechanism for the must_raw_put operation when this error occurs #16789 @pingyu",
          "Fix a traffic control issue that might occur after deleting large tables or partitions #17304 @SpadeA-Tang",
          "Fix the panic issue that occurs when read threads access outdated indexes in the MemTable of the Raft Engine #17383 @LykxSassinator",
          "Fix the issue that CDC and log-backup do not limit the timeout of check_leader using the advance-ts-interval configuration, causing the resolved_ts lag to be too large when TiKV restarts normally in some cases #17107 @SpadeA-Tang",
          "Fix the issue that SST files imported by TiDB Lightning are lost after TiKV is restarted #15912 @lance6716",
          "Fix the issue that TiKV might panic due to ingesting deleted sst_importer SST files #15053 @lance6716",
          "Fix the issue that when there are a large number of Regions in a TiKV instance, TiKV might be OOM during data import #16229 @SpadeA-Tang",
          "Fix the issue that bloom filters are incompatible between earlier versions (earlier than v7.1) and later versions #17272 @v01dstar",
          "Fix the issue that setting the gRPC message compression method via grpc-compression-type does not take effect on messages sent from TiKV to TiDB #17176 @ekexium",
          "Fix the issue of unstable test cases, ensuring that each test uses an independent temporary directory to avoid online configuration changes affecting other test cases #16871 @glorv",
          "Fix the issue that when a large number of transactions are queuing for lock release on the same key and the key is frequently updated, excessive pressure on deadlock detection might cause TiKV OOM issues #17394 @MyonKeminta",
          "Fix the issue that the decimal part of the DECIMAL type is incorrect in some cases #16913 @gengliqi",
          "Fix the issue that the CONV() function in queries might overflow during numeric system conversion, leading to TiKV panic #16969 @gengliqi",
          "Fix the issue that TiKV might panic when a stale replica processes Raft snapshots, triggered by a slow split operation and immediate removal of the new replica #17469 @hbisheng",
          "Fix the issue that highly concurrent Coprocessor requests might cause TiKV OOM #16653 @overvenus",
          "Fix the issue that prevents master key rotation when the master key is stored in a Key Management Service (KMS) #17410 @hhwyt",
          "Fix the issue that the output of the raft region command in tikv-ctl does not include the Region status information #17037 @glorv",
          "Fix the issue that the Storage async write duration monitoring metric on the TiKV panel in Grafana is inaccurate #17579 @overvenus",
          "Fix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus",
          "PD\nFix the memory leak issue in label statistics #8700 @lhy1024\nFix the issue that resource groups print excessive logs #8159 @nolouch\nFix the performance jitter issue caused by frequent creation of random number generator #8674 @rleungx\nFix the memory leak issue in Region statistics #8710 @rleungx\nFix the memory leak issue in hotspot cache #8698 @lhy1024\nFix the issue that evict-leader-scheduler fails to work properly when it is repeatedly created with the same Store ID #8756 @okJiang\nFix the issue that setting replication.strictly-match-label to true causes TiFlash to fail to start #8480 @rleungx\nFix the issue that changing the log level via the configuration file does not take effect #8117 @rleungx\nFix the issue that resource groups could not effectively limit resource usage under high concurrency #8435 @nolouch\nFix the data race issue that PD encounters during operator checks #8263 @lhy1024\nFix the issue that a resource group encounters quota limits when requesting tokens for more than 500 ms #8349 @nolouch\nFix the issue that some logs are not redacted #8419 @rleungx\nFix the issue that no error is reported when binding a role to a resource group #54417 @JmPotato\nFix the issue that PD's Region API cannot be requested when a large number of Regions exist #55872 @rleungx\nFix the issue that a large number of retries occur when canceling resource groups queries #8217 @nolouch\nFix the issue that the encryption manager is not initialized before use #8384 @rleungx\nFix the issue that the Filter target monitoring metric for PD does not provide scatter range information #8125 @HuSharp\nFix the data race issue of resource groups #8267 @HuSharp\nFix the issue that setting the TiKV configuration item coprocessor.region-split-size to a value less than 1 MiB causes PD panic #8323 @JmPotato\nFix the issue that when using a wrong parameter in evict-leader-scheduler, PD does not report errors correctly and some schedulers are unavailable #8619 @rleungx\nFix the issue that slots are not fully deleted in a resource group client, which causes the number of the allocated tokens to be less than the specified value #7346 @guo-shaoge\nFix the issue that down peers might not recover when using Placement Rules #7808 @rleungx",
          "Fix the memory leak issue in label statistics #8700 @lhy1024",
          "Fix the issue that resource groups print excessive logs #8159 @nolouch",
          "Fix the performance jitter issue caused by frequent creation of random number generator #8674 @rleungx",
          "Fix the memory leak issue in Region statistics #8710 @rleungx",
          "Fix the memory leak issue in hotspot cache #8698 @lhy1024",
          "Fix the issue that evict-leader-scheduler fails to work properly when it is repeatedly created with the same Store ID #8756 @okJiang",
          "Fix the issue that setting replication.strictly-match-label to true causes TiFlash to fail to start #8480 @rleungx",
          "Fix the issue that changing the log level via the configuration file does not take effect #8117 @rleungx",
          "Fix the issue that resource groups could not effectively limit resource usage under high concurrency #8435 @nolouch",
          "Fix the data race issue that PD encounters during operator checks #8263 @lhy1024",
          "Fix the issue that a resource group encounters quota limits when requesting tokens for more than 500 ms #8349 @nolouch",
          "Fix the issue that some logs are not redacted #8419 @rleungx",
          "Fix the issue that no error is reported when binding a role to a resource group #54417 @JmPotato",
          "Fix the issue that PD's Region API cannot be requested when a large number of Regions exist #55872 @rleungx",
          "Fix the issue that a large number of retries occur when canceling resource groups queries #8217 @nolouch",
          "Fix the issue that the encryption manager is not initialized before use #8384 @rleungx",
          "Fix the issue that the Filter target monitoring metric for PD does not provide scatter range information #8125 @HuSharp",
          "Fix the data race issue of resource groups #8267 @HuSharp",
          "Fix the issue that setting the TiKV configuration item coprocessor.region-split-size to a value less than 1 MiB causes PD panic #8323 @JmPotato",
          "Fix the issue that when using a wrong parameter in evict-leader-scheduler, PD does not report errors correctly and some schedulers are unavailable #8619 @rleungx",
          "Fix the issue that slots are not fully deleted in a resource group client, which causes the number of the allocated tokens to be less than the specified value #7346 @guo-shaoge",
          "Fix the issue that down peers might not recover when using Placement Rules #7808 @rleungx",
          "TiFlash\nFix the issue that TiFlash metadata might become corrupted and cause the process to panic when upgrading a cluster from a version earlier than v6.5.0 to v6.5.0 or later #9039 @JaySon-Huang\nFix the issue that some queries might report a column type mismatch error after late materialization is enabled #9175 @JinheLin\nFix the issue that some queries might report errors when late materialization is enabled #9472 @Lloyd-Pottiger\nFix the issue that some JSON functions unsupported by TiFlash are pushed down to TiFlash #9444 @windtalker\nFix the issue that setting the SSL certificate configuration to an empty string in TiFlash incorrectly enables TLS and causes TiFlash to fail to start #9235 @JaySon-Huang\nFix the issue that a network partition (network disconnection) between TiFlash and any PD might cause read request timeout errors #9243 @Lloyd-Pottiger\nFix the issue that a large number of duplicate rows might be read in FastScan mode after importing data via BR or TiDB Lightning #9118 @JinheLin\nFix the issue that TiFlash fails to parse the table schema when the table contains Bit-type columns with a default value that contains invalid characters #9461 @Lloyd-Pottiger\nFix the issue that queries with virtual generated columns might return incorrect results after late materialization is enabled #9188 @JinheLin\nFix the issue that TiFlash might fail to synchronize schemas after executing ALTER TABLE ... EXCHANGE PARTITION across databases #7296 @JaySon-Huang\nFix the issue that TiFlash might panic when a database is deleted shortly after creation #9266 @JaySon-Huang\nFix the issue that when using the CAST() function to convert a string to a datetime with a time zone or invalid characters, the result is incorrect #8754 @solotzg\nFix the issue that TiFlash might return transiently incorrect results in high-concurrency read scenarios #8845 @JinheLin\nFix the issue that the SUBSTRING_INDEX() function might cause TiFlash to crash in some corner cases #9116 @wshwsh12\nFix the issue that frequent EXCHANGE PARTITION and DROP TABLE operations over a long period in a cluster might slow down the replication of TiFlash table metadata and degrade the query performance #9227 @JaySon-Huang\nFix the issue that a query with an empty key range fails to correctly generate read tasks on TiFlash, which might block TiFlash queries #9108 @JinheLin\nFix the issue that the sign in the result of the CAST AS DECIMAL function is incorrect in certain cases #9301 @guo-shaoge\nFix the issue that the SUBSTRING() function does not support the pos and len arguments for certain integer types, causing query errors #9473 @gengliqi\nFix the issue that executing DROP TABLE on large tables might cause TiFlash OOM #9437 @JaySon-Huang",
          "Fix the issue that TiFlash metadata might become corrupted and cause the process to panic when upgrading a cluster from a version earlier than v6.5.0 to v6.5.0 or later #9039 @JaySon-Huang",
          "Fix the issue that some queries might report a column type mismatch error after late materialization is enabled #9175 @JinheLin",
          "Fix the issue that some queries might report errors when late materialization is enabled #9472 @Lloyd-Pottiger",
          "Fix the issue that some JSON functions unsupported by TiFlash are pushed down to TiFlash #9444 @windtalker",
          "Fix the issue that setting the SSL certificate configuration to an empty string in TiFlash incorrectly enables TLS and causes TiFlash to fail to start #9235 @JaySon-Huang",
          "Fix the issue that a network partition (network disconnection) between TiFlash and any PD might cause read request timeout errors #9243 @Lloyd-Pottiger",
          "Fix the issue that a large number of duplicate rows might be read in FastScan mode after importing data via BR or TiDB Lightning #9118 @JinheLin",
          "Fix the issue that TiFlash fails to parse the table schema when the table contains Bit-type columns with a default value that contains invalid characters #9461 @Lloyd-Pottiger",
          "Fix the issue that queries with virtual generated columns might return incorrect results after late materialization is enabled #9188 @JinheLin",
          "Fix the issue that TiFlash might fail to synchronize schemas after executing ALTER TABLE ... EXCHANGE PARTITION across databases #7296 @JaySon-Huang",
          "Fix the issue that TiFlash might panic when a database is deleted shortly after creation #9266 @JaySon-Huang",
          "Fix the issue that when using the CAST() function to convert a string to a datetime with a time zone or invalid characters, the result is incorrect #8754 @solotzg",
          "Fix the issue that TiFlash might return transiently incorrect results in high-concurrency read scenarios #8845 @JinheLin",
          "Fix the issue that the SUBSTRING_INDEX() function might cause TiFlash to crash in some corner cases #9116 @wshwsh12",
          "Fix the issue that frequent EXCHANGE PARTITION and DROP TABLE operations over a long period in a cluster might slow down the replication of TiFlash table metadata and degrade the query performance #9227 @JaySon-Huang",
          "Fix the issue that a query with an empty key range fails to correctly generate read tasks on TiFlash, which might block TiFlash queries #9108 @JinheLin",
          "Fix the issue that the sign in the result of the CAST AS DECIMAL function is incorrect in certain cases #9301 @guo-shaoge",
          "Fix the issue that the SUBSTRING() function does not support the pos and len arguments for certain integer types, causing query errors #9473 @gengliqi",
          "Fix the issue that executing DROP TABLE on large tables might cause TiFlash OOM #9437 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nFix the issue that BR integration test cases are unstable, and add a new test case to simulate snapshot or log backup file corruption #53835 @Leavrth\nFix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer\nFix the issue that after a log backup PITR task fails and you stop it, the safepoints related to that task are not properly cleared in PD #17316 @Leavrth\nFix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR\nFix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer\nFix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth\nFix the issue that BR logs might print sensitive credential information when log backup is enabled #55273 @RidRisR\nFix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR\nFix the issue that TiKV might panic when resuming a paused log backup task with unstable network connections to PD #17020 @YuJuncen\nFix the issue that backup tasks might get stuck if TiKV becomes unresponsive during the backup process #53480 @Leavrth\nFix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth\nFix the issue that the Region fetched from PD does not have a Leader when restoring data using BR or importing data using TiDB Lightning in physical import mode #51124 #50501 @Leavrth\nFix the issue that the transfer of PD leaders might cause BR to panic when restoring data #53724 @Leavrth\nFix the issue that after pausing, stopping, and rebuilding the log backup task, the task status is normal, but the checkpoint does not advance #53047 @RidRisR\nFix the issue that log backups cannot resolve residual locks promptly, causing the checkpoint to fail to advance #57134 @3pointer\nTiCDC\nFix the issue that the default value of TIMEZONE type is not set according to the correct time zone #10931 @3AceShowHand\nFix the issue that TiCDC might panic when the Sorter module reads disk data #10853 @hicqu\nFix the issue that data inconsistency might occur when restarting Changefeed repeatedly when performing a large number of UPDATE operations in a multi-node environment #11219 @lidezhu\nFix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96\nFix the issue that DROP PRIMARY KEY and DROP UNIQUE KEY statements are not replicated correctly #10890 @asddongmen\nFix the issue that the Processor module might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen\nTiDB Data Migration (DM)\nFix the issue that DM does not set the default database when processing the ALTER DATABASE statement, which causes a replication error #11503 @lance6716\nFix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD\nFix the connection blocking issue by upgrading go-mysql #11041 @D3Hunter\nFix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng\nFix the issue that DM returns an error when replicating the ALTER TABLE ... DROP PARTITION statement for LIST partitioned tables #54760 @lance6716\nTiDB Lightning\nFix the issue that TiDB Lightning fails to receive oversized messages sent from TiKV #56114 @fishiu\nFix the issue that TiKV data might be corrupted when importing data after disabling the import mode of TiDB Lightning #15003 #47694 @lance6716\nFix the issue that transaction conflicts occur during data import using TiDB Lightning #49826 @lance6716\nFix the issue that TiDB Lightning might fail to import data when EBS BR is running #49517 @mittalrishabh\nFix the issue that TiDB Lightning reports a verify allocator base failed error when two instances simultaneously start parallel import tasks and are assigned the same task ID #55384 @ei-sugimoto\nFix the issue that killing the PD Leader causes TiDB Lightning to report the invalid store ID 0 error during data import #50501 @Leavrth\nDumpling\nFix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta\nTiDB Binlog\nFix the issue that deleting rows during the execution of ADD COLUMN might report an error data and columnID count not match when TiDB Binlog is enabled #53133 @tangenta",
          "Backup & Restore (BR)\nFix the issue that BR integration test cases are unstable, and add a new test case to simulate snapshot or log backup file corruption #53835 @Leavrth\nFix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer\nFix the issue that after a log backup PITR task fails and you stop it, the safepoints related to that task are not properly cleared in PD #17316 @Leavrth\nFix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR\nFix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer\nFix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth\nFix the issue that BR logs might print sensitive credential information when log backup is enabled #55273 @RidRisR\nFix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR\nFix the issue that TiKV might panic when resuming a paused log backup task with unstable network connections to PD #17020 @YuJuncen\nFix the issue that backup tasks might get stuck if TiKV becomes unresponsive during the backup process #53480 @Leavrth\nFix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth\nFix the issue that the Region fetched from PD does not have a Leader when restoring data using BR or importing data using TiDB Lightning in physical import mode #51124 #50501 @Leavrth\nFix the issue that the transfer of PD leaders might cause BR to panic when restoring data #53724 @Leavrth\nFix the issue that after pausing, stopping, and rebuilding the log backup task, the task status is normal, but the checkpoint does not advance #53047 @RidRisR\nFix the issue that log backups cannot resolve residual locks promptly, causing the checkpoint to fail to advance #57134 @3pointer",
          "Fix the issue that BR integration test cases are unstable, and add a new test case to simulate snapshot or log backup file corruption #53835 @Leavrth",
          "Fix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer",
          "Fix the issue that after a log backup PITR task fails and you stop it, the safepoints related to that task are not properly cleared in PD #17316 @Leavrth",
          "Fix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR",
          "Fix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer",
          "Fix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth",
          "Fix the issue that BR logs might print sensitive credential information when log backup is enabled #55273 @RidRisR",
          "Fix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR",
          "Fix the issue that TiKV might panic when resuming a paused log backup task with unstable network connections to PD #17020 @YuJuncen",
          "Fix the issue that backup tasks might get stuck if TiKV becomes unresponsive during the backup process #53480 @Leavrth",
          "Fix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth",
          "Fix the issue that the Region fetched from PD does not have a Leader when restoring data using BR or importing data using TiDB Lightning in physical import mode #51124 #50501 @Leavrth",
          "Fix the issue that the transfer of PD leaders might cause BR to panic when restoring data #53724 @Leavrth",
          "Fix the issue that after pausing, stopping, and rebuilding the log backup task, the task status is normal, but the checkpoint does not advance #53047 @RidRisR",
          "Fix the issue that log backups cannot resolve residual locks promptly, causing the checkpoint to fail to advance #57134 @3pointer",
          "TiCDC\nFix the issue that the default value of TIMEZONE type is not set according to the correct time zone #10931 @3AceShowHand\nFix the issue that TiCDC might panic when the Sorter module reads disk data #10853 @hicqu\nFix the issue that data inconsistency might occur when restarting Changefeed repeatedly when performing a large number of UPDATE operations in a multi-node environment #11219 @lidezhu\nFix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96\nFix the issue that DROP PRIMARY KEY and DROP UNIQUE KEY statements are not replicated correctly #10890 @asddongmen\nFix the issue that the Processor module might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen",
          "Fix the issue that the default value of TIMEZONE type is not set according to the correct time zone #10931 @3AceShowHand",
          "Fix the issue that TiCDC might panic when the Sorter module reads disk data #10853 @hicqu",
          "Fix the issue that data inconsistency might occur when restarting Changefeed repeatedly when performing a large number of UPDATE operations in a multi-node environment #11219 @lidezhu",
          "Fix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96",
          "Fix the issue that DROP PRIMARY KEY and DROP UNIQUE KEY statements are not replicated correctly #10890 @asddongmen",
          "Fix the issue that the Processor module might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen",
          "TiDB Data Migration (DM)\nFix the issue that DM does not set the default database when processing the ALTER DATABASE statement, which causes a replication error #11503 @lance6716\nFix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD\nFix the connection blocking issue by upgrading go-mysql #11041 @D3Hunter\nFix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng\nFix the issue that DM returns an error when replicating the ALTER TABLE ... DROP PARTITION statement for LIST partitioned tables #54760 @lance6716",
          "Fix the issue that DM does not set the default database when processing the ALTER DATABASE statement, which causes a replication error #11503 @lance6716",
          "Fix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD",
          "Fix the connection blocking issue by upgrading go-mysql #11041 @D3Hunter",
          "Fix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng",
          "Fix the issue that DM returns an error when replicating the ALTER TABLE ... DROP PARTITION statement for LIST partitioned tables #54760 @lance6716",
          "TiDB Lightning\nFix the issue that TiDB Lightning fails to receive oversized messages sent from TiKV #56114 @fishiu\nFix the issue that TiKV data might be corrupted when importing data after disabling the import mode of TiDB Lightning #15003 #47694 @lance6716\nFix the issue that transaction conflicts occur during data import using TiDB Lightning #49826 @lance6716\nFix the issue that TiDB Lightning might fail to import data when EBS BR is running #49517 @mittalrishabh\nFix the issue that TiDB Lightning reports a verify allocator base failed error when two instances simultaneously start parallel import tasks and are assigned the same task ID #55384 @ei-sugimoto\nFix the issue that killing the PD Leader causes TiDB Lightning to report the invalid store ID 0 error during data import #50501 @Leavrth",
          "Fix the issue that TiDB Lightning fails to receive oversized messages sent from TiKV #56114 @fishiu",
          "Fix the issue that TiKV data might be corrupted when importing data after disabling the import mode of TiDB Lightning #15003 #47694 @lance6716",
          "Fix the issue that transaction conflicts occur during data import using TiDB Lightning #49826 @lance6716",
          "Fix the issue that TiDB Lightning might fail to import data when EBS BR is running #49517 @mittalrishabh",
          "Fix the issue that TiDB Lightning reports a verify allocator base failed error when two instances simultaneously start parallel import tasks and are assigned the same task ID #55384 @ei-sugimoto",
          "Fix the issue that killing the PD Leader causes TiDB Lightning to report the invalid store ID 0 error during data import #50501 @Leavrth",
          "Dumpling\nFix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta",
          "Fix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta",
          "TiDB Binlog\nFix the issue that deleting rows during the execution of ADD COLUMN might report an error data and columnID count not match when TiDB Binlog is enabled #53133 @tangenta",
          "Fix the issue that deleting rows during the execution of ADD COLUMN might report an error data and columnID count not match when TiDB Binlog is enabled #53133 @tangenta"
        ]
      },
      {
        "version": "7.1.5",
        "date": "2024-04-26",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.1.5/",
        "changes": [
          "TiDB\nSupport loading Regions in batch from PD to speed up the conversion process from the KV range to Regions when querying large tables #51326 @SeaRise\nOptimize the issue that the ANALYZE statement blocks the metadata lock #47475 @wjhuang2016\nAdd a timeout mechanism for LDAP authentication to avoid the issue of resource lock (RLock) not being released in time #51883 @YangKeao",
          "Support loading Regions in batch from PD to speed up the conversion process from the KV range to Regions when querying large tables #51326 @SeaRise",
          "Optimize the issue that the ANALYZE statement blocks the metadata lock #47475 @wjhuang2016",
          "Add a timeout mechanism for LDAP authentication to avoid the issue of resource lock (RLock) not being released in time #51883 @YangKeao",
          "TiKV\nAdd slow logs for peer and store messages #16600 @Connor1996\nAvoid performing IO operations on snapshot files in raftstore threads to improve TiKV stability #16564 @Connor1996",
          "Add slow logs for peer and store messages #16600 @Connor1996",
          "Avoid performing IO operations on snapshot files in raftstore threads to improve TiKV stability #16564 @Connor1996",
          "PD\nUpgrade the etcd version to v3.4.30 #7904 @JmPotato",
          "Upgrade the etcd version to v3.4.30 #7904 @JmPotato",
          "Tools\nBackup & Restore (BR)\nSupport automatically abandoning log backup tasks when encountering a large checkpoint lag, to avoid prolonged blocking GC and potential cluster issues #50803 @RidRisR\nAdd PITR integration test cases to cover compatibility testing for log backup and adding index acceleration #51987 @Leavrth\nRemove the invalid verification for active DDL jobs when log backup starts #52733 @Leavrth",
          "Backup & Restore (BR)\nSupport automatically abandoning log backup tasks when encountering a large checkpoint lag, to avoid prolonged blocking GC and potential cluster issues #50803 @RidRisR\nAdd PITR integration test cases to cover compatibility testing for log backup and adding index acceleration #51987 @Leavrth\nRemove the invalid verification for active DDL jobs when log backup starts #52733 @Leavrth",
          "Support automatically abandoning log backup tasks when encountering a large checkpoint lag, to avoid prolonged blocking GC and potential cluster issues #50803 @RidRisR",
          "Add PITR integration test cases to cover compatibility testing for log backup and adding index acceleration #51987 @Leavrth",
          "Remove the invalid verification for active DDL jobs when log backup starts #52733 @Leavrth",
          "TiDB\nFix the issue that querying JSON of BINARY type might cause an error in some cases #51547 @YangKeao\nFix the issue that query execution using MPP might lead to incorrect query results when a SQL statement contains JOIN and the SELECT list in the statement contains only constants #50358 @yibin87\nFix the issue that the init-stats process might cause TiDB to panic and the load stats process to quit #51581 @hawkingrei\nFix the issue that the TiDB server is marked as health before the initialization is complete #51596 @shenqidebaozi\nFix the issue that ALTER TABLE ... COMPACT TIFLASH REPLICA might incorrectly end when the primary key type is VARCHAR #51810 @breezewish\nFix the issue that TiDB crashes when shuffleExec quits unexpectedly #48230 @wshwsh12\nFix the issue that the SURVIVAL_PREFERENCES attribute might not appear in the output of the SHOW CREATE PLACEMENT POLICY statement under certain conditions #51699 @lcwangchao\nFix the issue that after the time window for automatic statistics updates is configured, statistics might still be updated outside that time window #49552 @hawkingrei\nFix the issue that query results might be incorrect when the HAVING clause in a subquery contains correlated columns #51107 @hawkingrei\nFix the issue that the approx_percentile function might cause TiDB panic #40463 @xzhangxian1008\nFix the issue that the query result is incorrect when the IN() predicate contains NULL #51560 @winoros\nFix the issue that the configuration file does not take effect when it contains an invalid configuration item #51399 @Defined2014\nFix the issue that EXCHANGE PARTITION incorrectly processes foreign keys #51807 @YangKeao\nFix the issue that querying the TIDB_HOT_REGIONS table might incorrectly return INFORMATION_SCHEMA tables #50810 @Defined2014\nFix the issue that the type returned by the IFNULL function is inconsistent with MySQL #51765 @YangKeao\nFix the issue that the TTL feature causes data hotspots due to incorrect data range splitting in some cases #51527 @lcwangchao\nFix the issue that TiDB keeps sending probe requests to a TiFlash node that has been offline #46602 @zyguan\nFix the issue that AutoID Leader change might cause the value of the auto-increment column to decrease in the case of AUTO_ID_CACHE=1 #52600 @tiancaiamao\nFix the issue that executing INSERT IGNORE might result in inconsistency between the unique index and the data #51784 @wjhuang2016\nFix the issue that adding a unique index might cause TiDB to panic #52312 @wjhuang2016\nFix the issue that the Window function might panic when there is a related subquery in it #42734 @hi-rustin\nFix the issue that the init-stats process might cause TiDB to panic and the load stats process to quit #51581 @hawkingrei\nFix the performance regression issue caused by disabling predicate pushdown in TableDual #50614 @time-and-fate\nFix the issue that query results might be incorrect when the HAVING clause in a subquery contains correlated columns #51107 @hawkingrei\nFix the issue that the EXPLAIN statement might display incorrect column IDs in the result when statistics for certain columns are not fully loaded #52207 @time-and-fate",
          "Fix the issue that querying JSON of BINARY type might cause an error in some cases #51547 @YangKeao",
          "Fix the issue that query execution using MPP might lead to incorrect query results when a SQL statement contains JOIN and the SELECT list in the statement contains only constants #50358 @yibin87",
          "Fix the issue that the init-stats process might cause TiDB to panic and the load stats process to quit #51581 @hawkingrei",
          "Fix the issue that the TiDB server is marked as health before the initialization is complete #51596 @shenqidebaozi",
          "Fix the issue that ALTER TABLE ... COMPACT TIFLASH REPLICA might incorrectly end when the primary key type is VARCHAR #51810 @breezewish",
          "Fix the issue that TiDB crashes when shuffleExec quits unexpectedly #48230 @wshwsh12",
          "Fix the issue that the SURVIVAL_PREFERENCES attribute might not appear in the output of the SHOW CREATE PLACEMENT POLICY statement under certain conditions #51699 @lcwangchao",
          "Fix the issue that after the time window for automatic statistics updates is configured, statistics might still be updated outside that time window #49552 @hawkingrei",
          "Fix the issue that query results might be incorrect when the HAVING clause in a subquery contains correlated columns #51107 @hawkingrei",
          "Fix the issue that the approx_percentile function might cause TiDB panic #40463 @xzhangxian1008",
          "Fix the issue that the query result is incorrect when the IN() predicate contains NULL #51560 @winoros",
          "Fix the issue that the configuration file does not take effect when it contains an invalid configuration item #51399 @Defined2014",
          "Fix the issue that EXCHANGE PARTITION incorrectly processes foreign keys #51807 @YangKeao",
          "Fix the issue that querying the TIDB_HOT_REGIONS table might incorrectly return INFORMATION_SCHEMA tables #50810 @Defined2014",
          "Fix the issue that the type returned by the IFNULL function is inconsistent with MySQL #51765 @YangKeao",
          "Fix the issue that the TTL feature causes data hotspots due to incorrect data range splitting in some cases #51527 @lcwangchao",
          "Fix the issue that TiDB keeps sending probe requests to a TiFlash node that has been offline #46602 @zyguan",
          "Fix the issue that AutoID Leader change might cause the value of the auto-increment column to decrease in the case of AUTO_ID_CACHE=1 #52600 @tiancaiamao",
          "Fix the issue that executing INSERT IGNORE might result in inconsistency between the unique index and the data #51784 @wjhuang2016",
          "Fix the issue that adding a unique index might cause TiDB to panic #52312 @wjhuang2016",
          "Fix the issue that the Window function might panic when there is a related subquery in it #42734 @hi-rustin",
          "Fix the issue that the init-stats process might cause TiDB to panic and the load stats process to quit #51581 @hawkingrei",
          "Fix the performance regression issue caused by disabling predicate pushdown in TableDual #50614 @time-and-fate",
          "Fix the issue that query results might be incorrect when the HAVING clause in a subquery contains correlated columns #51107 @hawkingrei",
          "Fix the issue that the EXPLAIN statement might display incorrect column IDs in the result when statistics for certain columns are not fully loaded #52207 @time-and-fate",
          "TiKV\nFix the issue that resolve-ts is blocked when a stale Region peer ignores the GC message #16504 @crazycs520\nFix the issue that inactive Write Ahead Logs (WALs) in RocksDB might corrupt data #16705 @Connor1996\nFix the issue that the monitoring metric tikv_unified_read_pool_thread_count has no data in some cases #16629 @YuJuncen\nFix the issue that during the execution of an optimistic transaction, if other transactions initiate the resolving lock operation on it, there is a small chance that the atomicity of the transaction might be broken if the transaction's primary key has data that was previously committed in Async Commit or 1PC mode #16620 @MyonKeminta",
          "Fix the issue that resolve-ts is blocked when a stale Region peer ignores the GC message #16504 @crazycs520",
          "Fix the issue that inactive Write Ahead Logs (WALs) in RocksDB might corrupt data #16705 @Connor1996",
          "Fix the issue that the monitoring metric tikv_unified_read_pool_thread_count has no data in some cases #16629 @YuJuncen",
          "Fix the issue that during the execution of an optimistic transaction, if other transactions initiate the resolving lock operation on it, there is a small chance that the atomicity of the transaction might be broken if the transaction's primary key has data that was previously committed in Async Commit or 1PC mode #16620 @MyonKeminta",
          "PD\nFix the issue that the scheduling of write hotspots might break placement policy constraints #7848 @lhy1024\nFix the issue that the query result of SHOW CONFIG includes the deprecated configuration item trace-region-flow #7917 @rleungx\nFix the issue that the scaling progress is not correctly displayed #7726 @CabinfeverB",
          "Fix the issue that the scheduling of write hotspots might break placement policy constraints #7848 @lhy1024",
          "Fix the issue that the query result of SHOW CONFIG includes the deprecated configuration item trace-region-flow #7917 @rleungx",
          "Fix the issue that the scaling progress is not correctly displayed #7726 @CabinfeverB",
          "TiFlash\nFix incorrect local_region_num values in logs #8895 @JaySon-Huang\nFix the issue that querying generated columns returns an error #8787 @guo-shaoge\nFix the issue that the ENUM column might cause TiFlash to crash during chunk encoding #8674 @yibin87\nFix the issue that TiFlash might panic when you insert data to columns with invalid default values in non-strict sql_mode #8803 @Lloyd-Pottiger\nFix the issue that if Region migration, split, or merge occurs after the precision of a TIME column is modified, queries might fail #8601 @JaySon-Huang",
          "Fix incorrect local_region_num values in logs #8895 @JaySon-Huang",
          "Fix the issue that querying generated columns returns an error #8787 @guo-shaoge",
          "Fix the issue that the ENUM column might cause TiFlash to crash during chunk encoding #8674 @yibin87",
          "Fix the issue that TiFlash might panic when you insert data to columns with invalid default values in non-strict sql_mode #8803 @Lloyd-Pottiger",
          "Fix the issue that if Region migration, split, or merge occurs after the precision of a TIME column is modified, queries might fail #8601 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nFix the issue that removing a log backup task after it is paused does not immediately restore the GC safepoint #52082 @3pointer\nFix the issue that too many logs are printed when a full backup fails #51572 @Leavrth\nFix the issue that BR could not back up the AUTO_RANDOM ID allocation progress if the AUTO_RANDOM column is in a composite clustered index #52255 @Leavrth\nFix the issue that TiKV panics when a full backup fails to find a peer in some extreme cases #16394 @Leavrth\nFix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen\nFix an unstable test case #52547 @Leavrth\nFix the issue that the global checkpoint of log backup is advanced ahead of the actual backup file write point due to TiKV restart, which might cause a small amount of backup data loss #16809 @YuJuncen\nFix a rare issue that special event timing might cause the data loss in log backup #16739 @YuJuncen\nTiCDC\nFix the issue that TiCDC fails to execute the Exchange Partition ... With Validation DDL downstream after it is written upstream, causing the changefeed to get stuck #10859 @hongyunyan\nFix the issue that snapshot lost caused by GC is not reported in time when resuming a changefeed and the checkpoint-ts of the changefeed is smaller than the GC safepoint of TiDB #10463 @sdojjy\nFix the issue that TiCDC panics when scheduling table replication tasks #10613 @CharlesCheung96\nFix the issue that data is written to a wrong CSV file due to wrong BarrierTS in scenarios where DDL statements are executed frequently #10668 @lidezhu\nFix the issue that a changefeed with eventual consistency enabled might fail when the object storage sink encounters a temporary failure #10710 @CharlesCheung96\nFix the issue that the old value part of open-protocol incorrectly outputs the default value according to the STRING type instead of its actual type #10803 @3AceShowHand\nTiDB Lightning\nFix the issue that TiDB Lightning panics when importing an empty table of Parquet format #52518 @kennytm\nFix the issue that sensitive information in logs is printed in server mode #36374 @kennytm",
          "Backup & Restore (BR)\nFix the issue that removing a log backup task after it is paused does not immediately restore the GC safepoint #52082 @3pointer\nFix the issue that too many logs are printed when a full backup fails #51572 @Leavrth\nFix the issue that BR could not back up the AUTO_RANDOM ID allocation progress if the AUTO_RANDOM column is in a composite clustered index #52255 @Leavrth\nFix the issue that TiKV panics when a full backup fails to find a peer in some extreme cases #16394 @Leavrth\nFix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen\nFix an unstable test case #52547 @Leavrth\nFix the issue that the global checkpoint of log backup is advanced ahead of the actual backup file write point due to TiKV restart, which might cause a small amount of backup data loss #16809 @YuJuncen\nFix a rare issue that special event timing might cause the data loss in log backup #16739 @YuJuncen",
          "Fix the issue that removing a log backup task after it is paused does not immediately restore the GC safepoint #52082 @3pointer",
          "Fix the issue that too many logs are printed when a full backup fails #51572 @Leavrth",
          "Fix the issue that BR could not back up the AUTO_RANDOM ID allocation progress if the AUTO_RANDOM column is in a composite clustered index #52255 @Leavrth",
          "Fix the issue that TiKV panics when a full backup fails to find a peer in some extreme cases #16394 @Leavrth",
          "Fix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen",
          "Fix an unstable test case #52547 @Leavrth",
          "Fix the issue that the global checkpoint of log backup is advanced ahead of the actual backup file write point due to TiKV restart, which might cause a small amount of backup data loss #16809 @YuJuncen",
          "Fix a rare issue that special event timing might cause the data loss in log backup #16739 @YuJuncen",
          "TiCDC\nFix the issue that TiCDC fails to execute the Exchange Partition ... With Validation DDL downstream after it is written upstream, causing the changefeed to get stuck #10859 @hongyunyan\nFix the issue that snapshot lost caused by GC is not reported in time when resuming a changefeed and the checkpoint-ts of the changefeed is smaller than the GC safepoint of TiDB #10463 @sdojjy\nFix the issue that TiCDC panics when scheduling table replication tasks #10613 @CharlesCheung96\nFix the issue that data is written to a wrong CSV file due to wrong BarrierTS in scenarios where DDL statements are executed frequently #10668 @lidezhu\nFix the issue that a changefeed with eventual consistency enabled might fail when the object storage sink encounters a temporary failure #10710 @CharlesCheung96\nFix the issue that the old value part of open-protocol incorrectly outputs the default value according to the STRING type instead of its actual type #10803 @3AceShowHand",
          "Fix the issue that TiCDC fails to execute the Exchange Partition ... With Validation DDL downstream after it is written upstream, causing the changefeed to get stuck #10859 @hongyunyan",
          "Fix the issue that snapshot lost caused by GC is not reported in time when resuming a changefeed and the checkpoint-ts of the changefeed is smaller than the GC safepoint of TiDB #10463 @sdojjy",
          "Fix the issue that TiCDC panics when scheduling table replication tasks #10613 @CharlesCheung96",
          "Fix the issue that data is written to a wrong CSV file due to wrong BarrierTS in scenarios where DDL statements are executed frequently #10668 @lidezhu",
          "Fix the issue that a changefeed with eventual consistency enabled might fail when the object storage sink encounters a temporary failure #10710 @CharlesCheung96",
          "Fix the issue that the old value part of open-protocol incorrectly outputs the default value according to the STRING type instead of its actual type #10803 @3AceShowHand",
          "TiDB Lightning\nFix the issue that TiDB Lightning panics when importing an empty table of Parquet format #52518 @kennytm\nFix the issue that sensitive information in logs is printed in server mode #36374 @kennytm",
          "Fix the issue that TiDB Lightning panics when importing an empty table of Parquet format #52518 @kennytm",
          "Fix the issue that sensitive information in logs is printed in server mode #36374 @kennytm"
        ]
      },
      {
        "version": "7.1.4",
        "date": "2024-03-11",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.1.4/",
        "changes": [
          "TiDB\nEnhance the ability to convert OUTER JOIN to INNER JOIN in specific scenarios #49616 @qw4990\nWhen force-init-stats is set to true, TiDB waits for statistics initialization to finish before providing services during TiDB startup. This setting no longer blocks the startup of HTTP servers, which enables users to continue monitoring #50854 @hawkingrei",
          "Enhance the ability to convert OUTER JOIN to INNER JOIN in specific scenarios #49616 @qw4990",
          "When force-init-stats is set to true, TiDB waits for statistics initialization to finish before providing services during TiDB startup. This setting no longer blocks the startup of HTTP servers, which enables users to continue monitoring #50854 @hawkingrei",
          "TiKV\nWhen TiKV detects the existence of corrupted SST files, it logs the specific reasons for the corruption #16308 @overvenus",
          "When TiKV detects the existence of corrupted SST files, it logs the specific reasons for the corruption #16308 @overvenus",
          "PD\nImprove the speed of PD automatically updating cluster status when the backup cluster is disconnected #6883 @disksing",
          "Improve the speed of PD automatically updating cluster status when the backup cluster is disconnected #6883 @disksing",
          "TiFlash\nReduce the impact of background GC tasks on read and write task latency #8650 @JaySon-Huang\nReduce the impact of disk performance jitter on read latency #8583 @JaySon-Huang",
          "Reduce the impact of background GC tasks on read and write task latency #8650 @JaySon-Huang",
          "Reduce the impact of disk performance jitter on read latency #8583 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nSupport creating databases in batch during data restore #50767 @Leavrth\nImprove the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth\nImprove the speed of merging SST files during data restore by using a more efficient algorithm #50613 @Leavrth\nSupport ingesting SST files in batch during data restore #16267 @3pointer\nPrint the information of the slowest Region that affects global checkpoint advancement in logs and metrics during log backups #51046 @YuJuncen\nRemove an outdated compatibility check when using Google Cloud Storage (GCS) as the external storage #50533 @lance6716\nImplement a lock mechanism to avoid executing multiple log backup truncation tasks (br log truncate) simultaneously #49414 @YuJuncen\nTiCDC\nWhen the downstream is Kafka, the topic expression allows schema to be optional and supports specifying a topic name directly #9763 @3AceShowHand\nSupport querying the downstream synchronization status of a changefeed, which helps you determine whether the upstream data changes received by TiCDC have been synchronized to the downstream system completely #10289 @hongyunyan\nSupport searching TiCDC logs in the TiDB Dashboard #10263 @CharlesCheung96\nTiDB Lightning\nImprove the performance in scenarios where multiple tables are imported by removing the lock operation when executing ALTER TABLE #50105 @D3Hunter",
          "Backup & Restore (BR)\nSupport creating databases in batch during data restore #50767 @Leavrth\nImprove the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth\nImprove the speed of merging SST files during data restore by using a more efficient algorithm #50613 @Leavrth\nSupport ingesting SST files in batch during data restore #16267 @3pointer\nPrint the information of the slowest Region that affects global checkpoint advancement in logs and metrics during log backups #51046 @YuJuncen\nRemove an outdated compatibility check when using Google Cloud Storage (GCS) as the external storage #50533 @lance6716\nImplement a lock mechanism to avoid executing multiple log backup truncation tasks (br log truncate) simultaneously #49414 @YuJuncen",
          "Support creating databases in batch during data restore #50767 @Leavrth",
          "Improve the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth",
          "Improve the speed of merging SST files during data restore by using a more efficient algorithm #50613 @Leavrth",
          "Support ingesting SST files in batch during data restore #16267 @3pointer",
          "Print the information of the slowest Region that affects global checkpoint advancement in logs and metrics during log backups #51046 @YuJuncen",
          "Remove an outdated compatibility check when using Google Cloud Storage (GCS) as the external storage #50533 @lance6716",
          "Implement a lock mechanism to avoid executing multiple log backup truncation tasks (br log truncate) simultaneously #49414 @YuJuncen",
          "TiCDC\nWhen the downstream is Kafka, the topic expression allows schema to be optional and supports specifying a topic name directly #9763 @3AceShowHand\nSupport querying the downstream synchronization status of a changefeed, which helps you determine whether the upstream data changes received by TiCDC have been synchronized to the downstream system completely #10289 @hongyunyan\nSupport searching TiCDC logs in the TiDB Dashboard #10263 @CharlesCheung96",
          "When the downstream is Kafka, the topic expression allows schema to be optional and supports specifying a topic name directly #9763 @3AceShowHand",
          "Support querying the downstream synchronization status of a changefeed, which helps you determine whether the upstream data changes received by TiCDC have been synchronized to the downstream system completely #10289 @hongyunyan",
          "Support searching TiCDC logs in the TiDB Dashboard #10263 @CharlesCheung96",
          "TiDB Lightning\nImprove the performance in scenarios where multiple tables are imported by removing the lock operation when executing ALTER TABLE #50105 @D3Hunter",
          "Improve the performance in scenarios where multiple tables are imported by removing the lock operation when executing ALTER TABLE #50105 @D3Hunter",
          "TiDB\nFix the issue that the DELETE and UPDATE statements using index lookup might report an error when tidb_multi_statement_mode mode is enabled #50012 @tangenta\nFix the issue that CTE queries might report an error type assertion for CTEStorageMap failed during the retry process #46522 @tiancaiamao\nFix the issue of excessive statistical error in constructing statistics caused by Golang's implicit conversion algorithm #49801 @qw4990\nFix the issue that errors might be returned during the concurrent merging of global statistics for partitioned tables #48713 @hawkingrei\nFix the issue of wrong query results due to TiDB incorrectly eliminating constant values in group by #38756 @hi-rustin\nFix the issue that BIT type columns might cause query errors due to decode failures when they are involved in calculations of some functions #49566 #50850 #50855 @jiyfhust\nFix the issue that LIMIT in multi-level nested UNION queries might become ineffective #49874 @Defined2014\nFix the issue that the auto-increment ID allocation reports an error due to concurrent conflicts when using an auto-increment column with AUTO_ID_CACHE=1 #50519 @tiancaiamao\nFix the Column ... in from clause is ambiguous error that might occur when a query uses NATURAL JOIN #32044 @AilinKid\nFix the issue that enforced sorting might become ineffective when a query uses optimizer hints (such as STREAM_AGG()) that enforce sorting and its execution plan contains IndexMerge #49605 @AilinKid\nFix the issue that query results are incorrect due to STREAM_AGG() incorrectly handling CI #49902 @wshwsh12\nFix the goroutine leak issue that might occur when the HashJoin operator fails to spill to disk #50841 @wshwsh12\nFix the issue that hints cannot be used in REPLACE INTO statements #34325 @YangKeao\nFix the issue that executing queries containing the GROUP_CONCAT(ORDER BY) syntax might return errors #49986 @AilinKid\nFix the issue that using a multi-valued index to access an empty JSON array might return incorrect results #50125 @YangKeao\nFix the goroutine leak issue that occurs when the memory usage of CTE queries exceeds limits #50337 @guo-shaoge\nFix the issue that using old interfaces might cause inconsistent metadata for tables #49751 @hawkingrei\nFix the issue that executing UNIQUE index lookup with an ORDER BY clause might cause an error #49920 @jackysp\nFix the issue that common hints do not take effect in UNION ALL statements #50068 @hawkingrei\nFix the issue that a query containing the IndexHashJoin operator gets stuck when memory exceeds tidb_mem_quota_query #49033 @XuHuaiyu\nFix the issue that UPDATE or DELETE statements containing WITH RECURSIVE CTEs might produce incorrect results #48969 @winoros\nFix the issue that histogram statistics might not be parsed into readable strings when the histogram boundary contains NULL #49823 @AilinKid\nFix the issue that TiDB might panic when a query contains the Apply operator and the fatal error: concurrent map writes error occurs #50347 @SeaRise\nFix the Can't find column ... error that might occur when aggregate functions are used for group calculations #50926 @qw4990\nFix the issue that TiDB returns wrong query results when processing ENUM or SET types by constant propagation #49440 @winoros\nFix the issue that the completion times of two DDL tasks with dependencies are incorrectly sequenced #49498 @tangenta\nFix the issue that TiDB might panic when using the EXECUTE statement to execute PREPARE STMT after the tidb_enable_prepared_plan_cache system variable is enabled and then disabled #49344 @qw4990\nFix the issue that LIMIT and OPRDERBY might be invalid in nested UNION queries #49377 @AilinKid\nFix the issue that the LEADING hint does not take effect in UNION ALL statements #50067 @hawkingrei\nFix the issue that the COMMIT or ROLLBACK operation executed through COM_STMT_EXECUTE fails to terminate transactions that have timed out #49151 @zyguan\nFix the issue that invalid optimizer hints might cause valid hints to be ineffective #49308 @hawkingrei\nFix the issue that Daylight Saving Time is displayed incorrectly in some time zones #49586 @overvenus\nFix the issue that executing SELECT INTO OUTFILE using the PREPARE method incorrectly returns a success message instead of an error #49166 @qw4990\nFix the issue that TiDB might panic when performing a rolling upgrade using tiup cluster upgrade/start due to an interaction issue with PD #50152 @zimulala\nFix the issue that the expected optimization does not take effect when adding an index to an empty table #49682 @zimulala\nFix the issue that TiDB might OOM when a large number of tables or partitions are created #50077 @zimulala\nFix the issue that adding an index might cause inconsistent index data when the network is unstable #49773 @tangenta\nFix the execution order of DDL jobs to prevent TiCDC from receiving out-of-order DDLs #49498 @tangenta\nFix the issue that the tidb_gogc_tuner_threshold system variable is not adjusted accordingly after the tidb_server_memory_limit variable is modified #48180 @hawkingrei\nFix the issue that the query result of a range partitioned table is incorrect in some cases due to wrong partition pruning #50082 @Defined2014\nFix the issue that DDL operations such as renaming tables are stuck when the CREATE TABLE statement contains specific partitions or constraints #50972 @lcwangchao\nFix the issue that getting the default value of a column returns an error if the column default value is dropped #50043 #51324 @crazycs520\nFix the issue that the monitoring metric tidb_statistics_auto_analyze_total on Grafana is not displayed as an integer #51051 @hawkingrei\nFix the issue that the tidb_merge_partition_stats_concurrency variable does not take effect when auto analyze is processing partitioned tables #47594 @hawkingrei\nFix the issue that the index out of range error might occur when a query involves JOIN operations #42588 @AilinKid\nFix the issue that wrong results might be returned when TiFlash late materialization processes associated columns #49241 #51204 @Lloyd-Pottiger\nFix the issue that parallel Apply might generate incorrect results when the table has a clustered index #51372 @guo-shaoge",
          "Fix the issue that the DELETE and UPDATE statements using index lookup might report an error when tidb_multi_statement_mode mode is enabled #50012 @tangenta",
          "Fix the issue that CTE queries might report an error type assertion for CTEStorageMap failed during the retry process #46522 @tiancaiamao",
          "Fix the issue of excessive statistical error in constructing statistics caused by Golang's implicit conversion algorithm #49801 @qw4990",
          "Fix the issue that errors might be returned during the concurrent merging of global statistics for partitioned tables #48713 @hawkingrei",
          "Fix the issue of wrong query results due to TiDB incorrectly eliminating constant values in group by #38756 @hi-rustin",
          "Fix the issue that BIT type columns might cause query errors due to decode failures when they are involved in calculations of some functions #49566 #50850 #50855 @jiyfhust",
          "Fix the issue that LIMIT in multi-level nested UNION queries might become ineffective #49874 @Defined2014",
          "Fix the issue that the auto-increment ID allocation reports an error due to concurrent conflicts when using an auto-increment column with AUTO_ID_CACHE=1 #50519 @tiancaiamao",
          "Fix the Column ... in from clause is ambiguous error that might occur when a query uses NATURAL JOIN #32044 @AilinKid",
          "Fix the issue that enforced sorting might become ineffective when a query uses optimizer hints (such as STREAM_AGG()) that enforce sorting and its execution plan contains IndexMerge #49605 @AilinKid",
          "Fix the issue that query results are incorrect due to STREAM_AGG() incorrectly handling CI #49902 @wshwsh12",
          "Fix the goroutine leak issue that might occur when the HashJoin operator fails to spill to disk #50841 @wshwsh12",
          "Fix the issue that hints cannot be used in REPLACE INTO statements #34325 @YangKeao",
          "Fix the issue that executing queries containing the GROUP_CONCAT(ORDER BY) syntax might return errors #49986 @AilinKid",
          "Fix the issue that using a multi-valued index to access an empty JSON array might return incorrect results #50125 @YangKeao",
          "Fix the goroutine leak issue that occurs when the memory usage of CTE queries exceeds limits #50337 @guo-shaoge",
          "Fix the issue that using old interfaces might cause inconsistent metadata for tables #49751 @hawkingrei",
          "Fix the issue that executing UNIQUE index lookup with an ORDER BY clause might cause an error #49920 @jackysp",
          "Fix the issue that common hints do not take effect in UNION ALL statements #50068 @hawkingrei",
          "Fix the issue that a query containing the IndexHashJoin operator gets stuck when memory exceeds tidb_mem_quota_query #49033 @XuHuaiyu",
          "Fix the issue that UPDATE or DELETE statements containing WITH RECURSIVE CTEs might produce incorrect results #48969 @winoros",
          "Fix the issue that histogram statistics might not be parsed into readable strings when the histogram boundary contains NULL #49823 @AilinKid",
          "Fix the issue that TiDB might panic when a query contains the Apply operator and the fatal error: concurrent map writes error occurs #50347 @SeaRise",
          "Fix the Can't find column ... error that might occur when aggregate functions are used for group calculations #50926 @qw4990",
          "Fix the issue that TiDB returns wrong query results when processing ENUM or SET types by constant propagation #49440 @winoros",
          "Fix the issue that the completion times of two DDL tasks with dependencies are incorrectly sequenced #49498 @tangenta",
          "Fix the issue that TiDB might panic when using the EXECUTE statement to execute PREPARE STMT after the tidb_enable_prepared_plan_cache system variable is enabled and then disabled #49344 @qw4990",
          "Fix the issue that LIMIT and OPRDERBY might be invalid in nested UNION queries #49377 @AilinKid",
          "Fix the issue that the LEADING hint does not take effect in UNION ALL statements #50067 @hawkingrei",
          "Fix the issue that the COMMIT or ROLLBACK operation executed through COM_STMT_EXECUTE fails to terminate transactions that have timed out #49151 @zyguan",
          "Fix the issue that invalid optimizer hints might cause valid hints to be ineffective #49308 @hawkingrei",
          "Fix the issue that Daylight Saving Time is displayed incorrectly in some time zones #49586 @overvenus",
          "Fix the issue that executing SELECT INTO OUTFILE using the PREPARE method incorrectly returns a success message instead of an error #49166 @qw4990",
          "Fix the issue that TiDB might panic when performing a rolling upgrade using tiup cluster upgrade/start due to an interaction issue with PD #50152 @zimulala",
          "Fix the issue that the expected optimization does not take effect when adding an index to an empty table #49682 @zimulala",
          "Fix the issue that TiDB might OOM when a large number of tables or partitions are created #50077 @zimulala",
          "Fix the issue that adding an index might cause inconsistent index data when the network is unstable #49773 @tangenta",
          "Fix the execution order of DDL jobs to prevent TiCDC from receiving out-of-order DDLs #49498 @tangenta",
          "Fix the issue that the tidb_gogc_tuner_threshold system variable is not adjusted accordingly after the tidb_server_memory_limit variable is modified #48180 @hawkingrei",
          "Fix the issue that the query result of a range partitioned table is incorrect in some cases due to wrong partition pruning #50082 @Defined2014",
          "Fix the issue that DDL operations such as renaming tables are stuck when the CREATE TABLE statement contains specific partitions or constraints #50972 @lcwangchao",
          "Fix the issue that getting the default value of a column returns an error if the column default value is dropped #50043 #51324 @crazycs520",
          "Fix the issue that the monitoring metric tidb_statistics_auto_analyze_total on Grafana is not displayed as an integer #51051 @hawkingrei",
          "Fix the issue that the tidb_merge_partition_stats_concurrency variable does not take effect when auto analyze is processing partitioned tables #47594 @hawkingrei",
          "Fix the issue that the index out of range error might occur when a query involves JOIN operations #42588 @AilinKid",
          "Fix the issue that wrong results might be returned when TiFlash late materialization processes associated columns #49241 #51204 @Lloyd-Pottiger",
          "Fix the issue that parallel Apply might generate incorrect results when the table has a clustered index #51372 @guo-shaoge",
          "TiKV\nFix the issue that hibernated Regions are not promptly awakened in exceptional circumstances #16368 @LykxSassinator\nFix the issue that the entire Region becomes unavailable when one replica is offline, by checking the last heartbeat time of all replicas of the Region before taking a node offline #16465 @tonyxuqqi\nFix the issue that table properties stored in RocksDB might be inaccurate when Titan is enabled #16319 @hicqu\nFix the issue that executing tikv-ctl compact-cluster fails when a cluster has TiFlash nodes #16189 @frew\nFix the issue that TiKV might panic when gRPC threads are checking is_shutdown #16236 @pingyu\nFix the issue that TiDB and TiKV might produce inconsistent results when processing DECIMAL arithmetic multiplication truncation #16268 @solotzg\nFix the issue that cast_duration_as_time might return incorrect results #16211 @gengliqi\nFix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus\nFix the issue that JSON integers greater than the maximum INT64 value but less than the maximum UINT64 value are parsed as FLOAT64 by TiKV, resulting in inconsistency with TiDB #16512 @YangKeao",
          "Fix the issue that hibernated Regions are not promptly awakened in exceptional circumstances #16368 @LykxSassinator",
          "Fix the issue that the entire Region becomes unavailable when one replica is offline, by checking the last heartbeat time of all replicas of the Region before taking a node offline #16465 @tonyxuqqi",
          "Fix the issue that table properties stored in RocksDB might be inaccurate when Titan is enabled #16319 @hicqu",
          "Fix the issue that executing tikv-ctl compact-cluster fails when a cluster has TiFlash nodes #16189 @frew",
          "Fix the issue that TiKV might panic when gRPC threads are checking is_shutdown #16236 @pingyu",
          "Fix the issue that TiDB and TiKV might produce inconsistent results when processing DECIMAL arithmetic multiplication truncation #16268 @solotzg",
          "Fix the issue that cast_duration_as_time might return incorrect results #16211 @gengliqi",
          "Fix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus",
          "Fix the issue that JSON integers greater than the maximum INT64 value but less than the maximum UINT64 value are parsed as FLOAT64 by TiKV, resulting in inconsistency with TiDB #16512 @YangKeao",
          "PD\nFix the issue that slots are not fully deleted in a resource group client, which causes the number of the allocated tokens to be less than the specified value #7346 @guo-shaoge\nFix the issue that some TSO logs do not print the error cause #7496 @CabinfeverB\nFix the issue that the default resource group accumulates unnecessary tokens when BURSTABLE is enabled #7206 @CabinfeverB\nFix the issue that there is no output when the evict-leader-scheduler interface is called #7672 @CabinfeverB\nFix the memory leak issue that occurs when watch etcd is not turned off correctly #7807 @rleungx\nFix the issue that data race occurs when the MergeLabels function is called #7535 @lhy1024\nFix the issue that TiDB Dashboard fails to get the TiKV profile when TLS is enabled #7561 @Connor1996\nFix the issue that the orphan peer is deleted when the number of replicas does not meet the requirements #7584 @bufferflies\nFix the issue that available_stores is calculated incorrectly for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode #7221 @disksing\nFix the issue that canSync and hasMajority might be calculated incorrectly for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode when the configuration of Placement Rules is complex #7201 @disksing\nFix the issue that the primary AZ cannot add TiKV nodes when the secondary AZ is down for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode #7218 @disksing\nFix the issue that querying resource groups in batch might cause PD to panic #7206 @nolouch\nFix the issue that querying a Region without a leader using pd-ctl might cause PD to panic #7630 @rleungx\nFix the issue that the PD monitoring item learner-peer-count does not synchronize the old value after a leader switch #7728 @CabinfeverB\nFix the issue that PD cannot read resource limitations when it is started with systemd #7628 @bufferflies",
          "Fix the issue that slots are not fully deleted in a resource group client, which causes the number of the allocated tokens to be less than the specified value #7346 @guo-shaoge",
          "Fix the issue that some TSO logs do not print the error cause #7496 @CabinfeverB",
          "Fix the issue that the default resource group accumulates unnecessary tokens when BURSTABLE is enabled #7206 @CabinfeverB",
          "Fix the issue that there is no output when the evict-leader-scheduler interface is called #7672 @CabinfeverB",
          "Fix the memory leak issue that occurs when watch etcd is not turned off correctly #7807 @rleungx",
          "Fix the issue that data race occurs when the MergeLabels function is called #7535 @lhy1024",
          "Fix the issue that TiDB Dashboard fails to get the TiKV profile when TLS is enabled #7561 @Connor1996",
          "Fix the issue that the orphan peer is deleted when the number of replicas does not meet the requirements #7584 @bufferflies",
          "Fix the issue that available_stores is calculated incorrectly for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode #7221 @disksing",
          "Fix the issue that canSync and hasMajority might be calculated incorrectly for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode when the configuration of Placement Rules is complex #7201 @disksing",
          "Fix the issue that the primary AZ cannot add TiKV nodes when the secondary AZ is down for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode #7218 @disksing",
          "Fix the issue that querying resource groups in batch might cause PD to panic #7206 @nolouch",
          "Fix the issue that querying a Region without a leader using pd-ctl might cause PD to panic #7630 @rleungx",
          "Fix the issue that the PD monitoring item learner-peer-count does not synchronize the old value after a leader switch #7728 @CabinfeverB",
          "Fix the issue that PD cannot read resource limitations when it is started with systemd #7628 @bufferflies",
          "TiFlash\nFix the issue that TiFlash might panic due to unstable network connections with PD during replica migration #8323 @JaySon-Huang\nFix the issue that TiFlash incorrectly handles ENUM when the ENUM value is 0 #8311 @solotzg\nFix the random invalid memory access issue that might occur with GREATEST or LEAST functions containing constant string parameters #8604 @windtalker\nFix the issue that the lowerUTF8 and upperUTF8 functions do not allow characters in different cases to occupy different bytes #8484 @gengliqi\nFix the issue that short queries executed successfully print excessive info logs #8592 @windtalker\nFix the issue that the memory usage increases significantly due to slow queries #8564 @JinheLin\nFix the issue that TiFlash panics after executing ALTER TABLE ... MODIFY COLUMN ... NOT NULL, which changes nullable columns to non-nullable #8419 @JaySon-Huang\nFix the issue that after terminating a query, TiFlash crashes due to concurrent data conflicts when a large number of tasks on TiFlash are canceled at the same time #7432 @SeaRise\nFix the issue that TiFlash might crash during remote reads #8685 @zanmato1984\nFix the issue that TiFlash Anti Semi Join might return incorrect results when the join includes non-equivalent conditions #8791 @windtalker",
          "Fix the issue that TiFlash might panic due to unstable network connections with PD during replica migration #8323 @JaySon-Huang",
          "Fix the issue that TiFlash incorrectly handles ENUM when the ENUM value is 0 #8311 @solotzg",
          "Fix the random invalid memory access issue that might occur with GREATEST or LEAST functions containing constant string parameters #8604 @windtalker",
          "Fix the issue that the lowerUTF8 and upperUTF8 functions do not allow characters in different cases to occupy different bytes #8484 @gengliqi",
          "Fix the issue that short queries executed successfully print excessive info logs #8592 @windtalker",
          "Fix the issue that the memory usage increases significantly due to slow queries #8564 @JinheLin",
          "Fix the issue that TiFlash panics after executing ALTER TABLE ... MODIFY COLUMN ... NOT NULL, which changes nullable columns to non-nullable #8419 @JaySon-Huang",
          "Fix the issue that after terminating a query, TiFlash crashes due to concurrent data conflicts when a large number of tasks on TiFlash are canceled at the same time #7432 @SeaRise",
          "Fix the issue that TiFlash might crash during remote reads #8685 @zanmato1984",
          "Fix the issue that TiFlash Anti Semi Join might return incorrect results when the join includes non-equivalent conditions #8791 @windtalker",
          "Tools\nBackup & Restore (BR)\nFix the issue that stopping a log backup task causes TiDB to crash #50839 @YuJuncen\nFix the issue that data restore is slowed down due to absence of a leader on a TiKV node #50566 @Leavrth\nFix the issue that log backup gets stuck after changing the TiKV IP address on the same node #50445 @3pointer\nFix the issue that BR cannot retry when encountering an error while reading file content from S3 #49942 @Leavrth\nFix the issue that the Unsupported collation error is reported when you restore data from backups of an old version #49466 @3pointer\nTiCDC\nFix the issue that the changefeed reports an error after TRUNCATE PARTITION is executed on the upstream table #10522 @sdojjy\nFix the issue that the changefeed resolved ts does not advance in extreme cases #10157 @sdojjy\nFix the issue that the Syncpoint table might be incorrectly replicated #10576 @asddongmen\nFix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96\nFix the issue that the file sequence number generated by the storage service might not increment correctly when using the storage sink #10352 @CharlesCheung96\nFix the issue that TiCDC returns the ErrChangeFeedAlreadyExists error when concurrently creating multiple changefeeds #10430 @CharlesCheung96\nFix the issue that snapshot lost caused by GC is not reported in time when resuming a changefeed and the checkpoint-ts of the changefeed is smaller than the GC safepoint of TiDB #10463 @sdojjy\nFix the issue that TiCDC fails to validate TIMESTAMP type checksum due to time zone mismatch after data integrity validation for single-row data is enabled #10573 @3AceShowHand\nTiDB Data Migration (DM)\nFix the issue that a wrong binlog event type in the task configuration causes upgrade failures #10282 @GMHDBJD\nFix the issue that a table with shard_row_id_bits causes the schema tracker to fail to initialize #10308 @GMHDBJD\nTiDB Lightning\nFix the issue that TiDB Lightning reports an error when encountering invalid symbolic link files during file scanning #49423 @lance6716\nFix the issue that TiDB Lightning fails to correctly parse date values containing 0 when NO_ZERO_IN_DATE is not included in sql_mode #50757 @GMHDBJD",
          "Backup & Restore (BR)\nFix the issue that stopping a log backup task causes TiDB to crash #50839 @YuJuncen\nFix the issue that data restore is slowed down due to absence of a leader on a TiKV node #50566 @Leavrth\nFix the issue that log backup gets stuck after changing the TiKV IP address on the same node #50445 @3pointer\nFix the issue that BR cannot retry when encountering an error while reading file content from S3 #49942 @Leavrth\nFix the issue that the Unsupported collation error is reported when you restore data from backups of an old version #49466 @3pointer",
          "Fix the issue that stopping a log backup task causes TiDB to crash #50839 @YuJuncen",
          "Fix the issue that data restore is slowed down due to absence of a leader on a TiKV node #50566 @Leavrth",
          "Fix the issue that log backup gets stuck after changing the TiKV IP address on the same node #50445 @3pointer",
          "Fix the issue that BR cannot retry when encountering an error while reading file content from S3 #49942 @Leavrth",
          "Fix the issue that the Unsupported collation error is reported when you restore data from backups of an old version #49466 @3pointer",
          "TiCDC\nFix the issue that the changefeed reports an error after TRUNCATE PARTITION is executed on the upstream table #10522 @sdojjy\nFix the issue that the changefeed resolved ts does not advance in extreme cases #10157 @sdojjy\nFix the issue that the Syncpoint table might be incorrectly replicated #10576 @asddongmen\nFix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96\nFix the issue that the file sequence number generated by the storage service might not increment correctly when using the storage sink #10352 @CharlesCheung96\nFix the issue that TiCDC returns the ErrChangeFeedAlreadyExists error when concurrently creating multiple changefeeds #10430 @CharlesCheung96\nFix the issue that snapshot lost caused by GC is not reported in time when resuming a changefeed and the checkpoint-ts of the changefeed is smaller than the GC safepoint of TiDB #10463 @sdojjy\nFix the issue that TiCDC fails to validate TIMESTAMP type checksum due to time zone mismatch after data integrity validation for single-row data is enabled #10573 @3AceShowHand",
          "Fix the issue that the changefeed reports an error after TRUNCATE PARTITION is executed on the upstream table #10522 @sdojjy",
          "Fix the issue that the changefeed resolved ts does not advance in extreme cases #10157 @sdojjy",
          "Fix the issue that the Syncpoint table might be incorrectly replicated #10576 @asddongmen",
          "Fix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96",
          "Fix the issue that the file sequence number generated by the storage service might not increment correctly when using the storage sink #10352 @CharlesCheung96",
          "Fix the issue that TiCDC returns the ErrChangeFeedAlreadyExists error when concurrently creating multiple changefeeds #10430 @CharlesCheung96",
          "Fix the issue that snapshot lost caused by GC is not reported in time when resuming a changefeed and the checkpoint-ts of the changefeed is smaller than the GC safepoint of TiDB #10463 @sdojjy",
          "Fix the issue that TiCDC fails to validate TIMESTAMP type checksum due to time zone mismatch after data integrity validation for single-row data is enabled #10573 @3AceShowHand",
          "TiDB Data Migration (DM)\nFix the issue that a wrong binlog event type in the task configuration causes upgrade failures #10282 @GMHDBJD\nFix the issue that a table with shard_row_id_bits causes the schema tracker to fail to initialize #10308 @GMHDBJD",
          "Fix the issue that a wrong binlog event type in the task configuration causes upgrade failures #10282 @GMHDBJD",
          "Fix the issue that a table with shard_row_id_bits causes the schema tracker to fail to initialize #10308 @GMHDBJD",
          "TiDB Lightning\nFix the issue that TiDB Lightning reports an error when encountering invalid symbolic link files during file scanning #49423 @lance6716\nFix the issue that TiDB Lightning fails to correctly parse date values containing 0 when NO_ZERO_IN_DATE is not included in sql_mode #50757 @GMHDBJD",
          "Fix the issue that TiDB Lightning reports an error when encountering invalid symbolic link files during file scanning #49423 @lance6716",
          "Fix the issue that TiDB Lightning fails to correctly parse date values containing 0 when NO_ZERO_IN_DATE is not included in sql_mode #50757 @GMHDBJD"
        ]
      },
      {
        "version": "7.1.3",
        "date": "2023-12-21",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.1.3/",
        "changes": [
          "TiDB\nSupport the FLASHBACK CLUSTER TO TSO syntax #48372 @BornChanger",
          "Support the FLASHBACK CLUSTER TO TSO syntax #48372 @BornChanger",
          "PD\nEnhance the configuration retrieval method of the resource control client to dynamically fetch the latest configurations #7043 @nolouch",
          "Enhance the configuration retrieval method of the resource control client to dynamically fetch the latest configurations #7043 @nolouch",
          "Tools\nBackup & Restore (BR)\nEnable automatic retry of Region scatter during snapshot recovery when encountering timeout failures or cancellations of Region scatter #47236 @Leavrth\nDuring restoring a snapshot backup, BR retries when it encounters certain network errors #48528 @Leavrth\nIntroduce a new integration test for Point-In-Time Recovery (PITR) in the delete range scenario, enhancing PITR stability #47738 @Leavrth\nTiCDC\nOptimize the memory consumption when TiCDC nodes replicate data to TiDB #9935 @3AceShowHand\nOptimize some alarm rules #9266 @asddongmen\nOptimize the performance of redo log, including parallel writing data to S3 and adopting lz4 compression algorithm #10176 #10226 @sdojjy\nImprove the performance of TiCDC replicating data to object storage by increasing parallelism #10098 @CharlesCheung96\nReduce the impact of TiCDC incremental scanning on upstream TiKV #11390 @hicqu\nSupport making TiCDC Canal-JSON content format compatible with the content format of the official Canal output by setting content-compatible=true in the sink-uri configuration #10106 @3AceShowHand\nTiDB Lightning\nAdd a retry mechanism for GetTS failure caused by PD leader change #45301 @lance6716",
          "Backup & Restore (BR)\nEnable automatic retry of Region scatter during snapshot recovery when encountering timeout failures or cancellations of Region scatter #47236 @Leavrth\nDuring restoring a snapshot backup, BR retries when it encounters certain network errors #48528 @Leavrth\nIntroduce a new integration test for Point-In-Time Recovery (PITR) in the delete range scenario, enhancing PITR stability #47738 @Leavrth",
          "Enable automatic retry of Region scatter during snapshot recovery when encountering timeout failures or cancellations of Region scatter #47236 @Leavrth",
          "During restoring a snapshot backup, BR retries when it encounters certain network errors #48528 @Leavrth",
          "Introduce a new integration test for Point-In-Time Recovery (PITR) in the delete range scenario, enhancing PITR stability #47738 @Leavrth",
          "TiCDC\nOptimize the memory consumption when TiCDC nodes replicate data to TiDB #9935 @3AceShowHand\nOptimize some alarm rules #9266 @asddongmen\nOptimize the performance of redo log, including parallel writing data to S3 and adopting lz4 compression algorithm #10176 #10226 @sdojjy\nImprove the performance of TiCDC replicating data to object storage by increasing parallelism #10098 @CharlesCheung96\nReduce the impact of TiCDC incremental scanning on upstream TiKV #11390 @hicqu\nSupport making TiCDC Canal-JSON content format compatible with the content format of the official Canal output by setting content-compatible=true in the sink-uri configuration #10106 @3AceShowHand",
          "Optimize the memory consumption when TiCDC nodes replicate data to TiDB #9935 @3AceShowHand",
          "Optimize some alarm rules #9266 @asddongmen",
          "Optimize the performance of redo log, including parallel writing data to S3 and adopting lz4 compression algorithm #10176 #10226 @sdojjy",
          "Improve the performance of TiCDC replicating data to object storage by increasing parallelism #10098 @CharlesCheung96",
          "Reduce the impact of TiCDC incremental scanning on upstream TiKV #11390 @hicqu",
          "Support making TiCDC Canal-JSON content format compatible with the content format of the official Canal output by setting content-compatible=true in the sink-uri configuration #10106 @3AceShowHand",
          "TiDB Lightning\nAdd a retry mechanism for GetTS failure caused by PD leader change #45301 @lance6716",
          "Add a retry mechanism for GetTS failure caused by PD leader change #45301 @lance6716",
          "TiDB\nFix the issue that queries containing common table expressions (CTEs) unexpectedly get stuck when the memory limit is exceeded #49096 @AilinKid\nFix the issue that high CPU usage of TiDB occurs due to long-term memory pressure caused by tidb_server_memory_limit #48741 @XuHuaiyu\nFix the issue that queries containing CTEs report runtime error: index out of range [32] with length 32 when tidb_max_chunk_size is set to a small value #48808 @guo-shaoge\nFix the issue that the query result is incorrect when an ENUM type column is used as the join key #48991 @winoros\nFix the parsing error caused by aggregate or window functions in recursive CTEs #47711 @elsa0520\nFix the issue that UPDATE statements might be incorrectly converted to PointGet #47445 @hi-rustin\nFix the OOM issue that might occur when TiDB performs garbage collection on the stats_history table #48431 @hawkingrei\nFix the issue that the same query plan has different PLAN_DIGEST values in some cases #47634 @King-Dylan\nFix the issue that GenJSONTableFromStats cannot be killed when it consumes a large amount of memory #47779 @hawkingrei\nFix the issue that the result might be incorrect when predicates are pushed down to common table expressions #47881 @winoros\nFix the issue that Duplicate entry might occur when AUTO_ID_CACHE=1 is set #46444 @tiancaiamao\nFix the issue that TiDB server might consume a significant amount of resources when the enterprise plugin for audit logging is used #49273 @lcwangchao\nFix the issue that TiDB server might panic during graceful shutdown #36793 @bb7133\nFix the issue that tables with AUTO_ID_CACHE=1 might lead to gRPC client leaks when there are a large number of tables #48869 @tiancaiamao\nFix the incorrect error message for ErrLoadDataInvalidURI (invalid S3 URI error) #48164 @lance6716\nFix the issue that executing ALTER TABLE ... LAST PARTITION fails when the partition column type is DATETIME #48814 @crazycs520\nFix the issue that the actual error message during IMPORT INTO execution might be overridden by other error messages #47992 #47781 @D3Hunter\nFix the issue that TiDB deployed in the cgroup v2 container cannot be detected #48342 @D3Hunter\nFix the issue that executing UNION ALL with the DUAL table as the first subnode might cause an error #48755 @winoros\nFix the TiDB node panic issue that occurs when DDL jobID is restored to 0 #46296 @jiyfhust\nFix the issue of unsorted row data returned by TABLESAMPLE #48253 @tangenta\nFix the issue that panic might occur when tidb_enable_ordered_result_mode is enabled #45044 @qw4990\nFix the issue that the optimizer mistakenly selects IndexFullScan to reduce sort introduced by window functions #46177 @qw4990\nFix the issue of not handling locks in the MVCC interface when reading schema diff commit versions from the TiDB schema cache #48281 @cfzjywxk\nFix the issue of incorrect memory usage estimation in INDEX_LOOKUP_HASH_JOIN #47788 @SeaRise\nFix the issue of IMPORT INTO task failure caused by PD leader malfunction for 1 minute #48307 @D3Hunter\nFix the panic issue of batch-client in client-go #47691 @crazycs520\nFix the issue that column pruning can cause panic in specific situations #47331 @hi-rustin\nFix the issue that TiDB does not read cgroup resource limits when it is started with systemd #47442 @hawkingrei\nFix the issue of possible syntax error when a common table expression (CTE) containing aggregate or window functions is referenced by other recursive CTEs #47603 #47711 @elsa0520\nFix the panic issue that might occur when constructing TopN structure for statistics #35948 @hi-rustin\nFix the issue that the result of COUNT(INT) calculated by MPP might be incorrect #48643 @AilinKid\nFix the issue that the chunk cannot be reused when the HashJoin operator performs probe #48082 @wshwsh12",
          "Fix the issue that queries containing common table expressions (CTEs) unexpectedly get stuck when the memory limit is exceeded #49096 @AilinKid",
          "Fix the issue that high CPU usage of TiDB occurs due to long-term memory pressure caused by tidb_server_memory_limit #48741 @XuHuaiyu",
          "Fix the issue that queries containing CTEs report runtime error: index out of range [32] with length 32 when tidb_max_chunk_size is set to a small value #48808 @guo-shaoge",
          "Fix the issue that the query result is incorrect when an ENUM type column is used as the join key #48991 @winoros",
          "Fix the parsing error caused by aggregate or window functions in recursive CTEs #47711 @elsa0520",
          "Fix the issue that UPDATE statements might be incorrectly converted to PointGet #47445 @hi-rustin",
          "Fix the OOM issue that might occur when TiDB performs garbage collection on the stats_history table #48431 @hawkingrei",
          "Fix the issue that the same query plan has different PLAN_DIGEST values in some cases #47634 @King-Dylan",
          "Fix the issue that GenJSONTableFromStats cannot be killed when it consumes a large amount of memory #47779 @hawkingrei",
          "Fix the issue that the result might be incorrect when predicates are pushed down to common table expressions #47881 @winoros",
          "Fix the issue that Duplicate entry might occur when AUTO_ID_CACHE=1 is set #46444 @tiancaiamao",
          "Fix the issue that TiDB server might consume a significant amount of resources when the enterprise plugin for audit logging is used #49273 @lcwangchao",
          "Fix the issue that TiDB server might panic during graceful shutdown #36793 @bb7133",
          "Fix the issue that tables with AUTO_ID_CACHE=1 might lead to gRPC client leaks when there are a large number of tables #48869 @tiancaiamao",
          "Fix the incorrect error message for ErrLoadDataInvalidURI (invalid S3 URI error) #48164 @lance6716",
          "Fix the issue that executing ALTER TABLE ... LAST PARTITION fails when the partition column type is DATETIME #48814 @crazycs520",
          "Fix the issue that the actual error message during IMPORT INTO execution might be overridden by other error messages #47992 #47781 @D3Hunter",
          "Fix the issue that TiDB deployed in the cgroup v2 container cannot be detected #48342 @D3Hunter",
          "Fix the issue that executing UNION ALL with the DUAL table as the first subnode might cause an error #48755 @winoros",
          "Fix the TiDB node panic issue that occurs when DDL jobID is restored to 0 #46296 @jiyfhust",
          "Fix the issue of unsorted row data returned by TABLESAMPLE #48253 @tangenta",
          "Fix the issue that panic might occur when tidb_enable_ordered_result_mode is enabled #45044 @qw4990",
          "Fix the issue that the optimizer mistakenly selects IndexFullScan to reduce sort introduced by window functions #46177 @qw4990",
          "Fix the issue of not handling locks in the MVCC interface when reading schema diff commit versions from the TiDB schema cache #48281 @cfzjywxk",
          "Fix the issue of incorrect memory usage estimation in INDEX_LOOKUP_HASH_JOIN #47788 @SeaRise",
          "Fix the issue of IMPORT INTO task failure caused by PD leader malfunction for 1 minute #48307 @D3Hunter",
          "Fix the panic issue of batch-client in client-go #47691 @crazycs520",
          "Fix the issue that column pruning can cause panic in specific situations #47331 @hi-rustin",
          "Fix the issue that TiDB does not read cgroup resource limits when it is started with systemd #47442 @hawkingrei",
          "Fix the issue of possible syntax error when a common table expression (CTE) containing aggregate or window functions is referenced by other recursive CTEs #47603 #47711 @elsa0520",
          "Fix the panic issue that might occur when constructing TopN structure for statistics #35948 @hi-rustin",
          "Fix the issue that the result of COUNT(INT) calculated by MPP might be incorrect #48643 @AilinKid",
          "Fix the issue that the chunk cannot be reused when the HashJoin operator performs probe #48082 @wshwsh12",
          "TiKV\nFix the issue that if TiKV runs extremely slowly, it might panic after Region merge #16111 @overvenus\nFix the issue that Resolved TS might be blocked for two hours #15520 #39130 @overvenus\nFix the issue that TiKV reports the ServerIsBusy error because it can not append the raft log #15800 @tonyxuqqi\nFix the issue that snapshot restore might get stuck when BR crashes #15684 @YuJuncen\nFix the issue that Resolved TS in stale read might cause TiKV OOM issues when tracking large transactions #14864 @overvenus\nFix the issue that damaged SST files might be spread to other TiKV nodes #15986 @Connor1996\nFix the issue that the joint state of DR Auto-Sync might time out when scaling out #15817 @Connor1996\nFix the issue that the scheduler command variables are incorrect in Grafana on the cloud environment #15832 @Connor1996\nFix the issue that stale peers are retained and block resolved-ts after Regions are merged #15919 @overvenus\nFix the issue that Online Unsafe Recovery cannot handle merge abort #15580 @v01dstar\nFix the TiKV OOM issue that occurs when restarting TiKV and there are a large number of Raft logs that are not applied #15770 @overvenus\nFix security issues by upgrading the version of lz4-sys to 1.9.4 #15621 @SpadeA-Tang\nFix the issue that blob-run-mode in Titan cannot be updated online #15978 @tonyxuqqi\nFix the issue that network interruption between PD and TiKV might cause PITR to get stuck #15279 @YuJuncen\nFix the issue that TiKV coprocessor might return stale data when removing a Raft peer #16069 @overvenus",
          "Fix the issue that if TiKV runs extremely slowly, it might panic after Region merge #16111 @overvenus",
          "Fix the issue that Resolved TS might be blocked for two hours #15520 #39130 @overvenus",
          "Fix the issue that TiKV reports the ServerIsBusy error because it can not append the raft log #15800 @tonyxuqqi",
          "Fix the issue that snapshot restore might get stuck when BR crashes #15684 @YuJuncen",
          "Fix the issue that Resolved TS in stale read might cause TiKV OOM issues when tracking large transactions #14864 @overvenus",
          "Fix the issue that damaged SST files might be spread to other TiKV nodes #15986 @Connor1996",
          "Fix the issue that the joint state of DR Auto-Sync might time out when scaling out #15817 @Connor1996",
          "Fix the issue that the scheduler command variables are incorrect in Grafana on the cloud environment #15832 @Connor1996",
          "Fix the issue that stale peers are retained and block resolved-ts after Regions are merged #15919 @overvenus",
          "Fix the issue that Online Unsafe Recovery cannot handle merge abort #15580 @v01dstar",
          "Fix the TiKV OOM issue that occurs when restarting TiKV and there are a large number of Raft logs that are not applied #15770 @overvenus",
          "Fix security issues by upgrading the version of lz4-sys to 1.9.4 #15621 @SpadeA-Tang",
          "Fix the issue that blob-run-mode in Titan cannot be updated online #15978 @tonyxuqqi",
          "Fix the issue that network interruption between PD and TiKV might cause PITR to get stuck #15279 @YuJuncen",
          "Fix the issue that TiKV coprocessor might return stale data when removing a Raft peer #16069 @overvenus",
          "PD\nFix the issue that the resource_manager_resource_unit metric is empty in TiDB Dashboard when executing CALIBRATE RESOURCE #45166 @CabinfeverB\nFix the issue that the Calibrate by Workload page reports an error #48162 @CabinfeverB\nFix the issue that deleting a resource group can damage DDL atomicity #45050 @glorv\nFix the issue that when PD leader is transferred and there is a network partition between the new leader and the PD client, the PD client fails to update the information of the leader #7416 @CabinfeverB\nFix the issue that adding multiple TiKV nodes to a large cluster might cause TiKV heartbeat reporting to become slow or stuck #7248 @rleungx\nFix the issue that TiDB Dashboard cannot read PD trace data correctly #7253 @nolouch\nFix some security issues by upgrading the version of Gin Web Framework from v1.8.1 to v1.9.1 #7438 @niubell\nFix the issue that the rule checker does not add Learners according to the configuration of Placement Rules #7185 @nolouch\nFix the issue that PD might delete normal Peers when TiKV nodes are unavailable #7249 @lhy1024\nFix the issue that it takes a long time to switch the leader in DR Auto-Sync mode #6988 @HuSharp",
          "Fix the issue that the resource_manager_resource_unit metric is empty in TiDB Dashboard when executing CALIBRATE RESOURCE #45166 @CabinfeverB",
          "Fix the issue that the Calibrate by Workload page reports an error #48162 @CabinfeverB",
          "Fix the issue that deleting a resource group can damage DDL atomicity #45050 @glorv",
          "Fix the issue that when PD leader is transferred and there is a network partition between the new leader and the PD client, the PD client fails to update the information of the leader #7416 @CabinfeverB",
          "Fix the issue that adding multiple TiKV nodes to a large cluster might cause TiKV heartbeat reporting to become slow or stuck #7248 @rleungx",
          "Fix the issue that TiDB Dashboard cannot read PD trace data correctly #7253 @nolouch",
          "Fix some security issues by upgrading the version of Gin Web Framework from v1.8.1 to v1.9.1 #7438 @niubell",
          "Fix the issue that the rule checker does not add Learners according to the configuration of Placement Rules #7185 @nolouch",
          "Fix the issue that PD might delete normal Peers when TiKV nodes are unavailable #7249 @lhy1024",
          "Fix the issue that it takes a long time to switch the leader in DR Auto-Sync mode #6988 @HuSharp",
          "TiFlash\nFix the issue that executing the ALTER TABLE ... EXCHANGE PARTITION ... statement causes panic #8372 @JaySon-Huang\nFix the issue of memory leak when TiFlash encounters memory limitation during query #8447 @JinheLin\nFix the issue that data of TiFlash replicas would still be garbage collected after executing FLASHBACK DATABASE #8450 @JaySon-Huang\nFix incorrect display of maximum percentile time for some panels in Grafana #8076 @JaySon-Huang\nFix the issue that a query returns the unexpected error message \"Block schema mismatch in FineGrainedShuffleWriter-V1\" #8111 @SeaRise",
          "Fix the issue that executing the ALTER TABLE ... EXCHANGE PARTITION ... statement causes panic #8372 @JaySon-Huang",
          "Fix the issue of memory leak when TiFlash encounters memory limitation during query #8447 @JinheLin",
          "Fix the issue that data of TiFlash replicas would still be garbage collected after executing FLASHBACK DATABASE #8450 @JaySon-Huang",
          "Fix incorrect display of maximum percentile time for some panels in Grafana #8076 @JaySon-Huang",
          "Fix the issue that a query returns the unexpected error message \"Block schema mismatch in FineGrainedShuffleWriter-V1\" #8111 @SeaRise",
          "Tools\nBackup & Restore (BR)\nFix the issue that the default values for BR SQL commands and CLI are different, which might cause OOM issues #48000 @YuJuncen\nFix the issue that the log backup might get stuck in some scenarios when backing up large wide tables #15714 @YuJuncen\nFix the issue that BR generates incorrect URIs for external storage files #48452 @3AceShowHand\nFix the issue that the retry after an EC2 metadata connection reset causes degraded backup and restore performance #47650 @Leavrth\nFix the issue that the log backup task can start but does not work properly if failing to connect to PD during task initialization #16056 @YuJuncen\nTiCDC\nFix the issue that the WHERE clause does not use the primary key as a condition when replicating DELETE statements in certain scenarios #9812 @asddongmen\nFix the issue that replication tasks get stuck in certain special scenarios when replicating data to object storage #10041 #10044 @CharlesCheung96\nFix the issue that replication tasks get stuck in certain special scenarios after enabling sync-point and redo log #10091 @CharlesCheung96\nFix the issue that TiCDC mistakenly closes the connection with TiKV in certain special scenarios #10239 @hicqu\nFix the issue that the changefeed cannot replicate DML events in bidirectional replication mode if the target table is dropped and then recreated in upstream #10079 @asddongmen\nFix the performance issue caused by accessing NFS directories when replicating data to an object store sink #10041 @CharlesCheung96\nFix the issue that the TiCDC server might panic when replicating data to an object storage service #10137 @sdojjy\nFix the issue that the interval between replicating DDL statements is too long when redo log is enabled #9960 @CharlesCheung96\nFix the issue that an owner node gets stuck due to NFS failure when the redo log is enabled #9886 @3AceShowHand\nTiDB Data Migration (DM)\nFix the issue that DM performance is degraded due to an inappropriate algorithm used for CompareGTID #9676 @GMHDBJD\nTiDB Lightning\nFix the issue that data import fails due to the PD leader being killed or slow processing of PD requests #46950 #48075 @D3Hunter\nFix the issue that TiDB Lightning gets stuck during writeToTiKV #46321 #48352 @lance6716\nFix the issue that data import fails because HTTP retry requests do not use the current request content #47930 @lance6716\nRemove unnecessary get_regions calls in physical import mode #45507 @mittalrishabh",
          "Backup & Restore (BR)\nFix the issue that the default values for BR SQL commands and CLI are different, which might cause OOM issues #48000 @YuJuncen\nFix the issue that the log backup might get stuck in some scenarios when backing up large wide tables #15714 @YuJuncen\nFix the issue that BR generates incorrect URIs for external storage files #48452 @3AceShowHand\nFix the issue that the retry after an EC2 metadata connection reset causes degraded backup and restore performance #47650 @Leavrth\nFix the issue that the log backup task can start but does not work properly if failing to connect to PD during task initialization #16056 @YuJuncen",
          "Fix the issue that the default values for BR SQL commands and CLI are different, which might cause OOM issues #48000 @YuJuncen",
          "Fix the issue that the log backup might get stuck in some scenarios when backing up large wide tables #15714 @YuJuncen",
          "Fix the issue that BR generates incorrect URIs for external storage files #48452 @3AceShowHand",
          "Fix the issue that the retry after an EC2 metadata connection reset causes degraded backup and restore performance #47650 @Leavrth",
          "Fix the issue that the log backup task can start but does not work properly if failing to connect to PD during task initialization #16056 @YuJuncen",
          "TiCDC\nFix the issue that the WHERE clause does not use the primary key as a condition when replicating DELETE statements in certain scenarios #9812 @asddongmen\nFix the issue that replication tasks get stuck in certain special scenarios when replicating data to object storage #10041 #10044 @CharlesCheung96\nFix the issue that replication tasks get stuck in certain special scenarios after enabling sync-point and redo log #10091 @CharlesCheung96\nFix the issue that TiCDC mistakenly closes the connection with TiKV in certain special scenarios #10239 @hicqu\nFix the issue that the changefeed cannot replicate DML events in bidirectional replication mode if the target table is dropped and then recreated in upstream #10079 @asddongmen\nFix the performance issue caused by accessing NFS directories when replicating data to an object store sink #10041 @CharlesCheung96\nFix the issue that the TiCDC server might panic when replicating data to an object storage service #10137 @sdojjy\nFix the issue that the interval between replicating DDL statements is too long when redo log is enabled #9960 @CharlesCheung96\nFix the issue that an owner node gets stuck due to NFS failure when the redo log is enabled #9886 @3AceShowHand",
          "Fix the issue that the WHERE clause does not use the primary key as a condition when replicating DELETE statements in certain scenarios #9812 @asddongmen",
          "Fix the issue that replication tasks get stuck in certain special scenarios when replicating data to object storage #10041 #10044 @CharlesCheung96",
          "Fix the issue that replication tasks get stuck in certain special scenarios after enabling sync-point and redo log #10091 @CharlesCheung96",
          "Fix the issue that TiCDC mistakenly closes the connection with TiKV in certain special scenarios #10239 @hicqu",
          "Fix the issue that the changefeed cannot replicate DML events in bidirectional replication mode if the target table is dropped and then recreated in upstream #10079 @asddongmen",
          "Fix the performance issue caused by accessing NFS directories when replicating data to an object store sink #10041 @CharlesCheung96",
          "Fix the issue that the TiCDC server might panic when replicating data to an object storage service #10137 @sdojjy",
          "Fix the issue that the interval between replicating DDL statements is too long when redo log is enabled #9960 @CharlesCheung96",
          "Fix the issue that an owner node gets stuck due to NFS failure when the redo log is enabled #9886 @3AceShowHand",
          "TiDB Data Migration (DM)\nFix the issue that DM performance is degraded due to an inappropriate algorithm used for CompareGTID #9676 @GMHDBJD",
          "Fix the issue that DM performance is degraded due to an inappropriate algorithm used for CompareGTID #9676 @GMHDBJD",
          "TiDB Lightning\nFix the issue that data import fails due to the PD leader being killed or slow processing of PD requests #46950 #48075 @D3Hunter\nFix the issue that TiDB Lightning gets stuck during writeToTiKV #46321 #48352 @lance6716\nFix the issue that data import fails because HTTP retry requests do not use the current request content #47930 @lance6716\nRemove unnecessary get_regions calls in physical import mode #45507 @mittalrishabh",
          "Fix the issue that data import fails due to the PD leader being killed or slow processing of PD requests #46950 #48075 @D3Hunter",
          "Fix the issue that TiDB Lightning gets stuck during writeToTiKV #46321 #48352 @lance6716",
          "Fix the issue that data import fails because HTTP retry requests do not use the current request content #47930 @lance6716",
          "Remove unnecessary get_regions calls in physical import mode #45507 @mittalrishabh"
        ]
      },
      {
        "version": "7.1.2",
        "date": "2023-10-25",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.1.2/",
        "changes": [
          "TiDB\nAdd new optimizer hints, including NO_MERGE_JOIN(), NO_INDEX_JOIN(), NO_INDEX_MERGE_JOIN(), NO_HASH_JOIN(), and NO_INDEX_HASH_JOIN() #45520 @qw4990\nAdd request source information related to the coprocessor #46514 @you06\nAdd the /upgrade/start and upgrade/finish APIs to mark the start and end of the upgrade status for TiDB nodes #47172 @zimulala",
          "Add new optimizer hints, including NO_MERGE_JOIN(), NO_INDEX_JOIN(), NO_INDEX_MERGE_JOIN(), NO_HASH_JOIN(), and NO_INDEX_HASH_JOIN() #45520 @qw4990",
          "Add request source information related to the coprocessor #46514 @you06",
          "Add the /upgrade/start and upgrade/finish APIs to mark the start and end of the upgrade status for TiDB nodes #47172 @zimulala",
          "TiKV\nOptimize the compaction mechanism: when a Region is split, if there is no key to split, a compaction is triggered to eliminate excessive MVCC versions #15282 @SpadeA-Tang\nEliminate LRUCache in Router objects to reduce memory usage and prevent OOM #15430 @Connor1996\nAdd the Max gap of safe-ts and Min safe ts region metrics and introduce the tikv-ctl get-region-read-progress command to better observe and diagnose the status of resolved-ts and safe-ts #15082 @ekexium\nExpose some RocksDB configurations in TiKV that allow users to disable features such as TTL and periodic compaction #14873 @LykxSassinator\nAdd the backoff mechanism for the PD client in the process of connection retries, which gradually increases retry intervals during error retries to reduce PD pressure #15428 @nolouch\nAvoid holding mutex when writing Titan manifest files to prevent affecting other threads #15351 @Connor1996\nOptimize memory usage of Resolver to prevent OOM #15458 @overvenus",
          "Optimize the compaction mechanism: when a Region is split, if there is no key to split, a compaction is triggered to eliminate excessive MVCC versions #15282 @SpadeA-Tang",
          "Eliminate LRUCache in Router objects to reduce memory usage and prevent OOM #15430 @Connor1996",
          "Add the Max gap of safe-ts and Min safe ts region metrics and introduce the tikv-ctl get-region-read-progress command to better observe and diagnose the status of resolved-ts and safe-ts #15082 @ekexium",
          "Expose some RocksDB configurations in TiKV that allow users to disable features such as TTL and periodic compaction #14873 @LykxSassinator",
          "Add the backoff mechanism for the PD client in the process of connection retries, which gradually increases retry intervals during error retries to reduce PD pressure #15428 @nolouch",
          "Avoid holding mutex when writing Titan manifest files to prevent affecting other threads #15351 @Connor1996",
          "Optimize memory usage of Resolver to prevent OOM #15458 @overvenus",
          "PD\nOptimize the backoff mechanism in the PD caller to reduce the frequency of RPC requests when a call fails #6556 @nolouch @rleungx @HuSharp\nIntroduce the cancel mechanism for the GetRegions interface to release CPU and memory in time when the caller is disconnected #6835 @lhy1024",
          "Optimize the backoff mechanism in the PD caller to reduce the frequency of RPC requests when a call fails #6556 @nolouch @rleungx @HuSharp",
          "Introduce the cancel mechanism for the GetRegions interface to release CPU and memory in time when the caller is disconnected #6835 @lhy1024",
          "TiFlash\nAdd monitoring metrics for the memory usage of index data in Grafana #8050 @hongyunyan",
          "Add monitoring metrics for the memory usage of index data in Grafana #8050 @hongyunyan",
          "Tools\nBackup & Restore (BR)\nEnhance support for connection reuse of log backup and PITR restore tasks by setting MaxIdleConns and MaxIdleConnsPerHost parameters in the HTTP client #46011 @Leavrth\nReduce the CPU overhead of log backup resolve lock #40759 @3pointer\nAdd a new restore parameter WaitTiflashReady. When this parameter is enabled, the restore operation will be completed after TiFlash replicas are successfully replicated #43828 #46302 @3pointer\nTiCDC\nOptimize several TiCDC monitoring metrics and alarm rules #9047 @asddongmen\nKafka Sink supports sending only handle key data when a message is too large, avoiding changefeed failure caused by excessive message size #9680 @3AceShowHand\nOptimize the execution logic of replicating the ADD INDEX DDL operations to avoid blocking subsequent DML statements #9644 @sdojjy\nRefine the status message when TiCDC retries after a failure #9483 @asddongmen\nTiDB Data Migration (DM)\nSupport strict optimistic mode for incompatible DDL statements #9112 @GMHDBJD\nTiDB Lightning\nChange the default value of checksum-via-sql to false to improve the performance of import tasks #45368 #45094 @GMHDBJD\nOptimize the retry logic of TiDB Lightning for the no leader error during the data import phase #46253 @lance6716",
          "Backup & Restore (BR)\nEnhance support for connection reuse of log backup and PITR restore tasks by setting MaxIdleConns and MaxIdleConnsPerHost parameters in the HTTP client #46011 @Leavrth\nReduce the CPU overhead of log backup resolve lock #40759 @3pointer\nAdd a new restore parameter WaitTiflashReady. When this parameter is enabled, the restore operation will be completed after TiFlash replicas are successfully replicated #43828 #46302 @3pointer",
          "Enhance support for connection reuse of log backup and PITR restore tasks by setting MaxIdleConns and MaxIdleConnsPerHost parameters in the HTTP client #46011 @Leavrth",
          "Reduce the CPU overhead of log backup resolve lock #40759 @3pointer",
          "Add a new restore parameter WaitTiflashReady. When this parameter is enabled, the restore operation will be completed after TiFlash replicas are successfully replicated #43828 #46302 @3pointer",
          "TiCDC\nOptimize several TiCDC monitoring metrics and alarm rules #9047 @asddongmen\nKafka Sink supports sending only handle key data when a message is too large, avoiding changefeed failure caused by excessive message size #9680 @3AceShowHand\nOptimize the execution logic of replicating the ADD INDEX DDL operations to avoid blocking subsequent DML statements #9644 @sdojjy\nRefine the status message when TiCDC retries after a failure #9483 @asddongmen",
          "Optimize several TiCDC monitoring metrics and alarm rules #9047 @asddongmen",
          "Kafka Sink supports sending only handle key data when a message is too large, avoiding changefeed failure caused by excessive message size #9680 @3AceShowHand",
          "Optimize the execution logic of replicating the ADD INDEX DDL operations to avoid blocking subsequent DML statements #9644 @sdojjy",
          "Refine the status message when TiCDC retries after a failure #9483 @asddongmen",
          "TiDB Data Migration (DM)\nSupport strict optimistic mode for incompatible DDL statements #9112 @GMHDBJD",
          "Support strict optimistic mode for incompatible DDL statements #9112 @GMHDBJD",
          "TiDB Lightning\nChange the default value of checksum-via-sql to false to improve the performance of import tasks #45368 #45094 @GMHDBJD\nOptimize the retry logic of TiDB Lightning for the no leader error during the data import phase #46253 @lance6716",
          "Change the default value of checksum-via-sql to false to improve the performance of import tasks #45368 #45094 @GMHDBJD",
          "Optimize the retry logic of TiDB Lightning for the no leader error during the data import phase #46253 @lance6716",
          "TiDB\nFix the issue that GROUP_CONCAT cannot parse the ORDER BY column #41986 @AilinKid\nFix the issue that querying the system table INFORMATION_SCHEMA.TIKV_REGION_STATUS returns incorrect results in some cases #45531 @Defined2014\nFix the issue that upgrading TiDB gets stuck when reading metadata takes longer than one DDL lease #45176 @zimulala\nFix the issue that executing DML statements with CTE can cause panic #46083 @winoros\nFix the issue of not being able to detect data that does not comply with partition definitions during partition exchange #46492 @mjonss\nFix the issue that the results of MERGE_JOIN are incorrect #46580 @qw4990\nFix the incorrect result that occurs when comparing unsigned types with Duration type constants #45410 @wshwsh12\nFix the issue that Duplicate entry might occur when AUTO_ID_CACHE=1 is set #46444 @tiancaiamao\nFix the memory leak issue when TTL is running #45510 @lcwangchao\nFix the issue that killing a connection might cause go coroutine leaks #46034 @pingyu\nFix the issue that an error in Index Join might cause the query to get stuck #45716 @wshwsh12\nFix the issue that the BatchPointGet operator returns incorrect results for hash partitioned tables #46779 @jiyfhust\nFix the issue that restrictions on partitioned tables remain on the original table when EXCHANGE PARTITION fails or is canceled #45920 #45791 @mjonss\nFix the issue that the TIDB_INLJ hint does not take effect when joining two sub-queries #46160 @qw4990\nFix the issue that the behavior is inconsistent with MySQL when comparing a DATETIME or TIMESTAMP column with a number constant #38361 @yibin87\nFix the issue that HashCode is repeatedly calculated for deeply nested expressions, which causes high memory usage and OOM #42788 @AilinKid\nFix the issue that access path pruning logic ignores the READ_FROM_STORAGE(TIFLASH[...]) hint, which causes the Can't find a proper physical plan error #40146 @AilinKid\nFix the issue that the cast(col)=range condition causes FullScan when CAST has no precision loss #45199 @AilinKid\nFix the issue that plan replayer dump explain reports an error #46197 @time-and-fate\nFix the issue that the tmp-storage-quota configuration does not take effect #45161 #26806 @wshwsh12\nFix the issue that the TiDB parser remains in a state and causes parsing failure #45898 @qw4990\nFix the issue that when Aggregation is pushed down through Union in MPP execution plans, the results are incorrect #45850 @AilinKid\nFix the issue that TiDB recovers slowly after a panic when AUTO_ID_CACHE=1 is set #46454 @tiancaiamao\nFix the issue that the Sort operator might cause TiDB to crash during the spill process #47538 @windtalker\nFix the issue of duplicate primary keys when using BR to restore non-clustered index tables with AUTO_ID_CACHE=1 #46093 @tiancaiamao\nFix the issue that the query might report an error when querying partitioned tables in static pruning mode and the execution plan contains IndexLookUp #45757 @Defined2014\nFix the issue that inserting data into a partitioned table might fail after exchanging partitions between the partition table and a table with placement policies #45791 @mjonss\nFix the issue of encoding time fields with incorrect timezone information #46033 @tangenta\nFix the issue that DDL statements that fast add indexes would get stuck when the tmp directory does not exist #45456 @tangenta\nFix the issue that upgrading multiple TiDB instances simultaneously might block the upgrade process #46228 @zimulala\nFix the issue of uneven Region scattering caused by incorrect parameters used in splitting Regions #46135 @zimulala\nFix the issue that DDL operations might get stuck after TiDB is restarted #46751 @wjhuang2016\nProhibit split table operations on non-integer clustered indexes #47350 @tangenta\nFix the issue that DDL operations might get permanently blocked due to incorrect MDL handling #46920 @wjhuang2016\nFix the issue of duplicate rows in information_schema.columns caused by renaming a table #47064 @jiyfhust\nFix the panic issue of batch-client in client-go #47691 @crazycs520\nFix the issue that statistics collection on partitioned tables is not killed in time when its memory usage exceeds memory limits #45706 @hawkingrei\nFix the issue that query results are inaccurate when queries contain UNHEX conditions #45378 @qw4990\nFix the issue that TiDB returns Can't find column for queries with GROUP_CONCAT #41957 @AilinKid",
          "Fix the issue that GROUP_CONCAT cannot parse the ORDER BY column #41986 @AilinKid",
          "Fix the issue that querying the system table INFORMATION_SCHEMA.TIKV_REGION_STATUS returns incorrect results in some cases #45531 @Defined2014",
          "Fix the issue that upgrading TiDB gets stuck when reading metadata takes longer than one DDL lease #45176 @zimulala",
          "Fix the issue that executing DML statements with CTE can cause panic #46083 @winoros",
          "Fix the issue of not being able to detect data that does not comply with partition definitions during partition exchange #46492 @mjonss",
          "Fix the issue that the results of MERGE_JOIN are incorrect #46580 @qw4990",
          "Fix the incorrect result that occurs when comparing unsigned types with Duration type constants #45410 @wshwsh12",
          "Fix the issue that Duplicate entry might occur when AUTO_ID_CACHE=1 is set #46444 @tiancaiamao",
          "Fix the memory leak issue when TTL is running #45510 @lcwangchao",
          "Fix the issue that killing a connection might cause go coroutine leaks #46034 @pingyu",
          "Fix the issue that an error in Index Join might cause the query to get stuck #45716 @wshwsh12",
          "Fix the issue that the BatchPointGet operator returns incorrect results for hash partitioned tables #46779 @jiyfhust",
          "Fix the issue that restrictions on partitioned tables remain on the original table when EXCHANGE PARTITION fails or is canceled #45920 #45791 @mjonss",
          "Fix the issue that the TIDB_INLJ hint does not take effect when joining two sub-queries #46160 @qw4990",
          "Fix the issue that the behavior is inconsistent with MySQL when comparing a DATETIME or TIMESTAMP column with a number constant #38361 @yibin87",
          "Fix the issue that HashCode is repeatedly calculated for deeply nested expressions, which causes high memory usage and OOM #42788 @AilinKid",
          "Fix the issue that access path pruning logic ignores the READ_FROM_STORAGE(TIFLASH[...]) hint, which causes the Can't find a proper physical plan error #40146 @AilinKid",
          "Fix the issue that the cast(col)=range condition causes FullScan when CAST has no precision loss #45199 @AilinKid",
          "Fix the issue that plan replayer dump explain reports an error #46197 @time-and-fate",
          "Fix the issue that the tmp-storage-quota configuration does not take effect #45161 #26806 @wshwsh12",
          "Fix the issue that the TiDB parser remains in a state and causes parsing failure #45898 @qw4990",
          "Fix the issue that when Aggregation is pushed down through Union in MPP execution plans, the results are incorrect #45850 @AilinKid",
          "Fix the issue that TiDB recovers slowly after a panic when AUTO_ID_CACHE=1 is set #46454 @tiancaiamao",
          "Fix the issue that the Sort operator might cause TiDB to crash during the spill process #47538 @windtalker",
          "Fix the issue of duplicate primary keys when using BR to restore non-clustered index tables with AUTO_ID_CACHE=1 #46093 @tiancaiamao",
          "Fix the issue that the query might report an error when querying partitioned tables in static pruning mode and the execution plan contains IndexLookUp #45757 @Defined2014",
          "Fix the issue that inserting data into a partitioned table might fail after exchanging partitions between the partition table and a table with placement policies #45791 @mjonss",
          "Fix the issue of encoding time fields with incorrect timezone information #46033 @tangenta",
          "Fix the issue that DDL statements that fast add indexes would get stuck when the tmp directory does not exist #45456 @tangenta",
          "Fix the issue that upgrading multiple TiDB instances simultaneously might block the upgrade process #46228 @zimulala",
          "Fix the issue of uneven Region scattering caused by incorrect parameters used in splitting Regions #46135 @zimulala",
          "Fix the issue that DDL operations might get stuck after TiDB is restarted #46751 @wjhuang2016",
          "Prohibit split table operations on non-integer clustered indexes #47350 @tangenta",
          "Fix the issue that DDL operations might get permanently blocked due to incorrect MDL handling #46920 @wjhuang2016",
          "Fix the issue of duplicate rows in information_schema.columns caused by renaming a table #47064 @jiyfhust",
          "Fix the panic issue of batch-client in client-go #47691 @crazycs520",
          "Fix the issue that statistics collection on partitioned tables is not killed in time when its memory usage exceeds memory limits #45706 @hawkingrei",
          "Fix the issue that query results are inaccurate when queries contain UNHEX conditions #45378 @qw4990",
          "Fix the issue that TiDB returns Can't find column for queries with GROUP_CONCAT #41957 @AilinKid",
          "TiKV\nFix the issue that the ttl-check-poll-interval configuration item does not take effect on RawKV API V2 #15142 @pingyu\nFix the data error of continuously increasing raftstore-applys #15371 @Connor1996\nFix the issue that the QPS drops to zero in the sync-recover phase under the Data Replication Auto Synchronous mode #14975 @nolouch\nFix the data inconsistency issue that might occur when one TiKV node is isolated and another node is restarted #15035 @overvenus\nFix the issue that Online Unsafe Recovery cannot handle merge abort #15580 @v01dstar\nFix the issue that network interruption between PD and TiKV might cause PITR to get stuck #15279 @YuJuncen\nFix the issue that Region Merge might be blocked after executing FLASHBACK #15258 @overvenus\nFix the issue of heartbeat storms by reducing the number of store heartbeat retries #15184 @nolouch\nFix the issue that Online Unsafe Recovery does not abort on timeout #15346 @Connor1996\nFix the issue that encryption might cause data corruption during partial write #15080 @tabokie\nFix the TiKV panic issue caused by incorrect metadata of Region #13311 @cfzjywxk\nFix the issue that requests of the TiDB Lightning checksum coprocessor time out when there is online workload #15565 @lance6716\nFix the issue that moving a peer might cause the performance of the Follower Read to deteriorate #15468 @YuJuncen",
          "Fix the issue that the ttl-check-poll-interval configuration item does not take effect on RawKV API V2 #15142 @pingyu",
          "Fix the data error of continuously increasing raftstore-applys #15371 @Connor1996",
          "Fix the issue that the QPS drops to zero in the sync-recover phase under the Data Replication Auto Synchronous mode #14975 @nolouch",
          "Fix the data inconsistency issue that might occur when one TiKV node is isolated and another node is restarted #15035 @overvenus",
          "Fix the issue that Online Unsafe Recovery cannot handle merge abort #15580 @v01dstar",
          "Fix the issue that network interruption between PD and TiKV might cause PITR to get stuck #15279 @YuJuncen",
          "Fix the issue that Region Merge might be blocked after executing FLASHBACK #15258 @overvenus",
          "Fix the issue of heartbeat storms by reducing the number of store heartbeat retries #15184 @nolouch",
          "Fix the issue that Online Unsafe Recovery does not abort on timeout #15346 @Connor1996",
          "Fix the issue that encryption might cause data corruption during partial write #15080 @tabokie",
          "Fix the TiKV panic issue caused by incorrect metadata of Region #13311 @cfzjywxk",
          "Fix the issue that requests of the TiDB Lightning checksum coprocessor time out when there is online workload #15565 @lance6716",
          "Fix the issue that moving a peer might cause the performance of the Follower Read to deteriorate #15468 @YuJuncen",
          "PD\nFix the issue that hot Regions might not be scheduled in the v2 scheduler algorithm #6645 @lhy1024\nFix the issue that the TLS handshake might cause high CPU usage in an empty cluster #6913 @nolouch\nFix the issue that injection errors between PD nodes might cause PD panic #6858 @HuSharp\nFix the issue that store information synchronization might cause the PD leader to exit and get stuck #6918 @rleungx\nFix the issue that the Region information is not updated after Flashback #6912 @overvenus\nFix the issue that PD might panic during exiting #7053 @HuSharp\nFix the issue that the context timeout might cause the lease timeout error #6926 @rleungx\nFix the issue that peers are not properly scattered by group, which might cause uneven distribution of leaders #6962 @rleungx\nFix the issue that the isolation level label is not synchronized when updating using pd-ctl #7121 @rleungx\nFix the issue that evict-leader-scheduler might lose configuration #6897 @HuSharp\nFix potential security risks of the plugin directory and files #7094 @HuSharp\nFix the issue that DDL might not guarantee atomicity after enabling resource control #45050 @glorv\nFix the issue that unhealthy peers cannot be removed when rule checker selects peers #6559 @nolouch\nFix the issue that when etcd is already started but the client has not yet connected to it, calling the client might cause PD to panic #6860 @HuSharp\nFix the issue that RU consumption less than 0 causes PD to crash #6973 @CabinfeverB\nFix the issue that the client-go regularly updating min-resolved-ts might cause PD OOM when the cluster is large #46664 @HuSharp",
          "Fix the issue that hot Regions might not be scheduled in the v2 scheduler algorithm #6645 @lhy1024",
          "Fix the issue that the TLS handshake might cause high CPU usage in an empty cluster #6913 @nolouch",
          "Fix the issue that injection errors between PD nodes might cause PD panic #6858 @HuSharp",
          "Fix the issue that store information synchronization might cause the PD leader to exit and get stuck #6918 @rleungx",
          "Fix the issue that the Region information is not updated after Flashback #6912 @overvenus",
          "Fix the issue that PD might panic during exiting #7053 @HuSharp",
          "Fix the issue that the context timeout might cause the lease timeout error #6926 @rleungx",
          "Fix the issue that peers are not properly scattered by group, which might cause uneven distribution of leaders #6962 @rleungx",
          "Fix the issue that the isolation level label is not synchronized when updating using pd-ctl #7121 @rleungx",
          "Fix the issue that evict-leader-scheduler might lose configuration #6897 @HuSharp",
          "Fix potential security risks of the plugin directory and files #7094 @HuSharp",
          "Fix the issue that DDL might not guarantee atomicity after enabling resource control #45050 @glorv",
          "Fix the issue that unhealthy peers cannot be removed when rule checker selects peers #6559 @nolouch",
          "Fix the issue that when etcd is already started but the client has not yet connected to it, calling the client might cause PD to panic #6860 @HuSharp",
          "Fix the issue that RU consumption less than 0 causes PD to crash #6973 @CabinfeverB",
          "Fix the issue that the client-go regularly updating min-resolved-ts might cause PD OOM when the cluster is large #46664 @HuSharp",
          "TiFlash\nFix the issue that the memory usage reported by MemoryTracker is inaccurate #8128 @JinheLin\nFix the issue that TiFlash data is inconsistent due to invalid range keys of a region #7762 @lidezhu\nFix the issue that queries fail after fsp is changed for DATETIME, TIMESTAMP, or TIME data type #7809 @JaySon-Huang\nFix the issue that when there are multiple HashAgg operators within the same MPP task, the compilation of the MPP task might take an excessively long time, severely affecting query performance #7810 @SeaRise",
          "Fix the issue that the memory usage reported by MemoryTracker is inaccurate #8128 @JinheLin",
          "Fix the issue that TiFlash data is inconsistent due to invalid range keys of a region #7762 @lidezhu",
          "Fix the issue that queries fail after fsp is changed for DATETIME, TIMESTAMP, or TIME data type #7809 @JaySon-Huang",
          "Fix the issue that when there are multiple HashAgg operators within the same MPP task, the compilation of the MPP task might take an excessively long time, severely affecting query performance #7810 @SeaRise",
          "Tools\nBackup & Restore (BR)\nFix the issue that recovering implicit primary keys using PITR might cause conflicts #46520 @3pointer\nFix the issue that PITR fails to recover data from GCS #47022 @Leavrth\nFix the potential error in fine-grained backup phase in RawKV mode #37085 @pingyu\nFix the issue that recovering meta-kv using PITR might cause errors #46578 @Leavrth\nFix the errors in BR integration test cases #46561 @purelind\nFix the issue of restore failures by increasing the default values of the global parameters TableColumnCountLimit and IndexLimit used by BR to their maximum values #45793 @Leavrth\nFix the issue that the br CLI client gets stuck when scanning restored data #45476 @3pointer\nFix the issue that PITR might skip restoring the CREATE INDEX DDL statement #47482 @Leavrth\nFix the issue that running PITR multiple times within 1 minute might cause data loss #15483 @YuJuncen\nTiCDC\nFix the issue that a replication task in an abnormal state blocks upstream GC #9543 @CharlesCheung96\nFix the issue that replicating data to an object storage might cause data inconsistency #9592 @CharlesCheung96\nFix the issue that enabling redo-resolved-ts might cause changefeed to fail #9769 @CharlesCheung96\nFix the issue that fetching wrong memory information might cause OOM issues in some operating systems #9762 @sdojjy\nFix the issue of uneven distribution of write keys among nodes when scale-out is enabled #9665 @sdojjy\nFix the issue that sensitive user information is recorded in the logs #9690 @sdojjy\nFix the issue that TiCDC might incorrectly synchronize rename DDL operations #9488 #9378 #9531 @asddongmen\nFix the issue that upstream TiDB GC is blocked after all changefeeds are removed #9633 @sdojjy\nFix the issue that TiCDC replication tasks might fail in some corner cases #9685 #9697 #9695 #9736 @hicqu @CharlesCheung96\nFix the issue of high TiCDC replication latency caused by network isolation of PD nodes #9565 @asddongmen\nFix the issue that TiCDC accesses the invalid old address during PD scaling up and down #9584 @fubinzh @asddongmen\nFix the issue that TiCDC cannot recover quickly from TiKV node failures when there are a lot of Regions upstream #9741 @sdojjy\nFix the issue that TiCDC incorrectly changes the UPDATE operation to INSERT when using the CSV format #9658 @3AceShowHand\nFix the issue that a replication error occurs when multiple tables are renamed in the same DDL statement on the upstream #9476 #9488 @CharlesCheung96 @asddongmen\nFix the issue that the replication task fails due to short retry intervals when synchronizing to Kafka #9504 @3AceShowHand\nFix the issue that replication write conflicts might occur when the unique keys for multiple rows are modified in one transaction on the upstream #9430 @sdojjy\nFix the issue that the replication task might get stuck when the downstream encounters a short-term failure #9542 #9272 #9582 #9592 @hicqu\nFix the issue that the replication task might get stuck when the downstream encounters an error and retries #9450 @hicqu\nFix the issue that TiCDC might get stuck when replicating data to Kafka #9855 @hicqu\nTiDB Data Migration (DM)\nFix the issue that replication lag returned by DM keeps growing when a failed DDL is skipped and no subsequent DDLs are executed #9605 @D3Hunter\nFix the issue that DM cannot handle conflicts correctly with case-insensitive collations #9489 @hihihuhu\nFix the DM validator deadlock issue and enhance retries #9257 @D3Hunter\nFix the issue that DM skips all DMLs when resuming a task in optimistic mode #9588 @GMHDBJD\nFix the issue that DM cannot properly track upstream table schemas when skipping online DDLs #9587 @GMHDBJD\nFix the issue that DM skips partition DDLs in optimistic mode #9788 @GMHDBJD\nTiDB Lightning\nFix the issue that when importing a table with AUTO_ID_CACHE=1, a wrong row_id is assigned #46100 @D3Hunter\nFix the issue that the data type is wrong when saving NEXT_GLOBAL_ROW_ID #45427 @lyzx2001\nFix the issue that checksum still reports errors when checksum = \"optional\" #45382 @lyzx2001\nFix the issue that data import fails when the PD cluster address changes #43436 @lichunzhu\nFix the issue that TiDB Lightning fails to start when PD topology is changed #46688 @lance6716\nFix the issue that route might panic when importing CSV data #43284 @lyzx2001\nTiDB Binlog\nFix the issue that Drainer exits when transporting a transaction greater than 1 GB #28659 @jackysp",
          "Backup & Restore (BR)\nFix the issue that recovering implicit primary keys using PITR might cause conflicts #46520 @3pointer\nFix the issue that PITR fails to recover data from GCS #47022 @Leavrth\nFix the potential error in fine-grained backup phase in RawKV mode #37085 @pingyu\nFix the issue that recovering meta-kv using PITR might cause errors #46578 @Leavrth\nFix the errors in BR integration test cases #46561 @purelind\nFix the issue of restore failures by increasing the default values of the global parameters TableColumnCountLimit and IndexLimit used by BR to their maximum values #45793 @Leavrth\nFix the issue that the br CLI client gets stuck when scanning restored data #45476 @3pointer\nFix the issue that PITR might skip restoring the CREATE INDEX DDL statement #47482 @Leavrth\nFix the issue that running PITR multiple times within 1 minute might cause data loss #15483 @YuJuncen",
          "Fix the issue that recovering implicit primary keys using PITR might cause conflicts #46520 @3pointer",
          "Fix the issue that PITR fails to recover data from GCS #47022 @Leavrth",
          "Fix the potential error in fine-grained backup phase in RawKV mode #37085 @pingyu",
          "Fix the issue that recovering meta-kv using PITR might cause errors #46578 @Leavrth",
          "Fix the errors in BR integration test cases #46561 @purelind",
          "Fix the issue of restore failures by increasing the default values of the global parameters TableColumnCountLimit and IndexLimit used by BR to their maximum values #45793 @Leavrth",
          "Fix the issue that the br CLI client gets stuck when scanning restored data #45476 @3pointer",
          "Fix the issue that PITR might skip restoring the CREATE INDEX DDL statement #47482 @Leavrth",
          "Fix the issue that running PITR multiple times within 1 minute might cause data loss #15483 @YuJuncen",
          "TiCDC\nFix the issue that a replication task in an abnormal state blocks upstream GC #9543 @CharlesCheung96\nFix the issue that replicating data to an object storage might cause data inconsistency #9592 @CharlesCheung96\nFix the issue that enabling redo-resolved-ts might cause changefeed to fail #9769 @CharlesCheung96\nFix the issue that fetching wrong memory information might cause OOM issues in some operating systems #9762 @sdojjy\nFix the issue of uneven distribution of write keys among nodes when scale-out is enabled #9665 @sdojjy\nFix the issue that sensitive user information is recorded in the logs #9690 @sdojjy\nFix the issue that TiCDC might incorrectly synchronize rename DDL operations #9488 #9378 #9531 @asddongmen\nFix the issue that upstream TiDB GC is blocked after all changefeeds are removed #9633 @sdojjy\nFix the issue that TiCDC replication tasks might fail in some corner cases #9685 #9697 #9695 #9736 @hicqu @CharlesCheung96\nFix the issue of high TiCDC replication latency caused by network isolation of PD nodes #9565 @asddongmen\nFix the issue that TiCDC accesses the invalid old address during PD scaling up and down #9584 @fubinzh @asddongmen\nFix the issue that TiCDC cannot recover quickly from TiKV node failures when there are a lot of Regions upstream #9741 @sdojjy\nFix the issue that TiCDC incorrectly changes the UPDATE operation to INSERT when using the CSV format #9658 @3AceShowHand\nFix the issue that a replication error occurs when multiple tables are renamed in the same DDL statement on the upstream #9476 #9488 @CharlesCheung96 @asddongmen\nFix the issue that the replication task fails due to short retry intervals when synchronizing to Kafka #9504 @3AceShowHand\nFix the issue that replication write conflicts might occur when the unique keys for multiple rows are modified in one transaction on the upstream #9430 @sdojjy\nFix the issue that the replication task might get stuck when the downstream encounters a short-term failure #9542 #9272 #9582 #9592 @hicqu\nFix the issue that the replication task might get stuck when the downstream encounters an error and retries #9450 @hicqu\nFix the issue that TiCDC might get stuck when replicating data to Kafka #9855 @hicqu",
          "Fix the issue that a replication task in an abnormal state blocks upstream GC #9543 @CharlesCheung96",
          "Fix the issue that replicating data to an object storage might cause data inconsistency #9592 @CharlesCheung96",
          "Fix the issue that enabling redo-resolved-ts might cause changefeed to fail #9769 @CharlesCheung96",
          "Fix the issue that fetching wrong memory information might cause OOM issues in some operating systems #9762 @sdojjy",
          "Fix the issue of uneven distribution of write keys among nodes when scale-out is enabled #9665 @sdojjy",
          "Fix the issue that sensitive user information is recorded in the logs #9690 @sdojjy",
          "Fix the issue that TiCDC might incorrectly synchronize rename DDL operations #9488 #9378 #9531 @asddongmen",
          "Fix the issue that upstream TiDB GC is blocked after all changefeeds are removed #9633 @sdojjy",
          "Fix the issue that TiCDC replication tasks might fail in some corner cases #9685 #9697 #9695 #9736 @hicqu @CharlesCheung96",
          "Fix the issue of high TiCDC replication latency caused by network isolation of PD nodes #9565 @asddongmen",
          "Fix the issue that TiCDC accesses the invalid old address during PD scaling up and down #9584 @fubinzh @asddongmen",
          "Fix the issue that TiCDC cannot recover quickly from TiKV node failures when there are a lot of Regions upstream #9741 @sdojjy",
          "Fix the issue that TiCDC incorrectly changes the UPDATE operation to INSERT when using the CSV format #9658 @3AceShowHand",
          "Fix the issue that a replication error occurs when multiple tables are renamed in the same DDL statement on the upstream #9476 #9488 @CharlesCheung96 @asddongmen",
          "Fix the issue that the replication task fails due to short retry intervals when synchronizing to Kafka #9504 @3AceShowHand",
          "Fix the issue that replication write conflicts might occur when the unique keys for multiple rows are modified in one transaction on the upstream #9430 @sdojjy",
          "Fix the issue that the replication task might get stuck when the downstream encounters a short-term failure #9542 #9272 #9582 #9592 @hicqu",
          "Fix the issue that the replication task might get stuck when the downstream encounters an error and retries #9450 @hicqu",
          "Fix the issue that TiCDC might get stuck when replicating data to Kafka #9855 @hicqu",
          "TiDB Data Migration (DM)\nFix the issue that replication lag returned by DM keeps growing when a failed DDL is skipped and no subsequent DDLs are executed #9605 @D3Hunter\nFix the issue that DM cannot handle conflicts correctly with case-insensitive collations #9489 @hihihuhu\nFix the DM validator deadlock issue and enhance retries #9257 @D3Hunter\nFix the issue that DM skips all DMLs when resuming a task in optimistic mode #9588 @GMHDBJD\nFix the issue that DM cannot properly track upstream table schemas when skipping online DDLs #9587 @GMHDBJD\nFix the issue that DM skips partition DDLs in optimistic mode #9788 @GMHDBJD",
          "Fix the issue that replication lag returned by DM keeps growing when a failed DDL is skipped and no subsequent DDLs are executed #9605 @D3Hunter",
          "Fix the issue that DM cannot handle conflicts correctly with case-insensitive collations #9489 @hihihuhu",
          "Fix the DM validator deadlock issue and enhance retries #9257 @D3Hunter",
          "Fix the issue that DM skips all DMLs when resuming a task in optimistic mode #9588 @GMHDBJD",
          "Fix the issue that DM cannot properly track upstream table schemas when skipping online DDLs #9587 @GMHDBJD",
          "Fix the issue that DM skips partition DDLs in optimistic mode #9788 @GMHDBJD",
          "TiDB Lightning\nFix the issue that when importing a table with AUTO_ID_CACHE=1, a wrong row_id is assigned #46100 @D3Hunter\nFix the issue that the data type is wrong when saving NEXT_GLOBAL_ROW_ID #45427 @lyzx2001\nFix the issue that checksum still reports errors when checksum = \"optional\" #45382 @lyzx2001\nFix the issue that data import fails when the PD cluster address changes #43436 @lichunzhu\nFix the issue that TiDB Lightning fails to start when PD topology is changed #46688 @lance6716\nFix the issue that route might panic when importing CSV data #43284 @lyzx2001",
          "Fix the issue that when importing a table with AUTO_ID_CACHE=1, a wrong row_id is assigned #46100 @D3Hunter",
          "Fix the issue that the data type is wrong when saving NEXT_GLOBAL_ROW_ID #45427 @lyzx2001",
          "Fix the issue that checksum still reports errors when checksum = \"optional\" #45382 @lyzx2001",
          "Fix the issue that data import fails when the PD cluster address changes #43436 @lichunzhu",
          "Fix the issue that TiDB Lightning fails to start when PD topology is changed #46688 @lance6716",
          "Fix the issue that route might panic when importing CSV data #43284 @lyzx2001",
          "TiDB Binlog\nFix the issue that Drainer exits when transporting a transaction greater than 1 GB #28659 @jackysp",
          "Fix the issue that Drainer exits when transporting a transaction greater than 1 GB #28659 @jackysp"
        ]
      },
      {
        "version": "7.1.1",
        "date": "2023-07-24",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.1.1/",
        "changes": [
          "TiDB\nPlan Cache supports queries with more than 200 parameters #44823 @qw4990\nOptimize the performance of reading the dumped chunks from disk #45125 @YangKeao\nOptimize the logic of constructing index scan range so that it supports converting complex conditions into index scan range #41572 #44389 @xuyifangreeneyes\nWhen the retry leader of stale read encounters a lock, TiDB forcibly retries with the leader after resolving the lock, which avoids unnecessary overhead #43659 @you06",
          "Plan Cache supports queries with more than 200 parameters #44823 @qw4990",
          "Optimize the performance of reading the dumped chunks from disk #45125 @YangKeao",
          "Optimize the logic of constructing index scan range so that it supports converting complex conditions into index scan range #41572 #44389 @xuyifangreeneyes",
          "When the retry leader of stale read encounters a lock, TiDB forcibly retries with the leader after resolving the lock, which avoids unnecessary overhead #43659 @you06",
          "PD\nPD blocks Swagger API by default when the Swagger server is disabled #6786 @bufferflies",
          "PD blocks Swagger API by default when the Swagger server is disabled #6786 @bufferflies",
          "Tools\nTiCDC\nOptimize the encoding format of binary fields when TiCDC replicates data to object storage services #9373 @CharlesCheung96\nSupport the OAUTHBEARER authentication in the scenario of replication to Kafka #8865 @hi-rustin\nTiDB Lightning\nImprove the retry logic of TiDB Lightning for the PD ClientTSOStreamClosed error during the checksum phase #45301 @lance6716\nVerify checksum through SQL after the import to improve stability of verification #41941 @GMHDBJD\nDumpling\nDumpling avoids executing table queries when the --sql parameter is used, thereby reducing the export overhead #45239 @lance6716\nTiDB Binlog\nOptimize the method of retrieving table information to reduce the initialization time and memory usage of Drainer #1137 @lichunzhu",
          "TiCDC\nOptimize the encoding format of binary fields when TiCDC replicates data to object storage services #9373 @CharlesCheung96\nSupport the OAUTHBEARER authentication in the scenario of replication to Kafka #8865 @hi-rustin",
          "Optimize the encoding format of binary fields when TiCDC replicates data to object storage services #9373 @CharlesCheung96",
          "Support the OAUTHBEARER authentication in the scenario of replication to Kafka #8865 @hi-rustin",
          "TiDB Lightning\nImprove the retry logic of TiDB Lightning for the PD ClientTSOStreamClosed error during the checksum phase #45301 @lance6716\nVerify checksum through SQL after the import to improve stability of verification #41941 @GMHDBJD",
          "Improve the retry logic of TiDB Lightning for the PD ClientTSOStreamClosed error during the checksum phase #45301 @lance6716",
          "Verify checksum through SQL after the import to improve stability of verification #41941 @GMHDBJD",
          "Dumpling\nDumpling avoids executing table queries when the --sql parameter is used, thereby reducing the export overhead #45239 @lance6716",
          "Dumpling avoids executing table queries when the --sql parameter is used, thereby reducing the export overhead #45239 @lance6716",
          "TiDB Binlog\nOptimize the method of retrieving table information to reduce the initialization time and memory usage of Drainer #1137 @lichunzhu",
          "Optimize the method of retrieving table information to reduce the initialization time and memory usage of Drainer #1137 @lichunzhu",
          "TiDB\nFix the issue that the GC Resolve Locks step might miss some pessimistic locks #45134 @MyonKeminta\nFix the issue that Stats Collector might cause deadlock when a new session is created #44502 @xuyifangreeneyes\nFix the potential memory leak issue in memory tracker #44612 @wshwsh12\nFix the issue that batch coprocessor retry might generate incorrect Region information that causes query failure #44622 @windtalker\nFix the potential data race issue in index scan #45126 @wshwsh12\nFix the issue that query results in MPP mode are incorrect when tidb_enable_parallel_apply is enabled #45299 @windtalker\nFix the hang-up issue that occurs when queries with indexMerge are killed #45279 @xzhangxian1008\nFix the issue that excessive memory consumption of SQL execution details in statistics causes TiDB OOM in extreme cases #44047 @wshwsh12\nFix the issue that the FormatSQL() method cannot properly truncate extremely long SQL statements in input #44542 @hawkingrei\nFix the issue that DDL operations get stuck during cluster upgrade, which causes upgrade failure #44158 @zimulala\nFix the issue that other TiDB nodes do not take over TTL tasks after failures in one TiDB node #45022 @lcwangchao\nFix the issue that when the MySQL Cursor Fetch protocol is used, the memory consumption of result sets might exceed the tidb_mem_quota_query limit and causes TiDB OOM. After the fix, TiDB will automatically write result sets to the disk to release memory #43233 @YangKeao\nFix the issue that users can view information in the INFORMATION_SCHEMA.TIFLASH_REPLICA table even without permissions #45320 @Lloyd-Pottiger\nFix the issue that ROW_COUNT returned by the ADMIN SHOW DDL JOBS statement is inaccurate #44044 @tangenta\nFix the issue that querying a Range COLUMNS partitioned table might get an error #43459 @mjonss\nFix the issue that resuming a paused DDL task fails #44217 @dhysum\nFix the issue that in-memory pessimistic locks cause FLASHBACK failures and data inconsistency #44292 @JmPotato\nFix the issue that deleted tables can still be read from INFORMATION_SCHEMA #43714 @tangenta\nFix the issue that the cluster upgrade fails when there are paused DDL operations before the upgrade #44225 @zimulala\nFix the duplicate entry error that occurs when restoring a table with AUTO_ID_CACHE=1 using BR #44716 @tiancaiamao\nFix the data index inconsistency issue triggered by multiple switches of DDL owner #44619 @tangenta\nFix the issue that canceling an ADD INDEX DDL task in the none status might cause memory leak because this task is not removed from the Distributed eXecution Framework (DXF) task queue #44205 @tangenta\nFix the issue that the proxy protocol reports the Header read timeout error when processing certain erroneous data #43205 @blacktear23\nFix the issue that PD isolation might block the running DDL #44267 @wjhuang2016\nFix the issue that the query result of the SELECT CAST(n AS CHAR) statement is incorrect when n in the statement is a negative number #44786 @xhebox\nFix the issue of excessive memory usage after creating a large number of empty partitioned tables #44308 @hawkingrei\nFix the issue that Join Reorder might cause incorrect outer join results #44314 @AilinKid\nFix the issue that queries containing Common Table Expressions (CTEs) might cause insufficient disk space #44477 @guo-shaoge\nFix the issue that dropping a database causes slow GC progress #33069 @tiancaiamao\nFix the issue that adding an index fails in the ingest mode #44137 @tangenta\nFix the issue that the SELECT statement returns an error for a partitioned table if the table partition definition uses the FLOOR() function to round a partitioned column #42323 @jiyfhust\nFix the issue that follower read does not handle flashback errors before retrying, which causes query errors #43673 @you06\nFix the issue that using memTracker with cursor fetch causes memory leaks #44254 @YangKeao\nFix the issue that the SHOW PROCESSLIST statement cannot display the TxnStart of the transaction of the statement with a long subquery time #40851 @crazycs520\nFix the issue that the LEADING hint does not support querying block aliases #44645 @qw4990\nFix the issue that PREPARE stmt FROM \"ANALYZE TABLE xxx\" might be killed by tidb_mem_quota_query #44320 @chrysan\nFix the panic issue caused by empty processInfo #43829 @zimulala\nFix the issue that data and indexes are inconsistent when the ON UPDATE statement does not correctly update the primary key #44565 @zyguan\nFix the issue that queries might return incorrect results when tidb_opt_agg_push_down is enabled #44795 @AilinKid\nFix the issue that using CTEs and correlated subqueries simultaneously might result in incorrect query results or panic #44649 #38170 #44774 @winoros @guo-shaoge\nFix the issue that canceling a DDL task in the rollback state causes errors in related metadata #44143 @wjhuang2016\nFix the issue that executing the UPDATE statement causes errors due to checking foreign key constraints #44848 @crazycs520",
          "Fix the issue that the GC Resolve Locks step might miss some pessimistic locks #45134 @MyonKeminta",
          "Fix the issue that Stats Collector might cause deadlock when a new session is created #44502 @xuyifangreeneyes",
          "Fix the potential memory leak issue in memory tracker #44612 @wshwsh12",
          "Fix the issue that batch coprocessor retry might generate incorrect Region information that causes query failure #44622 @windtalker",
          "Fix the potential data race issue in index scan #45126 @wshwsh12",
          "Fix the issue that query results in MPP mode are incorrect when tidb_enable_parallel_apply is enabled #45299 @windtalker",
          "Fix the hang-up issue that occurs when queries with indexMerge are killed #45279 @xzhangxian1008",
          "Fix the issue that excessive memory consumption of SQL execution details in statistics causes TiDB OOM in extreme cases #44047 @wshwsh12",
          "Fix the issue that the FormatSQL() method cannot properly truncate extremely long SQL statements in input #44542 @hawkingrei",
          "Fix the issue that DDL operations get stuck during cluster upgrade, which causes upgrade failure #44158 @zimulala",
          "Fix the issue that other TiDB nodes do not take over TTL tasks after failures in one TiDB node #45022 @lcwangchao",
          "Fix the issue that when the MySQL Cursor Fetch protocol is used, the memory consumption of result sets might exceed the tidb_mem_quota_query limit and causes TiDB OOM. After the fix, TiDB will automatically write result sets to the disk to release memory #43233 @YangKeao",
          "Fix the issue that users can view information in the INFORMATION_SCHEMA.TIFLASH_REPLICA table even without permissions #45320 @Lloyd-Pottiger",
          "Fix the issue that ROW_COUNT returned by the ADMIN SHOW DDL JOBS statement is inaccurate #44044 @tangenta",
          "Fix the issue that querying a Range COLUMNS partitioned table might get an error #43459 @mjonss",
          "Fix the issue that resuming a paused DDL task fails #44217 @dhysum",
          "Fix the issue that in-memory pessimistic locks cause FLASHBACK failures and data inconsistency #44292 @JmPotato",
          "Fix the issue that deleted tables can still be read from INFORMATION_SCHEMA #43714 @tangenta",
          "Fix the issue that the cluster upgrade fails when there are paused DDL operations before the upgrade #44225 @zimulala",
          "Fix the duplicate entry error that occurs when restoring a table with AUTO_ID_CACHE=1 using BR #44716 @tiancaiamao",
          "Fix the data index inconsistency issue triggered by multiple switches of DDL owner #44619 @tangenta",
          "Fix the issue that canceling an ADD INDEX DDL task in the none status might cause memory leak because this task is not removed from the Distributed eXecution Framework (DXF) task queue #44205 @tangenta",
          "Fix the issue that the proxy protocol reports the Header read timeout error when processing certain erroneous data #43205 @blacktear23",
          "Fix the issue that PD isolation might block the running DDL #44267 @wjhuang2016",
          "Fix the issue that the query result of the SELECT CAST(n AS CHAR) statement is incorrect when n in the statement is a negative number #44786 @xhebox",
          "Fix the issue of excessive memory usage after creating a large number of empty partitioned tables #44308 @hawkingrei",
          "Fix the issue that Join Reorder might cause incorrect outer join results #44314 @AilinKid",
          "Fix the issue that queries containing Common Table Expressions (CTEs) might cause insufficient disk space #44477 @guo-shaoge",
          "Fix the issue that dropping a database causes slow GC progress #33069 @tiancaiamao",
          "Fix the issue that adding an index fails in the ingest mode #44137 @tangenta",
          "Fix the issue that the SELECT statement returns an error for a partitioned table if the table partition definition uses the FLOOR() function to round a partitioned column #42323 @jiyfhust",
          "Fix the issue that follower read does not handle flashback errors before retrying, which causes query errors #43673 @you06",
          "Fix the issue that using memTracker with cursor fetch causes memory leaks #44254 @YangKeao",
          "Fix the issue that the SHOW PROCESSLIST statement cannot display the TxnStart of the transaction of the statement with a long subquery time #40851 @crazycs520",
          "Fix the issue that the LEADING hint does not support querying block aliases #44645 @qw4990",
          "Fix the issue that PREPARE stmt FROM \"ANALYZE TABLE xxx\" might be killed by tidb_mem_quota_query #44320 @chrysan",
          "Fix the panic issue caused by empty processInfo #43829 @zimulala",
          "Fix the issue that data and indexes are inconsistent when the ON UPDATE statement does not correctly update the primary key #44565 @zyguan",
          "Fix the issue that queries might return incorrect results when tidb_opt_agg_push_down is enabled #44795 @AilinKid",
          "Fix the issue that using CTEs and correlated subqueries simultaneously might result in incorrect query results or panic #44649 #38170 #44774 @winoros @guo-shaoge",
          "Fix the issue that canceling a DDL task in the rollback state causes errors in related metadata #44143 @wjhuang2016",
          "Fix the issue that executing the UPDATE statement causes errors due to checking foreign key constraints #44848 @crazycs520",
          "PD\nFix the issue that Resource Manager repeatedly initializes the default resource group #6787 @glorv\nFix the issue that in some cases, the location-labels set in the Placement Rules in SQL does not schedule as expected #6662 @rleungx\nFix the issue that redundant replicas cannot be automatically repaired in some corner cases #6573 @nolouch",
          "Fix the issue that Resource Manager repeatedly initializes the default resource group #6787 @glorv",
          "Fix the issue that in some cases, the location-labels set in the Placement Rules in SQL does not schedule as expected #6662 @rleungx",
          "Fix the issue that redundant replicas cannot be automatically repaired in some corner cases #6573 @nolouch",
          "TiFlash\nFix the issue that in the disaggregated storage and compute architecture mode, the TiFlash compute node fetches inaccurate CPU core information #7436 @guo-shaoge\nFix the issue that TiFlash takes too long to restart after using Online Unsafe Recovery #7671 @hongyunyan",
          "Fix the issue that in the disaggregated storage and compute architecture mode, the TiFlash compute node fetches inaccurate CPU core information #7436 @guo-shaoge",
          "Fix the issue that TiFlash takes too long to restart after using Online Unsafe Recovery #7671 @hongyunyan",
          "Tools\nBackup & Restore (BR)\nFix the issue that checksum mismatch is falsely reported in some cases #44472 @Leavrth\nFix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau\nTiCDC\nFix the issue that a PD exception might cause the replication task to get stuck #8808 #9054 @asddongmen @fubinzh\nFix the issue of excessive memory consumption when replicating to an object storage service #8894 @CharlesCheung96\nFix the issue that the replication task might get stuck when the redo log is enabled and there is an exception downstream #9172 @CharlesCheung96\nFix the issue that TiCDC keeps retrying when there is a downstream failure, which causes the retry time to be too long #9272 @asddongmen\nFix the issue of excessive downstream pressure caused by reading downstream metadata too frequently when replicating data to Kafka #8959 @hi-rustin\nFix the issue that when the downstream is Kafka, TiCDC queries the downstream metadata too frequently and causes excessive workload in the downstream #8957 #8959 @hi-rustin\nFix the OOM issue caused by excessive memory usage of the sorter component in some special scenarios #8974 @hicqu\nFix the issue that the UPDATE operation cannot output old values when the Avro or CSV protocol is used #9086 @3AceShowHand\nFix the issue that when replicating data to storage services, the JSON file corresponding to downstream DDL statements does not record the default values of table fields #9066 @CharlesCheung96\nFix the issue of too many downstream logs caused by frequently setting the downstream bidirectional replication-related variables when replicating data to TiDB or MySQL #9180 @asddongmen\nFix the issue that when a replication error occurs due to an oversized Kafka message, the message body is recorded in the log #9031 @darraes\nFix the issue that TiCDC gets stuck when PD fails such as network isolation or PD Owner node reboot #8808 #8812 #8877 @asddongmen\nFix the issue that Avro protocol incorrectly identifies Enum type values #9259 @3AceShowHand\nTiDB Data Migration (DM)\nFix the issue that DM-master exits abnormally when a unique index contains empty columns in the table to be migrated #9247 @lance6716\nTiDB Lightning\nFix the issue that the failed connection between TiDB Lightning and PD cannot be retried, improving the import success rate #43400 @lichunzhu\nFix the issue that TiDB Lightning does not correctly display the error message when writing data to TiKV returns an out of space error #44733 @lance6716\nFix the issue that the Region is unavailable error is reported during checksum operation #45462 @D3Hunter\nFix the TiDB Lightning panic issue when experimental.allow-expression-index is enabled and the default value is UUID #44497 @lichunzhu\nFix the issue that disk quota might be inaccurate due to competing conditions #44867 @D3Hunter\nFix the issue that in Logical Import Mode, deleting tables downstream during import might cause TiDB Lightning metadata not to be updated in time #44614 @dsdashun\nDumpling\nFix the issue that Dumpling exits abnormally when the query result set of --sql is empty #45200 @D3Hunter\nTiDB Binlog\nFix the issue that TiDB cannot correctly query Binlog node status via SHOW PUMP STATUS or SHOW DRAINER STATUS after a complete change of the PD address #42643 @lichunzhu\nFix the issue that TiDB cannot write binlogs after a complete change of the PD address #42643 @lance6716\nFix the issue that the etcd client does not automatically synchronize the latest node information during initialization #1236 @lichunzhu",
          "Backup & Restore (BR)\nFix the issue that checksum mismatch is falsely reported in some cases #44472 @Leavrth\nFix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau",
          "Fix the issue that checksum mismatch is falsely reported in some cases #44472 @Leavrth",
          "Fix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau",
          "TiCDC\nFix the issue that a PD exception might cause the replication task to get stuck #8808 #9054 @asddongmen @fubinzh\nFix the issue of excessive memory consumption when replicating to an object storage service #8894 @CharlesCheung96\nFix the issue that the replication task might get stuck when the redo log is enabled and there is an exception downstream #9172 @CharlesCheung96\nFix the issue that TiCDC keeps retrying when there is a downstream failure, which causes the retry time to be too long #9272 @asddongmen\nFix the issue of excessive downstream pressure caused by reading downstream metadata too frequently when replicating data to Kafka #8959 @hi-rustin\nFix the issue that when the downstream is Kafka, TiCDC queries the downstream metadata too frequently and causes excessive workload in the downstream #8957 #8959 @hi-rustin\nFix the OOM issue caused by excessive memory usage of the sorter component in some special scenarios #8974 @hicqu\nFix the issue that the UPDATE operation cannot output old values when the Avro or CSV protocol is used #9086 @3AceShowHand\nFix the issue that when replicating data to storage services, the JSON file corresponding to downstream DDL statements does not record the default values of table fields #9066 @CharlesCheung96\nFix the issue of too many downstream logs caused by frequently setting the downstream bidirectional replication-related variables when replicating data to TiDB or MySQL #9180 @asddongmen\nFix the issue that when a replication error occurs due to an oversized Kafka message, the message body is recorded in the log #9031 @darraes\nFix the issue that TiCDC gets stuck when PD fails such as network isolation or PD Owner node reboot #8808 #8812 #8877 @asddongmen\nFix the issue that Avro protocol incorrectly identifies Enum type values #9259 @3AceShowHand",
          "Fix the issue that a PD exception might cause the replication task to get stuck #8808 #9054 @asddongmen @fubinzh",
          "Fix the issue of excessive memory consumption when replicating to an object storage service #8894 @CharlesCheung96",
          "Fix the issue that the replication task might get stuck when the redo log is enabled and there is an exception downstream #9172 @CharlesCheung96",
          "Fix the issue that TiCDC keeps retrying when there is a downstream failure, which causes the retry time to be too long #9272 @asddongmen",
          "Fix the issue of excessive downstream pressure caused by reading downstream metadata too frequently when replicating data to Kafka #8959 @hi-rustin",
          "Fix the issue that when the downstream is Kafka, TiCDC queries the downstream metadata too frequently and causes excessive workload in the downstream #8957 #8959 @hi-rustin",
          "Fix the OOM issue caused by excessive memory usage of the sorter component in some special scenarios #8974 @hicqu",
          "Fix the issue that the UPDATE operation cannot output old values when the Avro or CSV protocol is used #9086 @3AceShowHand",
          "Fix the issue that when replicating data to storage services, the JSON file corresponding to downstream DDL statements does not record the default values of table fields #9066 @CharlesCheung96",
          "Fix the issue of too many downstream logs caused by frequently setting the downstream bidirectional replication-related variables when replicating data to TiDB or MySQL #9180 @asddongmen",
          "Fix the issue that when a replication error occurs due to an oversized Kafka message, the message body is recorded in the log #9031 @darraes",
          "Fix the issue that TiCDC gets stuck when PD fails such as network isolation or PD Owner node reboot #8808 #8812 #8877 @asddongmen",
          "Fix the issue that Avro protocol incorrectly identifies Enum type values #9259 @3AceShowHand",
          "TiDB Data Migration (DM)\nFix the issue that DM-master exits abnormally when a unique index contains empty columns in the table to be migrated #9247 @lance6716",
          "Fix the issue that DM-master exits abnormally when a unique index contains empty columns in the table to be migrated #9247 @lance6716",
          "TiDB Lightning\nFix the issue that the failed connection between TiDB Lightning and PD cannot be retried, improving the import success rate #43400 @lichunzhu\nFix the issue that TiDB Lightning does not correctly display the error message when writing data to TiKV returns an out of space error #44733 @lance6716\nFix the issue that the Region is unavailable error is reported during checksum operation #45462 @D3Hunter\nFix the TiDB Lightning panic issue when experimental.allow-expression-index is enabled and the default value is UUID #44497 @lichunzhu\nFix the issue that disk quota might be inaccurate due to competing conditions #44867 @D3Hunter\nFix the issue that in Logical Import Mode, deleting tables downstream during import might cause TiDB Lightning metadata not to be updated in time #44614 @dsdashun",
          "Fix the issue that the failed connection between TiDB Lightning and PD cannot be retried, improving the import success rate #43400 @lichunzhu",
          "Fix the issue that TiDB Lightning does not correctly display the error message when writing data to TiKV returns an out of space error #44733 @lance6716",
          "Fix the issue that the Region is unavailable error is reported during checksum operation #45462 @D3Hunter",
          "Fix the TiDB Lightning panic issue when experimental.allow-expression-index is enabled and the default value is UUID #44497 @lichunzhu",
          "Fix the issue that disk quota might be inaccurate due to competing conditions #44867 @D3Hunter",
          "Fix the issue that in Logical Import Mode, deleting tables downstream during import might cause TiDB Lightning metadata not to be updated in time #44614 @dsdashun",
          "Dumpling\nFix the issue that Dumpling exits abnormally when the query result set of --sql is empty #45200 @D3Hunter",
          "Fix the issue that Dumpling exits abnormally when the query result set of --sql is empty #45200 @D3Hunter",
          "TiDB Binlog\nFix the issue that TiDB cannot correctly query Binlog node status via SHOW PUMP STATUS or SHOW DRAINER STATUS after a complete change of the PD address #42643 @lichunzhu\nFix the issue that TiDB cannot write binlogs after a complete change of the PD address #42643 @lance6716\nFix the issue that the etcd client does not automatically synchronize the latest node information during initialization #1236 @lichunzhu",
          "Fix the issue that TiDB cannot correctly query Binlog node status via SHOW PUMP STATUS or SHOW DRAINER STATUS after a complete change of the PD address #42643 @lichunzhu",
          "Fix the issue that TiDB cannot write binlogs after a complete change of the PD address #42643 @lance6716",
          "Fix the issue that the etcd client does not automatically synchronize the latest node information during initialization #1236 @lichunzhu"
        ]
      },
      {
        "version": "7.1.0",
        "date": "2023-05-31",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.1.0/",
        "changes": [
          "TiDB\nDisplay the number of distinct values for the corresponding column in the Cardinality column of the SHOW INDEX result #42227 @winoros\nUse SQL_NO_CACHE to prevent TTL Scan queries from impacting the TiKV block cache #43206 @lcwangchao\nImprove an error message related to MAX_EXECUTION_TIME to make it compatible with MySQL #43031 @dveeden\nSupport using the MergeSort operator on partitioned tables in IndexLookUp #26166 @Defined2014\nEnhance caching_sha2_password to make it compatible with MySQL #43576 @asjdf",
          "Display the number of distinct values for the corresponding column in the Cardinality column of the SHOW INDEX result #42227 @winoros",
          "Use SQL_NO_CACHE to prevent TTL Scan queries from impacting the TiKV block cache #43206 @lcwangchao",
          "Improve an error message related to MAX_EXECUTION_TIME to make it compatible with MySQL #43031 @dveeden",
          "Support using the MergeSort operator on partitioned tables in IndexLookUp #26166 @Defined2014",
          "Enhance caching_sha2_password to make it compatible with MySQL #43576 @asjdf",
          "TiKV\nReduce the impact of split operations on write QPS when using partitioned Raft KV #14447 @SpadeA-Tang\nOptimize the space occupied by snapshots when using partitioned Raft KV #14581 @bufferflies\nProvide more detailed time information for each stage of processing requests in TiKV #12362 @cfzjywxk\nUse PD as metastore in log backup #13867 @YuJuncen",
          "Reduce the impact of split operations on write QPS when using partitioned Raft KV #14447 @SpadeA-Tang",
          "Optimize the space occupied by snapshots when using partitioned Raft KV #14581 @bufferflies",
          "Provide more detailed time information for each stage of processing requests in TiKV #12362 @cfzjywxk",
          "Use PD as metastore in log backup #13867 @YuJuncen",
          "PD\nAdd a controller that automatically adjusts the size of the store limit based on the execution details of the snapshot. To enable this controller, set store-limit-version to v2 (experimental). Once enabled, you do not need to manually adjust the store limit configuration to control the speed of scaling in or scaling out #6147 @bufferflies\nAdd historical load information to avoid frequent scheduling of Regions with unstable loads by the hotspot scheduler when the storage engine is raft-kv2 #6297 @bufferflies\nAdd a leader health check mechanism. When the PD server where the etcd leader is located cannot be elected as the leader, PD actively switches the etcd leader to ensure that the PD leader is available #6403 @nolouch",
          "Add a controller that automatically adjusts the size of the store limit based on the execution details of the snapshot. To enable this controller, set store-limit-version to v2 (experimental). Once enabled, you do not need to manually adjust the store limit configuration to control the speed of scaling in or scaling out #6147 @bufferflies",
          "Add historical load information to avoid frequent scheduling of Regions with unstable loads by the hotspot scheduler when the storage engine is raft-kv2 #6297 @bufferflies",
          "Add a leader health check mechanism. When the PD server where the etcd leader is located cannot be elected as the leader, PD actively switches the etcd leader to ensure that the PD leader is available #6403 @nolouch",
          "TiFlash\nImprove TiFlash performance and stability in the disaggregated storage and compute architecture #6882 @JaySon-Huang @breezewish @JinheLin\nSupport optimizing query performance in Semi Join or Anti Semi Join by selecting the smaller table as the build side #7280 @yibin87\nImprove performance of data import from BR and TiDB Lightning to TiFlash with default configurations #7272 @breezewish",
          "Improve TiFlash performance and stability in the disaggregated storage and compute architecture #6882 @JaySon-Huang @breezewish @JinheLin",
          "Support optimizing query performance in Semi Join or Anti Semi Join by selecting the smaller table as the build side #7280 @yibin87",
          "Improve performance of data import from BR and TiDB Lightning to TiFlash with default configurations #7272 @breezewish",
          "Tools\nBackup & Restore (BR)\nSupport modifying the TiKV configuration item log-backup.max-flush-interval during log backup #14433 @joccau\nTiCDC\nOptimize the directory structure when DDL events occur in the scenario of replicating data to object storage #8890 @CharlesCheung96\nOptimize the method of setting GC TLS for the upstream when the TiCDC replication task fails #8403 @charleszheng44\nSupport replicating data to the Kafka-on-Pulsar downstream #8892 @hi-rustin\nSupport using the open-protocol protocol to only replicate the changed columns after an update occurs when replicating data to Kafka #8706 @sdojjy\nOptimize the error handling of TiCDC in the downstream failures or other scenarios #8657 @hicqu\nAdd a configuration item insecure-skip-verify to control whether to set the authentication algorithm in the scenario of enabling TLS #8867 @hi-rustin\nTiDB Lightning\nChange the severity level of the precheck item related to uneven Region distribution from Critical to Warn to avoid blocking users from importing data #42836 @okJiang\nAdd a retry mechanism when encountering an unknown RPC error during data import #43291 @D3Hunter\nEnhance the retry mechanism for Region jobs #43682 @lance6716",
          "Backup & Restore (BR)\nSupport modifying the TiKV configuration item log-backup.max-flush-interval during log backup #14433 @joccau",
          "Support modifying the TiKV configuration item log-backup.max-flush-interval during log backup #14433 @joccau",
          "TiCDC\nOptimize the directory structure when DDL events occur in the scenario of replicating data to object storage #8890 @CharlesCheung96\nOptimize the method of setting GC TLS for the upstream when the TiCDC replication task fails #8403 @charleszheng44\nSupport replicating data to the Kafka-on-Pulsar downstream #8892 @hi-rustin\nSupport using the open-protocol protocol to only replicate the changed columns after an update occurs when replicating data to Kafka #8706 @sdojjy\nOptimize the error handling of TiCDC in the downstream failures or other scenarios #8657 @hicqu\nAdd a configuration item insecure-skip-verify to control whether to set the authentication algorithm in the scenario of enabling TLS #8867 @hi-rustin",
          "Optimize the directory structure when DDL events occur in the scenario of replicating data to object storage #8890 @CharlesCheung96",
          "Optimize the method of setting GC TLS for the upstream when the TiCDC replication task fails #8403 @charleszheng44",
          "Support replicating data to the Kafka-on-Pulsar downstream #8892 @hi-rustin",
          "Support using the open-protocol protocol to only replicate the changed columns after an update occurs when replicating data to Kafka #8706 @sdojjy",
          "Optimize the error handling of TiCDC in the downstream failures or other scenarios #8657 @hicqu",
          "Add a configuration item insecure-skip-verify to control whether to set the authentication algorithm in the scenario of enabling TLS #8867 @hi-rustin",
          "TiDB Lightning\nChange the severity level of the precheck item related to uneven Region distribution from Critical to Warn to avoid blocking users from importing data #42836 @okJiang\nAdd a retry mechanism when encountering an unknown RPC error during data import #43291 @D3Hunter\nEnhance the retry mechanism for Region jobs #43682 @lance6716",
          "Change the severity level of the precheck item related to uneven Region distribution from Critical to Warn to avoid blocking users from importing data #42836 @okJiang",
          "Add a retry mechanism when encountering an unknown RPC error during data import #43291 @D3Hunter",
          "Enhance the retry mechanism for Region jobs #43682 @lance6716",
          "TiDB\nFix the issue that there is no prompt about manually executing ANALYZE TABLE after reorganizing partitions #42183 @CbcWestwolf\nFix the issue of missing table names in the ADMIN SHOW DDL JOBS result when a DROP TABLE operation is being executed #42268 @tiancaiamao\nFix the issue that Ignore Event Per Minute and Stats Cache LRU Cost charts might not be displayed normally in the Grafana monitoring panel #42562 @pingandb\nFix the issue that the ORDINAL_POSITION column returns incorrect results when querying the INFORMATION_SCHEMA.COLUMNS table #43379 @bb7133\nFix the issue that after a new column is added in the cache table, the value is NULL instead of the default value of the column #42928 @lqs\nFix the issue that CTE results are incorrect when pushing down predicates #43645 @winoros\nFix the issue of DDL retry caused by write conflict when executing TRUNCATE TABLE for partitioned tables with many partitions and TiFlash replicas #42940 @mjonss\nFix the issue that there is no warning when using SUBPARTITION in creating partitioned tables #41198 #41200 @mjonss\nFix the incompatibility issue with MySQL when dealing with value overflow issues in generated columns #40066 @jiyfhust\nFix the issue that REORGANIZE PARTITION cannot be concurrently executed with other DDL operations #42442 @bb7133\nFix the issue that canceling the partition reorganization task in DDL might cause subsequent DDL operations to fail #42448 @lcwangchao\nFix the issue that assertions on delete operations are incorrect under certain conditions #42426 @tiancaiamao\nFix the issue that TiDB server cannot start due to an error in reading the cgroup information with the error message \"can't read file memory.stat from cgroup v1: open /sys/memory.stat no such file or directory\" #42659 @hawkingrei\nFix the Duplicate Key issue that occurs when updating the partition key of a row on a partitioned table with a global index #42312 @L-maple\nFix the issue that the Scan Worker Time By Phase chart in the TTL monitoring panel does not display data #42515 @lcwangchao\nFix the issue that some queries on partitioned tables with a global index return incorrect results #41991 #42065 @L-maple\nFix the issue of displaying some error logs during the process of reorganizing a partitioned table #42180 @mjonss\nFix the issue that the data length in the QUERY column of the INFORMATION_SCHEMA.DDL_JOBS table might exceed the column definition #42440 @tiancaiamao\nFix the issue that the INFORMATION_SCHEMA.CLUSTER_HARDWARE table might display incorrect values in containers #42851 @hawkingrei\nFix the issue that an incorrect result is returned when you query a partitioned table using ORDER BY + LIMIT #43158 @Defined2014\nFix the issue of multiple DDL tasks running simultaneously using the ingest method #42903 @tangenta\nFix the wrong value returned when querying a partitioned table using Limit #24636\nFix the issue of displaying the incorrect TiDB address in IPv6 environment #43260 @nexustar\nFix the issue of displaying incorrect values for system variables tidb_enable_tiflash_read_for_write_stmt and tidb_enable_exchange_partition #43281 @gengliqi\nFix the issue that when tidb_scatter_region is enabled, Region does not automatically split after a partition is truncated #43174 #43028 @jiyfhust\nAdd checks on the tables with generated columns and report errors for unsupported DDL operations on these columns #38988 #24321 @tiancaiamao\nFix the issue that the error message is incorrect in certain type conversion errors #41730 @hawkingrei\nFix the issue that after a TiDB node is normally shutdown, DDL tasks triggered on this node will be canceled #43854 @zimulala\nFix the issue that when the PD member address changes, allocating ID for the AUTO_INCREMENT column will be blocked for a long time #42643 @tiancaiamao\nFix the issue of reporting the GC lifetime is shorter than transaction duration error during DDL execution #40074 @tangenta\nFix the issue that metadata locks unexpectedly block the DDL execution #43755 @wjhuang2016\nFix the issue that the cluster cannot query some system views in IPv6 environment #43286 @Defined2014\nFix the issue of not finding the partition during inner join in dynamic pruning mode #43686 @mjonss\nFix the issue that TiDB reports syntax errors when analyzing tables #43392 @guo-shaoge\nFix the issue that TiCDC might lose some row changes during table renaming #43338 @tangenta\nFix the issue that TiDB server crashes when the client uses cursor reads #38116 @YangKeao\nFix the issue that ADMIN SHOW DDL JOBS LIMIT returns incorrect results #42298 @CbcWestwolf\nFix the TiDB panic issue that occurs when querying union views and temporary tables with UNION #42563 @lcwangchao\nFix the issue that renaming tables does not take effect when committing multiple statements in a transaction #39664 @tiancaiamao\nFix the incompatibility issue between the behavior of prepared plan cache and non-prepared plan cache during time conversion #42439 @qw4990\nFix the wrong results caused by plan cache for Decimal type #43311 @qw4990\nFix the TiDB panic issue in null-aware anti join (NAAJ) due to the wrong field type check #42459 @AilinKid\nFix the issue that DML execution failures in pessimistic transactions at the RC isolation level might cause inconsistency between data and indexes #43294 @ekexium\nFix the issue that in some extreme cases, when the first statement of a pessimistic transaction is retried, resolving locks on this transaction might affect transaction correctness #42937 @MyonKeminta\nFix the issue that in some rare cases, residual pessimistic locks of pessimistic transactions might affect data correctness when GC resolves locks #43243 @MyonKeminta\nFix the issue that the LOCK to PUT optimization leads to duplicate data being returned in specific queries #28011 @zyguan\nFix the issue that when data is changed, the locking behavior of the unique index is not consistent with that when the data is unchanged #36438 @zyguan",
          "Fix the issue that there is no prompt about manually executing ANALYZE TABLE after reorganizing partitions #42183 @CbcWestwolf",
          "Fix the issue of missing table names in the ADMIN SHOW DDL JOBS result when a DROP TABLE operation is being executed #42268 @tiancaiamao",
          "Fix the issue that Ignore Event Per Minute and Stats Cache LRU Cost charts might not be displayed normally in the Grafana monitoring panel #42562 @pingandb",
          "Fix the issue that the ORDINAL_POSITION column returns incorrect results when querying the INFORMATION_SCHEMA.COLUMNS table #43379 @bb7133",
          "Fix the issue that after a new column is added in the cache table, the value is NULL instead of the default value of the column #42928 @lqs",
          "Fix the issue that CTE results are incorrect when pushing down predicates #43645 @winoros",
          "Fix the issue of DDL retry caused by write conflict when executing TRUNCATE TABLE for partitioned tables with many partitions and TiFlash replicas #42940 @mjonss",
          "Fix the issue that there is no warning when using SUBPARTITION in creating partitioned tables #41198 #41200 @mjonss",
          "Fix the incompatibility issue with MySQL when dealing with value overflow issues in generated columns #40066 @jiyfhust",
          "Fix the issue that REORGANIZE PARTITION cannot be concurrently executed with other DDL operations #42442 @bb7133",
          "Fix the issue that canceling the partition reorganization task in DDL might cause subsequent DDL operations to fail #42448 @lcwangchao",
          "Fix the issue that assertions on delete operations are incorrect under certain conditions #42426 @tiancaiamao",
          "Fix the issue that TiDB server cannot start due to an error in reading the cgroup information with the error message \"can't read file memory.stat from cgroup v1: open /sys/memory.stat no such file or directory\" #42659 @hawkingrei",
          "Fix the Duplicate Key issue that occurs when updating the partition key of a row on a partitioned table with a global index #42312 @L-maple",
          "Fix the issue that the Scan Worker Time By Phase chart in the TTL monitoring panel does not display data #42515 @lcwangchao",
          "Fix the issue that some queries on partitioned tables with a global index return incorrect results #41991 #42065 @L-maple",
          "Fix the issue of displaying some error logs during the process of reorganizing a partitioned table #42180 @mjonss",
          "Fix the issue that the data length in the QUERY column of the INFORMATION_SCHEMA.DDL_JOBS table might exceed the column definition #42440 @tiancaiamao",
          "Fix the issue that the INFORMATION_SCHEMA.CLUSTER_HARDWARE table might display incorrect values in containers #42851 @hawkingrei",
          "Fix the issue that an incorrect result is returned when you query a partitioned table using ORDER BY + LIMIT #43158 @Defined2014",
          "Fix the issue of multiple DDL tasks running simultaneously using the ingest method #42903 @tangenta",
          "Fix the wrong value returned when querying a partitioned table using Limit #24636",
          "Fix the issue of displaying the incorrect TiDB address in IPv6 environment #43260 @nexustar",
          "Fix the issue of displaying incorrect values for system variables tidb_enable_tiflash_read_for_write_stmt and tidb_enable_exchange_partition #43281 @gengliqi",
          "Fix the issue that when tidb_scatter_region is enabled, Region does not automatically split after a partition is truncated #43174 #43028 @jiyfhust",
          "Add checks on the tables with generated columns and report errors for unsupported DDL operations on these columns #38988 #24321 @tiancaiamao",
          "Fix the issue that the error message is incorrect in certain type conversion errors #41730 @hawkingrei",
          "Fix the issue that after a TiDB node is normally shutdown, DDL tasks triggered on this node will be canceled #43854 @zimulala",
          "Fix the issue that when the PD member address changes, allocating ID for the AUTO_INCREMENT column will be blocked for a long time #42643 @tiancaiamao",
          "Fix the issue of reporting the GC lifetime is shorter than transaction duration error during DDL execution #40074 @tangenta",
          "Fix the issue that metadata locks unexpectedly block the DDL execution #43755 @wjhuang2016",
          "Fix the issue that the cluster cannot query some system views in IPv6 environment #43286 @Defined2014",
          "Fix the issue of not finding the partition during inner join in dynamic pruning mode #43686 @mjonss",
          "Fix the issue that TiDB reports syntax errors when analyzing tables #43392 @guo-shaoge",
          "Fix the issue that TiCDC might lose some row changes during table renaming #43338 @tangenta",
          "Fix the issue that TiDB server crashes when the client uses cursor reads #38116 @YangKeao",
          "Fix the issue that ADMIN SHOW DDL JOBS LIMIT returns incorrect results #42298 @CbcWestwolf",
          "Fix the TiDB panic issue that occurs when querying union views and temporary tables with UNION #42563 @lcwangchao",
          "Fix the issue that renaming tables does not take effect when committing multiple statements in a transaction #39664 @tiancaiamao",
          "Fix the incompatibility issue between the behavior of prepared plan cache and non-prepared plan cache during time conversion #42439 @qw4990",
          "Fix the wrong results caused by plan cache for Decimal type #43311 @qw4990",
          "Fix the TiDB panic issue in null-aware anti join (NAAJ) due to the wrong field type check #42459 @AilinKid",
          "Fix the issue that DML execution failures in pessimistic transactions at the RC isolation level might cause inconsistency between data and indexes #43294 @ekexium",
          "Fix the issue that in some extreme cases, when the first statement of a pessimistic transaction is retried, resolving locks on this transaction might affect transaction correctness #42937 @MyonKeminta",
          "Fix the issue that in some rare cases, residual pessimistic locks of pessimistic transactions might affect data correctness when GC resolves locks #43243 @MyonKeminta",
          "Fix the issue that the LOCK to PUT optimization leads to duplicate data being returned in specific queries #28011 @zyguan",
          "Fix the issue that when data is changed, the locking behavior of the unique index is not consistent with that when the data is unchanged #36438 @zyguan",
          "TiKV\nFix the issue that when you enable tidb_pessimistic_txn_fair_locking, in some extreme cases, expired requests caused by failed RPC retries might affect data correctness during the resolve lock operation #14551 @MyonKeminta\nFix the issue that when you enable tidb_pessimistic_txn_fair_locking, in some extreme cases, expired requests caused by failed RPC retries might cause transaction conflicts to be ignored, thus affecting transaction consistency #14311 @MyonKeminta\nFix the issue that encryption key ID conflict might cause the deletion of the old keys #14585 @tabokie\nFix the performance degradation issue caused by accumulated lock records when a cluster is upgraded from a previous version to v6.5 or later versions #14780 @MyonKeminta\nFix the issue that the raft entry is too large error occurs during the PITR recovery process #14313 @YuJuncen\nFix the issue that TiKV panics during the PITR recovery process due to log_batch exceeding 2 GB #13848 @YuJuncen",
          "Fix the issue that when you enable tidb_pessimistic_txn_fair_locking, in some extreme cases, expired requests caused by failed RPC retries might affect data correctness during the resolve lock operation #14551 @MyonKeminta",
          "Fix the issue that when you enable tidb_pessimistic_txn_fair_locking, in some extreme cases, expired requests caused by failed RPC retries might cause transaction conflicts to be ignored, thus affecting transaction consistency #14311 @MyonKeminta",
          "Fix the issue that encryption key ID conflict might cause the deletion of the old keys #14585 @tabokie",
          "Fix the performance degradation issue caused by accumulated lock records when a cluster is upgraded from a previous version to v6.5 or later versions #14780 @MyonKeminta",
          "Fix the issue that the raft entry is too large error occurs during the PITR recovery process #14313 @YuJuncen",
          "Fix the issue that TiKV panics during the PITR recovery process due to log_batch exceeding 2 GB #13848 @YuJuncen",
          "PD\nFix the issue that the number of low space store in the PD monitoring panel is abnormal after TiKV panics #6252 @HuSharp\nFix the issue that Region Health monitoring data is deleted after PD leader switch #6366 @iosmanthus\nFix the issue that the rule checker cannot repair unhealthy Regions with the schedule=deny label #6426 @nolouch\nFix the issue that some existing labels are lost after TiKV or TiFlash restarts #6467 @JmPotato\nFix the issue that the replication status cannot be switched when there are learner nodes in the replication mode #14704 @nolouch",
          "Fix the issue that the number of low space store in the PD monitoring panel is abnormal after TiKV panics #6252 @HuSharp",
          "Fix the issue that Region Health monitoring data is deleted after PD leader switch #6366 @iosmanthus",
          "Fix the issue that the rule checker cannot repair unhealthy Regions with the schedule=deny label #6426 @nolouch",
          "Fix the issue that some existing labels are lost after TiKV or TiFlash restarts #6467 @JmPotato",
          "Fix the issue that the replication status cannot be switched when there are learner nodes in the replication mode #14704 @nolouch",
          "TiFlash\nFix the issue that querying data in the TIMESTAMP or TIME type returns errors after enabling late materialization #7455 @Lloyd-Pottiger\nFix the issue that large update transactions might cause TiFlash to repeatedly report errors and restart #7316 @JaySon-Huang",
          "Fix the issue that querying data in the TIMESTAMP or TIME type returns errors after enabling late materialization #7455 @Lloyd-Pottiger",
          "Fix the issue that large update transactions might cause TiFlash to repeatedly report errors and restart #7316 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nFix the issue of backup slowdown when a TiKV node crashes in a cluster #42973 @YuJuncen\nFix the issue of inaccurate error messages caused by a backup failure in some cases #43236 @YuJuncen\nTiCDC\nFix the issue of TiCDC time zone setting #8798 @hi-rustin\nFix the issue that TiCDC cannot automatically recover when PD address or leader fails #8812 #8877 @asddongmen\nFix the issue that checkpoint lag increases when one of the upstream TiKV nodes crashes #8858 @hicqu\nFix the issue that when replicating data to object storage, the EXCHANGE PARTITION operation in the upstream cannot be properly replicated to the downstream #8914 @CharlesCheung96\nFix the OOM issue caused by excessive memory usage of the sorter component in some special scenarios #8974 @hicqu\nFix the TiCDC node panic that occurs when the downstream Kafka sinks are rolling restarted #9023 @asddongmen\nTiDB Data Migration (DM)\nFix the issue that latin1 data might be corrupted during replication #7028 @lance6716\nTiDB Dumpling\nFix the issue that the UNSIGNED INTEGER type primary key cannot be used for splitting chunks #42620 @lichunzhu\nFix the issue that TiDB Dumpling might panic when --output-file-template is incorrectly set #42391 @lichunzhu\nTiDB Binlog\nFix the issue that an error might occur when encountering a failed DDL statement #1228 @okJiang\nTiDB Lightning\nFix the performance degradation issue during data import #42456 @lance6716\nFix the issue of write to tikv with no leader returned when importing a large amount of data #43055 @lance6716\nFix the issue of excessive keys within region is empty, skip doIngest logs during data import #43197 @D3Hunter\nFix the issue that panic might occur during partial write #43363 @lance6716\nFix the issue that OOM might occur when importing a wide table #43728 @D3Hunter\nFix the issue of missing data in the TiDB Lightning Grafana dashboard #43357 @lichunzhu\nFix the import failure due to incorrect setting of keyspace-name #43684 @zeminzhou\nFix the issue that data import might be skipped during range partial write in some cases #43768 @lance6716",
          "Backup & Restore (BR)\nFix the issue of backup slowdown when a TiKV node crashes in a cluster #42973 @YuJuncen\nFix the issue of inaccurate error messages caused by a backup failure in some cases #43236 @YuJuncen",
          "Fix the issue of backup slowdown when a TiKV node crashes in a cluster #42973 @YuJuncen",
          "Fix the issue of inaccurate error messages caused by a backup failure in some cases #43236 @YuJuncen",
          "TiCDC\nFix the issue of TiCDC time zone setting #8798 @hi-rustin\nFix the issue that TiCDC cannot automatically recover when PD address or leader fails #8812 #8877 @asddongmen\nFix the issue that checkpoint lag increases when one of the upstream TiKV nodes crashes #8858 @hicqu\nFix the issue that when replicating data to object storage, the EXCHANGE PARTITION operation in the upstream cannot be properly replicated to the downstream #8914 @CharlesCheung96\nFix the OOM issue caused by excessive memory usage of the sorter component in some special scenarios #8974 @hicqu\nFix the TiCDC node panic that occurs when the downstream Kafka sinks are rolling restarted #9023 @asddongmen",
          "Fix the issue of TiCDC time zone setting #8798 @hi-rustin",
          "Fix the issue that TiCDC cannot automatically recover when PD address or leader fails #8812 #8877 @asddongmen",
          "Fix the issue that checkpoint lag increases when one of the upstream TiKV nodes crashes #8858 @hicqu",
          "Fix the issue that when replicating data to object storage, the EXCHANGE PARTITION operation in the upstream cannot be properly replicated to the downstream #8914 @CharlesCheung96",
          "Fix the OOM issue caused by excessive memory usage of the sorter component in some special scenarios #8974 @hicqu",
          "Fix the TiCDC node panic that occurs when the downstream Kafka sinks are rolling restarted #9023 @asddongmen",
          "TiDB Data Migration (DM)\nFix the issue that latin1 data might be corrupted during replication #7028 @lance6716",
          "Fix the issue that latin1 data might be corrupted during replication #7028 @lance6716",
          "TiDB Dumpling\nFix the issue that the UNSIGNED INTEGER type primary key cannot be used for splitting chunks #42620 @lichunzhu\nFix the issue that TiDB Dumpling might panic when --output-file-template is incorrectly set #42391 @lichunzhu",
          "Fix the issue that the UNSIGNED INTEGER type primary key cannot be used for splitting chunks #42620 @lichunzhu",
          "Fix the issue that TiDB Dumpling might panic when --output-file-template is incorrectly set #42391 @lichunzhu",
          "TiDB Binlog\nFix the issue that an error might occur when encountering a failed DDL statement #1228 @okJiang",
          "Fix the issue that an error might occur when encountering a failed DDL statement #1228 @okJiang",
          "TiDB Lightning\nFix the performance degradation issue during data import #42456 @lance6716\nFix the issue of write to tikv with no leader returned when importing a large amount of data #43055 @lance6716\nFix the issue of excessive keys within region is empty, skip doIngest logs during data import #43197 @D3Hunter\nFix the issue that panic might occur during partial write #43363 @lance6716\nFix the issue that OOM might occur when importing a wide table #43728 @D3Hunter\nFix the issue of missing data in the TiDB Lightning Grafana dashboard #43357 @lichunzhu\nFix the import failure due to incorrect setting of keyspace-name #43684 @zeminzhou\nFix the issue that data import might be skipped during range partial write in some cases #43768 @lance6716",
          "Fix the performance degradation issue during data import #42456 @lance6716",
          "Fix the issue of write to tikv with no leader returned when importing a large amount of data #43055 @lance6716",
          "Fix the issue of excessive keys within region is empty, skip doIngest logs during data import #43197 @D3Hunter",
          "Fix the issue that panic might occur during partial write #43363 @lance6716",
          "Fix the issue that OOM might occur when importing a wide table #43728 @D3Hunter",
          "Fix the issue of missing data in the TiDB Lightning Grafana dashboard #43357 @lichunzhu",
          "Fix the import failure due to incorrect setting of keyspace-name #43684 @zeminzhou",
          "Fix the issue that data import might be skipped during range partial write in some cases #43768 @lance6716"
        ]
      }
    ]
  },
  {
    "major_version": "7.0",
    "patches": [
      {
        "version": "7.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-7.0.0/",
        "changes": [
          "TiDB\nIntroduce the EXPAND operator to optimize the performance of SQL queries with multiple DISTINCT in a single SELECT statement #16581 @AilinKid\nSupport more SQL formats for Index Join #40505 @Yisaer\nAvoid globally sorting partitioned table data in TiDB in some cases #26166 @Defined2014\nSupport using fair lock mode and lock only if exists at the same time #42068 @MyonKeminta\nSupport printing transaction slow logs and transaction internal events #41863 @ekexium\nSupport the ILIKE operator #40943 @xzhangxian1008",
          "Introduce the EXPAND operator to optimize the performance of SQL queries with multiple DISTINCT in a single SELECT statement #16581 @AilinKid",
          "Support more SQL formats for Index Join #40505 @Yisaer",
          "Avoid globally sorting partitioned table data in TiDB in some cases #26166 @Defined2014",
          "Support using fair lock mode and lock only if exists at the same time #42068 @MyonKeminta",
          "Support printing transaction slow logs and transaction internal events #41863 @ekexium",
          "Support the ILIKE operator #40943 @xzhangxian1008",
          "PD\nAdd a new monitoring metric for scheduling failures due to the store limit #6043 @nolouch",
          "Add a new monitoring metric for scheduling failures due to the store limit #6043 @nolouch",
          "TiFlash\nReduce TiFlash's memory usage on write path #7144 @hongyunyan\nReduce TiFlash's restart time in scenarios with many tables #7146 @hongyunyan\nSupport pushing down the ILIKE operator #6740 @xzhangxian1008",
          "Reduce TiFlash's memory usage on write path #7144 @hongyunyan",
          "Reduce TiFlash's restart time in scenarios with many tables #7146 @hongyunyan",
          "Support pushing down the ILIKE operator #6740 @xzhangxian1008",
          "Tools\nTiCDC\nSupport distributing data changes of a single large table to multiple TiCDC nodes in scenarios where Kafka is the downstream, thus solving the scalability issue of single tables in data integration scenarios of large-scale TiDB clusters #8247 @overvenus\nYou can enable this feature by setting the TiCDC configuration item enable_table_across_nodes to true. You can use region_threshold to specify that when the number of Regions for a table exceeds this threshold, TiCDC starts distributing data changes of the corresponding table to multiple TiCDC nodes.\nSupport splitting transactions in the redo applier to improve its throughput and reduce RTO in disaster recovery scenarios #8318 @CharlesCheung96\nImprove the table scheduling to split a single table more evenly across various TiCDC nodes #8247 @overvenus\nAdd the Large Row monitoring metrics in MQ sink #8286 @hi-rustin\nReduce network traffic between TiKV and TiCDC nodes in scenarios where a Region contains data of multiple tables #6346 @overvenus\nMove the P99 metrics panel of Checkpoint TS and Resolved TS to the Lag analyze panel #8524 @hi-rustin\nSupport applying DDL events in redo logs #8361 @CharlesCheung96\nSupport splitting and scheduling tables to TiCDC nodes based on upstream write throughput #7720 @overvenus\nTiDB Lightning\nTiDB Lightning Physical Import Mode supports separating data import and index import to improve import speed and stability #42132 @sleepymole\nAdd the add-index-by-sql parameter. The default value is false, which means that TiDB Lightning encodes both row data and index data into KV pairs and import them into TiKV together. If you set it to true, it means that TiDB Lightning adds indexes via the ADD INDEX SQL statement after importing the row data to improve import speed and stability.\nAdd the tikv-importer.keyspace-name parameter. The default value is an empty string, which means TiDB Lightning automatically gets the key space name of the corresponding tenant to import data. If you specify a value, the specified key space name will be used to import data. This parameter provides flexibility in the configuration of TiDB Lightning when you import data to a multi-tenant TiDB cluster. #41915 @lichunzhu",
          "TiCDC\nSupport distributing data changes of a single large table to multiple TiCDC nodes in scenarios where Kafka is the downstream, thus solving the scalability issue of single tables in data integration scenarios of large-scale TiDB clusters #8247 @overvenus\nYou can enable this feature by setting the TiCDC configuration item enable_table_across_nodes to true. You can use region_threshold to specify that when the number of Regions for a table exceeds this threshold, TiCDC starts distributing data changes of the corresponding table to multiple TiCDC nodes.\nSupport splitting transactions in the redo applier to improve its throughput and reduce RTO in disaster recovery scenarios #8318 @CharlesCheung96\nImprove the table scheduling to split a single table more evenly across various TiCDC nodes #8247 @overvenus\nAdd the Large Row monitoring metrics in MQ sink #8286 @hi-rustin\nReduce network traffic between TiKV and TiCDC nodes in scenarios where a Region contains data of multiple tables #6346 @overvenus\nMove the P99 metrics panel of Checkpoint TS and Resolved TS to the Lag analyze panel #8524 @hi-rustin\nSupport applying DDL events in redo logs #8361 @CharlesCheung96\nSupport splitting and scheduling tables to TiCDC nodes based on upstream write throughput #7720 @overvenus",
          "Support distributing data changes of a single large table to multiple TiCDC nodes in scenarios where Kafka is the downstream, thus solving the scalability issue of single tables in data integration scenarios of large-scale TiDB clusters #8247 @overvenus\nYou can enable this feature by setting the TiCDC configuration item enable_table_across_nodes to true. You can use region_threshold to specify that when the number of Regions for a table exceeds this threshold, TiCDC starts distributing data changes of the corresponding table to multiple TiCDC nodes.",
          "Support splitting transactions in the redo applier to improve its throughput and reduce RTO in disaster recovery scenarios #8318 @CharlesCheung96",
          "Improve the table scheduling to split a single table more evenly across various TiCDC nodes #8247 @overvenus",
          "Add the Large Row monitoring metrics in MQ sink #8286 @hi-rustin",
          "Reduce network traffic between TiKV and TiCDC nodes in scenarios where a Region contains data of multiple tables #6346 @overvenus",
          "Move the P99 metrics panel of Checkpoint TS and Resolved TS to the Lag analyze panel #8524 @hi-rustin",
          "Support applying DDL events in redo logs #8361 @CharlesCheung96",
          "Support splitting and scheduling tables to TiCDC nodes based on upstream write throughput #7720 @overvenus",
          "TiDB Lightning\nTiDB Lightning Physical Import Mode supports separating data import and index import to improve import speed and stability #42132 @sleepymole\nAdd the add-index-by-sql parameter. The default value is false, which means that TiDB Lightning encodes both row data and index data into KV pairs and import them into TiKV together. If you set it to true, it means that TiDB Lightning adds indexes via the ADD INDEX SQL statement after importing the row data to improve import speed and stability.\nAdd the tikv-importer.keyspace-name parameter. The default value is an empty string, which means TiDB Lightning automatically gets the key space name of the corresponding tenant to import data. If you specify a value, the specified key space name will be used to import data. This parameter provides flexibility in the configuration of TiDB Lightning when you import data to a multi-tenant TiDB cluster. #41915 @lichunzhu",
          "TiDB Lightning Physical Import Mode supports separating data import and index import to improve import speed and stability #42132 @sleepymole\nAdd the add-index-by-sql parameter. The default value is false, which means that TiDB Lightning encodes both row data and index data into KV pairs and import them into TiKV together. If you set it to true, it means that TiDB Lightning adds indexes via the ADD INDEX SQL statement after importing the row data to improve import speed and stability.",
          "Add the tikv-importer.keyspace-name parameter. The default value is an empty string, which means TiDB Lightning automatically gets the key space name of the corresponding tenant to import data. If you specify a value, the specified key space name will be used to import data. This parameter provides flexibility in the configuration of TiDB Lightning when you import data to a multi-tenant TiDB cluster. #41915 @lichunzhu",
          "TiDB\nFix the issue of missing updates when upgrading TiDB from v6.5.1 to a later version #41502 @chrysan\nFix the issue that the default values of some system variables are not modified after upgrading #41423 @crazycs520\nFix the issue that Coprocessor request types related to adding indexes are displayed as unknown #41400 @tangenta\nFix the issue of returning \"PessimisticLockNotFound\" when adding an index #41515 @tangenta\nFix the issue of mistakenly returning found duplicate key when adding a unique index #41630 @tangenta\nFix the panic issue when adding an index #41880 @tangenta\nFix the issue that TiFlash reports an error for generated columns during execution #40663 @guo-shaoge\nFix the issue that TiDB might not be able to obtain statistics correctly when there is a time type #41938 @xuyifangreeneyes\nFix the issue that full index scans might cause errors when prepared plan cache is enabled #42150 @fzzf678\nFix the issue that IFNULL(NOT NULL COLUMN, ...) might return incorrect results #41734 @LittleFall\nFix the issue that TiDB might produce incorrect results when all data in a partitioned table is in a single Region #41801 @Defined2014\nFix the issue that TiDB might produce incorrect results when different partitioned tables appear in a single SQL statement #42135 @mjonss\nFix the issue that statistics auto-collection might not trigger correctly on a partitioned table after adding a new index to the partitioned table #41638 @xuyifangreeneyes\nFix the issue that TiDB might read incorrect column statistics information after collecting statistics twice in a row #42073 @xuyifangreeneyes\nFix the issue that IndexMerge might produce incorrect results when prepare plan cache is enabled #41828 @qw4990\nFix the issue that IndexMerge might have goroutine leakage #41605 @guo-shaoge\nFix the issue that non-BIGINT unsigned integers might produce incorrect results when compared with strings/decimals #41736 @LittleFall\nFix the issue that killing a previous ANALYZE statement due to memory over-limit might cause the current ANALYZE statement in the same session to be killed #41825 @XuHuaiyu\nFix the issue that data race might occur during the information collection process of the batch coprocessor #41412 @you06\nFix the issue that an assertion error prevents printing MVCC information for partitioned tables #40629 @ekexium\nFix the issue that fair lock mode adds locking to non-existent keys #41527 @ekexium\nFix the issue that INSERT IGNORE and REPLACE statements do not lock keys that do not modify values #42121 @zyguan",
          "Fix the issue of missing updates when upgrading TiDB from v6.5.1 to a later version #41502 @chrysan",
          "Fix the issue that the default values of some system variables are not modified after upgrading #41423 @crazycs520",
          "Fix the issue that Coprocessor request types related to adding indexes are displayed as unknown #41400 @tangenta",
          "Fix the issue of returning \"PessimisticLockNotFound\" when adding an index #41515 @tangenta",
          "Fix the issue of mistakenly returning found duplicate key when adding a unique index #41630 @tangenta",
          "Fix the panic issue when adding an index #41880 @tangenta",
          "Fix the issue that TiFlash reports an error for generated columns during execution #40663 @guo-shaoge",
          "Fix the issue that TiDB might not be able to obtain statistics correctly when there is a time type #41938 @xuyifangreeneyes",
          "Fix the issue that full index scans might cause errors when prepared plan cache is enabled #42150 @fzzf678",
          "Fix the issue that IFNULL(NOT NULL COLUMN, ...) might return incorrect results #41734 @LittleFall",
          "Fix the issue that TiDB might produce incorrect results when all data in a partitioned table is in a single Region #41801 @Defined2014",
          "Fix the issue that TiDB might produce incorrect results when different partitioned tables appear in a single SQL statement #42135 @mjonss",
          "Fix the issue that statistics auto-collection might not trigger correctly on a partitioned table after adding a new index to the partitioned table #41638 @xuyifangreeneyes",
          "Fix the issue that TiDB might read incorrect column statistics information after collecting statistics twice in a row #42073 @xuyifangreeneyes",
          "Fix the issue that IndexMerge might produce incorrect results when prepare plan cache is enabled #41828 @qw4990",
          "Fix the issue that IndexMerge might have goroutine leakage #41605 @guo-shaoge",
          "Fix the issue that non-BIGINT unsigned integers might produce incorrect results when compared with strings/decimals #41736 @LittleFall",
          "Fix the issue that killing a previous ANALYZE statement due to memory over-limit might cause the current ANALYZE statement in the same session to be killed #41825 @XuHuaiyu",
          "Fix the issue that data race might occur during the information collection process of the batch coprocessor #41412 @you06",
          "Fix the issue that an assertion error prevents printing MVCC information for partitioned tables #40629 @ekexium",
          "Fix the issue that fair lock mode adds locking to non-existent keys #41527 @ekexium",
          "Fix the issue that INSERT IGNORE and REPLACE statements do not lock keys that do not modify values #42121 @zyguan",
          "PD\nFix the issue that the Region Scatter operation might cause uneven distribution of leaders #6017 @HunDunDM\nFix the issue that data race might occur when getting PD members during startup #6069 @rleungx\nFix the issue that data race might occur when collecting hotspot statistics #6069 @lhy1024\nFix the issue that switching placement rule might cause uneven distribution of leaders #6195 @bufferflies",
          "Fix the issue that the Region Scatter operation might cause uneven distribution of leaders #6017 @HunDunDM",
          "Fix the issue that data race might occur when getting PD members during startup #6069 @rleungx",
          "Fix the issue that data race might occur when collecting hotspot statistics #6069 @lhy1024",
          "Fix the issue that switching placement rule might cause uneven distribution of leaders #6195 @bufferflies",
          "TiFlash\nFix the issue that Decimal division does not round up the last digit in certain cases #7022 @LittleFall\nFix the issue that Decimal cast rounds up incorrectly in certain cases #6994 @windtalker\nFix the issue that TopN/Sort operators produce incorrect results after enabling the new collation #6807 @xzhangxian1008\nFix the issue that TiFlash reports an error when aggregating a result set larger than 12 million rows on a single TiFlash node #6993 @windtalker",
          "Fix the issue that Decimal division does not round up the last digit in certain cases #7022 @LittleFall",
          "Fix the issue that Decimal cast rounds up incorrectly in certain cases #6994 @windtalker",
          "Fix the issue that TopN/Sort operators produce incorrect results after enabling the new collation #6807 @xzhangxian1008",
          "Fix the issue that TiFlash reports an error when aggregating a result set larger than 12 million rows on a single TiFlash node #6993 @windtalker",
          "Tools\nBackup & Restore (BR)\nFix the issue of insufficient wait time for splitting Region retry during the PITR recovery process #42001 @joccau\nFix the issue of recovery failures due to memory is limited error encountered during the PITR recovery process #41983 @joccau\nFix the issue that PITR log backup progress does not advance when a PD node is down #14184 @YuJuncen\nAlleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen\nTiCDC\nFix the issue that restarting the changefeed might cause data loss or that the checkpoint cannot advance #8242 @overvenus\nFix the data race issue in DDL sink #8238 @3AceShowHand\nFix the issue that the changefeed in the stopped status might restart automatically #8330 @sdojjy\nFix the issue that the TiCDC server panics when all downstream Kafka servers are unavailable #8523 @3AceShowHand\nFix the issue that data might be lost when the downstream is MySQL and the executed statement is incompatible with TiDB #8453 @asddongmen\nFix the issue that rolling upgrade might cause TiCDC OOM or that the checkpoint gets stuck #8329 @overvenus\nFix the issue that graceful upgrade for TiCDC clusters fails on Kubernetes #8484 @overvenus\nTiDB Data Migration (DM)\nFix the issue that when a DM worker node uses Google Cloud Storage, due to too frequent breakpoints, the request frequency limit of Google Cloud Storage is reached and the DM worker cannot write the data into Google Cloud Storage, thus causing the full data to fail to load #8482 @maxshuang\nFix the issue that when multiple DM tasks replicate the same downstream data at the same time and all use the downstream metadata table to record the breakpoint information, the breakpoint information of all tasks is written to the same metadata table and uses the same task ID #8500 @maxshuang\nTiDB Lightning\nFix the issue that when Physical Import Mode is used for importing data, if there is an auto_random column in the composite primary key of the target table, but the value of the column is not specified in the source data, TiDB Lightning does not generate data for the auto_random column automatically #41454 @D3Hunter\nFix the issue that when Logical Import Mode is used for importing data, the import fails due to lack of the CONFIG permission for the target cluster #41915 @lichunzhu",
          "Backup & Restore (BR)\nFix the issue of insufficient wait time for splitting Region retry during the PITR recovery process #42001 @joccau\nFix the issue of recovery failures due to memory is limited error encountered during the PITR recovery process #41983 @joccau\nFix the issue that PITR log backup progress does not advance when a PD node is down #14184 @YuJuncen\nAlleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen",
          "Fix the issue of insufficient wait time for splitting Region retry during the PITR recovery process #42001 @joccau",
          "Fix the issue of recovery failures due to memory is limited error encountered during the PITR recovery process #41983 @joccau",
          "Fix the issue that PITR log backup progress does not advance when a PD node is down #14184 @YuJuncen",
          "Alleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen",
          "TiCDC\nFix the issue that restarting the changefeed might cause data loss or that the checkpoint cannot advance #8242 @overvenus\nFix the data race issue in DDL sink #8238 @3AceShowHand\nFix the issue that the changefeed in the stopped status might restart automatically #8330 @sdojjy\nFix the issue that the TiCDC server panics when all downstream Kafka servers are unavailable #8523 @3AceShowHand\nFix the issue that data might be lost when the downstream is MySQL and the executed statement is incompatible with TiDB #8453 @asddongmen\nFix the issue that rolling upgrade might cause TiCDC OOM or that the checkpoint gets stuck #8329 @overvenus\nFix the issue that graceful upgrade for TiCDC clusters fails on Kubernetes #8484 @overvenus",
          "Fix the issue that restarting the changefeed might cause data loss or that the checkpoint cannot advance #8242 @overvenus",
          "Fix the data race issue in DDL sink #8238 @3AceShowHand",
          "Fix the issue that the changefeed in the stopped status might restart automatically #8330 @sdojjy",
          "Fix the issue that the TiCDC server panics when all downstream Kafka servers are unavailable #8523 @3AceShowHand",
          "Fix the issue that data might be lost when the downstream is MySQL and the executed statement is incompatible with TiDB #8453 @asddongmen",
          "Fix the issue that rolling upgrade might cause TiCDC OOM or that the checkpoint gets stuck #8329 @overvenus",
          "Fix the issue that graceful upgrade for TiCDC clusters fails on Kubernetes #8484 @overvenus",
          "TiDB Data Migration (DM)\nFix the issue that when a DM worker node uses Google Cloud Storage, due to too frequent breakpoints, the request frequency limit of Google Cloud Storage is reached and the DM worker cannot write the data into Google Cloud Storage, thus causing the full data to fail to load #8482 @maxshuang\nFix the issue that when multiple DM tasks replicate the same downstream data at the same time and all use the downstream metadata table to record the breakpoint information, the breakpoint information of all tasks is written to the same metadata table and uses the same task ID #8500 @maxshuang",
          "Fix the issue that when a DM worker node uses Google Cloud Storage, due to too frequent breakpoints, the request frequency limit of Google Cloud Storage is reached and the DM worker cannot write the data into Google Cloud Storage, thus causing the full data to fail to load #8482 @maxshuang",
          "Fix the issue that when multiple DM tasks replicate the same downstream data at the same time and all use the downstream metadata table to record the breakpoint information, the breakpoint information of all tasks is written to the same metadata table and uses the same task ID #8500 @maxshuang",
          "TiDB Lightning\nFix the issue that when Physical Import Mode is used for importing data, if there is an auto_random column in the composite primary key of the target table, but the value of the column is not specified in the source data, TiDB Lightning does not generate data for the auto_random column automatically #41454 @D3Hunter\nFix the issue that when Logical Import Mode is used for importing data, the import fails due to lack of the CONFIG permission for the target cluster #41915 @lichunzhu",
          "Fix the issue that when Physical Import Mode is used for importing data, if there is an auto_random column in the composite primary key of the target table, but the value of the column is not specified in the source data, TiDB Lightning does not generate data for the auto_random column automatically #41454 @D3Hunter",
          "Fix the issue that when Logical Import Mode is used for importing data, the import fails due to lack of the CONFIG permission for the target cluster #41915 @lichunzhu"
        ]
      }
    ]
  },
  {
    "major_version": "6.6",
    "patches": [
      {
        "version": "6.6.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.6.0/",
        "changes": [
          "TiDB\nImprove the scheduling mechanism of TTL background cleaning tasks to allow the cleaning task of a single table to be split into several sub-tasks and scheduled to run on multiple TiDB nodes simultaneously #40361 @YangKeao\nOptimize the column name display of the result returned by running multi-statements after setting a non-default delimiter #39662 @mjonss\nOptimize the execution efficiency of statements after warning messages are generated #39702 @tiancaiamao\nSupport distributed data backfill for ADD INDEX (experimental) #37119 @zimulala\nSupport using CURDATE() as the default value of a column #38356 @CbcWestwolf\npartial order prop push down now supports the LIST-type partitioned tables #40273 @winoros\nAdd error messages for conflicts between optimizer hints and execution plan bindings #40910 @Reminiscent\nOptimize the plan cache strategy to avoid non-optimal plans when using plan cache in some scenarios #40312 #40218 #40280 #41136 #40686 @qw4990\nClear expired region cache regularly to avoid memory leak and performance degradation #40461 @sticnarf\nMODIFY COLUMN is not supported on partitioned tables #39915 @wjhuang2016\nDisable renaming of columns that partition tables depend on #40150 @mjonss\nRefine the error message reported when a column that a partitioned table depends on is deleted #38739 @jiyfhust\nAdd a mechanism that FLASHBACK CLUSTER retries when it fails to check the min-resolved-ts #39836 @Defined2014",
          "Improve the scheduling mechanism of TTL background cleaning tasks to allow the cleaning task of a single table to be split into several sub-tasks and scheduled to run on multiple TiDB nodes simultaneously #40361 @YangKeao",
          "Optimize the column name display of the result returned by running multi-statements after setting a non-default delimiter #39662 @mjonss",
          "Optimize the execution efficiency of statements after warning messages are generated #39702 @tiancaiamao",
          "Support distributed data backfill for ADD INDEX (experimental) #37119 @zimulala",
          "Support using CURDATE() as the default value of a column #38356 @CbcWestwolf",
          "partial order prop push down now supports the LIST-type partitioned tables #40273 @winoros",
          "Add error messages for conflicts between optimizer hints and execution plan bindings #40910 @Reminiscent",
          "Optimize the plan cache strategy to avoid non-optimal plans when using plan cache in some scenarios #40312 #40218 #40280 #41136 #40686 @qw4990",
          "Clear expired region cache regularly to avoid memory leak and performance degradation #40461 @sticnarf",
          "MODIFY COLUMN is not supported on partitioned tables #39915 @wjhuang2016",
          "Disable renaming of columns that partition tables depend on #40150 @mjonss",
          "Refine the error message reported when a column that a partitioned table depends on is deleted #38739 @jiyfhust",
          "Add a mechanism that FLASHBACK CLUSTER retries when it fails to check the min-resolved-ts #39836 @Defined2014",
          "TiKV\nOptimize the default values of some parameters in partitioned-raft-kv mode: the default value of the TiKV configuration item storage.block-cache.capacity is adjusted from 45% to 30%, and the default value of region-split-size is adjusted from 96MiB adjusted to 10GiB. When using raft-kv mode and enable-region-bucket is true, region-split-size is adjusted to 1 GiB by default. #12842 @tonyxuqqi\nSupport priority scheduling in Raftstore asynchronous writes #13730 @Connor1996\nSupport starting TiKV on a CPU with less than 1 core #13586 #13752 #14017 @andreid-db\nOptimize the new detection mechanism of Raftstore slow score and add evict-slow-trend-scheduler #14131 @innerr\nForce the block cache of RocksDB to be shared and no longer support setting the block cache separately according to CF #12936 @busyjay",
          "Optimize the default values of some parameters in partitioned-raft-kv mode: the default value of the TiKV configuration item storage.block-cache.capacity is adjusted from 45% to 30%, and the default value of region-split-size is adjusted from 96MiB adjusted to 10GiB. When using raft-kv mode and enable-region-bucket is true, region-split-size is adjusted to 1 GiB by default. #12842 @tonyxuqqi",
          "Support priority scheduling in Raftstore asynchronous writes #13730 @Connor1996",
          "Support starting TiKV on a CPU with less than 1 core #13586 #13752 #14017 @andreid-db",
          "Optimize the new detection mechanism of Raftstore slow score and add evict-slow-trend-scheduler #14131 @innerr",
          "Force the block cache of RocksDB to be shared and no longer support setting the block cache separately according to CF #12936 @busyjay",
          "PD\nSupport managing the global memory threshold to alleviate the OOM problem (experimental) #5827 @hnes\nAdd the GC Tuner to alleviate the GC pressure (experimental) #5827 @hnes\nAdd the evict-slow-trend-scheduler scheduler to detect and schedule abnormal nodes #5808 @innerr\nAdd the keyspace manager to manage keyspace #5293 @AmoebaProtozoa",
          "Support managing the global memory threshold to alleviate the OOM problem (experimental) #5827 @hnes",
          "Add the GC Tuner to alleviate the GC pressure (experimental) #5827 @hnes",
          "Add the evict-slow-trend-scheduler scheduler to detect and schedule abnormal nodes #5808 @innerr",
          "Add the keyspace manager to manage keyspace #5293 @AmoebaProtozoa",
          "TiFlash\nSupport an independent MVCC bitmap filter that decouples the MVCC filtering operations in the TiFlash data scanning process, which provides the foundation for future optimization of the data scanning process #6296 @JinheLin\nReduce the memory usage of TiFlash by up to 30% when there is no query #6589 @hongyunyan",
          "Support an independent MVCC bitmap filter that decouples the MVCC filtering operations in the TiFlash data scanning process, which provides the foundation for future optimization of the data scanning process #6296 @JinheLin",
          "Reduce the memory usage of TiFlash by up to 30% when there is no query #6589 @hongyunyan",
          "Tools\nBackup & Restore (BR)\nOptimize the concurrency of downloading log backup files on the TiKV side to improve the performance of PITR recovery in regular scenarios #14206 @YuJuncen\nTiCDC\nSupport batch UPDATE DML statements to improve TiCDC replication performance #8084 @amyangfei\nImplement MQ sink and MySQL sink in the asynchronous mode to improve the sink throughput #5928 @hicqu @hi-rustin\nTiDB Data Migration (DM)\nOptimize DM alert rules and content #7376 @D3Hunter\nPreviously, alerts similar to \"DM_XXX_process_exits_with_error\" were raised whenever a related error occurred. But some alerts are caused by idle database connections, which can be recovered after reconnecting. To reduce these kinds of alerts, DM divides errors into two types: automatically recoverable errors and unrecoverable errors:\nFor an error that is automatically recoverable, DM reports the alert only if the error occurs more than 3 times within 2 minutes.\nFor an error that is not automatically recoverable, DM maintains the original behavior and reports the alert immediately.\nOptimize relay performance by adding the async/batch relay writer #4287 @GMHDBJD\nTiDB Lightning\nPhysical Import Mode supports keyspace #40531 @iosmanthus\nSupport setting the maximum number of conflicts by lightning.max-error #40743 @dsdashun\nSupport importing CSV data files with BOM headers #40744 @dsdashun\nOptimize the processing logic when encountering TiKV flow-limiting errors and try other available regions instead #40205 @lance6716\nDisable checking the table foreign keys during import #40027 @sleepymole\nDumpling\nSupport exporting settings for foreign keys #39913 @lichunzhu\nsync-diff-inspector\nAdd a new parameter skip-non-existing-table to control whether to skip checking upstream and downstream data consistency when tables in the downstream do not exist in the upstream #692 @lichunzhu @liumengya94",
          "Backup & Restore (BR)\nOptimize the concurrency of downloading log backup files on the TiKV side to improve the performance of PITR recovery in regular scenarios #14206 @YuJuncen",
          "Optimize the concurrency of downloading log backup files on the TiKV side to improve the performance of PITR recovery in regular scenarios #14206 @YuJuncen",
          "TiCDC\nSupport batch UPDATE DML statements to improve TiCDC replication performance #8084 @amyangfei\nImplement MQ sink and MySQL sink in the asynchronous mode to improve the sink throughput #5928 @hicqu @hi-rustin",
          "Support batch UPDATE DML statements to improve TiCDC replication performance #8084 @amyangfei",
          "Implement MQ sink and MySQL sink in the asynchronous mode to improve the sink throughput #5928 @hicqu @hi-rustin",
          "TiDB Data Migration (DM)\nOptimize DM alert rules and content #7376 @D3Hunter\nPreviously, alerts similar to \"DM_XXX_process_exits_with_error\" were raised whenever a related error occurred. But some alerts are caused by idle database connections, which can be recovered after reconnecting. To reduce these kinds of alerts, DM divides errors into two types: automatically recoverable errors and unrecoverable errors:\nFor an error that is automatically recoverable, DM reports the alert only if the error occurs more than 3 times within 2 minutes.\nFor an error that is not automatically recoverable, DM maintains the original behavior and reports the alert immediately.\nOptimize relay performance by adding the async/batch relay writer #4287 @GMHDBJD",
          "Optimize DM alert rules and content #7376 @D3Hunter\nPreviously, alerts similar to \"DM_XXX_process_exits_with_error\" were raised whenever a related error occurred. But some alerts are caused by idle database connections, which can be recovered after reconnecting. To reduce these kinds of alerts, DM divides errors into two types: automatically recoverable errors and unrecoverable errors:\nFor an error that is automatically recoverable, DM reports the alert only if the error occurs more than 3 times within 2 minutes.\nFor an error that is not automatically recoverable, DM maintains the original behavior and reports the alert immediately.",
          "For an error that is automatically recoverable, DM reports the alert only if the error occurs more than 3 times within 2 minutes.",
          "For an error that is not automatically recoverable, DM maintains the original behavior and reports the alert immediately.",
          "Optimize relay performance by adding the async/batch relay writer #4287 @GMHDBJD",
          "TiDB Lightning\nPhysical Import Mode supports keyspace #40531 @iosmanthus\nSupport setting the maximum number of conflicts by lightning.max-error #40743 @dsdashun\nSupport importing CSV data files with BOM headers #40744 @dsdashun\nOptimize the processing logic when encountering TiKV flow-limiting errors and try other available regions instead #40205 @lance6716\nDisable checking the table foreign keys during import #40027 @sleepymole",
          "Physical Import Mode supports keyspace #40531 @iosmanthus",
          "Support setting the maximum number of conflicts by lightning.max-error #40743 @dsdashun",
          "Support importing CSV data files with BOM headers #40744 @dsdashun",
          "Optimize the processing logic when encountering TiKV flow-limiting errors and try other available regions instead #40205 @lance6716",
          "Disable checking the table foreign keys during import #40027 @sleepymole",
          "Dumpling\nSupport exporting settings for foreign keys #39913 @lichunzhu",
          "Support exporting settings for foreign keys #39913 @lichunzhu",
          "sync-diff-inspector\nAdd a new parameter skip-non-existing-table to control whether to skip checking upstream and downstream data consistency when tables in the downstream do not exist in the upstream #692 @lichunzhu @liumengya94",
          "Add a new parameter skip-non-existing-table to control whether to skip checking upstream and downstream data consistency when tables in the downstream do not exist in the upstream #692 @lichunzhu @liumengya94",
          "TiDB\nFix the issue that a statistics collection task fails due to an incorrect datetime value #39336 @xuyifangreeneyes\nFix the issue that stats_meta is not created following table creation #38189 @xuyifangreeneyes\nFix frequent write conflicts in transactions when performing DDL data backfill #24427 @mjonss\nFix the issue that sometimes an index cannot be created for an empty table using ingest mode #39641 @tangenta\nFix the issue that wait_ts in the slow query log is the same for different SQL statements within the same transaction #39713 @TonsnakeLin\nFix the issue that the Assertion Failed error is reported when adding a column during the process of deleting a row record #39570 @wjhuang2016\nFix the issue that the not a DDL owner error is reported when modifying a column type #39643 @zimulala\nFix the issue that no error is reported when inserting a row after exhaustion of the auto-increment values of the AUTO_INCREMENT column #38950 @Dousir9\nFix the issue that the Unknown column error is reported when creating an expression index #39784 @Defined2014\nFix the issue that data cannot be inserted into a renamed table when the generated expression includes the name of this table #39826 @Defined2014\nFix the issue that the INSERT ignore statement cannot fill in default values when the column is write-only #40192 @YangKeao\nFix the issue that resources are not released when disabling the resource management module #40546 @zimulala\nFix the issue that TTL tasks cannot trigger statistics updates in time #40109 @YangKeao\nFix the issue that unexpected data is read because TiDB improperly handles NULL values when constructing key ranges #40158 @tiancaiamao\nFix the issue that invalid values are written to a table when the MODIFY COLUMN statement also changes the default value of a column #40164 @wjhuang2016\nFix the issue that the adding index operation is inefficient due to invalid Region cache when there are many Regions in a table #38436 @tangenta\nFix data race occurred in allocating auto-increment IDs #40584 @Dousir9\nFix the issue that the implementation of the not operator in JSON is incompatible with the implementation in MySQL #40683 @YangKeao\nFix the issue that concurrent view might cause DDL operations to be blocked #40352 @zeminzhou\nFix data inconsistency caused by concurrently executing DDL statements to modify columns of partitioned tables #40620 @mjonss @mjonss\nFix the issue that \"Malformed packet\" is reported when using caching_sha2_password for authentication without specifying a password #40831 @dveeden\nFix the issue that a TTL task fails if the primary key of the table contains an ENUM column #40456 @lcwangchao\nFix the issue that some DDL operations blocked by MDL cannot be queried in mysql.tidb_mdl_view #40838 @YangKeao\nFix the issue that data race might occur during DDL ingestion #40970 @tangenta\nFix the issue that TTL tasks might delete some data incorrectly after the time zone changes #41043 @lcwangchao\nFix the issue that JSON_OBJECT might report an error in some cases #39806 @YangKeao\nFix the issue that TiDB might deadlock during initialization #40408 @Defined2014\nFix the issue that the value of system variables might be incorrectly modified in some cases due to memory reuse #40979 @lcwangchao\nFix the issue that data might be inconsistent with the index when a unique index is created in the ingest mode #40464 @tangenta\nFix the issue that some truncate operations cannot be blocked by MDL when truncating the same table concurrently #40484 @wjhuang2016\nFix the issue that the SHOW PRIVILEGES statement returns an incomplete privilege list #40591 @CbcWestwolf\nFix the issue that TiDB panics when adding a unique index #40592 @tangenta\nFix the issue that executing the ADMIN RECOVER statement might cause the index data to be corrupted #40430 @xiongjiwei\nFix the issue that a query might fail when the queried table contains a CAST expression in the expression index #40130 @xiongjiwei\nFix the issue that a unique index might still produce duplicate data in some cases #40217 @tangenta\nFix the PD OOM issue when there is a large number of Regions but the table ID cannot be pushed down when querying some virtual tables using Prepare or Execute #39605 @djshow832\nFix the issue that data race might occur when an index is added #40879 @tangenta\nFix the can't find proper physical plan issue caused by virtual columns #41014 @AilinKid\nFix the issue that TiDB cannot restart after global bindings are created for partition tables in dynamic trimming mode #40368 @Yisaer\nFix the issue that auto analyze causes graceful shutdown to take a long time #40038 @xuyifangreeneyes\nFix the panic of the TiDB server when the IndexMerge operator triggers memory limiting behaviors #41036 @guo-shaoge\nFix the issue that the SELECT * FROM table_name LIMIT 1 query on partitioned tables is slow #40741 @solotzg",
          "Fix the issue that a statistics collection task fails due to an incorrect datetime value #39336 @xuyifangreeneyes",
          "Fix the issue that stats_meta is not created following table creation #38189 @xuyifangreeneyes",
          "Fix frequent write conflicts in transactions when performing DDL data backfill #24427 @mjonss",
          "Fix the issue that sometimes an index cannot be created for an empty table using ingest mode #39641 @tangenta",
          "Fix the issue that wait_ts in the slow query log is the same for different SQL statements within the same transaction #39713 @TonsnakeLin",
          "Fix the issue that the Assertion Failed error is reported when adding a column during the process of deleting a row record #39570 @wjhuang2016",
          "Fix the issue that the not a DDL owner error is reported when modifying a column type #39643 @zimulala",
          "Fix the issue that no error is reported when inserting a row after exhaustion of the auto-increment values of the AUTO_INCREMENT column #38950 @Dousir9",
          "Fix the issue that the Unknown column error is reported when creating an expression index #39784 @Defined2014",
          "Fix the issue that data cannot be inserted into a renamed table when the generated expression includes the name of this table #39826 @Defined2014",
          "Fix the issue that the INSERT ignore statement cannot fill in default values when the column is write-only #40192 @YangKeao",
          "Fix the issue that resources are not released when disabling the resource management module #40546 @zimulala",
          "Fix the issue that TTL tasks cannot trigger statistics updates in time #40109 @YangKeao",
          "Fix the issue that unexpected data is read because TiDB improperly handles NULL values when constructing key ranges #40158 @tiancaiamao",
          "Fix the issue that invalid values are written to a table when the MODIFY COLUMN statement also changes the default value of a column #40164 @wjhuang2016",
          "Fix the issue that the adding index operation is inefficient due to invalid Region cache when there are many Regions in a table #38436 @tangenta",
          "Fix data race occurred in allocating auto-increment IDs #40584 @Dousir9",
          "Fix the issue that the implementation of the not operator in JSON is incompatible with the implementation in MySQL #40683 @YangKeao",
          "Fix the issue that concurrent view might cause DDL operations to be blocked #40352 @zeminzhou",
          "Fix data inconsistency caused by concurrently executing DDL statements to modify columns of partitioned tables #40620 @mjonss @mjonss",
          "Fix the issue that \"Malformed packet\" is reported when using caching_sha2_password for authentication without specifying a password #40831 @dveeden",
          "Fix the issue that a TTL task fails if the primary key of the table contains an ENUM column #40456 @lcwangchao",
          "Fix the issue that some DDL operations blocked by MDL cannot be queried in mysql.tidb_mdl_view #40838 @YangKeao",
          "Fix the issue that data race might occur during DDL ingestion #40970 @tangenta",
          "Fix the issue that TTL tasks might delete some data incorrectly after the time zone changes #41043 @lcwangchao",
          "Fix the issue that JSON_OBJECT might report an error in some cases #39806 @YangKeao",
          "Fix the issue that TiDB might deadlock during initialization #40408 @Defined2014",
          "Fix the issue that the value of system variables might be incorrectly modified in some cases due to memory reuse #40979 @lcwangchao",
          "Fix the issue that data might be inconsistent with the index when a unique index is created in the ingest mode #40464 @tangenta",
          "Fix the issue that some truncate operations cannot be blocked by MDL when truncating the same table concurrently #40484 @wjhuang2016",
          "Fix the issue that the SHOW PRIVILEGES statement returns an incomplete privilege list #40591 @CbcWestwolf",
          "Fix the issue that TiDB panics when adding a unique index #40592 @tangenta",
          "Fix the issue that executing the ADMIN RECOVER statement might cause the index data to be corrupted #40430 @xiongjiwei",
          "Fix the issue that a query might fail when the queried table contains a CAST expression in the expression index #40130 @xiongjiwei",
          "Fix the issue that a unique index might still produce duplicate data in some cases #40217 @tangenta",
          "Fix the PD OOM issue when there is a large number of Regions but the table ID cannot be pushed down when querying some virtual tables using Prepare or Execute #39605 @djshow832",
          "Fix the issue that data race might occur when an index is added #40879 @tangenta",
          "Fix the can't find proper physical plan issue caused by virtual columns #41014 @AilinKid",
          "Fix the issue that TiDB cannot restart after global bindings are created for partition tables in dynamic trimming mode #40368 @Yisaer",
          "Fix the issue that auto analyze causes graceful shutdown to take a long time #40038 @xuyifangreeneyes",
          "Fix the panic of the TiDB server when the IndexMerge operator triggers memory limiting behaviors #41036 @guo-shaoge",
          "Fix the issue that the SELECT * FROM table_name LIMIT 1 query on partitioned tables is slow #40741 @solotzg",
          "TiKV\nFix an error that occurs when casting the const Enum type to other types #14156 @wshwsh12\nFix the issue that Resolved TS causes higher network traffic #14092 @overvenus\nFix the data inconsistency issue caused by network failure between TiDB and TiKV during the execution of a DML after a failed pessimistic DML #14038 @MyonKeminta",
          "Fix an error that occurs when casting the const Enum type to other types #14156 @wshwsh12",
          "Fix the issue that Resolved TS causes higher network traffic #14092 @overvenus",
          "Fix the data inconsistency issue caused by network failure between TiDB and TiKV during the execution of a DML after a failed pessimistic DML #14038 @MyonKeminta",
          "PD\nFix the issue that the Region Scatter task generates redundant replicas unexpectedly #5909 @HundunDM\nFix the issue that the Online Unsafe Recovery feature would get stuck and time out in auto-detect mode #5753 @Connor1996\nFix the issue that the execution replace-down-peer slows down under certain conditions #5788 @HundunDM\nFix the PD OOM issue that occurs when the calls of ReportMinResolvedTS are too frequent #5965 @HundunDM",
          "Fix the issue that the Region Scatter task generates redundant replicas unexpectedly #5909 @HundunDM",
          "Fix the issue that the Online Unsafe Recovery feature would get stuck and time out in auto-detect mode #5753 @Connor1996",
          "Fix the issue that the execution replace-down-peer slows down under certain conditions #5788 @HundunDM",
          "Fix the PD OOM issue that occurs when the calls of ReportMinResolvedTS are too frequent #5965 @HundunDM",
          "TiFlash\nFix the issue that querying TiFlash-related system tables might get stuck #6745 @lidezhu\nFix the issue that semi-joins use excessive memory when calculating Cartesian products #6730 @gengliqi\nFix the issue that the result of the division operation on the DECIMAL data type is not rounded #6393 @LittleFall\nFix the issue that start_ts cannot uniquely identify an MPP query in TiFlash queries, which might cause an MPP query to be incorrectly canceled #43426 @hehechen",
          "Fix the issue that querying TiFlash-related system tables might get stuck #6745 @lidezhu",
          "Fix the issue that semi-joins use excessive memory when calculating Cartesian products #6730 @gengliqi",
          "Fix the issue that the result of the division operation on the DECIMAL data type is not rounded #6393 @LittleFall",
          "Fix the issue that start_ts cannot uniquely identify an MPP query in TiFlash queries, which might cause an MPP query to be incorrectly canceled #43426 @hehechen",
          "Tools\nBackup & Restore (BR)\nFix the issue that when restoring log backup, hot Regions cause the restore to fail #37207 @Leavrth\nFix the issue that restoring data to a cluster on which the log backup is running causes the log backup file to be unrecoverable #40797 @Leavrth\nFix the issue that the PITR feature does not support CA-bundles #38775 @YuJuncen\nFix the panic issue caused by duplicate temporary tables during recovery #40797 @joccau\nFix the issue that PITR does not support configuration changes for PD clusters #14165 @YuJuncen\nFix the issue that the connection failure between PD and tidb-server causes PITR backup progress not to advance #41082 @YuJuncen\nFix the issue that TiKV cannot listen to PITR tasks due to the connection failure between PD and TiKV #14159 @YuJuncen\nFix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau\nFix the issue that when a PITR backup task is deleted, the residual backup data causes data inconsistency in new tasks #40403 @joccau\nTiCDC\nFix the issue that transaction_atomicity and protocol cannot be updated via the configuration file #7935 @CharlesCheung96\nFix the issue that precheck is not performed on the storage path of redo log #6335 @CharlesCheung96\nFix the issue of insufficient duration that redo log can tolerate for S3 storage failure #8089 @CharlesCheung96\nFix the issue that changefeed might get stuck in special scenarios such as when scaling in or scaling out TiKV or TiCDC nodes #8174 @hicqu\nFix the issue of too high traffic among TiKV nodes #14092 @overvenus\nFix the performance issues of TiCDC in terms of CPU usage, memory control, and throughput when the pull-based sink is enabled #8142 #8157 #8001 #5928 @hicqu @hi-rustin\nTiDB Data Migration (DM)\nFix the issue that the binlog-schema delete command fails to execute #7373 @liumengya94\nFix the issue that the checkpoint does not advance when the last binlog is a skipped DDL #8175 @D3Hunter\nFix a bug that when the expression filters of both \"update\" and \"non-update\" types are specified in one table, all UPDATE statements are skipped #7831 @lance6716\nFix a bug that when only one of update-old-value-expr or update-new-value-expr is set for a table, the filter rule does not take effect or DM panics #7774 @lance6716\nTiDB Lightning\nFix the issue that TiDB Lightning timeout hangs due to TiDB restart in some scenarios #33714 @lichunzhu\nFix the issue that TiDB Lightning might incorrectly skip conflict resolution when all but the last TiDB Lightning instance encounters a local duplicate record during a parallel import #40923 @lichunzhu\nFix the issue that precheck cannot accurately detect the presence of a running TiCDC in the target cluster #41040 @lance6716\nFix the issue that TiDB Lightning panics in the split-region phase #40934 @lance6716\nFix the issue that the conflict resolution logic (duplicate-resolution) might lead to inconsistent checksums #40657 @sleepymole\nFix a possible OOM problem when there is an unclosed delimiter in the data file #40400 @buchuitoudegou\nFix the issue that the file offset in the error report exceeds the file size #40034 @buchuitoudegou\nFix an issue with the new version of PDClient that might cause parallel import to fail #40493 @AmoebaProtozoa\nFix the issue that TiDB Lightning prechecks cannot find dirty data left by previously failed imports #39477 @dsdashun",
          "Backup & Restore (BR)\nFix the issue that when restoring log backup, hot Regions cause the restore to fail #37207 @Leavrth\nFix the issue that restoring data to a cluster on which the log backup is running causes the log backup file to be unrecoverable #40797 @Leavrth\nFix the issue that the PITR feature does not support CA-bundles #38775 @YuJuncen\nFix the panic issue caused by duplicate temporary tables during recovery #40797 @joccau\nFix the issue that PITR does not support configuration changes for PD clusters #14165 @YuJuncen\nFix the issue that the connection failure between PD and tidb-server causes PITR backup progress not to advance #41082 @YuJuncen\nFix the issue that TiKV cannot listen to PITR tasks due to the connection failure between PD and TiKV #14159 @YuJuncen\nFix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau\nFix the issue that when a PITR backup task is deleted, the residual backup data causes data inconsistency in new tasks #40403 @joccau",
          "Fix the issue that when restoring log backup, hot Regions cause the restore to fail #37207 @Leavrth",
          "Fix the issue that restoring data to a cluster on which the log backup is running causes the log backup file to be unrecoverable #40797 @Leavrth",
          "Fix the issue that the PITR feature does not support CA-bundles #38775 @YuJuncen",
          "Fix the panic issue caused by duplicate temporary tables during recovery #40797 @joccau",
          "Fix the issue that PITR does not support configuration changes for PD clusters #14165 @YuJuncen",
          "Fix the issue that the connection failure between PD and tidb-server causes PITR backup progress not to advance #41082 @YuJuncen",
          "Fix the issue that TiKV cannot listen to PITR tasks due to the connection failure between PD and TiKV #14159 @YuJuncen",
          "Fix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau",
          "Fix the issue that when a PITR backup task is deleted, the residual backup data causes data inconsistency in new tasks #40403 @joccau",
          "TiCDC\nFix the issue that transaction_atomicity and protocol cannot be updated via the configuration file #7935 @CharlesCheung96\nFix the issue that precheck is not performed on the storage path of redo log #6335 @CharlesCheung96\nFix the issue of insufficient duration that redo log can tolerate for S3 storage failure #8089 @CharlesCheung96\nFix the issue that changefeed might get stuck in special scenarios such as when scaling in or scaling out TiKV or TiCDC nodes #8174 @hicqu\nFix the issue of too high traffic among TiKV nodes #14092 @overvenus\nFix the performance issues of TiCDC in terms of CPU usage, memory control, and throughput when the pull-based sink is enabled #8142 #8157 #8001 #5928 @hicqu @hi-rustin",
          "Fix the issue that transaction_atomicity and protocol cannot be updated via the configuration file #7935 @CharlesCheung96",
          "Fix the issue that precheck is not performed on the storage path of redo log #6335 @CharlesCheung96",
          "Fix the issue of insufficient duration that redo log can tolerate for S3 storage failure #8089 @CharlesCheung96",
          "Fix the issue that changefeed might get stuck in special scenarios such as when scaling in or scaling out TiKV or TiCDC nodes #8174 @hicqu",
          "Fix the issue of too high traffic among TiKV nodes #14092 @overvenus",
          "Fix the performance issues of TiCDC in terms of CPU usage, memory control, and throughput when the pull-based sink is enabled #8142 #8157 #8001 #5928 @hicqu @hi-rustin",
          "TiDB Data Migration (DM)\nFix the issue that the binlog-schema delete command fails to execute #7373 @liumengya94\nFix the issue that the checkpoint does not advance when the last binlog is a skipped DDL #8175 @D3Hunter\nFix a bug that when the expression filters of both \"update\" and \"non-update\" types are specified in one table, all UPDATE statements are skipped #7831 @lance6716\nFix a bug that when only one of update-old-value-expr or update-new-value-expr is set for a table, the filter rule does not take effect or DM panics #7774 @lance6716",
          "Fix the issue that the binlog-schema delete command fails to execute #7373 @liumengya94",
          "Fix the issue that the checkpoint does not advance when the last binlog is a skipped DDL #8175 @D3Hunter",
          "Fix a bug that when the expression filters of both \"update\" and \"non-update\" types are specified in one table, all UPDATE statements are skipped #7831 @lance6716",
          "Fix a bug that when only one of update-old-value-expr or update-new-value-expr is set for a table, the filter rule does not take effect or DM panics #7774 @lance6716",
          "TiDB Lightning\nFix the issue that TiDB Lightning timeout hangs due to TiDB restart in some scenarios #33714 @lichunzhu\nFix the issue that TiDB Lightning might incorrectly skip conflict resolution when all but the last TiDB Lightning instance encounters a local duplicate record during a parallel import #40923 @lichunzhu\nFix the issue that precheck cannot accurately detect the presence of a running TiCDC in the target cluster #41040 @lance6716\nFix the issue that TiDB Lightning panics in the split-region phase #40934 @lance6716\nFix the issue that the conflict resolution logic (duplicate-resolution) might lead to inconsistent checksums #40657 @sleepymole\nFix a possible OOM problem when there is an unclosed delimiter in the data file #40400 @buchuitoudegou\nFix the issue that the file offset in the error report exceeds the file size #40034 @buchuitoudegou\nFix an issue with the new version of PDClient that might cause parallel import to fail #40493 @AmoebaProtozoa\nFix the issue that TiDB Lightning prechecks cannot find dirty data left by previously failed imports #39477 @dsdashun",
          "Fix the issue that TiDB Lightning timeout hangs due to TiDB restart in some scenarios #33714 @lichunzhu",
          "Fix the issue that TiDB Lightning might incorrectly skip conflict resolution when all but the last TiDB Lightning instance encounters a local duplicate record during a parallel import #40923 @lichunzhu",
          "Fix the issue that precheck cannot accurately detect the presence of a running TiCDC in the target cluster #41040 @lance6716",
          "Fix the issue that TiDB Lightning panics in the split-region phase #40934 @lance6716",
          "Fix the issue that the conflict resolution logic (duplicate-resolution) might lead to inconsistent checksums #40657 @sleepymole",
          "Fix a possible OOM problem when there is an unclosed delimiter in the data file #40400 @buchuitoudegou",
          "Fix the issue that the file offset in the error report exceeds the file size #40034 @buchuitoudegou",
          "Fix an issue with the new version of PDClient that might cause parallel import to fail #40493 @AmoebaProtozoa",
          "Fix the issue that TiDB Lightning prechecks cannot find dirty data left by previously failed imports #39477 @dsdashun"
        ]
      }
    ]
  },
  {
    "major_version": "6.5",
    "patches": [
      {
        "version": "6.5.12",
        "date": "2025-02-27",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.5.12/",
        "changes": [
          "TiDB\nEnhance the validity check for read timestamps #57786 @MyonKeminta",
          "Enhance the validity check for read timestamps #57786 @MyonKeminta",
          "TiKV\nAdd the detection mechanism for invalid max_ts updates #17916 @ekexium",
          "Add the detection mechanism for invalid max_ts updates #17916 @ekexium",
          "TiFlash\nImprove the garbage collection speed of outdated data in the background for tables with clustered indexes #9529 @JaySon-Huang",
          "Improve the garbage collection speed of outdated data in the background for tables with clustered indexes #9529 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nAdd a check to verify whether the target cluster is an empty cluster for full restore #35744 @3pointer\nAdd a check to verify whether the target cluster contains a table with the same name for non-full restore #55087 @RidRisR\nExcept for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth\nDisable the table-level checksum calculation during full backups by default (--checksum=false) to improve backup performance #56373 @Tristan1900\nTiDB Lightning\nAdd a row width check when parsing CSV files to prevent OOM issues #58590 @D3Hunter",
          "Backup & Restore (BR)\nAdd a check to verify whether the target cluster is an empty cluster for full restore #35744 @3pointer\nAdd a check to verify whether the target cluster contains a table with the same name for non-full restore #55087 @RidRisR\nExcept for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth\nDisable the table-level checksum calculation during full backups by default (--checksum=false) to improve backup performance #56373 @Tristan1900",
          "Add a check to verify whether the target cluster is an empty cluster for full restore #35744 @3pointer",
          "Add a check to verify whether the target cluster contains a table with the same name for non-full restore #55087 @RidRisR",
          "Except for the br log restore subcommand, all other br log subcommands support skipping the loading of the TiDB domain data structure to reduce memory consumption #52088 @Leavrth",
          "Disable the table-level checksum calculation during full backups by default (--checksum=false) to improve backup performance #56373 @Tristan1900",
          "TiDB Lightning\nAdd a row width check when parsing CSV files to prevent OOM issues #58590 @D3Hunter",
          "Add a row width check when parsing CSV files to prevent OOM issues #58590 @D3Hunter",
          "TiDB\nFix the issue that using subqueries after the NATURAL JOIN or USING clause might result in errors #53766 @dash12653\nFix the issue that the CAST function does not support explicitly setting the character set #55677 @Defined2014\nFix the issue that the LOAD DATA ... REPLACE INTO operation causes data inconsistency #56408 @fzzf678\nFix the issue that TiDB does not check the index length limitation when executing ADD INDEX #56930 @fzzf678\nFix the issue of invalid memory access that might occur when a Common Table Expression (CTE) has multiple data consumers and one consumer exits without reading any data #55881 @windtalker\nFix the issue that some predicates might be lost when constructing IndexMerge #58476 @hawkingrei\nFix the issue that converting data from the BIT type to the CHAR type might cause TiKV panics #56494 @lcwangchao\nFix the issue that using variables or parameters in the CREATE VIEW statement does not report errors #53176 @mjonss\nFix the issue that unreleased session resources might lead to memory leaks #56271 @lance6716\nFix the issue that executing ADD INDEX might fail after modifying the PD member in the distributed execution framework #48680 @lance6716\nFix the issue that using ORDER BY when querying cluster_slow_query table might generate unordered results #51723 @Defined2014\nFix the issue that stale read does not strictly verify the timestamp of the read operation, resulting in a small probability of affecting the consistency of the transaction when an offset exists between the TSO and the real physical time #56809 @MyonKeminta\nFix the issue that the performance of querying INFORMATION_SCHEMA.columns degrades #58184 @lance6716\nFix the issue that the INSERT ... ON DUPLICATE KEY statement is not compatible with mysql_insert_id #55965 @tiancaiamao\nFix the issue that the optimizer incorrectly estimates the number of rows as 1 when accessing a unique index with the query condition column IS NULL #56116 @hawkingrei\nFix the issue that part of the memory of the IndexLookUp operator is not tracked #56440 @wshwsh12\nFix the potential data race issue that might occur in TiDB's internal coroutine #57798 #56053 @fishiu @tiancaiamao\nFix the issue that the read_from_storage hint might not take effect when the query has an available Index Merge execution plan #56217 @AilinKid\nFix the issue that execution plan bindings cannot be created for the multi-table DELETE statement with aliases #56726 @hawkingrei\nFix the issue that INDEX_HASH_JOIN might hang during an abnormal exit #54055 @wshwsh12\nFix the issue that two DDL Owners might exist at the same time #54689 @joccau\nFix the issue that when querying the information_schema.cluster_slow_query table, if the time filter is not added, only the latest slow log file is queried #56100 @crazycs520\nFix the issue that duplicate entry might occur when adding unique indexes #56161 @tangenta\nFix the issue that the error message is incorrect in certain type conversion errors #41730 @hawkingrei\nFix the issue that the CTE defined in VIEW is incorrectly inlined #56582 @elsa0520\nFix the issue that the UPDATE statement incorrectly updates values of the ENUM type #56832 @xhebox\nFix the issue that executing the UPDATE statement after adding a DATE column results in the error Incorrect date value: '0000-00-00' in some cases #59047 @mjonss\nFix the issue that in the Prepare protocol, an error occurs when the client uses a non-UTF8 character set #58870 @xhebox\nFix the issue that querying temporary tables might trigger unexpected TiKV requests in some cases #58875 @tiancaiamao\nFix the issue that the ONLY_FULL_GROUP_BY setting does not take effect on statements in views #53175 @mjonss\nFix the issue that querying partitioned tables using an IN condition containing a mismatched value type and a type conversion error leads to incorrect query results #54746 @mjonss\nFix the issue that querying slow logs might fail when certain fields contain empty values #58147 @yibin87\nFix the issue that the RADIANS() function computes values in an incorrect order #57671 @gengliqi\nFix the issue that the default value of the BIT column is incorrect #57301 @YangKeao\nFix the issue that an inline error might occur if a CTE contains ORDER BY, LIMIT, or SELECT DISTINCT clauses and is referenced by the recursive part of another CTE #56603 @elsa0520\nFix the issue that the timeout that occurs when loading statistics synchronically might not be handled correctly #57710 @hawkingrei\nFix the issue that an incorrect database name might be returned when parsing the database name in a CTE #54582 @hawkingrei\nFix the issue that TiDB might panic during startup due to invalid data binding #58016 @qw4990\nFix the issue that cost estimation might generate invalid INF/NaN values in certain extreme cases, which could lead to incorrect Join Reorder results #56704 @winoros\nFix the issue that loading statistics manually might fail when the statistics file contains null values #53966 @King-Dylan\nFix the issue that creating two views with the same name does not report an error #58769 @tiancaiamao\nFix the issue that when a virtual generated column's dependencies contain a column with the ON UPDATE attribute, the data of the updated row and its index data might be inconsistent #56829 @joechenrh\nFix the issue that the INFORMATION_SCHEMA.TABLES system table returns incorrect results #57345 @tangenta",
          "Fix the issue that using subqueries after the NATURAL JOIN or USING clause might result in errors #53766 @dash12653",
          "Fix the issue that the CAST function does not support explicitly setting the character set #55677 @Defined2014",
          "Fix the issue that the LOAD DATA ... REPLACE INTO operation causes data inconsistency #56408 @fzzf678",
          "Fix the issue that TiDB does not check the index length limitation when executing ADD INDEX #56930 @fzzf678",
          "Fix the issue of invalid memory access that might occur when a Common Table Expression (CTE) has multiple data consumers and one consumer exits without reading any data #55881 @windtalker",
          "Fix the issue that some predicates might be lost when constructing IndexMerge #58476 @hawkingrei",
          "Fix the issue that converting data from the BIT type to the CHAR type might cause TiKV panics #56494 @lcwangchao",
          "Fix the issue that using variables or parameters in the CREATE VIEW statement does not report errors #53176 @mjonss",
          "Fix the issue that unreleased session resources might lead to memory leaks #56271 @lance6716",
          "Fix the issue that executing ADD INDEX might fail after modifying the PD member in the distributed execution framework #48680 @lance6716",
          "Fix the issue that using ORDER BY when querying cluster_slow_query table might generate unordered results #51723 @Defined2014",
          "Fix the issue that stale read does not strictly verify the timestamp of the read operation, resulting in a small probability of affecting the consistency of the transaction when an offset exists between the TSO and the real physical time #56809 @MyonKeminta",
          "Fix the issue that the performance of querying INFORMATION_SCHEMA.columns degrades #58184 @lance6716",
          "Fix the issue that the INSERT ... ON DUPLICATE KEY statement is not compatible with mysql_insert_id #55965 @tiancaiamao",
          "Fix the issue that the optimizer incorrectly estimates the number of rows as 1 when accessing a unique index with the query condition column IS NULL #56116 @hawkingrei",
          "Fix the issue that part of the memory of the IndexLookUp operator is not tracked #56440 @wshwsh12",
          "Fix the potential data race issue that might occur in TiDB's internal coroutine #57798 #56053 @fishiu @tiancaiamao",
          "Fix the issue that the read_from_storage hint might not take effect when the query has an available Index Merge execution plan #56217 @AilinKid",
          "Fix the issue that execution plan bindings cannot be created for the multi-table DELETE statement with aliases #56726 @hawkingrei",
          "Fix the issue that INDEX_HASH_JOIN might hang during an abnormal exit #54055 @wshwsh12",
          "Fix the issue that two DDL Owners might exist at the same time #54689 @joccau",
          "Fix the issue that when querying the information_schema.cluster_slow_query table, if the time filter is not added, only the latest slow log file is queried #56100 @crazycs520",
          "Fix the issue that duplicate entry might occur when adding unique indexes #56161 @tangenta",
          "Fix the issue that the error message is incorrect in certain type conversion errors #41730 @hawkingrei",
          "Fix the issue that the CTE defined in VIEW is incorrectly inlined #56582 @elsa0520",
          "Fix the issue that the UPDATE statement incorrectly updates values of the ENUM type #56832 @xhebox",
          "Fix the issue that executing the UPDATE statement after adding a DATE column results in the error Incorrect date value: '0000-00-00' in some cases #59047 @mjonss",
          "Fix the issue that in the Prepare protocol, an error occurs when the client uses a non-UTF8 character set #58870 @xhebox",
          "Fix the issue that querying temporary tables might trigger unexpected TiKV requests in some cases #58875 @tiancaiamao",
          "Fix the issue that the ONLY_FULL_GROUP_BY setting does not take effect on statements in views #53175 @mjonss",
          "Fix the issue that querying partitioned tables using an IN condition containing a mismatched value type and a type conversion error leads to incorrect query results #54746 @mjonss",
          "Fix the issue that querying slow logs might fail when certain fields contain empty values #58147 @yibin87",
          "Fix the issue that the RADIANS() function computes values in an incorrect order #57671 @gengliqi",
          "Fix the issue that the default value of the BIT column is incorrect #57301 @YangKeao",
          "Fix the issue that an inline error might occur if a CTE contains ORDER BY, LIMIT, or SELECT DISTINCT clauses and is referenced by the recursive part of another CTE #56603 @elsa0520",
          "Fix the issue that the timeout that occurs when loading statistics synchronically might not be handled correctly #57710 @hawkingrei",
          "Fix the issue that an incorrect database name might be returned when parsing the database name in a CTE #54582 @hawkingrei",
          "Fix the issue that TiDB might panic during startup due to invalid data binding #58016 @qw4990",
          "Fix the issue that cost estimation might generate invalid INF/NaN values in certain extreme cases, which could lead to incorrect Join Reorder results #56704 @winoros",
          "Fix the issue that loading statistics manually might fail when the statistics file contains null values #53966 @King-Dylan",
          "Fix the issue that creating two views with the same name does not report an error #58769 @tiancaiamao",
          "Fix the issue that when a virtual generated column's dependencies contain a column with the ON UPDATE attribute, the data of the updated row and its index data might be inconsistent #56829 @joechenrh",
          "Fix the issue that the INFORMATION_SCHEMA.TABLES system table returns incorrect results #57345 @tangenta",
          "TiKV\nFix the issue that Follower Read might read stale data #17018 @glorv\nFix the issue that TiKV might panic when destroying a peer #18005 @glorv\nFix the issue that time rollback might cause abnormal RocksDB flow control, leading to performance jitter #17995 @LykxSassinator\nFix the issue that disk stalls might prevent leader migration, leading to performance jitter #17363 @hhwyt\nFix the issue that the latest written data might not be readable when only one-phase commit (1PC) is enabled and Async Commit is not enabled #18117 @zyguan\nFix the issue that a deadlock might occur when GC Worker is under heavy load #18214 @zyguan\nFix the issue that the Storage async write duration monitoring metric on the TiKV panel in Grafana is inaccurate #17579 @overvenus\nFix the issue that TiKV might panic when executing queries containing RADIANS() or DEGREES() functions #17852 @gengliqi\nFix the issue that merging Regions might cause TiKV to panic in rare cases #17840 @glorv\nFix the issue that the leader could not be quickly elected after Region split #17602 @LykxSassinator\nFix the issue that encoding might fail when processing GBK/GB18030 encoded data #17618 @CbcWestwolf",
          "Fix the issue that Follower Read might read stale data #17018 @glorv",
          "Fix the issue that TiKV might panic when destroying a peer #18005 @glorv",
          "Fix the issue that time rollback might cause abnormal RocksDB flow control, leading to performance jitter #17995 @LykxSassinator",
          "Fix the issue that disk stalls might prevent leader migration, leading to performance jitter #17363 @hhwyt",
          "Fix the issue that the latest written data might not be readable when only one-phase commit (1PC) is enabled and Async Commit is not enabled #18117 @zyguan",
          "Fix the issue that a deadlock might occur when GC Worker is under heavy load #18214 @zyguan",
          "Fix the issue that the Storage async write duration monitoring metric on the TiKV panel in Grafana is inaccurate #17579 @overvenus",
          "Fix the issue that TiKV might panic when executing queries containing RADIANS() or DEGREES() functions #17852 @gengliqi",
          "Fix the issue that merging Regions might cause TiKV to panic in rare cases #17840 @glorv",
          "Fix the issue that the leader could not be quickly elected after Region split #17602 @LykxSassinator",
          "Fix the issue that encoding might fail when processing GBK/GB18030 encoded data #17618 @CbcWestwolf",
          "PD\nFix the issue that memory leaks might occur when allocating TSOs #9004 @rleungx\nFix the issue that the tidb_enable_tso_follower_proxy system variable might not take effect #8947 @JmPotato\nFix a potential issue that might cause PD to panic #8915 @bufferflies\nFix the issue that memory leaks might occur in long-running clusters #9047 @bufferflies\nFix the issue that a PD node might still generate TSOs even when it is not the Leader #9051 @rleungx\nFix the issue that Region syncer might not exit in time during the PD Leader switch #9017 @rleungx\nFix the issue that when creating evict-leader-scheduler or grant-leader-scheduler encounters an error, the error message is not returned to pd-ctl #8759 @okJiang\nFix the memory leak issue in hotspot cache #8698 @lhy1024\nFix the issue that PD's Region API cannot be requested when a large number of Regions exist #55872 @rleungx\nFix the issue that evict-leader-scheduler fails to work properly when it is repeatedly created with the same Store ID #8756 @okJiang\nUpgrade the version of Gin Web Framework from v1.9.1 to v1.10.0 to fix potential security vulnerabilities #8643 @JmPotato\nFix the issue that when using a wrong parameter in evict-leader-scheduler, PD does not report errors correctly and some schedulers are unavailable #8619 @rleungx\nFix the memory leak issue in label statistics #8700 @lhy1024\nFix the issue that TiDB Dashboard cannot read PD trace data correctly #7253 @nolouch\nFix the memory leak issue in Region statistics #8710 @rleungx\nFix the issue that PD cannot quickly re-elect a leader during etcd leader transition #8823 @rleungx",
          "Fix the issue that memory leaks might occur when allocating TSOs #9004 @rleungx",
          "Fix the issue that the tidb_enable_tso_follower_proxy system variable might not take effect #8947 @JmPotato",
          "Fix a potential issue that might cause PD to panic #8915 @bufferflies",
          "Fix the issue that memory leaks might occur in long-running clusters #9047 @bufferflies",
          "Fix the issue that a PD node might still generate TSOs even when it is not the Leader #9051 @rleungx",
          "Fix the issue that Region syncer might not exit in time during the PD Leader switch #9017 @rleungx",
          "Fix the issue that when creating evict-leader-scheduler or grant-leader-scheduler encounters an error, the error message is not returned to pd-ctl #8759 @okJiang",
          "Fix the memory leak issue in hotspot cache #8698 @lhy1024",
          "Fix the issue that PD's Region API cannot be requested when a large number of Regions exist #55872 @rleungx",
          "Fix the issue that evict-leader-scheduler fails to work properly when it is repeatedly created with the same Store ID #8756 @okJiang",
          "Upgrade the version of Gin Web Framework from v1.9.1 to v1.10.0 to fix potential security vulnerabilities #8643 @JmPotato",
          "Fix the issue that when using a wrong parameter in evict-leader-scheduler, PD does not report errors correctly and some schedulers are unavailable #8619 @rleungx",
          "Fix the memory leak issue in label statistics #8700 @lhy1024",
          "Fix the issue that TiDB Dashboard cannot read PD trace data correctly #7253 @nolouch",
          "Fix the memory leak issue in Region statistics #8710 @rleungx",
          "Fix the issue that PD cannot quickly re-elect a leader during etcd leader transition #8823 @rleungx",
          "TiFlash\nFix the issue that the SUBSTRING() function does not support the pos and len arguments for certain integer types, causing query errors #9473 @gengliqi\nFix the issue that some JSON functions unsupported by TiFlash are pushed down to TiFlash #9444 @windtalker\nFix the issue that the SUBSTRING() function returns incorrect results when the second parameter is negative #9604 @guo-shaoge\nFix the issue that LPAD() and RPAD() functions return incorrect results in some cases #9465 @guo-shaoge\nFix the issue that executing DROP TABLE on large tables might cause TiFlash OOM #9437 @JaySon-Huang\nFix the issue that TiFlash fails to start due to a division by zero error when retrieving the number of CPU cores #9212 @xzhangxian1008\nFix the issue that TiFlash might maintain high memory usage after importing large amounts of data #9812 @CalvinNeo",
          "Fix the issue that the SUBSTRING() function does not support the pos and len arguments for certain integer types, causing query errors #9473 @gengliqi",
          "Fix the issue that some JSON functions unsupported by TiFlash are pushed down to TiFlash #9444 @windtalker",
          "Fix the issue that the SUBSTRING() function returns incorrect results when the second parameter is negative #9604 @guo-shaoge",
          "Fix the issue that LPAD() and RPAD() functions return incorrect results in some cases #9465 @guo-shaoge",
          "Fix the issue that executing DROP TABLE on large tables might cause TiFlash OOM #9437 @JaySon-Huang",
          "Fix the issue that TiFlash fails to start due to a division by zero error when retrieving the number of CPU cores #9212 @xzhangxian1008",
          "Fix the issue that TiFlash might maintain high memory usage after importing large amounts of data #9812 @CalvinNeo",
          "Tools\nBackup & Restore (BR)\nFix the issue that BR fails to restore due to getting the rpcClient is idle error when sending requests to TiKV #58845 @Tristan1900\nFix the issue that the status field is missing in the result when querying log backup tasks using br log status --json #57959 @Leavrth\nFix the issue that PD Leader I/O latency during log backup might increase checkpoint latency #58574 @YuJuncen\nFix the issue that the tiup br restore command omits checking whether the target cluster table already exists during database or table restoration, which might overwrite existing tables #58168 @RidRisR\nFix the issue that log backup might unexpectedly enter a paused state when the advancer owner switches #58031 @3pointer\nFix the issue that log backups cannot resolve residual locks promptly, causing the checkpoint to fail to advance #57134 @3pointer\nFix the issue that BR integration test cases are unstable, and add a new test case to simulate snapshot or log backup file corruption #53835 @Leavrth\nFix the issue that logs might print out encrypted information #57585 @kennytm\nFix the issue that PITR tasks might return the Information schema is out of date error when there are a large number of tables in the cluster but the actual data size is small #57743 @Tristan1900\nTiCDC\nFix the issue that TiCDC uses incorrect table names for filtering during RENAME TABLE operations #11946 @wk989898\nFix the issue that TiCDC reports errors when replicating default NULL SQL statements via the Avro protocol #11994 @wk989898\nFix the issue that TiCDC fails to properly connect to PD after PD scale-in #12004 @lidezhu\nFix the issue that Initial Scan is not canceled after the changefeed is stopped or deleted #11638 @3AceShowHand\nFix the issue that after the default value of a newly added column in the upstream is changed from NOT NULL to NULL, the default values of that column in the downstream are incorrect #12037 @wk989898\nFix the issue that using the --overwrite-checkpoint-ts parameter in the changefeed pause command might cause the changefeed to be stuck #12055 @hongyunyan\nFix the issue that TiCDC might panic when replicating CREATE TABLE IF NOT EXISTS or CREATE DATABASE IF NOT EXISTS statements #11839 @CharlesCheung96\nFix the issue that TiCDC might report an error when replicating a TRUNCATE TABLE DDL on a table without valid index #11765 @asddongmen\nFix the issue that TiCDC mistakenly discards DDL tasks when the schema versions of DDL tasks become non-incremental during TiDB DDL owner changes #11714 @wlwilliamx\nFix the issue that the changefeed might get stuck after new TiKV nodes are added to the cluster #11766 @lidezhu\nFix the issue that out-of-order messages resent by the Sarama client cause Kafka message order to be incorrect #11935 @3AceShowHand\nFix the issue that the Resolved TS latency monitoring in the Puller module displays incorrect values #11561 @wlwilliamx\nFix the issue that the redo module fails to properly report errors #11744 @CharlesCheung96\nTiDB Data Migration (DM)\nFix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD\nFix the issue that connecting to MySQL 8.0 fails when the password length exceeds 19 characters #11603 @fishiu\nFix the issue that the pre-check of start-task fails when both TLS and shard-mode are configured #11842 @sunxiaoguang\nTiDB Lightning\nFix the issue that logs are not properly desensitized #59086 @GMHDBJD\nFix the issue that the lack of caching in the encoding phase causes performance regression #56705 @OliverS929\nFix the issue that the performance degrades when importing data from a cloud storage in high-concurrency scenarios #57413 @xuanyu66\nFix the issue that TiDB Lightning does not automatically retry when encountering Lock wait timeout errors during metadata updates #53042 @guoshouyan\nFix the issue that TiDB Lightning fails to receive oversized messages sent from TiKV #56114 @fishiu\nFix the issue that the error report output is truncated when importing data using TiDB Lightning #58085 @lance6716\nDumpling\nFix the issue that Dumpling fails to retry properly when receiving a 503 error from Google Cloud Storage (GCS) #56127 @OliverS929",
          "Backup & Restore (BR)\nFix the issue that BR fails to restore due to getting the rpcClient is idle error when sending requests to TiKV #58845 @Tristan1900\nFix the issue that the status field is missing in the result when querying log backup tasks using br log status --json #57959 @Leavrth\nFix the issue that PD Leader I/O latency during log backup might increase checkpoint latency #58574 @YuJuncen\nFix the issue that the tiup br restore command omits checking whether the target cluster table already exists during database or table restoration, which might overwrite existing tables #58168 @RidRisR\nFix the issue that log backup might unexpectedly enter a paused state when the advancer owner switches #58031 @3pointer\nFix the issue that log backups cannot resolve residual locks promptly, causing the checkpoint to fail to advance #57134 @3pointer\nFix the issue that BR integration test cases are unstable, and add a new test case to simulate snapshot or log backup file corruption #53835 @Leavrth\nFix the issue that logs might print out encrypted information #57585 @kennytm\nFix the issue that PITR tasks might return the Information schema is out of date error when there are a large number of tables in the cluster but the actual data size is small #57743 @Tristan1900",
          "Fix the issue that BR fails to restore due to getting the rpcClient is idle error when sending requests to TiKV #58845 @Tristan1900",
          "Fix the issue that the status field is missing in the result when querying log backup tasks using br log status --json #57959 @Leavrth",
          "Fix the issue that PD Leader I/O latency during log backup might increase checkpoint latency #58574 @YuJuncen",
          "Fix the issue that the tiup br restore command omits checking whether the target cluster table already exists during database or table restoration, which might overwrite existing tables #58168 @RidRisR",
          "Fix the issue that log backup might unexpectedly enter a paused state when the advancer owner switches #58031 @3pointer",
          "Fix the issue that log backups cannot resolve residual locks promptly, causing the checkpoint to fail to advance #57134 @3pointer",
          "Fix the issue that BR integration test cases are unstable, and add a new test case to simulate snapshot or log backup file corruption #53835 @Leavrth",
          "Fix the issue that logs might print out encrypted information #57585 @kennytm",
          "Fix the issue that PITR tasks might return the Information schema is out of date error when there are a large number of tables in the cluster but the actual data size is small #57743 @Tristan1900",
          "TiCDC\nFix the issue that TiCDC uses incorrect table names for filtering during RENAME TABLE operations #11946 @wk989898\nFix the issue that TiCDC reports errors when replicating default NULL SQL statements via the Avro protocol #11994 @wk989898\nFix the issue that TiCDC fails to properly connect to PD after PD scale-in #12004 @lidezhu\nFix the issue that Initial Scan is not canceled after the changefeed is stopped or deleted #11638 @3AceShowHand\nFix the issue that after the default value of a newly added column in the upstream is changed from NOT NULL to NULL, the default values of that column in the downstream are incorrect #12037 @wk989898\nFix the issue that using the --overwrite-checkpoint-ts parameter in the changefeed pause command might cause the changefeed to be stuck #12055 @hongyunyan\nFix the issue that TiCDC might panic when replicating CREATE TABLE IF NOT EXISTS or CREATE DATABASE IF NOT EXISTS statements #11839 @CharlesCheung96\nFix the issue that TiCDC might report an error when replicating a TRUNCATE TABLE DDL on a table without valid index #11765 @asddongmen\nFix the issue that TiCDC mistakenly discards DDL tasks when the schema versions of DDL tasks become non-incremental during TiDB DDL owner changes #11714 @wlwilliamx\nFix the issue that the changefeed might get stuck after new TiKV nodes are added to the cluster #11766 @lidezhu\nFix the issue that out-of-order messages resent by the Sarama client cause Kafka message order to be incorrect #11935 @3AceShowHand\nFix the issue that the Resolved TS latency monitoring in the Puller module displays incorrect values #11561 @wlwilliamx\nFix the issue that the redo module fails to properly report errors #11744 @CharlesCheung96",
          "Fix the issue that TiCDC uses incorrect table names for filtering during RENAME TABLE operations #11946 @wk989898",
          "Fix the issue that TiCDC reports errors when replicating default NULL SQL statements via the Avro protocol #11994 @wk989898",
          "Fix the issue that TiCDC fails to properly connect to PD after PD scale-in #12004 @lidezhu",
          "Fix the issue that Initial Scan is not canceled after the changefeed is stopped or deleted #11638 @3AceShowHand",
          "Fix the issue that after the default value of a newly added column in the upstream is changed from NOT NULL to NULL, the default values of that column in the downstream are incorrect #12037 @wk989898",
          "Fix the issue that using the --overwrite-checkpoint-ts parameter in the changefeed pause command might cause the changefeed to be stuck #12055 @hongyunyan",
          "Fix the issue that TiCDC might panic when replicating CREATE TABLE IF NOT EXISTS or CREATE DATABASE IF NOT EXISTS statements #11839 @CharlesCheung96",
          "Fix the issue that TiCDC might report an error when replicating a TRUNCATE TABLE DDL on a table without valid index #11765 @asddongmen",
          "Fix the issue that TiCDC mistakenly discards DDL tasks when the schema versions of DDL tasks become non-incremental during TiDB DDL owner changes #11714 @wlwilliamx",
          "Fix the issue that the changefeed might get stuck after new TiKV nodes are added to the cluster #11766 @lidezhu",
          "Fix the issue that out-of-order messages resent by the Sarama client cause Kafka message order to be incorrect #11935 @3AceShowHand",
          "Fix the issue that the Resolved TS latency monitoring in the Puller module displays incorrect values #11561 @wlwilliamx",
          "Fix the issue that the redo module fails to properly report errors #11744 @CharlesCheung96",
          "TiDB Data Migration (DM)\nFix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD\nFix the issue that connecting to MySQL 8.0 fails when the password length exceeds 19 characters #11603 @fishiu\nFix the issue that the pre-check of start-task fails when both TLS and shard-mode are configured #11842 @sunxiaoguang",
          "Fix the issue that multiple DM-master nodes might simultaneously become leaders, leading to data inconsistency #11602 @GMHDBJD",
          "Fix the issue that connecting to MySQL 8.0 fails when the password length exceeds 19 characters #11603 @fishiu",
          "Fix the issue that the pre-check of start-task fails when both TLS and shard-mode are configured #11842 @sunxiaoguang",
          "TiDB Lightning\nFix the issue that logs are not properly desensitized #59086 @GMHDBJD\nFix the issue that the lack of caching in the encoding phase causes performance regression #56705 @OliverS929\nFix the issue that the performance degrades when importing data from a cloud storage in high-concurrency scenarios #57413 @xuanyu66\nFix the issue that TiDB Lightning does not automatically retry when encountering Lock wait timeout errors during metadata updates #53042 @guoshouyan\nFix the issue that TiDB Lightning fails to receive oversized messages sent from TiKV #56114 @fishiu\nFix the issue that the error report output is truncated when importing data using TiDB Lightning #58085 @lance6716",
          "Fix the issue that logs are not properly desensitized #59086 @GMHDBJD",
          "Fix the issue that the lack of caching in the encoding phase causes performance regression #56705 @OliverS929",
          "Fix the issue that the performance degrades when importing data from a cloud storage in high-concurrency scenarios #57413 @xuanyu66",
          "Fix the issue that TiDB Lightning does not automatically retry when encountering Lock wait timeout errors during metadata updates #53042 @guoshouyan",
          "Fix the issue that TiDB Lightning fails to receive oversized messages sent from TiKV #56114 @fishiu",
          "Fix the issue that the error report output is truncated when importing data using TiDB Lightning #58085 @lance6716",
          "Dumpling\nFix the issue that Dumpling fails to retry properly when receiving a 503 error from Google Cloud Storage (GCS) #56127 @OliverS929",
          "Fix the issue that Dumpling fails to retry properly when receiving a 503 error from Google Cloud Storage (GCS) #56127 @OliverS929"
        ]
      },
      {
        "version": "6.5.11",
        "date": "2024-09-20",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.5.11/",
        "changes": [
          "TiDB\nBy batch deleting TiFlash placement rules, improve the processing speed of data GC after performing the TRUNCATE or DROP operation on partitioned tables #54068 @Lloyd-Pottiger",
          "By batch deleting TiFlash placement rules, improve the processing speed of data GC after performing the TRUNCATE or DROP operation on partitioned tables #54068 @Lloyd-Pottiger",
          "TiKV\nOptimize the compaction trigger mechanism of RocksDB to accelerate disk space reclamation when handling a large number of DELETE versions #17269 @AndreMouche",
          "Optimize the compaction trigger mechanism of RocksDB to accelerate disk space reclamation when handling a large number of DELETE versions #17269 @AndreMouche",
          "TiFlash\nReduce lock conflicts under highly concurrent data read operations and optimize short query performance #9125 @JinheLin\nOptimize the execution efficiency of LENGTH() and ASCII() functions #9344 @xzhangxian1008",
          "Reduce lock conflicts under highly concurrent data read operations and optimize short query performance #9125 @JinheLin",
          "Optimize the execution efficiency of LENGTH() and ASCII() functions #9344 @xzhangxian1008",
          "Tools\nTiCDC\nWhen the downstream is TiDB with the SUPER permission granted, TiCDC supports querying the execution status of ADD INDEX DDL from the downstream database to avoid data replication failure due to timeout in retrying executing the DDL statement in some cases #10682 @CharlesCheung96",
          "TiCDC\nWhen the downstream is TiDB with the SUPER permission granted, TiCDC supports querying the execution status of ADD INDEX DDL from the downstream database to avoid data replication failure due to timeout in retrying executing the DDL statement in some cases #10682 @CharlesCheung96",
          "When the downstream is TiDB with the SUPER permission granted, TiCDC supports querying the execution status of ADD INDEX DDL from the downstream database to avoid data replication failure due to timeout in retrying executing the DDL statement in some cases #10682 @CharlesCheung96",
          "TiDB\nFix the issue that the recursive CTE operator incorrectly tracks memory usage #54181 @guo-shaoge\nReset the parameters in the Open method of PipelinedWindow to fix the unexpected error that occurs when the PipelinedWindow is used as a child node of Apply due to the reuse of previous parameter values caused by repeated opening and closing operations #53600 @XuHuaiyu\nFix the issue that the memory used by transactions might be tracked multiple times #53984 @ekexium\nFix the issue of abnormally high memory usage caused by memTracker not being detached when the HashJoin or IndexLookUp operator is the driven side sub-node of the Apply operator #54005 @XuHuaiyu\nFix the issue that INDEX_HASH_JOIN cannot exit properly when SQL is abnormally interrupted #54688 @wshwsh12\nFix the issue that table replication fails when the index length of the table replicated from DM exceeds the maximum length specified by max-index-length #55138 @lance6716\nFix the issue that indirect placeholder ? references in a GROUP BY statement cannot find columns #53872 @qw4990\nFix the issue that the invalid column type DECIMAL(0,0) can be created in some cases #53779 @tangenta\nFix the issue that predicates cannot be pushed down properly when the filter condition of a SQL query contains virtual columns and the execution condition contains UnionScan #54870 @qw4990\nFix the issue that executing the SELECT DISTINCT CAST(col AS DECIMAL), CAST(col AS SIGNED) FROM ... query might return incorrect results #53726 @hawkingrei\nFix the issue of reusing wrong point get plans for SELECT ... FOR UPDATE #54652 @qw4990\nFix the issue that RANGE partitioned tables that are not strictly self-incrementing can be created #54829 @Defined2014\nFix the issue that the TIMESTAMPADD() function goes into an infinite loop when the first argument is month and the second argument is negative #54908 @xzhangxian1008\nFix the issue that TiDB fails to reject unauthenticated user connections in some cases when using the auth_socket authentication plugin #54031 @lcwangchao\nFix the issue that the network partition during adding indexes using the Distributed eXecution Framework (DXF) might cause inconsistent data indexes #54897 @tangenta\nFix the issue that the query might get stuck when terminated because the memory usage exceeds the limit set by tidb_mem_quota_query #55042 @yibin87\nFix the issue that improper use of metadata locks might lead to writing anomalous data when using the plan cache under certain circumstances #53634 @zimulala\nFix the issue that recursive CTE queries might result in invalid pointers #54449 @hawkingrei\nFix the issue that the tot_col_size column in the mysql.stats_histograms table might be a negative number #55126 @qw4990\nFix the issue that obtaining the column information using information_schema.columns returns warning 1356 when a subquery is used as a column definition in a view definition #54343 @lance6716\nFix the issue that TiDB reports an error in the log when closing the connection in some cases #53689 @jackysp\nFix the issue that the performance of the SELECT ... WHERE ... ORDER BY ... statement execution is poor in some cases #54969 @tiancaiamao\nFix the issue that the SUB_PART value in the INFORMATION_SCHEMA.STATISTICS table is NULL #55812 @Defined2014\nFix the issue that the query might return incorrect results instead of an error after being killed #50089 @D3Hunter\nFix the issue that querying the INFORMATION_SCHEMA.CLUSTER_SLOW_QUERY table might cause TiDB to panic #54324 @tiancaiamao\nFix the issue that empty groupOffset in StreamAggExec might cause TiDB to panic #53867 @xzhangxian1008\nFix the issue that disk files might not be deleted after the Sort operator spills and a query error occurs #55061 @wshwsh12\nFix the data race issue in IndexNestedLoopHashJoin #49692 @solotzg\nFix the issue that an error occurs when using SHOW COLUMNS to view columns in a view #54964 @lance6716\nFix the issue that an error occurs when a DML statement contains nested generated columns #53967 @wjhuang2016",
          "Fix the issue that the recursive CTE operator incorrectly tracks memory usage #54181 @guo-shaoge",
          "Reset the parameters in the Open method of PipelinedWindow to fix the unexpected error that occurs when the PipelinedWindow is used as a child node of Apply due to the reuse of previous parameter values caused by repeated opening and closing operations #53600 @XuHuaiyu",
          "Fix the issue that the memory used by transactions might be tracked multiple times #53984 @ekexium",
          "Fix the issue of abnormally high memory usage caused by memTracker not being detached when the HashJoin or IndexLookUp operator is the driven side sub-node of the Apply operator #54005 @XuHuaiyu",
          "Fix the issue that INDEX_HASH_JOIN cannot exit properly when SQL is abnormally interrupted #54688 @wshwsh12",
          "Fix the issue that table replication fails when the index length of the table replicated from DM exceeds the maximum length specified by max-index-length #55138 @lance6716",
          "Fix the issue that indirect placeholder ? references in a GROUP BY statement cannot find columns #53872 @qw4990",
          "Fix the issue that the invalid column type DECIMAL(0,0) can be created in some cases #53779 @tangenta",
          "Fix the issue that predicates cannot be pushed down properly when the filter condition of a SQL query contains virtual columns and the execution condition contains UnionScan #54870 @qw4990",
          "Fix the issue that executing the SELECT DISTINCT CAST(col AS DECIMAL), CAST(col AS SIGNED) FROM ... query might return incorrect results #53726 @hawkingrei",
          "Fix the issue of reusing wrong point get plans for SELECT ... FOR UPDATE #54652 @qw4990",
          "Fix the issue that RANGE partitioned tables that are not strictly self-incrementing can be created #54829 @Defined2014",
          "Fix the issue that the TIMESTAMPADD() function goes into an infinite loop when the first argument is month and the second argument is negative #54908 @xzhangxian1008",
          "Fix the issue that TiDB fails to reject unauthenticated user connections in some cases when using the auth_socket authentication plugin #54031 @lcwangchao",
          "Fix the issue that the network partition during adding indexes using the Distributed eXecution Framework (DXF) might cause inconsistent data indexes #54897 @tangenta",
          "Fix the issue that the query might get stuck when terminated because the memory usage exceeds the limit set by tidb_mem_quota_query #55042 @yibin87",
          "Fix the issue that improper use of metadata locks might lead to writing anomalous data when using the plan cache under certain circumstances #53634 @zimulala",
          "Fix the issue that recursive CTE queries might result in invalid pointers #54449 @hawkingrei",
          "Fix the issue that the tot_col_size column in the mysql.stats_histograms table might be a negative number #55126 @qw4990",
          "Fix the issue that obtaining the column information using information_schema.columns returns warning 1356 when a subquery is used as a column definition in a view definition #54343 @lance6716",
          "Fix the issue that TiDB reports an error in the log when closing the connection in some cases #53689 @jackysp",
          "Fix the issue that the performance of the SELECT ... WHERE ... ORDER BY ... statement execution is poor in some cases #54969 @tiancaiamao",
          "Fix the issue that the SUB_PART value in the INFORMATION_SCHEMA.STATISTICS table is NULL #55812 @Defined2014",
          "Fix the issue that the query might return incorrect results instead of an error after being killed #50089 @D3Hunter",
          "Fix the issue that querying the INFORMATION_SCHEMA.CLUSTER_SLOW_QUERY table might cause TiDB to panic #54324 @tiancaiamao",
          "Fix the issue that empty groupOffset in StreamAggExec might cause TiDB to panic #53867 @xzhangxian1008",
          "Fix the issue that disk files might not be deleted after the Sort operator spills and a query error occurs #55061 @wshwsh12",
          "Fix the data race issue in IndexNestedLoopHashJoin #49692 @solotzg",
          "Fix the issue that an error occurs when using SHOW COLUMNS to view columns in a view #54964 @lance6716",
          "Fix the issue that an error occurs when a DML statement contains nested generated columns #53967 @wjhuang2016",
          "TiKV\nFix the issue that prevents master key rotation when the master key is stored in a Key Management Service (KMS) #17410 @hhwyt\nFix a traffic control issue that might occur after deleting large tables or partitions #17304 @Connor1996\nFix the issue that TiKV might panic due to ingesting deleted sst_importer SST files #15053 @lance6716\nFix the issue that TiKV might panic when a stale replica processes Raft snapshots, triggered by a slow split operation and immediate removal of the new replica #17469 @hbisheng\nFix the issue that TiKV might repeatedly panic when applying a corrupted Raft data snapshot #15292 @LykxSassinator\nFix the issue that setting the gRPC message compression method via grpc-compression-type does not take effect on messages sent from TiKV to TiDB #17176 @ekexium\nFix the issue that CDC and log-backup do not limit the timeout of check_leader using the advance-ts-interval configuration, causing the resolved_ts lag to be too large when TiKV restarts normally in some cases #17107 @MyonKeminta",
          "Fix the issue that prevents master key rotation when the master key is stored in a Key Management Service (KMS) #17410 @hhwyt",
          "Fix a traffic control issue that might occur after deleting large tables or partitions #17304 @Connor1996",
          "Fix the issue that TiKV might panic due to ingesting deleted sst_importer SST files #15053 @lance6716",
          "Fix the issue that TiKV might panic when a stale replica processes Raft snapshots, triggered by a slow split operation and immediate removal of the new replica #17469 @hbisheng",
          "Fix the issue that TiKV might repeatedly panic when applying a corrupted Raft data snapshot #15292 @LykxSassinator",
          "Fix the issue that setting the gRPC message compression method via grpc-compression-type does not take effect on messages sent from TiKV to TiDB #17176 @ekexium",
          "Fix the issue that CDC and log-backup do not limit the timeout of check_leader using the advance-ts-interval configuration, causing the resolved_ts lag to be too large when TiKV restarts normally in some cases #17107 @MyonKeminta",
          "PD\nFix the issue that some logs are not redacted #8419 @rleungx\nFix the issue that setting the TiKV configuration item coprocessor.region-split-size to a value less than 1 MiB causes PD panic #8323 @JmPotato\nFix the issue that setting replication.strictly-match-label to true causes TiFlash to fail to start #8480 @rleungx\nFix the data race issue that PD encounters during operator checks #8263 @lhy1024",
          "Fix the issue that some logs are not redacted #8419 @rleungx",
          "Fix the issue that setting the TiKV configuration item coprocessor.region-split-size to a value less than 1 MiB causes PD panic #8323 @JmPotato",
          "Fix the issue that setting replication.strictly-match-label to true causes TiFlash to fail to start #8480 @rleungx",
          "Fix the data race issue that PD encounters during operator checks #8263 @lhy1024",
          "TiFlash\nFix the issue that when using the CAST() function to convert a string to a datetime with a time zone or invalid characters, the result is incorrect #8754 @solotzg\nFix the issue that TiFlash might panic when a database is deleted shortly after creation #9266 @JaySon-Huang\nFix the issue that setting the SSL certificate configuration to an empty string in TiFlash incorrectly enables TLS and causes TiFlash to fail to start #9235 @JaySon-Huang\nFix the issue that a network partition (network disconnection) between TiFlash and any PD might cause read request timeout errors #9243 @Lloyd-Pottiger\nFix the issue that TiFlash might crash if an error occurs during the execution of a query containing outer join #9190 @windtalker\nFix the issue that converting data types to DECIMAL might cause incorrect query results in some corner cases #53892 @guo-shaoge\nFix the issue that frequent EXCHANGE PARTITION and DROP TABLE operations over a long period in a cluster might slow down the replication of TiFlash table metadata and degrade the query performance #9227 @JaySon-Huang",
          "Fix the issue that when using the CAST() function to convert a string to a datetime with a time zone or invalid characters, the result is incorrect #8754 @solotzg",
          "Fix the issue that TiFlash might panic when a database is deleted shortly after creation #9266 @JaySon-Huang",
          "Fix the issue that setting the SSL certificate configuration to an empty string in TiFlash incorrectly enables TLS and causes TiFlash to fail to start #9235 @JaySon-Huang",
          "Fix the issue that a network partition (network disconnection) between TiFlash and any PD might cause read request timeout errors #9243 @Lloyd-Pottiger",
          "Fix the issue that TiFlash might crash if an error occurs during the execution of a query containing outer join #9190 @windtalker",
          "Fix the issue that converting data types to DECIMAL might cause incorrect query results in some corner cases #53892 @guo-shaoge",
          "Fix the issue that frequent EXCHANGE PARTITION and DROP TABLE operations over a long period in a cluster might slow down the replication of TiFlash table metadata and degrade the query performance #9227 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nFix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth\nFix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer\nFix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth\nFix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer\nFix the issue that after a log backup PITR task fails and you stop it, the safepoints related to that task are not properly cleared in PD #17316 @Leavrth\nFix the issue that backup tasks might get stuck if TiKV becomes unresponsive during the backup process #53480 @Leavrth\nFix the issue that BR logs might print sensitive credential information when log backup is enabled #55273 @RidRisR\nTiCDC\nFix the issue that TiCDC might panic when the Sorter module reads disk data #10853 @hicqu\nFix the issue that the Processor module might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen\nTiDB Data Migration (DM)\nFix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng\nFix the issue that schema tracker incorrectly handles LIST partition tables, causing DM errors #11408 @lance6716\nFix the issue that DM returns an error when replicating the ALTER TABLE ... DROP PARTITION statement for LIST partitioned tables #54760 @lance6716\nFix the issue that DM does not set the default database when processing the ALTER DATABASE statement, which causes a replication error #11503 @lance6716\nTiDB Lightning\nFix the issue that transaction conflicts occur during data import using TiDB Lightning #49826 @lance6716\nFix the issue that TiKV data might be corrupted when importing data after disabling the import mode of TiDB Lightning #15003 #47694 @lance6716\nFix the issue that during importing data using TiDB Lightning, an error occurs when restarting TiKV #15912 @lance6716",
          "Backup & Restore (BR)\nFix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth\nFix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer\nFix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth\nFix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer\nFix the issue that after a log backup PITR task fails and you stop it, the safepoints related to that task are not properly cleared in PD #17316 @Leavrth\nFix the issue that backup tasks might get stuck if TiKV becomes unresponsive during the backup process #53480 @Leavrth\nFix the issue that BR logs might print sensitive credential information when log backup is enabled #55273 @RidRisR",
          "Fix the issue that the checkpoint path of backup and restore is incompatible with some external storage #55265 @Leavrth",
          "Fix the inefficiency issue in scanning DDL jobs during incremental backups #54139 @3pointer",
          "Fix the issue that the backup performance during checkpoint backups is affected due to interruptions in seeking Region leaders #17168 @Leavrth",
          "Fix the issue that DDLs requiring backfilling, such as ADD INDEX and MODIFY COLUMN, might not be correctly recovered during incremental restore #54426 @3pointer",
          "Fix the issue that after a log backup PITR task fails and you stop it, the safepoints related to that task are not properly cleared in PD #17316 @Leavrth",
          "Fix the issue that backup tasks might get stuck if TiKV becomes unresponsive during the backup process #53480 @Leavrth",
          "Fix the issue that BR logs might print sensitive credential information when log backup is enabled #55273 @RidRisR",
          "TiCDC\nFix the issue that TiCDC might panic when the Sorter module reads disk data #10853 @hicqu\nFix the issue that the Processor module might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen",
          "Fix the issue that TiCDC might panic when the Sorter module reads disk data #10853 @hicqu",
          "Fix the issue that the Processor module might get stuck when the downstream Kafka is inaccessible #11340 @asddongmen",
          "TiDB Data Migration (DM)\nFix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng\nFix the issue that schema tracker incorrectly handles LIST partition tables, causing DM errors #11408 @lance6716\nFix the issue that DM returns an error when replicating the ALTER TABLE ... DROP PARTITION statement for LIST partitioned tables #54760 @lance6716\nFix the issue that DM does not set the default database when processing the ALTER DATABASE statement, which causes a replication error #11503 @lance6716",
          "Fix the issue that data replication is interrupted when the index length exceeds the default value of max-index-length #11459 @michaelmdeng",
          "Fix the issue that schema tracker incorrectly handles LIST partition tables, causing DM errors #11408 @lance6716",
          "Fix the issue that DM returns an error when replicating the ALTER TABLE ... DROP PARTITION statement for LIST partitioned tables #54760 @lance6716",
          "Fix the issue that DM does not set the default database when processing the ALTER DATABASE statement, which causes a replication error #11503 @lance6716",
          "TiDB Lightning\nFix the issue that transaction conflicts occur during data import using TiDB Lightning #49826 @lance6716\nFix the issue that TiKV data might be corrupted when importing data after disabling the import mode of TiDB Lightning #15003 #47694 @lance6716\nFix the issue that during importing data using TiDB Lightning, an error occurs when restarting TiKV #15912 @lance6716",
          "Fix the issue that transaction conflicts occur during data import using TiDB Lightning #49826 @lance6716",
          "Fix the issue that TiKV data might be corrupted when importing data after disabling the import mode of TiDB Lightning #15003 #47694 @lance6716",
          "Fix the issue that during importing data using TiDB Lightning, an error occurs when restarting TiKV #15912 @lance6716"
        ]
      },
      {
        "version": "6.5.10",
        "date": "2024-06-20",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.5.10/",
        "changes": [
          "TiDB\nImprove the MySQL compatibility of expression default values displayed in the output of SHOW CREATE TABLE #52939 @CbcWestwolf\nRemove stores without Regions during MPP load balancing #52313 @xzhangxian1008",
          "Improve the MySQL compatibility of expression default values displayed in the output of SHOW CREATE TABLE #52939 @CbcWestwolf",
          "Remove stores without Regions during MPP load balancing #52313 @xzhangxian1008",
          "TiKV\nAccelerate the shutdown speed of TiKV #16680 @LykxSassinator\nAdd monitoring metrics for the queue time for processing CDC events to facilitate troubleshooting downstream CDC event latency issues #16282 @hicqu",
          "Accelerate the shutdown speed of TiKV #16680 @LykxSassinator",
          "Add monitoring metrics for the queue time for processing CDC events to facilitate troubleshooting downstream CDC event latency issues #16282 @hicqu",
          "Tools\nBackup & Restore (BR)\nBR cleans up empty SST files during data recovery #16005 @Leavrth\nIncrease the number of retries for failures caused by DNS errors #53029 @YuJuncen\nIncrease the number of retries for failures caused by the absence of a leader in a Region #54017 @Leavrth\nTiCDC\nSupport directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96\nImprove memory stability during data recovery using redo logs to reduce the probability of OOM #10900 @CharlesCheung96\nSignificantly improve the stability of data replication in transaction conflict scenarios, with up to 10 times performance improvement #10896 @CharlesCheung96",
          "Backup & Restore (BR)\nBR cleans up empty SST files during data recovery #16005 @Leavrth\nIncrease the number of retries for failures caused by DNS errors #53029 @YuJuncen\nIncrease the number of retries for failures caused by the absence of a leader in a Region #54017 @Leavrth",
          "BR cleans up empty SST files during data recovery #16005 @Leavrth",
          "Increase the number of retries for failures caused by DNS errors #53029 @YuJuncen",
          "Increase the number of retries for failures caused by the absence of a leader in a Region #54017 @Leavrth",
          "TiCDC\nSupport directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96\nImprove memory stability during data recovery using redo logs to reduce the probability of OOM #10900 @CharlesCheung96\nSignificantly improve the stability of data replication in transaction conflict scenarios, with up to 10 times performance improvement #10896 @CharlesCheung96",
          "Support directly outputting raw events when the downstream is a Message Queue (MQ) or cloud storage #11211 @CharlesCheung96",
          "Improve memory stability during data recovery using redo logs to reduce the probability of OOM #10900 @CharlesCheung96",
          "Significantly improve the stability of data replication in transaction conflict scenarios, with up to 10 times performance improvement #10896 @CharlesCheung96",
          "TiDB\nFix the issue that querying metadata during statistics initialization might cause OOM #52219 @hawkingrei\nFix the issue that for tables containing auto-increment columns with AUTO_ID_CACHE=1, setting auto_increment_increment and auto_increment_offset system variables to non-default values might cause incorrect auto-increment ID allocation #52622 @tiancaiamao\nFix the issue that restoring a table with AUTO_ID_CACHE=1 using the RESTORE statement might cause a Duplicate entry error #52680 @tiancaiamao\nFix the issue that the STATE field in the INFORMATION_SCHEMA.TIDB_TRX table is empty due to the size of the STATE field not being defined #53026 @cfzjywxk\nFix the issue that TiDB does not create corresponding statistics metadata (stats_meta) when creating a table with foreign keys #53652 @hawkingrei\nFix the issue that the statistics synchronous loading mechanism might fail unexpectedly under high query concurrency #52294 @hawkingrei\nFix the issue that the Distinct_count information in global statistics might be incorrect #53752 @hawkingrei\nFix the issue that the histogram and TopN in the primary key column statistics are not loaded after restarting TiDB #37548 @hawkingrei\nFix the issue that certain filter conditions in queries might cause the planner module to report an invalid memory address or nil pointer dereference error #53582 #53580 #53594 #53603 @YangKeao\nFix the issue that PREPARE/EXECUTE statements with the CONV expression containing a ? argument might result in incorrect query results when executed multiple times #53505 @qw4990\nFix the issue of incorrect WARNINGS information when using Optimizer Hints #53767 @hawkingrei\nFix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520\nFix the issue that DDL statements incorrectly use etcd and cause tasks to queue up #52335 @wjhuang2016\nFix the issue that internal columns are not renamed when executing RENAME INDEX to rename expression indexes #51431 @ywqzzy\nFix the issue that executing CREATE OR REPLACE VIEW concurrently might result in the table doesn't exist error #53673 @tangenta\nFix the issue that TiDB might panic when the JOIN condition contains an implicit type conversion #46556 @qw4990\nFix the issue that DDL operations get stuck due to network problems #47060 @wjhuang2016\nFix the issue that IndexJoin produces duplicate rows when calculating hash values in the Left Outer Anti Semi type #52902 @yibin87\nFix the issue that subqueries included in the ALL function might cause incorrect results #52755 @hawkingrei\nFix the issue that the TIMESTAMPADD() function returns incorrect results #41052 @xzhangxian1008\nFix the issue that TiDB might crash when tidb_mem_quota_analyze is enabled and the memory used by updating statistics exceeds the limit #52601 @hawkingrei\nFix the issue that subqueries in an UPDATE list might cause TiDB to panic #52687 @winoros\nFix the overflow issue of the Longlong type in predicates #45783 @hawkingrei\nFix the issue of inconsistent data indexes caused by concurrent DML operations when adding a unique index #52914 @wjhuang2016\nFix the issue that TiDB might panic when parsing index data #47115 @zyguan\nFix the issue that column pruning without using shallow copies of slices might cause TiDB to panic #52768 @winoros\nFix the issue that using a view does not work in recursive CTE #49721 @hawkingrei\nFix the issue that the LEADING hint does not support querying block aliases #44645 @qw4990\nFix the incorrect result of the TopN operator in correlated subqueries #52777 @yibin87\nFix the issue that unstable unique IDs of columns might cause the UPDATE statement to return errors #53236 @winoros\nFix the issue that TiDB keeps sending probe requests to a TiFlash node that has been offline #46602 @zyguan\nFix the issue that comparing a column of YEAR type with an unsigned integer that is out of range causes incorrect results #50235 @qw4990\nFix the issue that AutoID Leader change might cause the value of the auto-increment column to decrease in the case of AUTO_ID_CACHE=1 #52600 @tiancaiamao\nFix the issue that non-BIGINT unsigned integers might produce incorrect results when compared with strings/decimals #41736 @LittleFall\nFix the issue that data conversion from the FLOAT type to the UNSIGNED type returns incorrect results #41736 @guo-shaoge\nFix the issue that VAR_SAMP() cannot be used as a window function #52933 @hi-rustin\nFix the issue that a wrong TableDual plan causes empty query results #50051 @onlyacat\nFix the issue that the TiDB synchronously loading statistics mechanism retries to load empty statistics indefinitely and prints the fail to get stats version for this histogram log #52657 @hawkingrei\nFix the issue that an empty projection causes TiDB to panic #49109 @winoros\nFix the issue that the TopN operator might be pushed down incorrectly #37986 @qw4990\nFix the issue that TiDB panics when executing the SHOW ERRORS statement with a predicate that is always true #46962 @elsa0520\nFix the issue that the metadata lock fails to prevent DDL operations from executing in the plan cache scenario #51407 @wjhuang2016",
          "Fix the issue that querying metadata during statistics initialization might cause OOM #52219 @hawkingrei",
          "Fix the issue that for tables containing auto-increment columns with AUTO_ID_CACHE=1, setting auto_increment_increment and auto_increment_offset system variables to non-default values might cause incorrect auto-increment ID allocation #52622 @tiancaiamao",
          "Fix the issue that restoring a table with AUTO_ID_CACHE=1 using the RESTORE statement might cause a Duplicate entry error #52680 @tiancaiamao",
          "Fix the issue that the STATE field in the INFORMATION_SCHEMA.TIDB_TRX table is empty due to the size of the STATE field not being defined #53026 @cfzjywxk",
          "Fix the issue that TiDB does not create corresponding statistics metadata (stats_meta) when creating a table with foreign keys #53652 @hawkingrei",
          "Fix the issue that the statistics synchronous loading mechanism might fail unexpectedly under high query concurrency #52294 @hawkingrei",
          "Fix the issue that the Distinct_count information in global statistics might be incorrect #53752 @hawkingrei",
          "Fix the issue that the histogram and TopN in the primary key column statistics are not loaded after restarting TiDB #37548 @hawkingrei",
          "Fix the issue that certain filter conditions in queries might cause the planner module to report an invalid memory address or nil pointer dereference error #53582 #53580 #53594 #53603 @YangKeao",
          "Fix the issue that PREPARE/EXECUTE statements with the CONV expression containing a ? argument might result in incorrect query results when executed multiple times #53505 @qw4990",
          "Fix the issue of incorrect WARNINGS information when using Optimizer Hints #53767 @hawkingrei",
          "Fix the issue that the query latency of stale reads increases, caused by information schema cache misses #53428 @crazycs520",
          "Fix the issue that DDL statements incorrectly use etcd and cause tasks to queue up #52335 @wjhuang2016",
          "Fix the issue that internal columns are not renamed when executing RENAME INDEX to rename expression indexes #51431 @ywqzzy",
          "Fix the issue that executing CREATE OR REPLACE VIEW concurrently might result in the table doesn't exist error #53673 @tangenta",
          "Fix the issue that TiDB might panic when the JOIN condition contains an implicit type conversion #46556 @qw4990",
          "Fix the issue that DDL operations get stuck due to network problems #47060 @wjhuang2016",
          "Fix the issue that IndexJoin produces duplicate rows when calculating hash values in the Left Outer Anti Semi type #52902 @yibin87",
          "Fix the issue that subqueries included in the ALL function might cause incorrect results #52755 @hawkingrei",
          "Fix the issue that the TIMESTAMPADD() function returns incorrect results #41052 @xzhangxian1008",
          "Fix the issue that TiDB might crash when tidb_mem_quota_analyze is enabled and the memory used by updating statistics exceeds the limit #52601 @hawkingrei",
          "Fix the issue that subqueries in an UPDATE list might cause TiDB to panic #52687 @winoros",
          "Fix the overflow issue of the Longlong type in predicates #45783 @hawkingrei",
          "Fix the issue of inconsistent data indexes caused by concurrent DML operations when adding a unique index #52914 @wjhuang2016",
          "Fix the issue that TiDB might panic when parsing index data #47115 @zyguan",
          "Fix the issue that column pruning without using shallow copies of slices might cause TiDB to panic #52768 @winoros",
          "Fix the issue that using a view does not work in recursive CTE #49721 @hawkingrei",
          "Fix the issue that the LEADING hint does not support querying block aliases #44645 @qw4990",
          "Fix the incorrect result of the TopN operator in correlated subqueries #52777 @yibin87",
          "Fix the issue that unstable unique IDs of columns might cause the UPDATE statement to return errors #53236 @winoros",
          "Fix the issue that TiDB keeps sending probe requests to a TiFlash node that has been offline #46602 @zyguan",
          "Fix the issue that comparing a column of YEAR type with an unsigned integer that is out of range causes incorrect results #50235 @qw4990",
          "Fix the issue that AutoID Leader change might cause the value of the auto-increment column to decrease in the case of AUTO_ID_CACHE=1 #52600 @tiancaiamao",
          "Fix the issue that non-BIGINT unsigned integers might produce incorrect results when compared with strings/decimals #41736 @LittleFall",
          "Fix the issue that data conversion from the FLOAT type to the UNSIGNED type returns incorrect results #41736 @guo-shaoge",
          "Fix the issue that VAR_SAMP() cannot be used as a window function #52933 @hi-rustin",
          "Fix the issue that a wrong TableDual plan causes empty query results #50051 @onlyacat",
          "Fix the issue that the TiDB synchronously loading statistics mechanism retries to load empty statistics indefinitely and prints the fail to get stats version for this histogram log #52657 @hawkingrei",
          "Fix the issue that an empty projection causes TiDB to panic #49109 @winoros",
          "Fix the issue that the TopN operator might be pushed down incorrectly #37986 @qw4990",
          "Fix the issue that TiDB panics when executing the SHOW ERRORS statement with a predicate that is always true #46962 @elsa0520",
          "Fix the issue that the metadata lock fails to prevent DDL operations from executing in the plan cache scenario #51407 @wjhuang2016",
          "TiKV\nFix the issue that slow check-leader operations on one TiKV node cause resolved-ts on other TiKV nodes to fail to advance normally #15999 @crazycs520\nFix the issue that the CONV() function in queries might overflow during numeric system conversion, leading to TiKV panic #16969 @gengliqi\nFix the issue of unstable test cases, ensuring that each test uses an independent temporary directory to avoid online configuration changes affecting other test cases #16871 @glorv\nFix the issue that the decimal part of the DECIMAL type is incorrect in some cases #16913 @gengliqi\nFix the issue that resolve-ts is blocked when a stale Region peer ignores the GC message #16504 @crazycs520",
          "Fix the issue that slow check-leader operations on one TiKV node cause resolved-ts on other TiKV nodes to fail to advance normally #15999 @crazycs520",
          "Fix the issue that the CONV() function in queries might overflow during numeric system conversion, leading to TiKV panic #16969 @gengliqi",
          "Fix the issue of unstable test cases, ensuring that each test uses an independent temporary directory to avoid online configuration changes affecting other test cases #16871 @glorv",
          "Fix the issue that the decimal part of the DECIMAL type is incorrect in some cases #16913 @gengliqi",
          "Fix the issue that resolve-ts is blocked when a stale Region peer ignores the GC message #16504 @crazycs520",
          "PD\nFix the issue that the Leader fails to transfer when you switch it between two deployed data centers #7992 @TonsnakeLin\nFix the issue that down peers might not recover when using Placement Rules #7808 @rleungx\nFix the issue that the Filter target monitoring metric for PD does not provide scatter range information #8125 @HuSharp",
          "Fix the issue that the Leader fails to transfer when you switch it between two deployed data centers #7992 @TonsnakeLin",
          "Fix the issue that down peers might not recover when using Placement Rules #7808 @rleungx",
          "Fix the issue that the Filter target monitoring metric for PD does not provide scatter range information #8125 @HuSharp",
          "TiFlash\nFix the issue that TiFlash might fail to synchronize schemas after executing ALTER TABLE ... EXCHANGE PARTITION across databases #7296 @JaySon-Huang\nFix the issue that a query with an empty key range fails to correctly generate read tasks on TiFlash, which might block TiFlash queries #9108 @JinheLin\nFix the issue that the SUBSTRING_INDEX() function might cause TiFlash to crash in some corner cases #9116 @wshwsh12\nFix the issue that TiFlash metadata might become corrupted and cause the process to panic when upgrading a cluster from a version earlier than v6.5.0 to v6.5.0 or later #9039 @JaySon-Huang\nFix the issue that TiFlash might return transiently incorrect results in high-concurrency read scenarios #8845 @JinheLin",
          "Fix the issue that TiFlash might fail to synchronize schemas after executing ALTER TABLE ... EXCHANGE PARTITION across databases #7296 @JaySon-Huang",
          "Fix the issue that a query with an empty key range fails to correctly generate read tasks on TiFlash, which might block TiFlash queries #9108 @JinheLin",
          "Fix the issue that the SUBSTRING_INDEX() function might cause TiFlash to crash in some corner cases #9116 @wshwsh12",
          "Fix the issue that TiFlash metadata might become corrupted and cause the process to panic when upgrading a cluster from a version earlier than v6.5.0 to v6.5.0 or later #9039 @JaySon-Huang",
          "Fix the issue that TiFlash might return transiently incorrect results in high-concurrency read scenarios #8845 @JinheLin",
          "Tools\nBackup & Restore (BR)\nFix the issue that the test case TestGetTSWithRetry takes too long to execute #52547 @Leavrth\nFix the issue that the Region fetched from PD does not have a Leader when restoring data using BR or importing data using TiDB Lightning in physical import mode #51124 #50501 @Leavrth\nFix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen\nFix the issue that after pausing, stopping, and rebuilding the log backup task, the task status is normal, but the checkpoint does not advance #53047 @RidRisR\nFix the issue that data restore is slowed down due to the absence of a leader on a TiKV node #50566 @Leavrth\nFix the issue that the global checkpoint of log backup is advanced ahead of the actual backup file write point due to TiKV restart, which might cause a small amount of backup data loss #16809 @YuJuncen\nFix the issue that the transfer of PD leaders might cause BR to panic when restoring data #53724 @Leavrth\nFix the issue that TiKV might panic when resuming a paused log backup task with unstable network connections to PD #17020 @YuJuncen\nFix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR\nFix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR\nTiCDC\nFix the issue that TiCDC fails to create a changefeed with Syncpoint enabled when the downstream database password is Base64 encoded #10516 @asddongmen\nFix the issue that DROP PRIMARY KEY and DROP UNIQUE KEY statements are not replicated correctly #10890 @asddongmen\nFix the issue that the default value of TIMEZONE type is not set according to the correct time zone #10931 @3AceShowHand\nTiDB Lightning\nFix the issue that killing the PD Leader causes TiDB Lightning to report the invalid store ID 0 error during data import #50501 @Leavrth\nFix the issue of missing data in the TiDB Lightning Grafana dashboard #43357 @lichunzhu\nFix the issue that TiDB Lightning might print sensitive information to logs in server mode #36374 @kennytm\nFix the issue that TiDB fails to generate auto-increment IDs and reports an error Failed to read auto-increment value from storage engine after importing a table with both SHARD_ROW_ID_BITS and AUTO_ID_CACHE=1 set using TiDB Lightning #52654 @D3Hunter\nDumpling\nFix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta\nTiDB Binlog\nFix the issue that deleting rows during the execution of ADD COLUMN might report an error data and columnID count not match when TiDB Binlog is enabled #53133 @tangenta",
          "Backup & Restore (BR)\nFix the issue that the test case TestGetTSWithRetry takes too long to execute #52547 @Leavrth\nFix the issue that the Region fetched from PD does not have a Leader when restoring data using BR or importing data using TiDB Lightning in physical import mode #51124 #50501 @Leavrth\nFix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen\nFix the issue that after pausing, stopping, and rebuilding the log backup task, the task status is normal, but the checkpoint does not advance #53047 @RidRisR\nFix the issue that data restore is slowed down due to the absence of a leader on a TiKV node #50566 @Leavrth\nFix the issue that the global checkpoint of log backup is advanced ahead of the actual backup file write point due to TiKV restart, which might cause a small amount of backup data loss #16809 @YuJuncen\nFix the issue that the transfer of PD leaders might cause BR to panic when restoring data #53724 @Leavrth\nFix the issue that TiKV might panic when resuming a paused log backup task with unstable network connections to PD #17020 @YuJuncen\nFix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR\nFix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR",
          "Fix the issue that the test case TestGetTSWithRetry takes too long to execute #52547 @Leavrth",
          "Fix the issue that the Region fetched from PD does not have a Leader when restoring data using BR or importing data using TiDB Lightning in physical import mode #51124 #50501 @Leavrth",
          "Fix the issue that a PD connection failure could cause the TiDB instance where the log backup advancer owner is located to panic #52597 @YuJuncen",
          "Fix the issue that after pausing, stopping, and rebuilding the log backup task, the task status is normal, but the checkpoint does not advance #53047 @RidRisR",
          "Fix the issue that data restore is slowed down due to the absence of a leader on a TiKV node #50566 @Leavrth",
          "Fix the issue that the global checkpoint of log backup is advanced ahead of the actual backup file write point due to TiKV restart, which might cause a small amount of backup data loss #16809 @YuJuncen",
          "Fix the issue that the transfer of PD leaders might cause BR to panic when restoring data #53724 @Leavrth",
          "Fix the issue that TiKV might panic when resuming a paused log backup task with unstable network connections to PD #17020 @YuJuncen",
          "Fix the issue that log backup might be paused after the advancer owner migration #53561 @RidRisR",
          "Fix the issue that BR fails to correctly identify errors due to multiple nested retries during the restore process #54053 @RidRisR",
          "TiCDC\nFix the issue that TiCDC fails to create a changefeed with Syncpoint enabled when the downstream database password is Base64 encoded #10516 @asddongmen\nFix the issue that DROP PRIMARY KEY and DROP UNIQUE KEY statements are not replicated correctly #10890 @asddongmen\nFix the issue that the default value of TIMEZONE type is not set according to the correct time zone #10931 @3AceShowHand",
          "Fix the issue that TiCDC fails to create a changefeed with Syncpoint enabled when the downstream database password is Base64 encoded #10516 @asddongmen",
          "Fix the issue that DROP PRIMARY KEY and DROP UNIQUE KEY statements are not replicated correctly #10890 @asddongmen",
          "Fix the issue that the default value of TIMEZONE type is not set according to the correct time zone #10931 @3AceShowHand",
          "TiDB Lightning\nFix the issue that killing the PD Leader causes TiDB Lightning to report the invalid store ID 0 error during data import #50501 @Leavrth\nFix the issue of missing data in the TiDB Lightning Grafana dashboard #43357 @lichunzhu\nFix the issue that TiDB Lightning might print sensitive information to logs in server mode #36374 @kennytm\nFix the issue that TiDB fails to generate auto-increment IDs and reports an error Failed to read auto-increment value from storage engine after importing a table with both SHARD_ROW_ID_BITS and AUTO_ID_CACHE=1 set using TiDB Lightning #52654 @D3Hunter",
          "Fix the issue that killing the PD Leader causes TiDB Lightning to report the invalid store ID 0 error during data import #50501 @Leavrth",
          "Fix the issue of missing data in the TiDB Lightning Grafana dashboard #43357 @lichunzhu",
          "Fix the issue that TiDB Lightning might print sensitive information to logs in server mode #36374 @kennytm",
          "Fix the issue that TiDB fails to generate auto-increment IDs and reports an error Failed to read auto-increment value from storage engine after importing a table with both SHARD_ROW_ID_BITS and AUTO_ID_CACHE=1 set using TiDB Lightning #52654 @D3Hunter",
          "Dumpling\nFix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta",
          "Fix the issue that Dumpling reports an error when exporting tables and views at the same time #53682 @tangenta",
          "TiDB Binlog\nFix the issue that deleting rows during the execution of ADD COLUMN might report an error data and columnID count not match when TiDB Binlog is enabled #53133 @tangenta",
          "Fix the issue that deleting rows during the execution of ADD COLUMN might report an error data and columnID count not match when TiDB Binlog is enabled #53133 @tangenta"
        ]
      },
      {
        "version": "6.5.9",
        "date": "2024-04-12",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.5.9/",
        "changes": [
          "TiDB\nWhen force-init-stats is set to true, TiDB waits for statistics initialization to finish before providing services during TiDB startup. This setting no longer blocks the startup of HTTP servers, which enables users to continue monitoring #50854 @hawkingrei\nOptimize the issue that the ANALYZE statement blocks the metadata lock #47475 @wjhuang2016",
          "When force-init-stats is set to true, TiDB waits for statistics initialization to finish before providing services during TiDB startup. This setting no longer blocks the startup of HTTP servers, which enables users to continue monitoring #50854 @hawkingrei",
          "Optimize the issue that the ANALYZE statement blocks the metadata lock #47475 @wjhuang2016",
          "TiKV\nRemove unnecessary async blocks to reduce memory usage #16540 @overvenus\nAvoid performing IO operations on snapshot files in raftstore threads to improve TiKV stability #16564 @Connor1996\nAdd slow logs for peer and store messages #16600 @Connor1996",
          "Remove unnecessary async blocks to reduce memory usage #16540 @overvenus",
          "Avoid performing IO operations on snapshot files in raftstore threads to improve TiKV stability #16564 @Connor1996",
          "Add slow logs for peer and store messages #16600 @Connor1996",
          "Tools\nBackup & Restore (BR)\nOptimize the Recovery Point Objective (RPO) for log backup during rolling restarts. Now, the checkpoint lag of log backup tasks will be smaller during rolling restarts #15410 @YuJuncen\nEnhance the tolerance of log backup to merge operations. When encountering a reasonably long merge operation, log backup tasks are less likely to enter the error state #16554 @YuJuncen\nSupport automatically abandoning log backup tasks when encountering a large checkpoint lag, to avoid prolonged blocking GC and potential cluster issues #50803 @RidRisR\nAlleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen\nImprove the speed of merging SST files during data restore by using a more efficient algorithm #50613 @Leavrth\nSupport ingesting SST files in batch during data restore #16267 @3pointer\nRemove an outdated compatibility check when using Google Cloud Storage (GCS) as the external storage #50533 @lance6716\nPrint the information of the slowest Region that affects global checkpoint advancement in logs and metrics during log backups #51046 @YuJuncen\nRefactor the BR exception handling mechanism to increase tolerance for unknown errors #47656 @3pointer",
          "Backup & Restore (BR)\nOptimize the Recovery Point Objective (RPO) for log backup during rolling restarts. Now, the checkpoint lag of log backup tasks will be smaller during rolling restarts #15410 @YuJuncen\nEnhance the tolerance of log backup to merge operations. When encountering a reasonably long merge operation, log backup tasks are less likely to enter the error state #16554 @YuJuncen\nSupport automatically abandoning log backup tasks when encountering a large checkpoint lag, to avoid prolonged blocking GC and potential cluster issues #50803 @RidRisR\nAlleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen\nImprove the speed of merging SST files during data restore by using a more efficient algorithm #50613 @Leavrth\nSupport ingesting SST files in batch during data restore #16267 @3pointer\nRemove an outdated compatibility check when using Google Cloud Storage (GCS) as the external storage #50533 @lance6716\nPrint the information of the slowest Region that affects global checkpoint advancement in logs and metrics during log backups #51046 @YuJuncen\nRefactor the BR exception handling mechanism to increase tolerance for unknown errors #47656 @3pointer",
          "Optimize the Recovery Point Objective (RPO) for log backup during rolling restarts. Now, the checkpoint lag of log backup tasks will be smaller during rolling restarts #15410 @YuJuncen",
          "Enhance the tolerance of log backup to merge operations. When encountering a reasonably long merge operation, log backup tasks are less likely to enter the error state #16554 @YuJuncen",
          "Support automatically abandoning log backup tasks when encountering a large checkpoint lag, to avoid prolonged blocking GC and potential cluster issues #50803 @RidRisR",
          "Alleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen",
          "Improve the speed of merging SST files during data restore by using a more efficient algorithm #50613 @Leavrth",
          "Support ingesting SST files in batch during data restore #16267 @3pointer",
          "Remove an outdated compatibility check when using Google Cloud Storage (GCS) as the external storage #50533 @lance6716",
          "Print the information of the slowest Region that affects global checkpoint advancement in logs and metrics during log backups #51046 @YuJuncen",
          "Refactor the BR exception handling mechanism to increase tolerance for unknown errors #47656 @3pointer",
          "TiDB\nFix the issue that dropped tables are still counted by the Grafana Stats Healthy Distribution panel #39349 @xuyifangreeneyes\nFix the issue that TiDB does not handle the WHERE <column_name> filtering condition in a SQL statement when the query of that statement involves the MemTableScan operator #40937 @zhongzc\nFix the issue that query results might be incorrect when the HAVING clause in a subquery contains correlated columns #51107 @hawkingrei\nFix the issue that query results might be incorrect when you use Common Table Expressions (CTE) to access partitioned tables with missing statistics #51873 @qw4990\nFix the issue that query execution using MPP might lead to incorrect query results when a SQL statement contains JOIN and the SELECT list in the statement contains only constants #50358 @yibin87\nFix the issue that the AUTO_INCREMENT attribute causes non-consecutive IDs due to unnecessary transaction conflicts when assigning auto-increment IDs #50819 @tiancaiamao\nFix the issue that the monitoring metric tidb_statistics_auto_analyze_total on Grafana is not displayed as an integer #51051 @hawkingrei\nFix the issue that errors might be returned during the concurrent merging of global statistics for partitioned tables #48713 @hawkingrei\nFix the issue that getting the default value of a column returns an error if the column default value is dropped #50043 #51324 @crazycs520\nFix the issue that the INSERT ignore statement cannot fill in default values when the column is write-only #40192 @YangKeao\nFix the issue that TiDB crashes when shuffleExec quits unexpectedly #48230 @wshwsh12\nFix the goroutine leak issue that might occur when the HashJoin operator fails to spill to disk #50841 @wshwsh12\nFix the issue that renaming tables does not take effect when committing multiple statements in a transaction #39664 @tiancaiamao\nFix the issue that the query result is incorrect when the IN() predicate contains NULL #51560 @winoros\nFix the issue that querying JSON of BINARY type might cause an error in some cases #51547 @YangKeao\nFix the issue that parallel Apply might generate incorrect results when the table has a clustered index #51372 @guo-shaoge\nFix the issue that the init-stats process might cause TiDB to panic and the load stats process to quit #51581 @hawkingrei\nFix the issue that the tidb_merge_partition_stats_concurrency variable does not take effect when auto analyze is processing partitioned tables #47594 @hawkingrei\nFix the issue that after the time window for automatic statistics updates is configured, statistics might still be updated outside that time window #49552 @hawkingrei\nFix the issue that the approx_percentile function might cause TiDB panic #40463 @xzhangxian1008\nFix the issue that BIT type columns might cause query errors due to decode failures when they are involved in calculations of some functions #49566 #50850 #50855 @jiyfhust\nFix the goroutine leak issue that occurs when the memory usage of CTE queries exceed limits #50337 @guo-shaoge\nFix the issue that TiDB does not listen to the corresponding port when force-init-stats is configured #51473 @hawkingrei\nFix the issue that ALTER TABLE ... COMPACT TIFLASH REPLICA might incorrectly end when the primary key type is VARCHAR #51810 @breezewish\nFix the issue that the tidb_gogc_tuner_threshold system variable is not adjusted accordingly after the tidb_server_memory_limit variable is modified #48180 @hawkingrei\nFix the Can't find column ... error that might occur when aggregate functions are used for group calculations #50926 @qw4990\nFix the issue that the REVERSE function reports an error when processing columns of the BIT type #50850 #50855 @jiyfhust\nFix the issue that INSERT IGNORE reports an error when inserting data in bulk into a table undergoing a DDL operation #50993 @YangKeao\nFix the issue that the TiDB server adds a label via the HTTP interface and returns success, but does not take effect #51427 @you06\nFix the issue that the type returned by the IFNULL function is inconsistent with MySQL #51765 @YangKeao\nFix the issue that the TiDB server is marked as health before the initialization is complete #51596 @shenqidebaozi\nFix the issue that querying the TIDB_HOT_REGIONS table might incorrectly return INFORMATION_SCHEMA tables #50810 @Defined2014\nFix the issue that EXCHANGE PARTITION incorrectly processes foreign keys #51807 @YangKeao\nFix the issue that executing queries containing CTEs causes TiDB to panic #41688 @srstack",
          "Fix the issue that dropped tables are still counted by the Grafana Stats Healthy Distribution panel #39349 @xuyifangreeneyes",
          "Fix the issue that TiDB does not handle the WHERE <column_name> filtering condition in a SQL statement when the query of that statement involves the MemTableScan operator #40937 @zhongzc",
          "Fix the issue that query results might be incorrect when the HAVING clause in a subquery contains correlated columns #51107 @hawkingrei",
          "Fix the issue that query results might be incorrect when you use Common Table Expressions (CTE) to access partitioned tables with missing statistics #51873 @qw4990",
          "Fix the issue that query execution using MPP might lead to incorrect query results when a SQL statement contains JOIN and the SELECT list in the statement contains only constants #50358 @yibin87",
          "Fix the issue that the AUTO_INCREMENT attribute causes non-consecutive IDs due to unnecessary transaction conflicts when assigning auto-increment IDs #50819 @tiancaiamao",
          "Fix the issue that the monitoring metric tidb_statistics_auto_analyze_total on Grafana is not displayed as an integer #51051 @hawkingrei",
          "Fix the issue that errors might be returned during the concurrent merging of global statistics for partitioned tables #48713 @hawkingrei",
          "Fix the issue that getting the default value of a column returns an error if the column default value is dropped #50043 #51324 @crazycs520",
          "Fix the issue that the INSERT ignore statement cannot fill in default values when the column is write-only #40192 @YangKeao",
          "Fix the issue that TiDB crashes when shuffleExec quits unexpectedly #48230 @wshwsh12",
          "Fix the goroutine leak issue that might occur when the HashJoin operator fails to spill to disk #50841 @wshwsh12",
          "Fix the issue that renaming tables does not take effect when committing multiple statements in a transaction #39664 @tiancaiamao",
          "Fix the issue that the query result is incorrect when the IN() predicate contains NULL #51560 @winoros",
          "Fix the issue that querying JSON of BINARY type might cause an error in some cases #51547 @YangKeao",
          "Fix the issue that parallel Apply might generate incorrect results when the table has a clustered index #51372 @guo-shaoge",
          "Fix the issue that the init-stats process might cause TiDB to panic and the load stats process to quit #51581 @hawkingrei",
          "Fix the issue that the tidb_merge_partition_stats_concurrency variable does not take effect when auto analyze is processing partitioned tables #47594 @hawkingrei",
          "Fix the issue that after the time window for automatic statistics updates is configured, statistics might still be updated outside that time window #49552 @hawkingrei",
          "Fix the issue that the approx_percentile function might cause TiDB panic #40463 @xzhangxian1008",
          "Fix the issue that BIT type columns might cause query errors due to decode failures when they are involved in calculations of some functions #49566 #50850 #50855 @jiyfhust",
          "Fix the goroutine leak issue that occurs when the memory usage of CTE queries exceed limits #50337 @guo-shaoge",
          "Fix the issue that TiDB does not listen to the corresponding port when force-init-stats is configured #51473 @hawkingrei",
          "Fix the issue that ALTER TABLE ... COMPACT TIFLASH REPLICA might incorrectly end when the primary key type is VARCHAR #51810 @breezewish",
          "Fix the issue that the tidb_gogc_tuner_threshold system variable is not adjusted accordingly after the tidb_server_memory_limit variable is modified #48180 @hawkingrei",
          "Fix the Can't find column ... error that might occur when aggregate functions are used for group calculations #50926 @qw4990",
          "Fix the issue that the REVERSE function reports an error when processing columns of the BIT type #50850 #50855 @jiyfhust",
          "Fix the issue that INSERT IGNORE reports an error when inserting data in bulk into a table undergoing a DDL operation #50993 @YangKeao",
          "Fix the issue that the TiDB server adds a label via the HTTP interface and returns success, but does not take effect #51427 @you06",
          "Fix the issue that the type returned by the IFNULL function is inconsistent with MySQL #51765 @YangKeao",
          "Fix the issue that the TiDB server is marked as health before the initialization is complete #51596 @shenqidebaozi",
          "Fix the issue that querying the TIDB_HOT_REGIONS table might incorrectly return INFORMATION_SCHEMA tables #50810 @Defined2014",
          "Fix the issue that EXCHANGE PARTITION incorrectly processes foreign keys #51807 @YangKeao",
          "Fix the issue that executing queries containing CTEs causes TiDB to panic #41688 @srstack",
          "TiKV\nFix the issue that after the process of destroying Peer is interrupted by applying snapshots, it does not resume even after applying snapshots is complete #16561 @tonyxuqqi\nFix the issue that inactive Write Ahead Logs (WALs) in RocksDB might corrupt data #16705 @Connor1996\nFix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus\nFix the issue that the monitoring metric tikv_unified_read_pool_thread_count has no data in some cases #16629 @YuJuncen\nFix the issue that JSON integers greater than the maximum INT64 value but less than the maximum UINT64 value are parsed as FLOAT64 by TiKV, resulting in inconsistency with TiDB #16512 @YangKeao\nFix the issue that during the execution of an optimistic transaction, if other transactions initiate the resolving lock operation on it, there is a small chance that the atomicity of the transaction might be broken if the transaction's primary key has data that was previously committed in Async Commit or 1PC mode #16620 @MyonKeminta",
          "Fix the issue that after the process of destroying Peer is interrupted by applying snapshots, it does not resume even after applying snapshots is complete #16561 @tonyxuqqi",
          "Fix the issue that inactive Write Ahead Logs (WALs) in RocksDB might corrupt data #16705 @Connor1996",
          "Fix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus",
          "Fix the issue that the monitoring metric tikv_unified_read_pool_thread_count has no data in some cases #16629 @YuJuncen",
          "Fix the issue that JSON integers greater than the maximum INT64 value but less than the maximum UINT64 value are parsed as FLOAT64 by TiKV, resulting in inconsistency with TiDB #16512 @YangKeao",
          "Fix the issue that during the execution of an optimistic transaction, if other transactions initiate the resolving lock operation on it, there is a small chance that the atomicity of the transaction might be broken if the transaction's primary key has data that was previously committed in Async Commit or 1PC mode #16620 @MyonKeminta",
          "PD\nFix the issue that the scaling progress is not correctly displayed #7726 @CabinfeverB\nFix the issue that data race occurs when the MergeLabels function is called #7535 @lhy1024\nFix the issue that the PD monitoring item learner-peer-count does not synchronize the old value after a leader switch #7728 @CabinfeverB\nFix the issue that the query result of SHOW CONFIG includes the deprecated configuration item trace-region-flow #7917 @rleungx",
          "Fix the issue that the scaling progress is not correctly displayed #7726 @CabinfeverB",
          "Fix the issue that data race occurs when the MergeLabels function is called #7535 @lhy1024",
          "Fix the issue that the PD monitoring item learner-peer-count does not synchronize the old value after a leader switch #7728 @CabinfeverB",
          "Fix the issue that the query result of SHOW CONFIG includes the deprecated configuration item trace-region-flow #7917 @rleungx",
          "TiFlash\nFix the issue that TiFlash might panic due to unstable network connections with PD during replica migration #8323 @JaySon-Huang\nFix the issue that TiFlash might crash due to data race in case of remote reads #8685 @solotzg\nFix the issue that the ENUM column might cause TiFlash to crash during chunk encoding #8674 @yibin87\nFix the issue that TiFlash might panic when you insert data to columns with invalid default values in non-strict sql_mode #8803 @Lloyd-Pottiger\nFix the issue that if Region migration, split, or merge occurs after the precision of a TIME column is modified, queries might fail #8601 @JaySon-Huang",
          "Fix the issue that TiFlash might panic due to unstable network connections with PD during replica migration #8323 @JaySon-Huang",
          "Fix the issue that TiFlash might crash due to data race in case of remote reads #8685 @solotzg",
          "Fix the issue that the ENUM column might cause TiFlash to crash during chunk encoding #8674 @yibin87",
          "Fix the issue that TiFlash might panic when you insert data to columns with invalid default values in non-strict sql_mode #8803 @Lloyd-Pottiger",
          "Fix the issue that if Region migration, split, or merge occurs after the precision of a TIME column is modified, queries might fail #8601 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nFix the issue that too many logs are printed when a full backup fails #51572 @Leavrth\nFix the issue that removing a log backup task after it is paused does not immediately restore the GC safepoint #52082 @3pointer\nFix the issue that BR could not back up the AUTO_RANDOM ID allocation progress in a union clustered index that contains an AUTO_RANDOM column #52255 @Leavrth\nFix the issue that stopping a log backup task causes TiDB to crash #50839 @YuJuncen\nFix the issue that TiKV panics when a full backup fails to find a peer in some extreme cases #16394 @Leavrth\nTiCDC\nFix the issue that snapshot lost caused by GC is not reported in time when resuming a changefeed and the checkpoint-ts of the changefeed is smaller than the GC safepoint of TiDB #10463 @sdojjy\nFix the issue that data is written to a wrong CSV file due to wrong BarrierTS in scenarios where DDL statements are executed frequently #10668 @lidezhu\nFix the issue that the Syncpoint table might be incorrectly replicated #10576 @asddongmen\nFix the issue TiCDC panics when scheduling table replication tasks #10613 @CharlesCheung96\nFix the issue that data race in the KV client causes TiCDC to panic #10718 @asddongmen\nFix the issue that the file sequence number generated by the storage service might not increment correctly when using the storage sink #10352 @CharlesCheung96\nFix the issue that TiCDC cannot access Azure and GCS properly in storage sink scenarios #10592 @CharlesCheung96\nFix the issue that the old value part of open-protocol incorrectly outputs the default value according to the STRING type instead of its actual type #10803 @3AceShowHand\nFix the issue that a changefeed with eventual consistency enabled might fail when the object storage sink encounters a temporary failure #10710 @CharlesCheung96\nTiDB Data Migration (DM)\nFix the issue that data is lost when the upstream primary key is of binary type #10672 @GMHDBJD\nTiDB Lightning\nFix the issue that TiDB Lightning reports an error when encountering invalid symbolic link files during file scanning #49423 @lance6716",
          "Backup & Restore (BR)\nFix the issue that too many logs are printed when a full backup fails #51572 @Leavrth\nFix the issue that removing a log backup task after it is paused does not immediately restore the GC safepoint #52082 @3pointer\nFix the issue that BR could not back up the AUTO_RANDOM ID allocation progress in a union clustered index that contains an AUTO_RANDOM column #52255 @Leavrth\nFix the issue that stopping a log backup task causes TiDB to crash #50839 @YuJuncen\nFix the issue that TiKV panics when a full backup fails to find a peer in some extreme cases #16394 @Leavrth",
          "Fix the issue that too many logs are printed when a full backup fails #51572 @Leavrth",
          "Fix the issue that removing a log backup task after it is paused does not immediately restore the GC safepoint #52082 @3pointer",
          "Fix the issue that BR could not back up the AUTO_RANDOM ID allocation progress in a union clustered index that contains an AUTO_RANDOM column #52255 @Leavrth",
          "Fix the issue that stopping a log backup task causes TiDB to crash #50839 @YuJuncen",
          "Fix the issue that TiKV panics when a full backup fails to find a peer in some extreme cases #16394 @Leavrth",
          "TiCDC\nFix the issue that snapshot lost caused by GC is not reported in time when resuming a changefeed and the checkpoint-ts of the changefeed is smaller than the GC safepoint of TiDB #10463 @sdojjy\nFix the issue that data is written to a wrong CSV file due to wrong BarrierTS in scenarios where DDL statements are executed frequently #10668 @lidezhu\nFix the issue that the Syncpoint table might be incorrectly replicated #10576 @asddongmen\nFix the issue TiCDC panics when scheduling table replication tasks #10613 @CharlesCheung96\nFix the issue that data race in the KV client causes TiCDC to panic #10718 @asddongmen\nFix the issue that the file sequence number generated by the storage service might not increment correctly when using the storage sink #10352 @CharlesCheung96\nFix the issue that TiCDC cannot access Azure and GCS properly in storage sink scenarios #10592 @CharlesCheung96\nFix the issue that the old value part of open-protocol incorrectly outputs the default value according to the STRING type instead of its actual type #10803 @3AceShowHand\nFix the issue that a changefeed with eventual consistency enabled might fail when the object storage sink encounters a temporary failure #10710 @CharlesCheung96",
          "Fix the issue that snapshot lost caused by GC is not reported in time when resuming a changefeed and the checkpoint-ts of the changefeed is smaller than the GC safepoint of TiDB #10463 @sdojjy",
          "Fix the issue that data is written to a wrong CSV file due to wrong BarrierTS in scenarios where DDL statements are executed frequently #10668 @lidezhu",
          "Fix the issue that the Syncpoint table might be incorrectly replicated #10576 @asddongmen",
          "Fix the issue TiCDC panics when scheduling table replication tasks #10613 @CharlesCheung96",
          "Fix the issue that data race in the KV client causes TiCDC to panic #10718 @asddongmen",
          "Fix the issue that the file sequence number generated by the storage service might not increment correctly when using the storage sink #10352 @CharlesCheung96",
          "Fix the issue that TiCDC cannot access Azure and GCS properly in storage sink scenarios #10592 @CharlesCheung96",
          "Fix the issue that the old value part of open-protocol incorrectly outputs the default value according to the STRING type instead of its actual type #10803 @3AceShowHand",
          "Fix the issue that a changefeed with eventual consistency enabled might fail when the object storage sink encounters a temporary failure #10710 @CharlesCheung96",
          "TiDB Data Migration (DM)\nFix the issue that data is lost when the upstream primary key is of binary type #10672 @GMHDBJD",
          "Fix the issue that data is lost when the upstream primary key is of binary type #10672 @GMHDBJD",
          "TiDB Lightning\nFix the issue that TiDB Lightning reports an error when encountering invalid symbolic link files during file scanning #49423 @lance6716",
          "Fix the issue that TiDB Lightning reports an error when encountering invalid symbolic link files during file scanning #49423 @lance6716"
        ]
      },
      {
        "version": "6.5.8",
        "date": "2024-02-02",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.5.8/",
        "changes": [
          "TiFlash\nReduce the impact of background GC tasks on read and write task latency #8650 @JaySon-Huang",
          "Reduce the impact of background GC tasks on read and write task latency #8650 @JaySon-Huang",
          "Tools\nTiCDC\nSupport querying the downstream synchronization status of a changefeed, which helps you determine whether the upstream data changes received by TiCDC have been synchronized to the downstream system completely #10289 @hongyunyan\nTiDB Lightning\nImprove the performance of ALTER TABLE when importing a large number of small tables #50105 @D3Hunter",
          "TiCDC\nSupport querying the downstream synchronization status of a changefeed, which helps you determine whether the upstream data changes received by TiCDC have been synchronized to the downstream system completely #10289 @hongyunyan",
          "Support querying the downstream synchronization status of a changefeed, which helps you determine whether the upstream data changes received by TiCDC have been synchronized to the downstream system completely #10289 @hongyunyan",
          "TiDB Lightning\nImprove the performance of ALTER TABLE when importing a large number of small tables #50105 @D3Hunter",
          "Improve the performance of ALTER TABLE when importing a large number of small tables #50105 @D3Hunter",
          "TiDB\nFix the issue that enforced sorting might become ineffective when a query uses optimizer hints (such as STREAM_AGG()) that enforce sorting and its execution plan contains IndexMerge #49605 @AilinKid\nFix the issue that histogram statistics might not be parsed into readable strings when the histogram boundary contains NULL #49823 @AilinKid\nFix the issue that hints cannot be used in REPLACE INTO statements #34325 @YangKeao\nFix the issue that query results are incorrect due to STREAM_AGG() incorrectly handling CI #49902 @wshwsh12\nFix the issue that the query result of a range partitioned table is incorrect in some cases due to wrong partition pruning #50082 @Defined2014\nFix the issue that the auto-increment ID allocation reports an error due to concurrent conflicts when using an auto-increment column with AUTO_ID_CACHE=1 #50519 @tiancaiamao\nMitigate the issue that TiDB nodes might encounter OOM errors when dealing with a large number of tables or partitions #50077 @zimulala\nFix the issue that data is inconsistent under the TiDB Distributed eXecution Framework (DXF) when executing ADD INDEX after the DDL Owner is network isolated #49773 @tangenta\nFix the issue that TiDB might panic when a query contains the Apply operator and the fatal error: concurrent map writes error occurs #50347 @SeaRise\nFix the issue that the COMMIT or ROLLBACK operation executed through COM_STMT_EXECUTE fails to terminate transactions that have timed out #49151 @zyguan\nFix the issue that executing SELECT INTO OUTFILE using the PREPARE method incorrectly returns a success message instead of an error #49166 @qw4990\nFix the issue that executing UNIQUE index lookup with an ORDER BY clause might cause an error #49920 @jackysp\nFix the issue that the DELETE and UPDATE statements using index lookup might report an error when tidb_multi_statement_mode mode is enabled #50012 @tangenta\nFix the issue that the LEADING hint does not take effect in UNION ALL statements #50067 @hawkingrei\nFix the issue that using old interfaces might cause inconsistent metadata for tables #49751 @hawkingrei\nFix the issue that common hints do not take effect in UNION ALL statements #50068 @hawkingrei\nFix the issue that TiDB returns wrong query results when processing ENUM or SET types by constant propagation #49440 @winoros",
          "Fix the issue that enforced sorting might become ineffective when a query uses optimizer hints (such as STREAM_AGG()) that enforce sorting and its execution plan contains IndexMerge #49605 @AilinKid",
          "Fix the issue that histogram statistics might not be parsed into readable strings when the histogram boundary contains NULL #49823 @AilinKid",
          "Fix the issue that hints cannot be used in REPLACE INTO statements #34325 @YangKeao",
          "Fix the issue that query results are incorrect due to STREAM_AGG() incorrectly handling CI #49902 @wshwsh12",
          "Fix the issue that the query result of a range partitioned table is incorrect in some cases due to wrong partition pruning #50082 @Defined2014",
          "Fix the issue that the auto-increment ID allocation reports an error due to concurrent conflicts when using an auto-increment column with AUTO_ID_CACHE=1 #50519 @tiancaiamao",
          "Mitigate the issue that TiDB nodes might encounter OOM errors when dealing with a large number of tables or partitions #50077 @zimulala",
          "Fix the issue that data is inconsistent under the TiDB Distributed eXecution Framework (DXF) when executing ADD INDEX after the DDL Owner is network isolated #49773 @tangenta",
          "Fix the issue that TiDB might panic when a query contains the Apply operator and the fatal error: concurrent map writes error occurs #50347 @SeaRise",
          "Fix the issue that the COMMIT or ROLLBACK operation executed through COM_STMT_EXECUTE fails to terminate transactions that have timed out #49151 @zyguan",
          "Fix the issue that executing SELECT INTO OUTFILE using the PREPARE method incorrectly returns a success message instead of an error #49166 @qw4990",
          "Fix the issue that executing UNIQUE index lookup with an ORDER BY clause might cause an error #49920 @jackysp",
          "Fix the issue that the DELETE and UPDATE statements using index lookup might report an error when tidb_multi_statement_mode mode is enabled #50012 @tangenta",
          "Fix the issue that the LEADING hint does not take effect in UNION ALL statements #50067 @hawkingrei",
          "Fix the issue that using old interfaces might cause inconsistent metadata for tables #49751 @hawkingrei",
          "Fix the issue that common hints do not take effect in UNION ALL statements #50068 @hawkingrei",
          "Fix the issue that TiDB returns wrong query results when processing ENUM or SET types by constant propagation #49440 @winoros",
          "TiKV\nFix the issue that TiKV might panic when gRPC threads are checking is_shutdown #16236 @pingyu\nFix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus\nFix the issue that TiDB and TiKV might produce inconsistent results when processing DECIMAL arithmetic multiplication truncation #16268 @solotzg",
          "Fix the issue that TiKV might panic when gRPC threads are checking is_shutdown #16236 @pingyu",
          "Fix the issue that TiKV converts the time zone incorrectly for Brazil and Egypt #16220 @overvenus",
          "Fix the issue that TiDB and TiKV might produce inconsistent results when processing DECIMAL arithmetic multiplication truncation #16268 @solotzg",
          "PD\nFix the issue that querying a Region without a leader using pd-ctl might cause PD to panic #7630 @rleungx",
          "Fix the issue that querying a Region without a leader using pd-ctl might cause PD to panic #7630 @rleungx",
          "TiFlash\nFix the issue that the lowerUTF8 and upperUTF8 functions do not allow characters in different cases to occupy different bytes #8484 @gengliqi\nFix the issue that TiFlash panics after executing ALTER TABLE ... MODIFY COLUMN ... NOT NULL, which changes nullable columns to non-nullable #8419 @JaySon-Huang\nFix the issue that after terminating a query, TiFlash crashes due to concurrent data conflicts when a large number of tasks on TiFlash are canceled at the same time #7432 @SeaRise",
          "Fix the issue that the lowerUTF8 and upperUTF8 functions do not allow characters in different cases to occupy different bytes #8484 @gengliqi",
          "Fix the issue that TiFlash panics after executing ALTER TABLE ... MODIFY COLUMN ... NOT NULL, which changes nullable columns to non-nullable #8419 @JaySon-Huang",
          "Fix the issue that after terminating a query, TiFlash crashes due to concurrent data conflicts when a large number of tasks on TiFlash are canceled at the same time #7432 @SeaRise",
          "Tools\nBackup & Restore (BR)\nFix the issue that the Unsupported collation error is reported when you restore data from backups of an old version #49466 @3pointer\nFix the issue that BR cannot retry when encountering an error while reading file content from S3 #49942 @Leavrth\nFix the issue that log backup gets stuck after changing the TiKV IP address on the same node #50445 @3pointer\nTiCDC\nFix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96\nFix the issue that the changefeed reports an error after TRUNCATE PARTITION is executed on the upstream table #10522 @sdojjy\nFix the issue that the changefeed resolved ts does not advance in extreme cases #10157 @sdojjy\nFix the issue that TiCDC returns the ErrChangeFeedAlreadyExists error when concurrently creating multiple changefeeds #10430 @CharlesCheung96\nTiDB Lightning\nFix the issue that TiDB Lightning might fail to import data when EBS BR is running #49517 @mittalrishabh\nFix the issue that data might be lost when TiDB Lightning ingests files in batches #50198 @D3Hunter",
          "Backup & Restore (BR)\nFix the issue that the Unsupported collation error is reported when you restore data from backups of an old version #49466 @3pointer\nFix the issue that BR cannot retry when encountering an error while reading file content from S3 #49942 @Leavrth\nFix the issue that log backup gets stuck after changing the TiKV IP address on the same node #50445 @3pointer",
          "Fix the issue that the Unsupported collation error is reported when you restore data from backups of an old version #49466 @3pointer",
          "Fix the issue that BR cannot retry when encountering an error while reading file content from S3 #49942 @Leavrth",
          "Fix the issue that log backup gets stuck after changing the TiKV IP address on the same node #50445 @3pointer",
          "TiCDC\nFix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96\nFix the issue that the changefeed reports an error after TRUNCATE PARTITION is executed on the upstream table #10522 @sdojjy\nFix the issue that the changefeed resolved ts does not advance in extreme cases #10157 @sdojjy\nFix the issue that TiCDC returns the ErrChangeFeedAlreadyExists error when concurrently creating multiple changefeeds #10430 @CharlesCheung96",
          "Fix the issue that after filtering out add table partition events is configured in ignore-event, TiCDC does not replicate other types of DML changes for related partitions to the downstream #10524 @CharlesCheung96",
          "Fix the issue that the changefeed reports an error after TRUNCATE PARTITION is executed on the upstream table #10522 @sdojjy",
          "Fix the issue that the changefeed resolved ts does not advance in extreme cases #10157 @sdojjy",
          "Fix the issue that TiCDC returns the ErrChangeFeedAlreadyExists error when concurrently creating multiple changefeeds #10430 @CharlesCheung96",
          "TiDB Lightning\nFix the issue that TiDB Lightning might fail to import data when EBS BR is running #49517 @mittalrishabh\nFix the issue that data might be lost when TiDB Lightning ingests files in batches #50198 @D3Hunter",
          "Fix the issue that TiDB Lightning might fail to import data when EBS BR is running #49517 @mittalrishabh",
          "Fix the issue that data might be lost when TiDB Lightning ingests files in batches #50198 @D3Hunter"
        ]
      },
      {
        "version": "6.5.7",
        "date": "2024-01-08",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.5.7/",
        "changes": [
          "TiDB\nOptimize memory usage and performance for ANALYZE operations on partitioned tables #47071 #47104 #46804 @hawkingrei\nSupport Plan Cache to cache execution plans with the PointGet operator generated during physical optimization using Optimizer Fix Controls #44830 @qw4990\nEnhance the ability to convert OUTER JOIN to INNER JOIN in specific scenarios #49616 @qw4990",
          "Optimize memory usage and performance for ANALYZE operations on partitioned tables #47071 #47104 #46804 @hawkingrei",
          "Support Plan Cache to cache execution plans with the PointGet operator generated during physical optimization using Optimizer Fix Controls #44830 @qw4990",
          "Enhance the ability to convert OUTER JOIN to INNER JOIN in specific scenarios #49616 @qw4990",
          "TiFlash\nReduce the impact of disk performance jitter on read latency #8583 @JaySon-Huang",
          "Reduce the impact of disk performance jitter on read latency #8583 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nImprove the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth\nResolve compatibility issues between EBS-based snapshot backups and TiDB Lightning imports #46850 @YuJuncen\nAlleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen\nTiCDC\nWhen the downstream is Kafka, the topic expression allows schema to be optional and supports specifying a topic name directly #9763 @3AceShowHand",
          "Backup & Restore (BR)\nImprove the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth\nResolve compatibility issues between EBS-based snapshot backups and TiDB Lightning imports #46850 @YuJuncen\nAlleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen",
          "Improve the table creation performance of the RESTORE statement in scenarios with large datasets #48301 @Leavrth",
          "Resolve compatibility issues between EBS-based snapshot backups and TiDB Lightning imports #46850 @YuJuncen",
          "Alleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen",
          "TiCDC\nWhen the downstream is Kafka, the topic expression allows schema to be optional and supports specifying a topic name directly #9763 @3AceShowHand",
          "When the downstream is Kafka, the topic expression allows schema to be optional and supports specifying a topic name directly #9763 @3AceShowHand",
          "TiDB\nFix the issue that TiDB might not simultaneously create the new statistics metadata when a large number of CREATE TABLE statements are executed in a short period of time, causing subsequent query estimation to fail to get accurate row count information #36004 #38189 @xuyifangreeneyes\nFix the issue that TiDB server might consume a significant amount of resources when the enterprise plugin for audit logging is used #49273 @lcwangchao\nFix the incorrect error message for ErrLoadDataInvalidURI (invalid S3 URI error) #48164 @lance6716\nFix the issue that high CPU usage of TiDB occurs due to long-term memory pressure caused by tidb_server_memory_limit #48741 @XuHuaiyu\nFix the issue that queries containing common table expressions (CTEs) unexpectedly get stuck when the memory limit is exceeded #49096 @AilinKid\nFix the issue that the same query plan has different PLAN_DIGEST values in some cases #47634 @King-Dylan\nFix the issue that queries containing CTEs report runtime error: index out of range [32] with length 32 when tidb_max_chunk_size is set to a small value #48808 @guo-shaoge\nFix the issue that TiDB server might panic during graceful shutdown #36793 @bb7133\nFix the issue of possible statistics data errors when importing statistics exported from early versions of TiDB #42931 @xuyifangreeneyes\nFix the issue of excessive statistical error in constructing statistics caused by Golang's implicit conversion algorithm #49801 @qw4990\nFix the issue that the optimizer incorrectly converts TiFlash selection path to the DUAL table in specific scenarios #49285 @AilinKid\nFix the issue that parsing invalid values of ENUM or SET types would directly cause SQL statement errors #49487 @winoros\nFix the issue that UPDATE or DELETE statements containing WITH RECURSIVE CTEs might produce incorrect results #48969 @winoros\nFix the issue that using the _ wildcard in LIKE when the data contains trailing spaces can result in incorrect query results #48983 @time-and-fate\nFix the issue that a query containing the IndexHashJoin operator gets stuck when memory exceeds tidb_mem_quota_query #49033 @XuHuaiyu\nFix the issue that LIMIT and OPRDERBY might be invalid in nested UNION queries #49377 @AilinKid\nFix the issue that in non-strict mode (sql_mode = ''), truncation during executing INSERT still reports an error #49369 @tiancaiamao\nFix the issue that TiDB panics and reports an error invalid memory address or nil pointer dereference #42739 @CbcWestwolf\nFix the issue that CTE queries might report an error type assertion for CTEStorageMap failed during the retry process #46522 @tiancaiamao\nFix the issue that Daylight Saving Time is displayed incorrectly in some time zones #49586 @overvenus\nFix the issue that the completion times of two DDL tasks with dependencies are incorrectly sequenced #49498 @tangenta",
          "Fix the issue that TiDB might not simultaneously create the new statistics metadata when a large number of CREATE TABLE statements are executed in a short period of time, causing subsequent query estimation to fail to get accurate row count information #36004 #38189 @xuyifangreeneyes",
          "Fix the issue that TiDB server might consume a significant amount of resources when the enterprise plugin for audit logging is used #49273 @lcwangchao",
          "Fix the incorrect error message for ErrLoadDataInvalidURI (invalid S3 URI error) #48164 @lance6716",
          "Fix the issue that high CPU usage of TiDB occurs due to long-term memory pressure caused by tidb_server_memory_limit #48741 @XuHuaiyu",
          "Fix the issue that queries containing common table expressions (CTEs) unexpectedly get stuck when the memory limit is exceeded #49096 @AilinKid",
          "Fix the issue that the same query plan has different PLAN_DIGEST values in some cases #47634 @King-Dylan",
          "Fix the issue that queries containing CTEs report runtime error: index out of range [32] with length 32 when tidb_max_chunk_size is set to a small value #48808 @guo-shaoge",
          "Fix the issue that TiDB server might panic during graceful shutdown #36793 @bb7133",
          "Fix the issue of possible statistics data errors when importing statistics exported from early versions of TiDB #42931 @xuyifangreeneyes",
          "Fix the issue of excessive statistical error in constructing statistics caused by Golang's implicit conversion algorithm #49801 @qw4990",
          "Fix the issue that the optimizer incorrectly converts TiFlash selection path to the DUAL table in specific scenarios #49285 @AilinKid",
          "Fix the issue that parsing invalid values of ENUM or SET types would directly cause SQL statement errors #49487 @winoros",
          "Fix the issue that UPDATE or DELETE statements containing WITH RECURSIVE CTEs might produce incorrect results #48969 @winoros",
          "Fix the issue that using the _ wildcard in LIKE when the data contains trailing spaces can result in incorrect query results #48983 @time-and-fate",
          "Fix the issue that a query containing the IndexHashJoin operator gets stuck when memory exceeds tidb_mem_quota_query #49033 @XuHuaiyu",
          "Fix the issue that LIMIT and OPRDERBY might be invalid in nested UNION queries #49377 @AilinKid",
          "Fix the issue that in non-strict mode (sql_mode = ''), truncation during executing INSERT still reports an error #49369 @tiancaiamao",
          "Fix the issue that TiDB panics and reports an error invalid memory address or nil pointer dereference #42739 @CbcWestwolf",
          "Fix the issue that CTE queries might report an error type assertion for CTEStorageMap failed during the retry process #46522 @tiancaiamao",
          "Fix the issue that Daylight Saving Time is displayed incorrectly in some time zones #49586 @overvenus",
          "Fix the issue that the completion times of two DDL tasks with dependencies are incorrectly sequenced #49498 @tangenta",
          "TiKV\nFix the issue that damaged SST files might be spread to other TiKV nodes #15986 @Connor1996\nFix the issue that Resolved TS in stale read might cause TiKV OOM issues when tracking large transactions #14864 @overvenus\nFix the issue that TiKV reports the ServerIsBusy error because it cannot append the raft log #15800 @tonyxuqqi",
          "Fix the issue that damaged SST files might be spread to other TiKV nodes #15986 @Connor1996",
          "Fix the issue that Resolved TS in stale read might cause TiKV OOM issues when tracking large transactions #14864 @overvenus",
          "Fix the issue that TiKV reports the ServerIsBusy error because it cannot append the raft log #15800 @tonyxuqqi",
          "PD\nFix the issue that the location-labels set by Placement Rules in SQL are not scheduled as expected under specific conditions #6637 @rleungx\nFix the issue that the orphan peer is deleted when the number of replicas does not meet the requirements #7584 @bufferflies",
          "Fix the issue that the location-labels set by Placement Rules in SQL are not scheduled as expected under specific conditions #6637 @rleungx",
          "Fix the issue that the orphan peer is deleted when the number of replicas does not meet the requirements #7584 @bufferflies",
          "TiFlash\nFix the issue that data of TiFlash replicas would still be garbage collected after executing FLASHBACK DATABASE #8450 @JaySon-Huang\nFix the issue of memory leak when TiFlash encounters memory limitation during query #8447 @JinheLin\nFix incorrect display of maximum percentile time for some panels in Grafana #8076 @JaySon-Huang\nFix the issue that the memory usage increases significantly due to slow queries #8564 @JinheLin",
          "Fix the issue that data of TiFlash replicas would still be garbage collected after executing FLASHBACK DATABASE #8450 @JaySon-Huang",
          "Fix the issue of memory leak when TiFlash encounters memory limitation during query #8447 @JinheLin",
          "Fix incorrect display of maximum percentile time for some panels in Grafana #8076 @JaySon-Huang",
          "Fix the issue that the memory usage increases significantly due to slow queries #8564 @JinheLin",
          "Tools\nBackup & Restore (BR)\nFix the issue that the log backup task can start but does not work properly if failing to connect to PD during task initialization #16056 @YuJuncen\nTiCDC\nFix the issue that checkpoint-ts might get stuck when TiCDC replicates data to downstream MySQL #10334 @zhangjinpeng87\nFix the potential data race issue during kv-client initialization #10095 @3AceShowHand",
          "Backup & Restore (BR)\nFix the issue that the log backup task can start but does not work properly if failing to connect to PD during task initialization #16056 @YuJuncen",
          "Fix the issue that the log backup task can start but does not work properly if failing to connect to PD during task initialization #16056 @YuJuncen",
          "TiCDC\nFix the issue that checkpoint-ts might get stuck when TiCDC replicates data to downstream MySQL #10334 @zhangjinpeng87\nFix the potential data race issue during kv-client initialization #10095 @3AceShowHand",
          "Fix the issue that checkpoint-ts might get stuck when TiCDC replicates data to downstream MySQL #10334 @zhangjinpeng87",
          "Fix the potential data race issue during kv-client initialization #10095 @3AceShowHand"
        ]
      },
      {
        "version": "6.5.6",
        "date": "2023-12-07",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.5.6/",
        "changes": [
          "TiDB\nSupport the FLASHBACK CLUSTER TO TSO syntax #48372 @BornChanger",
          "Support the FLASHBACK CLUSTER TO TSO syntax #48372 @BornChanger",
          "TiKV\nOptimize memory usage of Resolver to prevent OOM #15458 @overvenus\nEliminate LRUCache in Router objects to reduce memory usage and prevent OOM #15430 @Connor1996\nAdd the alive and leak monitoring dimensions for the apply_router and raft_router metrics #15357 @tonyxuqqi",
          "Optimize memory usage of Resolver to prevent OOM #15458 @overvenus",
          "Eliminate LRUCache in Router objects to reduce memory usage and prevent OOM #15430 @Connor1996",
          "Add the alive and leak monitoring dimensions for the apply_router and raft_router metrics #15357 @tonyxuqqi",
          "PD\nAdd monitoring metrics such as Status and Sync Progress for DR Auto-Sync on the Grafana dashboard #6975 @disksing",
          "Add monitoring metrics such as Status and Sync Progress for DR Auto-Sync on the Grafana dashboard #6975 @disksing",
          "Tools\nBackup & Restore (BR)\nDuring restoring a snapshot backup, BR retries when it encounters certain network errors #48528 @Leavrth\nIntroduce a new integration test for Point-In-Time Recovery (PITR) in the delete range scenario, enhancing PITR stability #47738 @Leavrth\nEnable automatic retry of Region scatter during snapshot recovery when encountering timeout failures or cancellations of Region scatter #47236 @Leavrth\nBR can pause Region merging by setting the merge-schedule-limit configuration to 0 #7148 @BornChanger\nTiCDC\nSupport making TiCDC Canal-JSON content format compatible with the content format of the official Canal output by setting content-compatible=true in the sink-uri configuration #10106 @3AceShowHand\nOptimize the execution logic of replicating the ADD INDEX DDL operations to avoid blocking subsequent DML statements #9644 @sdojjy\nReduce the impact of TiCDC incremental scanning on upstream TiKV #11390 @hicqu",
          "Backup & Restore (BR)\nDuring restoring a snapshot backup, BR retries when it encounters certain network errors #48528 @Leavrth\nIntroduce a new integration test for Point-In-Time Recovery (PITR) in the delete range scenario, enhancing PITR stability #47738 @Leavrth\nEnable automatic retry of Region scatter during snapshot recovery when encountering timeout failures or cancellations of Region scatter #47236 @Leavrth\nBR can pause Region merging by setting the merge-schedule-limit configuration to 0 #7148 @BornChanger",
          "During restoring a snapshot backup, BR retries when it encounters certain network errors #48528 @Leavrth",
          "Introduce a new integration test for Point-In-Time Recovery (PITR) in the delete range scenario, enhancing PITR stability #47738 @Leavrth",
          "Enable automatic retry of Region scatter during snapshot recovery when encountering timeout failures or cancellations of Region scatter #47236 @Leavrth",
          "BR can pause Region merging by setting the merge-schedule-limit configuration to 0 #7148 @BornChanger",
          "TiCDC\nSupport making TiCDC Canal-JSON content format compatible with the content format of the official Canal output by setting content-compatible=true in the sink-uri configuration #10106 @3AceShowHand\nOptimize the execution logic of replicating the ADD INDEX DDL operations to avoid blocking subsequent DML statements #9644 @sdojjy\nReduce the impact of TiCDC incremental scanning on upstream TiKV #11390 @hicqu",
          "Support making TiCDC Canal-JSON content format compatible with the content format of the official Canal output by setting content-compatible=true in the sink-uri configuration #10106 @3AceShowHand",
          "Optimize the execution logic of replicating the ADD INDEX DDL operations to avoid blocking subsequent DML statements #9644 @sdojjy",
          "Reduce the impact of TiCDC incremental scanning on upstream TiKV #11390 @hicqu",
          "TiDB\nFix the issue that the chunk cannot be reused when the HashJoin operator performs probe #48082 @wshwsh12\nFix the issue that Duplicate entry might occur when AUTO_ID_CACHE=1 is set #46444 @tiancaiamao\nFix the issue that the TIDB_INLJ hint does not take effect when joining two sub-queries #46160 @qw4990\nFix the issue that DDL operations might get stuck after TiDB is restarted #46751 @wjhuang2016\nFix the issue that DDL operations might get permanently blocked due to incorrect MDL handling #46920 @wjhuang2016\nFix the issue that the results of MERGE_JOIN are incorrect #46580 @qw4990\nFix the issue that the Sort operator might cause TiDB to crash during the spill process #47538 @windtalker\nFix the issue that the cast(col)=range condition causes FullScan when CAST has no precision loss #45199 @AilinKid\nFix the panic issue of batch-client in client-go #47691 @crazycs520\nProhibit split table operations on non-integer clustered indexes #47350 @tangenta\nFix the incompatibility issue between the behavior of prepared plan cache and non-prepared plan cache during time conversion #42439 @qw4990\nFix the issue that sometimes an index cannot be created for an empty table using ingest mode #39641 @tangenta\nFix the issue of not being able to detect data that does not comply with partition definitions during partition exchange #46492 @mjonss\nFix the issue that GROUP_CONCAT cannot parse the ORDER BY column #41986 @AilinKid\nFix the issue that HashCode is repeatedly calculated for deeply nested expressions, which causes high memory usage and OOM #42788 @AilinKid\nFix the issue that when Aggregation is pushed down through Union in MPP execution plans, the results are incorrect #45850 @AilinKid\nFix the issue of incorrect memory usage estimation in INDEX_LOOKUP_HASH_JOIN #47788 @SeaRise\nFix the issue that the zip file generated by plan replayer cannot be imported back into TiDB #46474 @YangKeao\nFix the incorrect cost estimation caused by an excessively large N in LIMIT N #43285 @qw4990\nFix the panic issue that might occur when constructing TopN structure for statistics #35948 @hi-rustin\nFix the issue that the result of COUNT(INT) calculated by MPP might be incorrect #48643 @AilinKid\nFix the issue that panic might occur when tidb_enable_ordered_result_mode is enabled #45044 @qw4990\nFix the issue that the optimizer mistakenly selects IndexFullScan to reduce sort introduced by window functions #46177 @qw4990\nFix the issue that the result might be incorrect when predicates are pushed down to common table expressions #47881 @winoros\nFix the issue that executing UNION ALL with the DUAL table as the first subnode might cause an error #48755 @winoros\nFix the issue that column pruning can cause panic in specific situations #47331 @hi-rustin\nFix the issue of possible syntax error when a common table expression (CTE) containing aggregate or window functions is referenced by other recursive CTEs #47603 #47711 @elsa0520\nFix the issue that an exception might occur when using the QB_NAME hint in a prepared statement #46817 @jackysp\nFix the issue of Goroutine leak when using AUTO_ID_CACHE=1 #46324 @tiancaiamao\nFix the issue that TiDB might panic when shutting down #32110 @july2993\nFix the issue of not handling locks in the MVCC interface when reading schema diff commit versions from the TiDB schema cache #48281 @cfzjywxk\nFix the issue of duplicate rows in information_schema.columns caused by renaming a table #47064 @jiyfhust\nFix the bugs in the LOAD DATA REPLACE INTO statement #47995) @lance6716\nFix the issue of IMPORT INTO task failure caused by PD leader malfunction for 1 minute #48307 @D3Hunter\nFix the issue of ADMIN CHECK failure caused by creating an index on a date type field #47426 @tangenta\nFix the issue of unsorted row data returned by TABLESAMPLE #48253 @tangenta\nFix the TiDB node panic issue that occurs when DDL jobID is restored to 0 #46296 @jiyfhust",
          "Fix the issue that the chunk cannot be reused when the HashJoin operator performs probe #48082 @wshwsh12",
          "Fix the issue that Duplicate entry might occur when AUTO_ID_CACHE=1 is set #46444 @tiancaiamao",
          "Fix the issue that the TIDB_INLJ hint does not take effect when joining two sub-queries #46160 @qw4990",
          "Fix the issue that DDL operations might get stuck after TiDB is restarted #46751 @wjhuang2016",
          "Fix the issue that DDL operations might get permanently blocked due to incorrect MDL handling #46920 @wjhuang2016",
          "Fix the issue that the results of MERGE_JOIN are incorrect #46580 @qw4990",
          "Fix the issue that the Sort operator might cause TiDB to crash during the spill process #47538 @windtalker",
          "Fix the issue that the cast(col)=range condition causes FullScan when CAST has no precision loss #45199 @AilinKid",
          "Fix the panic issue of batch-client in client-go #47691 @crazycs520",
          "Prohibit split table operations on non-integer clustered indexes #47350 @tangenta",
          "Fix the incompatibility issue between the behavior of prepared plan cache and non-prepared plan cache during time conversion #42439 @qw4990",
          "Fix the issue that sometimes an index cannot be created for an empty table using ingest mode #39641 @tangenta",
          "Fix the issue of not being able to detect data that does not comply with partition definitions during partition exchange #46492 @mjonss",
          "Fix the issue that GROUP_CONCAT cannot parse the ORDER BY column #41986 @AilinKid",
          "Fix the issue that HashCode is repeatedly calculated for deeply nested expressions, which causes high memory usage and OOM #42788 @AilinKid",
          "Fix the issue that when Aggregation is pushed down through Union in MPP execution plans, the results are incorrect #45850 @AilinKid",
          "Fix the issue of incorrect memory usage estimation in INDEX_LOOKUP_HASH_JOIN #47788 @SeaRise",
          "Fix the issue that the zip file generated by plan replayer cannot be imported back into TiDB #46474 @YangKeao",
          "Fix the incorrect cost estimation caused by an excessively large N in LIMIT N #43285 @qw4990",
          "Fix the panic issue that might occur when constructing TopN structure for statistics #35948 @hi-rustin",
          "Fix the issue that the result of COUNT(INT) calculated by MPP might be incorrect #48643 @AilinKid",
          "Fix the issue that panic might occur when tidb_enable_ordered_result_mode is enabled #45044 @qw4990",
          "Fix the issue that the optimizer mistakenly selects IndexFullScan to reduce sort introduced by window functions #46177 @qw4990",
          "Fix the issue that the result might be incorrect when predicates are pushed down to common table expressions #47881 @winoros",
          "Fix the issue that executing UNION ALL with the DUAL table as the first subnode might cause an error #48755 @winoros",
          "Fix the issue that column pruning can cause panic in specific situations #47331 @hi-rustin",
          "Fix the issue of possible syntax error when a common table expression (CTE) containing aggregate or window functions is referenced by other recursive CTEs #47603 #47711 @elsa0520",
          "Fix the issue that an exception might occur when using the QB_NAME hint in a prepared statement #46817 @jackysp",
          "Fix the issue of Goroutine leak when using AUTO_ID_CACHE=1 #46324 @tiancaiamao",
          "Fix the issue that TiDB might panic when shutting down #32110 @july2993",
          "Fix the issue of not handling locks in the MVCC interface when reading schema diff commit versions from the TiDB schema cache #48281 @cfzjywxk",
          "Fix the issue of duplicate rows in information_schema.columns caused by renaming a table #47064 @jiyfhust",
          "Fix the bugs in the LOAD DATA REPLACE INTO statement #47995) @lance6716",
          "Fix the issue of IMPORT INTO task failure caused by PD leader malfunction for 1 minute #48307 @D3Hunter",
          "Fix the issue of ADMIN CHECK failure caused by creating an index on a date type field #47426 @tangenta",
          "Fix the issue of unsorted row data returned by TABLESAMPLE #48253 @tangenta",
          "Fix the TiDB node panic issue that occurs when DDL jobID is restored to 0 #46296 @jiyfhust",
          "TiKV\nFix the issue that moving a peer might cause the performance of the Follower Read to deteriorate #15468 @YuJuncen\nFix the data error of continuously increasing raftstore-applys #15371 @Connor1996\nFix the issue that requests of the TiDB Lightning checksum coprocessor time out when there is online workload #15565 @lance6716\nFix security issues by upgrading the version of lz4-sys to 1.9.4 #15621 @SpadeA-Tang\nFix security issues by upgrading the version of tokio to 6.5 #15621 @LykxSassinator\nFix security issues by removing the flatbuffer #15621 @tonyxuqqi\nFix the issue that resolved-ts lag increases when TiKV stores are partitioned #15679 @hicqu\nFix the TiKV OOM issue that occurs when restarting TiKV and there are a large number of Raft logs that are not applied #15770 @overvenus\nFix the issue that stale peers are retained and block resolved-ts after Regions are merged #15919 @overvenus\nFix the issue that the scheduler command variables are incorrect in Grafana on the cloud environment #15832 @Connor1996\nFix the issue that blob-run-mode in Titan cannot be updated online #15978 @tonyxuqqi\nFix the issue that TiKV panics due to inconsistent metadata between Regions #13311 @cfzjywxk\nFix the issue that TiKV panics when the leader is forced to exit during Online Unsafe Recovery #15629 @Connor1996\nFix the issue that the joint state of DR Auto-Sync might time out when scaling out #15817 @Connor1996\nFix the issue that TiKV coprocessor might return stale data when removing a Raft peer #16069 @overvenus\nFix the issue that resolved-ts might be blocked for 2 hours #39130 @overvenus\nFix the issue that Flashback might get stuck when encountering notLeader or regionNotFound #15712 @HuSharp",
          "Fix the issue that moving a peer might cause the performance of the Follower Read to deteriorate #15468 @YuJuncen",
          "Fix the data error of continuously increasing raftstore-applys #15371 @Connor1996",
          "Fix the issue that requests of the TiDB Lightning checksum coprocessor time out when there is online workload #15565 @lance6716",
          "Fix security issues by upgrading the version of lz4-sys to 1.9.4 #15621 @SpadeA-Tang",
          "Fix security issues by upgrading the version of tokio to 6.5 #15621 @LykxSassinator",
          "Fix security issues by removing the flatbuffer #15621 @tonyxuqqi",
          "Fix the issue that resolved-ts lag increases when TiKV stores are partitioned #15679 @hicqu",
          "Fix the TiKV OOM issue that occurs when restarting TiKV and there are a large number of Raft logs that are not applied #15770 @overvenus",
          "Fix the issue that stale peers are retained and block resolved-ts after Regions are merged #15919 @overvenus",
          "Fix the issue that the scheduler command variables are incorrect in Grafana on the cloud environment #15832 @Connor1996",
          "Fix the issue that blob-run-mode in Titan cannot be updated online #15978 @tonyxuqqi",
          "Fix the issue that TiKV panics due to inconsistent metadata between Regions #13311 @cfzjywxk",
          "Fix the issue that TiKV panics when the leader is forced to exit during Online Unsafe Recovery #15629 @Connor1996",
          "Fix the issue that the joint state of DR Auto-Sync might time out when scaling out #15817 @Connor1996",
          "Fix the issue that TiKV coprocessor might return stale data when removing a Raft peer #16069 @overvenus",
          "Fix the issue that resolved-ts might be blocked for 2 hours #39130 @overvenus",
          "Fix the issue that Flashback might get stuck when encountering notLeader or regionNotFound #15712 @HuSharp",
          "PD\nFix potential security risks of the plugin directory and files #7094 @HuSharp\nFix the issue that modified isolation levels are not synchronized to the default placement rules #7121 @rleungx\nFix the issue that evict-leader-scheduler might lose configuration #6897 @HuSharp\nFix the issue that the method for counting empty Regions might cause Regions to be unbalanced during the recovery process of BR #7148 @Cabinfever\nFix the issue that canSync and hasMajority might be calculated incorrectly for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode when the configuration of Placement Rules is complex #7201 @disksing\nFix the issue that available_stores is calculated incorrectly for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode #7221 @disksing\nFix the issue that the primary AZ cannot add TiKV nodes when the secondary AZ is down for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode #7218 @disksing\nFix the issue that adding multiple TiKV nodes to a large cluster might cause TiKV heartbeat reporting to become slow or stuck #7248 @rleungx\nFix the issue that PD might delete normal Peers when TiKV nodes are unavailable #7249 @lhy1024\nFix the issue that it takes a long time to switch the leader in DR Auto-Sync mode #6988 @HuSharp\nUpgrade the version of Gin Web Framework from v1.8.1 to v1.9.1 to fix some security issues #7438 @niubell",
          "Fix potential security risks of the plugin directory and files #7094 @HuSharp",
          "Fix the issue that modified isolation levels are not synchronized to the default placement rules #7121 @rleungx",
          "Fix the issue that evict-leader-scheduler might lose configuration #6897 @HuSharp",
          "Fix the issue that the method for counting empty Regions might cause Regions to be unbalanced during the recovery process of BR #7148 @Cabinfever",
          "Fix the issue that canSync and hasMajority might be calculated incorrectly for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode when the configuration of Placement Rules is complex #7201 @disksing",
          "Fix the issue that available_stores is calculated incorrectly for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode #7221 @disksing",
          "Fix the issue that the primary AZ cannot add TiKV nodes when the secondary AZ is down for clusters adopting the Data Replication Auto Synchronous (DR Auto-Sync) mode #7218 @disksing",
          "Fix the issue that adding multiple TiKV nodes to a large cluster might cause TiKV heartbeat reporting to become slow or stuck #7248 @rleungx",
          "Fix the issue that PD might delete normal Peers when TiKV nodes are unavailable #7249 @lhy1024",
          "Fix the issue that it takes a long time to switch the leader in DR Auto-Sync mode #6988 @HuSharp",
          "Upgrade the version of Gin Web Framework from v1.8.1 to v1.9.1 to fix some security issues #7438 @niubell",
          "TiFlash\nFix the issue that the max_snapshot_lifetime metric is displayed incorrectly on Grafana #7713 @JaySon-Huang\nFix the issue that executing the ALTER TABLE ... EXCHANGE PARTITION ... statement causes panic #8372 @JaySon-Huang\nFix the issue that the memory usage reported by MemoryTracker is inaccurate #8128 @JinheLin",
          "Fix the issue that the max_snapshot_lifetime metric is displayed incorrectly on Grafana #7713 @JaySon-Huang",
          "Fix the issue that executing the ALTER TABLE ... EXCHANGE PARTITION ... statement causes panic #8372 @JaySon-Huang",
          "Fix the issue that the memory usage reported by MemoryTracker is inaccurate #8128 @JinheLin",
          "Tools\nBackup & Restore (BR)\nFix the issue that the log backup might get stuck in some scenarios when backing up large wide tables #15714 @YuJuncen\nFix the issue that frequent flushes cause log backup to get stuck #15602 @3pointer\nFix the issue that the retry after an EC2 metadata connection reset cause degraded backup and restore performance #47650 @Leavrth\nFix the issue that running PITR multiple times within 1 minute might cause data loss #15483 @YuJuncen\nFix the issue that the default values for BR SQL commands and CLI are different, which might cause OOM issues #48000 @YuJuncen\nFix the issue that log backup might panic when the PD owner is transferred #47533 @YuJuncen\nFix the issue that BR generates incorrect URIs for external storage files #48452 @3AceShowHand\nTiCDC\nFix the issue that TiCDC server might panic when executing lossy DDL statements in upstream #9739 @hicqu\nFix the issue that the replication task reports an error when executing RESUME with the redo log feature enabled #9769 @hicqu\nFix the issue that replication lag becomes longer when the TiKV node crashes #9741 @sdojjy\nFix the issue that the WHERE statement does not use the primary key as the condition when replicating data to TiDB or MySQL #9988 @asddongmen\nFix the issue that the workload of a replication task is not distributed evenly across TiCDC nodes #9839 @3AceShowHand\nFix the issue that the interval between replicating DDL statements is too long when redo log is enabled #9960 @CharlesCheung96\nFix the issue that the changefeed cannot replicate DML events in bidirectional replication mode if the target table is dropped and then recreated in upstream #10079 @asddongmen\nFix the issue that the replication lag becomes longer due to too many NFS files when replicating data to an object storage service #10041 @CharlesCheung96\nFix the issue that the TiCDC server might panic when replicating data to an object storage service #10137 @sdojjy\nFix the issue that TiCDC accesses the invalid old address during PD scaling up and down #9584 @fubinzh @asddongmen\nFix the issue that fetching wrong memory information might cause OOM issues in some operating systems #9762 @sdojjy\nTiDB Data Migration (DM)\nFix the issue that DM skips partition DDLs in optimistic mode #9788 @GMHDBJD\nFix the issue that DM cannot properly track upstream table schemas when skipping online DDLs #9587 @GMHDBJD\nFix the issue that replication lag returned by DM keeps growing when a failed DDL is skipped and no subsequent DDLs are executed #9605 @D3Hunter\nFix the issue that DM skips all DMLs when resuming a task in optimistic mode #9588 @GMHDBJD\nTiDB Lightning\nFix the issue that data import fails when encountering the write to tikv with no leader returned error #45673 @lance6716\nFix the issue that data import fails because HTTP retry requests do not use the current request content #47930 @lance6716\nFix the issue that TiDB Lightning gets stuck during writeToTiKV #46321 @lance6716\nRemove unnecessary get_regions calls in physical import mode #45507 @mittalrishabh\nTiDB Binlog\nFix the issue that Drainer exits when transporting a transaction greater than 1 GB #28659 @jackysp",
          "Backup & Restore (BR)\nFix the issue that the log backup might get stuck in some scenarios when backing up large wide tables #15714 @YuJuncen\nFix the issue that frequent flushes cause log backup to get stuck #15602 @3pointer\nFix the issue that the retry after an EC2 metadata connection reset cause degraded backup and restore performance #47650 @Leavrth\nFix the issue that running PITR multiple times within 1 minute might cause data loss #15483 @YuJuncen\nFix the issue that the default values for BR SQL commands and CLI are different, which might cause OOM issues #48000 @YuJuncen\nFix the issue that log backup might panic when the PD owner is transferred #47533 @YuJuncen\nFix the issue that BR generates incorrect URIs for external storage files #48452 @3AceShowHand",
          "Fix the issue that the log backup might get stuck in some scenarios when backing up large wide tables #15714 @YuJuncen",
          "Fix the issue that frequent flushes cause log backup to get stuck #15602 @3pointer",
          "Fix the issue that the retry after an EC2 metadata connection reset cause degraded backup and restore performance #47650 @Leavrth",
          "Fix the issue that running PITR multiple times within 1 minute might cause data loss #15483 @YuJuncen",
          "Fix the issue that the default values for BR SQL commands and CLI are different, which might cause OOM issues #48000 @YuJuncen",
          "Fix the issue that log backup might panic when the PD owner is transferred #47533 @YuJuncen",
          "Fix the issue that BR generates incorrect URIs for external storage files #48452 @3AceShowHand",
          "TiCDC\nFix the issue that TiCDC server might panic when executing lossy DDL statements in upstream #9739 @hicqu\nFix the issue that the replication task reports an error when executing RESUME with the redo log feature enabled #9769 @hicqu\nFix the issue that replication lag becomes longer when the TiKV node crashes #9741 @sdojjy\nFix the issue that the WHERE statement does not use the primary key as the condition when replicating data to TiDB or MySQL #9988 @asddongmen\nFix the issue that the workload of a replication task is not distributed evenly across TiCDC nodes #9839 @3AceShowHand\nFix the issue that the interval between replicating DDL statements is too long when redo log is enabled #9960 @CharlesCheung96\nFix the issue that the changefeed cannot replicate DML events in bidirectional replication mode if the target table is dropped and then recreated in upstream #10079 @asddongmen\nFix the issue that the replication lag becomes longer due to too many NFS files when replicating data to an object storage service #10041 @CharlesCheung96\nFix the issue that the TiCDC server might panic when replicating data to an object storage service #10137 @sdojjy\nFix the issue that TiCDC accesses the invalid old address during PD scaling up and down #9584 @fubinzh @asddongmen\nFix the issue that fetching wrong memory information might cause OOM issues in some operating systems #9762 @sdojjy",
          "Fix the issue that TiCDC server might panic when executing lossy DDL statements in upstream #9739 @hicqu",
          "Fix the issue that the replication task reports an error when executing RESUME with the redo log feature enabled #9769 @hicqu",
          "Fix the issue that replication lag becomes longer when the TiKV node crashes #9741 @sdojjy",
          "Fix the issue that the WHERE statement does not use the primary key as the condition when replicating data to TiDB or MySQL #9988 @asddongmen",
          "Fix the issue that the workload of a replication task is not distributed evenly across TiCDC nodes #9839 @3AceShowHand",
          "Fix the issue that the interval between replicating DDL statements is too long when redo log is enabled #9960 @CharlesCheung96",
          "Fix the issue that the changefeed cannot replicate DML events in bidirectional replication mode if the target table is dropped and then recreated in upstream #10079 @asddongmen",
          "Fix the issue that the replication lag becomes longer due to too many NFS files when replicating data to an object storage service #10041 @CharlesCheung96",
          "Fix the issue that the TiCDC server might panic when replicating data to an object storage service #10137 @sdojjy",
          "Fix the issue that TiCDC accesses the invalid old address during PD scaling up and down #9584 @fubinzh @asddongmen",
          "Fix the issue that fetching wrong memory information might cause OOM issues in some operating systems #9762 @sdojjy",
          "TiDB Data Migration (DM)\nFix the issue that DM skips partition DDLs in optimistic mode #9788 @GMHDBJD\nFix the issue that DM cannot properly track upstream table schemas when skipping online DDLs #9587 @GMHDBJD\nFix the issue that replication lag returned by DM keeps growing when a failed DDL is skipped and no subsequent DDLs are executed #9605 @D3Hunter\nFix the issue that DM skips all DMLs when resuming a task in optimistic mode #9588 @GMHDBJD",
          "Fix the issue that DM skips partition DDLs in optimistic mode #9788 @GMHDBJD",
          "Fix the issue that DM cannot properly track upstream table schemas when skipping online DDLs #9587 @GMHDBJD",
          "Fix the issue that replication lag returned by DM keeps growing when a failed DDL is skipped and no subsequent DDLs are executed #9605 @D3Hunter",
          "Fix the issue that DM skips all DMLs when resuming a task in optimistic mode #9588 @GMHDBJD",
          "TiDB Lightning\nFix the issue that data import fails when encountering the write to tikv with no leader returned error #45673 @lance6716\nFix the issue that data import fails because HTTP retry requests do not use the current request content #47930 @lance6716\nFix the issue that TiDB Lightning gets stuck during writeToTiKV #46321 @lance6716\nRemove unnecessary get_regions calls in physical import mode #45507 @mittalrishabh",
          "Fix the issue that data import fails when encountering the write to tikv with no leader returned error #45673 @lance6716",
          "Fix the issue that data import fails because HTTP retry requests do not use the current request content #47930 @lance6716",
          "Fix the issue that TiDB Lightning gets stuck during writeToTiKV #46321 @lance6716",
          "Remove unnecessary get_regions calls in physical import mode #45507 @mittalrishabh",
          "TiDB Binlog\nFix the issue that Drainer exits when transporting a transaction greater than 1 GB #28659 @jackysp",
          "Fix the issue that Drainer exits when transporting a transaction greater than 1 GB #28659 @jackysp"
        ]
      },
      {
        "version": "6.5.5",
        "date": "2023-09-21",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.5.5/",
        "changes": [
          "TiDB\nAdd new optimizer hints, including NO_MERGE_JOIN(), NO_INDEX_JOIN(), NO_INDEX_MERGE_JOIN(), NO_HASH_JOIN(), and NO_INDEX_HASH_JOIN() #45520 @qw4990\nAdd request source information related to the coprocessor #46514 @you06",
          "Add new optimizer hints, including NO_MERGE_JOIN(), NO_INDEX_JOIN(), NO_INDEX_MERGE_JOIN(), NO_HASH_JOIN(), and NO_INDEX_HASH_JOIN() #45520 @qw4990",
          "Add request source information related to the coprocessor #46514 @you06",
          "TiKV\nAdd the backoff mechanism for the PD client in the process of connection retries, which gradually increases retry intervals during error retries to reduce PD pressure #15428 @nolouch\nAdd monitoring metrics for snapshots #15401 @SpadeA-Tang\nImprove stability of PITR checkpoint lag during leader transfers #13638 @YuJuncen\nAdd logs and monitoring metrics related to safe-ts #15082 @ekexium\nProvide more logs and monitoring metrics for resolved-ts #15082 @ekexium",
          "Add the backoff mechanism for the PD client in the process of connection retries, which gradually increases retry intervals during error retries to reduce PD pressure #15428 @nolouch",
          "Add monitoring metrics for snapshots #15401 @SpadeA-Tang",
          "Improve stability of PITR checkpoint lag during leader transfers #13638 @YuJuncen",
          "Add logs and monitoring metrics related to safe-ts #15082 @ekexium",
          "Provide more logs and monitoring metrics for resolved-ts #15082 @ekexium",
          "Tools\nBackup & Restore (BR)\nReduce the CPU overhead of log backup resolve lock #40759 @3pointer",
          "Backup & Restore (BR)\nReduce the CPU overhead of log backup resolve lock #40759 @3pointer",
          "Reduce the CPU overhead of log backup resolve lock #40759 @3pointer",
          "TiDB\nFix the issue that Stale Read might select an unavailable replica #46198 @zyguan\nFix the issue that additional overhead is incurred due to the incompatibility between Stale Read and Schema Cache #43481 @crazycs520",
          "Fix the issue that Stale Read might select an unavailable replica #46198 @zyguan",
          "Fix the issue that additional overhead is incurred due to the incompatibility between Stale Read and Schema Cache #43481 @crazycs520",
          "TiKV\nFix the issue that TiKV fails to start when Titan is enabled and the Blob file deleted twice error occurs #15454 @Connor1996\nFix the issue that Online Unsafe Recovery cannot handle merge abort #15580 @v01dstar",
          "Fix the issue that TiKV fails to start when Titan is enabled and the Blob file deleted twice error occurs #15454 @Connor1996",
          "Fix the issue that Online Unsafe Recovery cannot handle merge abort #15580 @v01dstar",
          "PD\nFix the issue that the scheduler takes a long time to start up #6920 @HuSharp\nFix the issue that the logic for handling Leaders and Peers in Scatter Region is inconsistent #6962 @bufferflies\nFix the issue that the empty-region-count monitoring metric is abnormal when the cluster is restarted or the PD Leader is switched #7008 @CabinfeverB",
          "Fix the issue that the scheduler takes a long time to start up #6920 @HuSharp",
          "Fix the issue that the logic for handling Leaders and Peers in Scatter Region is inconsistent #6962 @bufferflies",
          "Fix the issue that the empty-region-count monitoring metric is abnormal when the cluster is restarted or the PD Leader is switched #7008 @CabinfeverB",
          "Tools\nBackup & Restore (BR)\nFix the issue that restoring implicit primary keys by PITR might lead to conflicts #46520 @3pointer\nFix the issue that an error occurs when PITR recovers the meta-kv #46578 @Leavrth\nFix an error in BR integration test cases #46561 @purelind\nFix the issue that PITR fails to restore data from GCS #47022 @Leavrth\nTiCDC\nFix the issue of high TiCDC replication latency caused by network isolation of PD nodes #9565 @asddongmen\nFix the issue that TiCDC incorrectly changes the UPDATE operation to INSERT when using the CSV format #9658 @3AceShowHand\nFix the issue that user passwords are recorded in some logs #9690 @sdojjy\nFix the issue that using the SASL authentication might cause TiCDC to panic #9669 @sdojjy\nFix the issue that TiCDC replication tasks might fail in some corner cases #9685 #9697 #9695 #9736 @hicqu @CharlesCheung96\nFix the issue that TiCDC cannot recover quickly from TiKV node failures when there are a lot of Regions upstream #9741 @sdojjy\nTiDB Lightning\nFix the issue that TiDB Lightning fails to start when TiCDC is deployed on the target server #41040 @lance6716\nFix the issue that TiDB Lightning fails to start when PD topology is changed #46688 @lance6716\nFix the issue that TiDB Lightning cannot continue importing data after PD switching Leaders #46540 @lance6716\nFix the issue that precheck cannot accurately detect the presence of a running TiCDC in the target cluster #41040 @lance6716",
          "Backup & Restore (BR)\nFix the issue that restoring implicit primary keys by PITR might lead to conflicts #46520 @3pointer\nFix the issue that an error occurs when PITR recovers the meta-kv #46578 @Leavrth\nFix an error in BR integration test cases #46561 @purelind\nFix the issue that PITR fails to restore data from GCS #47022 @Leavrth",
          "Fix the issue that restoring implicit primary keys by PITR might lead to conflicts #46520 @3pointer",
          "Fix the issue that an error occurs when PITR recovers the meta-kv #46578 @Leavrth",
          "Fix an error in BR integration test cases #46561 @purelind",
          "Fix the issue that PITR fails to restore data from GCS #47022 @Leavrth",
          "TiCDC\nFix the issue of high TiCDC replication latency caused by network isolation of PD nodes #9565 @asddongmen\nFix the issue that TiCDC incorrectly changes the UPDATE operation to INSERT when using the CSV format #9658 @3AceShowHand\nFix the issue that user passwords are recorded in some logs #9690 @sdojjy\nFix the issue that using the SASL authentication might cause TiCDC to panic #9669 @sdojjy\nFix the issue that TiCDC replication tasks might fail in some corner cases #9685 #9697 #9695 #9736 @hicqu @CharlesCheung96\nFix the issue that TiCDC cannot recover quickly from TiKV node failures when there are a lot of Regions upstream #9741 @sdojjy",
          "Fix the issue of high TiCDC replication latency caused by network isolation of PD nodes #9565 @asddongmen",
          "Fix the issue that TiCDC incorrectly changes the UPDATE operation to INSERT when using the CSV format #9658 @3AceShowHand",
          "Fix the issue that user passwords are recorded in some logs #9690 @sdojjy",
          "Fix the issue that using the SASL authentication might cause TiCDC to panic #9669 @sdojjy",
          "Fix the issue that TiCDC replication tasks might fail in some corner cases #9685 #9697 #9695 #9736 @hicqu @CharlesCheung96",
          "Fix the issue that TiCDC cannot recover quickly from TiKV node failures when there are a lot of Regions upstream #9741 @sdojjy",
          "TiDB Lightning\nFix the issue that TiDB Lightning fails to start when TiCDC is deployed on the target server #41040 @lance6716\nFix the issue that TiDB Lightning fails to start when PD topology is changed #46688 @lance6716\nFix the issue that TiDB Lightning cannot continue importing data after PD switching Leaders #46540 @lance6716\nFix the issue that precheck cannot accurately detect the presence of a running TiCDC in the target cluster #41040 @lance6716",
          "Fix the issue that TiDB Lightning fails to start when TiCDC is deployed on the target server #41040 @lance6716",
          "Fix the issue that TiDB Lightning fails to start when PD topology is changed #46688 @lance6716",
          "Fix the issue that TiDB Lightning cannot continue importing data after PD switching Leaders #46540 @lance6716",
          "Fix the issue that precheck cannot accurately detect the presence of a running TiCDC in the target cluster #41040 @lance6716"
        ]
      },
      {
        "version": "6.5.4",
        "date": "2023-08-28",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.5.4/",
        "changes": [
          "TiDB\nOptimize the performance of LOAD DATA statements that contain assignment expressions #46081 @gengliqi\nOptimize the performance of reading the dumped chunks from disk #45125 @YangKeao\nAdd a halt-scheduling configuration item to suspend PD scheduling #6493 @JmPotato",
          "Optimize the performance of LOAD DATA statements that contain assignment expressions #46081 @gengliqi",
          "Optimize the performance of reading the dumped chunks from disk #45125 @YangKeao",
          "Add a halt-scheduling configuration item to suspend PD scheduling #6493 @JmPotato",
          "TiKV\nUse gzip compression for check_leader requests to reduce traffic #14553 @you06\nAdd the Max gap of safe-ts and Min safe ts region metrics and introduce the tikv-ctl get-region-read-progress command to better observe and diagnose the status of resolved-ts and safe-ts #15082 @ekexium\nExpose some RocksDB configurations in TiKV that allow users to disable features such as TTL and periodic compaction #14873 @LykxSassinator\nAvoid holding mutex when writing Titan manifest files to prevent affecting other threads #15351 @Connor1996\nOptimize the compaction mechanism: when a Region is split, if there is no key to split, a compaction is triggered to eliminate excessive MVCC versions #15282 @SpadeA-Tang",
          "Use gzip compression for check_leader requests to reduce traffic #14553 @you06",
          "Add the Max gap of safe-ts and Min safe ts region metrics and introduce the tikv-ctl get-region-read-progress command to better observe and diagnose the status of resolved-ts and safe-ts #15082 @ekexium",
          "Expose some RocksDB configurations in TiKV that allow users to disable features such as TTL and periodic compaction #14873 @LykxSassinator",
          "Avoid holding mutex when writing Titan manifest files to prevent affecting other threads #15351 @Connor1996",
          "Optimize the compaction mechanism: when a Region is split, if there is no key to split, a compaction is triggered to eliminate excessive MVCC versions #15282 @SpadeA-Tang",
          "PD\nSupport blocking the Swagger API by default when the Swagger server is not enabled #6786 @bufferflies\nImprove the high availability of etcd #6554 #6442 @lhy1024\nReduce the memory consumption of GetRegions requests #6835 @lhy1024\nSupport reusing HTTP connections #6913 @nolouch",
          "Support blocking the Swagger API by default when the Swagger server is not enabled #6786 @bufferflies",
          "Improve the high availability of etcd #6554 #6442 @lhy1024",
          "Reduce the memory consumption of GetRegions requests #6835 @lhy1024",
          "Support reusing HTTP connections #6913 @nolouch",
          "TiFlash\nImprove TiFlash write performance through IO batch optimization #7735 @lidezhu\nImprove TiFlash write performance by removing unnecessary fsync operations #7736 @lidezhu\nLimit the maximum length of the TiFlash coprocessor task queue to avoid excessive queuing of coprocessor tasks, which impacts TiFlash's service availability #7747 @LittleFall",
          "Improve TiFlash write performance through IO batch optimization #7735 @lidezhu",
          "Improve TiFlash write performance by removing unnecessary fsync operations #7736 @lidezhu",
          "Limit the maximum length of the TiFlash coprocessor task queue to avoid excessive queuing of coprocessor tasks, which impacts TiFlash's service availability #7747 @LittleFall",
          "Tools\nBackup & Restore (BR)\nEnhance support for connection reuse by setting MaxIdleConns and MaxIdleConnsPerHost parameters in the HTTP client #46011 @Leavrth\nImprove fault tolerance of BR when it fails to connect to PD or external S3 storage #42909 @Leavrth\nAdd a new restore parameter WaitTiflashReady. When this parameter is enabled, the restore operation will be completed after TiFlash replicas are successfully replicated #43828 #46302 @3pointer\nTiCDC\nRefine the status message when TiCDC retries after a failure #9483 @asddongmen\nOptimize the way TiCDC handles messages that exceed the limit when synchronizing to Kafka by supporting only sending the primary key to the downstream #9574 @3AceShowHand\nStorage Sink now supports hexadecimal encoding for HEX formatted data, making it compatible with AWS DMS format specifications #9373 @CharlesCheung96\nTiDB Data Migration (DM)\nSupport strict optimistic mode for incompatible DDL statements #9112 @GMHDBJD\nDumpling\nReduce export overhead by skipping querying all databases and tables when exporting data with the -sql parameter #45239 @lance6716",
          "Backup & Restore (BR)\nEnhance support for connection reuse by setting MaxIdleConns and MaxIdleConnsPerHost parameters in the HTTP client #46011 @Leavrth\nImprove fault tolerance of BR when it fails to connect to PD or external S3 storage #42909 @Leavrth\nAdd a new restore parameter WaitTiflashReady. When this parameter is enabled, the restore operation will be completed after TiFlash replicas are successfully replicated #43828 #46302 @3pointer",
          "Enhance support for connection reuse by setting MaxIdleConns and MaxIdleConnsPerHost parameters in the HTTP client #46011 @Leavrth",
          "Improve fault tolerance of BR when it fails to connect to PD or external S3 storage #42909 @Leavrth",
          "Add a new restore parameter WaitTiflashReady. When this parameter is enabled, the restore operation will be completed after TiFlash replicas are successfully replicated #43828 #46302 @3pointer",
          "TiCDC\nRefine the status message when TiCDC retries after a failure #9483 @asddongmen\nOptimize the way TiCDC handles messages that exceed the limit when synchronizing to Kafka by supporting only sending the primary key to the downstream #9574 @3AceShowHand\nStorage Sink now supports hexadecimal encoding for HEX formatted data, making it compatible with AWS DMS format specifications #9373 @CharlesCheung96",
          "Refine the status message when TiCDC retries after a failure #9483 @asddongmen",
          "Optimize the way TiCDC handles messages that exceed the limit when synchronizing to Kafka by supporting only sending the primary key to the downstream #9574 @3AceShowHand",
          "Storage Sink now supports hexadecimal encoding for HEX formatted data, making it compatible with AWS DMS format specifications #9373 @CharlesCheung96",
          "TiDB Data Migration (DM)\nSupport strict optimistic mode for incompatible DDL statements #9112 @GMHDBJD",
          "Support strict optimistic mode for incompatible DDL statements #9112 @GMHDBJD",
          "Dumpling\nReduce export overhead by skipping querying all databases and tables when exporting data with the -sql parameter #45239 @lance6716",
          "Reduce export overhead by skipping querying all databases and tables when exporting data with the -sql parameter #45239 @lance6716",
          "TiDB\nFix the issue that the index out of range error might be reported when pushing down the STREAM_AGG() operator #40857 @Dousir9\nFix the issue that TiDB ignores all partition information and creates a non-partitioned table when the CREATE TABLE statement contains sub-partition definitions #41198 #41200 @mjonss\nFix the issue that incorrect stale_read_ts setting might cause PREPARE stmt to read data incorrectly #43044 @you06\nFix the issue of possible data race in ActivateTxn #42092 @hawkingrei\nFix the issue that a batch client does not reconnect timely #44431 @crazycs520\nFix the issue that SQL compile error logs are not redacted #41831 @lance6716\nFix the issue that using CTEs and correlated subqueries simultaneously might result in incorrect query results or panic #44649 #38170 #44774 @winoros @guo-shaoge\nFix the issue that TTL tasks cannot trigger statistics updates in time #40109 @YangKeao\nFix the issue that the GC Resolve Locks step might miss some pessimistic locks #45134 @MyonKeminta\nFix the issue that memory leaks and duration continues to increase when connecting to TiDB using the binary protocol and executing a large number of PREPARE and EXECUTE statements #44612 @wshwsh12\nFix the issue that the data length in the QUERY column of the INFORMATION_SCHEMA.DDL_JOBS table might exceed the column definition #42440 @tiancaiamao\nFix the PD OOM issue when there is a large number of Regions but the table ID cannot be pushed down when querying some virtual tables using Prepare or Execute #39605 @djshow832\nFix the issue that statistics auto-collection might not trigger correctly on a partitioned table after adding a new index to the partitioned table #41638 @xuyifangreeneyes\nFix the issue that excessive memory consumption of SQL execution details in statistics causes TiDB OOM in extreme cases #44047 @wshwsh12\nFix the issue that batch coprocessor retry might generate incorrect Region information that causes query failure #44622 @windtalker\nFix the hang-up issue that occurs when queries with indexMerge are killed #45279 @xzhangxian1008\nFix the issue that querying the system table INFORMATION_SCHEMA.TIKV_REGION_STATUS returns incorrect results in some cases #45531 @Defined2014\nFix the issue that query results in MPP mode are incorrect when tidb_enable_parallel_apply is enabled #45299 @windtalker\nFix the issue that queries might return incorrect results when tidb_opt_agg_push_down is enabled #44795 @AilinKid\nFix the can't find proper physical plan issue caused by virtual columns #41014 @AilinKid\nFix the panic issue caused by empty processInfo #43829 @zimulala\nFix the issue that the query result of the SELECT CAST(n AS CHAR) statement is incorrect when n in the statement is a negative number #44786 @xhebox\nFix the issue that when the MySQL Cursor Fetch protocol is used, the memory consumption of result sets might exceed the tidb_mem_quota_query limit and causes TiDB OOM. After the fix, TiDB will automatically write result sets to the disk to release memory #43233 @YangKeao\nFix the duplicate entry error that occurs when restoring a table with AUTO_ID_CACHE=1 using BR #44716 @tiancaiamao\nFix the issue that the SELECT statement returns an error for a partitioned table if the table partition definition uses the FLOOR() function to round a partitioned column #42323 @jiyfhust\nFix the issue that concurrent view might cause DDL operations to be blocked #40352 @zeminzhou\nFix the issue that a statistics collection task fails due to an incorrect datetime value #39336 @xuyifangreeneyes\nFix the issue that some DDL statements might be stuck for a period after the PD node of a cluster is replaced #33908\nFix the issue that resolve lock might hang when there is a sudden change in PD time #44822 @zyguan\nFix the potential data race issue in index scan #45126 @wshwsh12\nFix the issue that the FormatSQL() method cannot properly truncate extremely long SQL statements in input #44542 @hawkingrei\nFix the issue that users can view information in the INFORMATION_SCHEMA.TIFLASH_REPLICA table even without permissions #45320 @Lloyd-Pottiger\nFix the issue that the behavior is inconsistent with MySQL when comparing a DATETIME or TIMESTAMP column with a number constant #38361 @yibin87\nFix the issue that an error in Index Join might cause the query to get stuck #45716 @wshwsh12\nFix the issue that killing a connection might cause go coroutine leaks #46034 @pingyu\nFix the issue that the tmp-storage-quota configuration does not take effect #45161 #26806 @wshwsh12\nFix the issue that TiFlash replicas might be unavailable when a TiFlash node is down in the cluster #38484 @hehechen\nFix the issue that TiDB crashes due to possible data race when reading and writing Config.Labels concurrently #45561 @genliqi\nFix the issue that the client-go regularly updating min-resolved-ts might cause PD OOM when the cluster is large #46664 @HuSharp",
          "Fix the issue that the index out of range error might be reported when pushing down the STREAM_AGG() operator #40857 @Dousir9",
          "Fix the issue that TiDB ignores all partition information and creates a non-partitioned table when the CREATE TABLE statement contains sub-partition definitions #41198 #41200 @mjonss",
          "Fix the issue that incorrect stale_read_ts setting might cause PREPARE stmt to read data incorrectly #43044 @you06",
          "Fix the issue of possible data race in ActivateTxn #42092 @hawkingrei",
          "Fix the issue that a batch client does not reconnect timely #44431 @crazycs520",
          "Fix the issue that SQL compile error logs are not redacted #41831 @lance6716",
          "Fix the issue that using CTEs and correlated subqueries simultaneously might result in incorrect query results or panic #44649 #38170 #44774 @winoros @guo-shaoge",
          "Fix the issue that TTL tasks cannot trigger statistics updates in time #40109 @YangKeao",
          "Fix the issue that the GC Resolve Locks step might miss some pessimistic locks #45134 @MyonKeminta",
          "Fix the issue that memory leaks and duration continues to increase when connecting to TiDB using the binary protocol and executing a large number of PREPARE and EXECUTE statements #44612 @wshwsh12",
          "Fix the issue that the data length in the QUERY column of the INFORMATION_SCHEMA.DDL_JOBS table might exceed the column definition #42440 @tiancaiamao",
          "Fix the PD OOM issue when there is a large number of Regions but the table ID cannot be pushed down when querying some virtual tables using Prepare or Execute #39605 @djshow832",
          "Fix the issue that statistics auto-collection might not trigger correctly on a partitioned table after adding a new index to the partitioned table #41638 @xuyifangreeneyes",
          "Fix the issue that excessive memory consumption of SQL execution details in statistics causes TiDB OOM in extreme cases #44047 @wshwsh12",
          "Fix the issue that batch coprocessor retry might generate incorrect Region information that causes query failure #44622 @windtalker",
          "Fix the hang-up issue that occurs when queries with indexMerge are killed #45279 @xzhangxian1008",
          "Fix the issue that querying the system table INFORMATION_SCHEMA.TIKV_REGION_STATUS returns incorrect results in some cases #45531 @Defined2014",
          "Fix the issue that query results in MPP mode are incorrect when tidb_enable_parallel_apply is enabled #45299 @windtalker",
          "Fix the issue that queries might return incorrect results when tidb_opt_agg_push_down is enabled #44795 @AilinKid",
          "Fix the can't find proper physical plan issue caused by virtual columns #41014 @AilinKid",
          "Fix the panic issue caused by empty processInfo #43829 @zimulala",
          "Fix the issue that the query result of the SELECT CAST(n AS CHAR) statement is incorrect when n in the statement is a negative number #44786 @xhebox",
          "Fix the issue that when the MySQL Cursor Fetch protocol is used, the memory consumption of result sets might exceed the tidb_mem_quota_query limit and causes TiDB OOM. After the fix, TiDB will automatically write result sets to the disk to release memory #43233 @YangKeao",
          "Fix the duplicate entry error that occurs when restoring a table with AUTO_ID_CACHE=1 using BR #44716 @tiancaiamao",
          "Fix the issue that the SELECT statement returns an error for a partitioned table if the table partition definition uses the FLOOR() function to round a partitioned column #42323 @jiyfhust",
          "Fix the issue that concurrent view might cause DDL operations to be blocked #40352 @zeminzhou",
          "Fix the issue that a statistics collection task fails due to an incorrect datetime value #39336 @xuyifangreeneyes",
          "Fix the issue that some DDL statements might be stuck for a period after the PD node of a cluster is replaced #33908",
          "Fix the issue that resolve lock might hang when there is a sudden change in PD time #44822 @zyguan",
          "Fix the potential data race issue in index scan #45126 @wshwsh12",
          "Fix the issue that the FormatSQL() method cannot properly truncate extremely long SQL statements in input #44542 @hawkingrei",
          "Fix the issue that users can view information in the INFORMATION_SCHEMA.TIFLASH_REPLICA table even without permissions #45320 @Lloyd-Pottiger",
          "Fix the issue that the behavior is inconsistent with MySQL when comparing a DATETIME or TIMESTAMP column with a number constant #38361 @yibin87",
          "Fix the issue that an error in Index Join might cause the query to get stuck #45716 @wshwsh12",
          "Fix the issue that killing a connection might cause go coroutine leaks #46034 @pingyu",
          "Fix the issue that the tmp-storage-quota configuration does not take effect #45161 #26806 @wshwsh12",
          "Fix the issue that TiFlash replicas might be unavailable when a TiFlash node is down in the cluster #38484 @hehechen",
          "Fix the issue that TiDB crashes due to possible data race when reading and writing Config.Labels concurrently #45561 @genliqi",
          "Fix the issue that the client-go regularly updating min-resolved-ts might cause PD OOM when the cluster is large #46664 @HuSharp",
          "TiKV\nFix the issue that the ttl-check-poll-interval configuration item does not take effect on RawKV API V2 #15142 @pingyu\nFix the issue that Online Unsafe Recovery does not abort on timeout #15346 @Connor1996\nFix the issue that Region Merge might be blocked after executing FLASHBACK #15258 @overvenus\nFix the data inconsistency issue that might occur when one TiKV node is isolated and another node is restarted #15035 @overvenus\nFix the issue that the QPS drops to zero in the sync-recover phase under the Data Replication Auto Synchronous mode #14975 @nolouch\nFix the issue that encryption might cause data corruption during partial write #15080 @tabokie\nFix the issue of heartbeat storms by reducing the number of store heartbeat retries #15184 @nolouch\nFix the issue that traffic control might not work when there is a high amount of pending compaction bytes #14392 @Connor1996\nFix the issue that network interruption between PD and TiKV might cause PITR to get stuck #15279 @YuJuncen\nFix the issue that TiKV might consume more memory when the Old Value feature in TiCDC is enabled #14815 @YuJuncen",
          "Fix the issue that the ttl-check-poll-interval configuration item does not take effect on RawKV API V2 #15142 @pingyu",
          "Fix the issue that Online Unsafe Recovery does not abort on timeout #15346 @Connor1996",
          "Fix the issue that Region Merge might be blocked after executing FLASHBACK #15258 @overvenus",
          "Fix the data inconsistency issue that might occur when one TiKV node is isolated and another node is restarted #15035 @overvenus",
          "Fix the issue that the QPS drops to zero in the sync-recover phase under the Data Replication Auto Synchronous mode #14975 @nolouch",
          "Fix the issue that encryption might cause data corruption during partial write #15080 @tabokie",
          "Fix the issue of heartbeat storms by reducing the number of store heartbeat retries #15184 @nolouch",
          "Fix the issue that traffic control might not work when there is a high amount of pending compaction bytes #14392 @Connor1996",
          "Fix the issue that network interruption between PD and TiKV might cause PITR to get stuck #15279 @YuJuncen",
          "Fix the issue that TiKV might consume more memory when the Old Value feature in TiCDC is enabled #14815 @YuJuncen",
          "PD\nFix the issue that when etcd is already started but the client has not yet connected to it, calling the client might cause PD to panic #6860 @HuSharp\nFix the issue that a leader cannot exit for a long time #6918 @bufferflies\nFix the issue that when the placement rule uses LOCATION_LABELS, SQL and the Rule Checker are not compatible #38605 @nolouch\nFix the issue that PD might unexpectedly add multiple Learners to a Region #5786 @HunDunDM\nFix the issue that unhealthy peers cannot be removed when rule checker selects peers #6559 @nolouch\nFix the issue that failed learner peers in unsafe recovery are ignored in auto-detect mode #6690 @v01dstar",
          "Fix the issue that when etcd is already started but the client has not yet connected to it, calling the client might cause PD to panic #6860 @HuSharp",
          "Fix the issue that a leader cannot exit for a long time #6918 @bufferflies",
          "Fix the issue that when the placement rule uses LOCATION_LABELS, SQL and the Rule Checker are not compatible #38605 @nolouch",
          "Fix the issue that PD might unexpectedly add multiple Learners to a Region #5786 @HunDunDM",
          "Fix the issue that unhealthy peers cannot be removed when rule checker selects peers #6559 @nolouch",
          "Fix the issue that failed learner peers in unsafe recovery are ignored in auto-detect mode #6690 @v01dstar",
          "TiFlash\nFix the issue that queries fail after fsp is changed for DATETIME, TIMESTAMP, or TIME data type #7809 @JaySon-Huang\nFix the issue that TiFlash data is inconsistent due to invalid range keys of a region #7762 @lidezhu\nFix the issue that when there are multiple HashAgg operators within the same MPP task, the compilation of the MPP task might take an excessively long time, severely affecting query performance #7810 @SeaRise\nFix the issue that TiFlash takes too long to restart after using Online Unsafe Recovery #7671 @hongyunyan\nFix the issue that TiFlash rounds the DECIMAL result incorrectly when doing division #6462 @LittleFall",
          "Fix the issue that queries fail after fsp is changed for DATETIME, TIMESTAMP, or TIME data type #7809 @JaySon-Huang",
          "Fix the issue that TiFlash data is inconsistent due to invalid range keys of a region #7762 @lidezhu",
          "Fix the issue that when there are multiple HashAgg operators within the same MPP task, the compilation of the MPP task might take an excessively long time, severely affecting query performance #7810 @SeaRise",
          "Fix the issue that TiFlash takes too long to restart after using Online Unsafe Recovery #7671 @hongyunyan",
          "Fix the issue that TiFlash rounds the DECIMAL result incorrectly when doing division #6462 @LittleFall",
          "Tools\nBackup & Restore (BR)\nFix the issue of restore failures by increasing the default values of the global parameters TableColumnCountLimit and IndexLimit used by BR to their maximum values #45793 @Leavrth\nFix the issue of rewrite failures when processing DDL meta information in PITR #43184 @Leavrth\nFix the issue of panic caused by not checking function returns during PITR execution #45853 @Leavrth\nFix the issue of obtaining invalid region ID when using S3-compatible storage other than Amazon S3 #41916 #42033 @3pointer\nFix the potential error in fine-grained backup phase in RawKV mode #37085 @pingyu\nFix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau\nAlleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen\nTiCDC\nFix the issue that the replication task might get stuck when the downstream encounters an error and retries #9450 @hicqu\nFix the issue that the replication task fails due to short retry intervals when synchronizing to Kafka #9504 @3AceShowHand\nFix the issue that TiCDC might cause synchronization write conflicts when modifying multiple unique key rows in one transaction on the upstream #9430 @sdojjy\nFix the issue that TiCDC might incorrectly synchronize rename DDL operations #9488 #9378 #9531 @asddongmen\nFix the issue that the replication task might get stuck when the downstream encounters a short-term failure #9542 #9272#9582 #9592 @hicqu\nFix the panic issue that might occur when the TiCDC node status changes #9354 @sdojjy\nFix the issue that when Kafka Sink encounters errors it might indefinitely block changefeed progress #9309 @hicqu\nFix the issue that when the downstream is Kafka, TiCDC queries the downstream metadata too frequently and causes excessive workload in the downstream #8957 #8959 @hi-rustin\nFix the data inconsistency issue that might occur when some TiCDC nodes are isolated from the network #9344 @CharlesCheung96\nFix the issue that the replication task might get stuck when the redo log is enabled and there is an exception downstream #9172 @CharlesCheung96\nFix the issue that changefeeds would fail due to the temporary unavailability of PD #9294 @asddongmen\nFix the issue of too many downstream logs caused by frequently setting the downstream bidirectional replication-related variables when replicating data to TiDB or MySQL #9180 @asddongmen\nFix the issue that Avro protocol incorrectly identifies Enum type values #9259 @3AceShowHand\nTiDB Data Migration (DM)\nFix the panic issue when the unique key column name is null #9247 @lance6716\nFix the deadlock issue that might occur when the validator handles errors incorrectly, and optimize the retry mechanism #9257 @D3Hunter\nFix the issue that collation is not considered when calculating the causality key #9489 @hihihuhu\nTiDB Lightning\nFix the issue that the disk quota check might block when an engine is importing data #44867 @D3Hunter\nFix the issue that checksum reports an error Region is unavailable when SSL is enabled on the target cluster #45462 @D3Hunter\nFix the issue that encoding errors cannot be logged correctly #44321 @lyzx2001\nFix the issue that route might panic when importing CSV data #43284 @lyzx2001\nFix the issue that importing table A in logical import mode might mistakenly report that table B does not exist #44614 @dsdashun\nFix the issue that the data type is wrong when saving NEXT_GLOBAL_ROW_ID #45427 @lyzx2001\nFix the issue that checksum still reports errors when checksum = \"optional\" #45382 @lyzx2001\nFix the issue that data import fails when the PD cluster address changes #43436 @lichunzhu\nFix the issue that data import fails when some PD nodes fail #43400 @lichunzhu\nFix the issue that when a table with auto-incremental columns sets AUTO_ID_CACHE=1, the base value of the ID allocator is incorrect #46100 @D3Hunter\nDumpling\nFix the issue that the exported file is lost due to unprocessed file writer closing error when exporting to Amazon S3 #45353 @lichunzhu\nTiDB Binlog\nFix the issue that the etcd client does not automatically synchronize the latest node information during initialization #1236 @lichunzhu",
          "Backup & Restore (BR)\nFix the issue of restore failures by increasing the default values of the global parameters TableColumnCountLimit and IndexLimit used by BR to their maximum values #45793 @Leavrth\nFix the issue of rewrite failures when processing DDL meta information in PITR #43184 @Leavrth\nFix the issue of panic caused by not checking function returns during PITR execution #45853 @Leavrth\nFix the issue of obtaining invalid region ID when using S3-compatible storage other than Amazon S3 #41916 #42033 @3pointer\nFix the potential error in fine-grained backup phase in RawKV mode #37085 @pingyu\nFix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau\nAlleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen",
          "Fix the issue of restore failures by increasing the default values of the global parameters TableColumnCountLimit and IndexLimit used by BR to their maximum values #45793 @Leavrth",
          "Fix the issue of rewrite failures when processing DDL meta information in PITR #43184 @Leavrth",
          "Fix the issue of panic caused by not checking function returns during PITR execution #45853 @Leavrth",
          "Fix the issue of obtaining invalid region ID when using S3-compatible storage other than Amazon S3 #41916 #42033 @3pointer",
          "Fix the potential error in fine-grained backup phase in RawKV mode #37085 @pingyu",
          "Fix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau",
          "Alleviate the issue that the latency of the PITR log backup progress increases when Region leadership migration occurs #13638 @YuJuncen",
          "TiCDC\nFix the issue that the replication task might get stuck when the downstream encounters an error and retries #9450 @hicqu\nFix the issue that the replication task fails due to short retry intervals when synchronizing to Kafka #9504 @3AceShowHand\nFix the issue that TiCDC might cause synchronization write conflicts when modifying multiple unique key rows in one transaction on the upstream #9430 @sdojjy\nFix the issue that TiCDC might incorrectly synchronize rename DDL operations #9488 #9378 #9531 @asddongmen\nFix the issue that the replication task might get stuck when the downstream encounters a short-term failure #9542 #9272#9582 #9592 @hicqu\nFix the panic issue that might occur when the TiCDC node status changes #9354 @sdojjy\nFix the issue that when Kafka Sink encounters errors it might indefinitely block changefeed progress #9309 @hicqu\nFix the issue that when the downstream is Kafka, TiCDC queries the downstream metadata too frequently and causes excessive workload in the downstream #8957 #8959 @hi-rustin\nFix the data inconsistency issue that might occur when some TiCDC nodes are isolated from the network #9344 @CharlesCheung96\nFix the issue that the replication task might get stuck when the redo log is enabled and there is an exception downstream #9172 @CharlesCheung96\nFix the issue that changefeeds would fail due to the temporary unavailability of PD #9294 @asddongmen\nFix the issue of too many downstream logs caused by frequently setting the downstream bidirectional replication-related variables when replicating data to TiDB or MySQL #9180 @asddongmen\nFix the issue that Avro protocol incorrectly identifies Enum type values #9259 @3AceShowHand",
          "Fix the issue that the replication task might get stuck when the downstream encounters an error and retries #9450 @hicqu",
          "Fix the issue that the replication task fails due to short retry intervals when synchronizing to Kafka #9504 @3AceShowHand",
          "Fix the issue that TiCDC might cause synchronization write conflicts when modifying multiple unique key rows in one transaction on the upstream #9430 @sdojjy",
          "Fix the issue that TiCDC might incorrectly synchronize rename DDL operations #9488 #9378 #9531 @asddongmen",
          "Fix the issue that the replication task might get stuck when the downstream encounters a short-term failure #9542 #9272#9582 #9592 @hicqu",
          "Fix the panic issue that might occur when the TiCDC node status changes #9354 @sdojjy",
          "Fix the issue that when Kafka Sink encounters errors it might indefinitely block changefeed progress #9309 @hicqu",
          "Fix the issue that when the downstream is Kafka, TiCDC queries the downstream metadata too frequently and causes excessive workload in the downstream #8957 #8959 @hi-rustin",
          "Fix the data inconsistency issue that might occur when some TiCDC nodes are isolated from the network #9344 @CharlesCheung96",
          "Fix the issue that the replication task might get stuck when the redo log is enabled and there is an exception downstream #9172 @CharlesCheung96",
          "Fix the issue that changefeeds would fail due to the temporary unavailability of PD #9294 @asddongmen",
          "Fix the issue of too many downstream logs caused by frequently setting the downstream bidirectional replication-related variables when replicating data to TiDB or MySQL #9180 @asddongmen",
          "Fix the issue that Avro protocol incorrectly identifies Enum type values #9259 @3AceShowHand",
          "TiDB Data Migration (DM)\nFix the panic issue when the unique key column name is null #9247 @lance6716\nFix the deadlock issue that might occur when the validator handles errors incorrectly, and optimize the retry mechanism #9257 @D3Hunter\nFix the issue that collation is not considered when calculating the causality key #9489 @hihihuhu",
          "Fix the panic issue when the unique key column name is null #9247 @lance6716",
          "Fix the deadlock issue that might occur when the validator handles errors incorrectly, and optimize the retry mechanism #9257 @D3Hunter",
          "Fix the issue that collation is not considered when calculating the causality key #9489 @hihihuhu",
          "TiDB Lightning\nFix the issue that the disk quota check might block when an engine is importing data #44867 @D3Hunter\nFix the issue that checksum reports an error Region is unavailable when SSL is enabled on the target cluster #45462 @D3Hunter\nFix the issue that encoding errors cannot be logged correctly #44321 @lyzx2001\nFix the issue that route might panic when importing CSV data #43284 @lyzx2001\nFix the issue that importing table A in logical import mode might mistakenly report that table B does not exist #44614 @dsdashun\nFix the issue that the data type is wrong when saving NEXT_GLOBAL_ROW_ID #45427 @lyzx2001\nFix the issue that checksum still reports errors when checksum = \"optional\" #45382 @lyzx2001\nFix the issue that data import fails when the PD cluster address changes #43436 @lichunzhu\nFix the issue that data import fails when some PD nodes fail #43400 @lichunzhu\nFix the issue that when a table with auto-incremental columns sets AUTO_ID_CACHE=1, the base value of the ID allocator is incorrect #46100 @D3Hunter",
          "Fix the issue that the disk quota check might block when an engine is importing data #44867 @D3Hunter",
          "Fix the issue that checksum reports an error Region is unavailable when SSL is enabled on the target cluster #45462 @D3Hunter",
          "Fix the issue that encoding errors cannot be logged correctly #44321 @lyzx2001",
          "Fix the issue that route might panic when importing CSV data #43284 @lyzx2001",
          "Fix the issue that importing table A in logical import mode might mistakenly report that table B does not exist #44614 @dsdashun",
          "Fix the issue that the data type is wrong when saving NEXT_GLOBAL_ROW_ID #45427 @lyzx2001",
          "Fix the issue that checksum still reports errors when checksum = \"optional\" #45382 @lyzx2001",
          "Fix the issue that data import fails when the PD cluster address changes #43436 @lichunzhu",
          "Fix the issue that data import fails when some PD nodes fail #43400 @lichunzhu",
          "Fix the issue that when a table with auto-incremental columns sets AUTO_ID_CACHE=1, the base value of the ID allocator is incorrect #46100 @D3Hunter",
          "Dumpling\nFix the issue that the exported file is lost due to unprocessed file writer closing error when exporting to Amazon S3 #45353 @lichunzhu",
          "Fix the issue that the exported file is lost due to unprocessed file writer closing error when exporting to Amazon S3 #45353 @lichunzhu",
          "TiDB Binlog\nFix the issue that the etcd client does not automatically synchronize the latest node information during initialization #1236 @lichunzhu",
          "Fix the issue that the etcd client does not automatically synchronize the latest node information during initialization #1236 @lichunzhu"
        ]
      },
      {
        "version": "6.5.3",
        "date": "2023-06-14",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.5.3/",
        "changes": [
          "TiDB\nImprove the performance of TRUNCATE on partitioned tables with Placement Rules #43070 @Lloyd-Pottiger\nAvoid invalid Stale Read retries after resolving locks #43659 @you06\nReduce latency by using leader read when Stale Read encounters the DataIsNotReady error #765 @Tema\nAdd Stale Read OPS and Stale Read MBps metrics to track hit rate and traffic when using Stale Read #43325 @you06",
          "Improve the performance of TRUNCATE on partitioned tables with Placement Rules #43070 @Lloyd-Pottiger",
          "Avoid invalid Stale Read retries after resolving locks #43659 @you06",
          "Reduce latency by using leader read when Stale Read encounters the DataIsNotReady error #765 @Tema",
          "Add Stale Read OPS and Stale Read MBps metrics to track hit rate and traffic when using Stale Read #43325 @you06",
          "TiKV\nReduce traffic by using gzip to compress check_leader requests #14839 @cfzjywxk",
          "Reduce traffic by using gzip to compress check_leader requests #14839 @cfzjywxk",
          "PD\nUse a separate gRPC connection for PD leader election to prevent the impact of other requests #6403 @rleungx",
          "Use a separate gRPC connection for PD leader election to prevent the impact of other requests #6403 @rleungx",
          "Tools\nTiCDC\nOptimize the way TiCDC handles DDLs so that DDLs do not block the use of other unrelated DML Events, and reduce memory usage #8106 @asddongmen\nOptimize the Decoder interface and add a new method AddKeyValue #8861 @3AceShowHand\nOptimize the directory structure when DDL events occur in the scenario of replicating data to object storage #8890 @CharlesCheung96\nSupport replicating data to the Kafka-on-Pulsar downstream #8892 @hi-rustin\nSupport using the OAuth protocol for validation when replicating data to Kafka #8865 @hi-rustin\nOptimize the way TiCDC handles the UPDATE statement during data replication using the Avro or CSV protocol, by splitting UPDATE into DELETE and INSERT statements, so that you can get the old value from the DELETE statement #9086 @3AceShowHand\nAdd a configuration item insecure-skip-verify to control whether to set the authentication algorithm in the scenario of enabling TLS #8867 @hi-rustin\nOptimize DDL replication operations to mitigate the impact of DDL operations on downstream latency #8686 @hi-rustin\nOptimize the method of setting GC TLS for the upstream when the TiCDC replication task fails #8403 @charleszheng44\nTiDB Binlog\nOptimize the method of retrieving table information to reduce the initialization time and memory usage of Drainer #1137 @lichunzhu",
          "TiCDC\nOptimize the way TiCDC handles DDLs so that DDLs do not block the use of other unrelated DML Events, and reduce memory usage #8106 @asddongmen\nOptimize the Decoder interface and add a new method AddKeyValue #8861 @3AceShowHand\nOptimize the directory structure when DDL events occur in the scenario of replicating data to object storage #8890 @CharlesCheung96\nSupport replicating data to the Kafka-on-Pulsar downstream #8892 @hi-rustin\nSupport using the OAuth protocol for validation when replicating data to Kafka #8865 @hi-rustin\nOptimize the way TiCDC handles the UPDATE statement during data replication using the Avro or CSV protocol, by splitting UPDATE into DELETE and INSERT statements, so that you can get the old value from the DELETE statement #9086 @3AceShowHand\nAdd a configuration item insecure-skip-verify to control whether to set the authentication algorithm in the scenario of enabling TLS #8867 @hi-rustin\nOptimize DDL replication operations to mitigate the impact of DDL operations on downstream latency #8686 @hi-rustin\nOptimize the method of setting GC TLS for the upstream when the TiCDC replication task fails #8403 @charleszheng44",
          "Optimize the way TiCDC handles DDLs so that DDLs do not block the use of other unrelated DML Events, and reduce memory usage #8106 @asddongmen",
          "Optimize the Decoder interface and add a new method AddKeyValue #8861 @3AceShowHand",
          "Optimize the directory structure when DDL events occur in the scenario of replicating data to object storage #8890 @CharlesCheung96",
          "Support replicating data to the Kafka-on-Pulsar downstream #8892 @hi-rustin",
          "Support using the OAuth protocol for validation when replicating data to Kafka #8865 @hi-rustin",
          "Optimize the way TiCDC handles the UPDATE statement during data replication using the Avro or CSV protocol, by splitting UPDATE into DELETE and INSERT statements, so that you can get the old value from the DELETE statement #9086 @3AceShowHand",
          "Add a configuration item insecure-skip-verify to control whether to set the authentication algorithm in the scenario of enabling TLS #8867 @hi-rustin",
          "Optimize DDL replication operations to mitigate the impact of DDL operations on downstream latency #8686 @hi-rustin",
          "Optimize the method of setting GC TLS for the upstream when the TiCDC replication task fails #8403 @charleszheng44",
          "TiDB Binlog\nOptimize the method of retrieving table information to reduce the initialization time and memory usage of Drainer #1137 @lichunzhu",
          "Optimize the method of retrieving table information to reduce the initialization time and memory usage of Drainer #1137 @lichunzhu",
          "TiDB\nFix the issue that the min, max query result is incorrect #43805 @wshwsh12\nFix the issue of incorrect execution plans when pushing down window functions to TiFlash #43922 @gengliqi\nFix the issue that the query with CTE causes TiDB to hang #43749 #36896 @guo-shaoge\nFix the issue that the SQL statement reports the runtime error: index out of range error when using the AES_DECRYPT expression #43063 @lcwangchao\nFix the issue that the SHOW PROCESSLIST statement cannot display the TxnStart of the transaction of the statement with a long subquery time #40851 @crazycs520\nFix the issue that PD isolation might block the running DDL #44014 #43755 #44267 @wjhuang2016\nFix the TiDB panic issue that occurs when querying union views and temporary tables with UNION #42563 @lcwangchao\nFix the behavior issue of Placement Rules in partitioned tables, so that the Placement Rules in deleted partitions can be correctly set and recycled #44116 @lcwangchao\nFix the issue that truncating a partition of a partitioned table might cause the Placement Rule of the partition to become invalid #44031 @lcwangchao\nFix the issue that TiCDC might lose some row changes during table renaming #43338 @tangenta\nFix the issue that the DDL job history is lost after importing a table using BR #43725 @tangenta\nFix the issue that JSON_OBJECT might report an error in some cases #39806 @YangKeao\nFix the issue that the cluster cannot query some system views in IPv6 environment #43286 @Defined2014\nFix the issue that when the PD member address changes, allocating ID for the AUTO_INCREMENT column will be blocked for a long time #42643 @tiancaiamao\nFix the issue that TiDB sends duplicate requests to PD during placement rules recycling, causing numerous full config reset entries in the PD log #33069 @tiancaiamao\nFix the issue that the SHOW PRIVILEGES statement returns an incomplete privilege list #40591 @CbcWestwolf\nFix the issue that ADMIN SHOW DDL JOBS LIMIT returns incorrect results #42298 @CbcWestwolf\nFix the issue that the tidb_auth_token user fails to be created when the password complexity check is enabled #44098 @CbcWestwolf\nFix the issue of not finding the partition during inner join in dynamic pruning mode #43686 @mjonss\nFix the issue that the Data Truncated warning occurs when executing MODIFY COLUMN on a partitioned table #41118 @mjonss\nFix the issue of displaying the incorrect TiDB address in IPv6 environment #43260 @nexustar\nFix the issue that CTE results are incorrect when pushing down predicates #43645 @winoros\nFix the issue that incorrect results might be returned when using a common table expression (CTE) in statements with non-correlated subqueries #44051 @winoros\nFix the issue that Join Reorder might cause incorrect outer join results #44314 @AilinKid\nFix the issue that in some extreme cases, when the first statement of a pessimistic transaction is retried, resolving locks on this transaction might affect transaction correctness #42937 @MyonKeminta\nFix the issue that in some rare cases, residual pessimistic locks of pessimistic transactions might affect data correctness when GC resolves locks #43243 @MyonKeminta\nFix the issue that the scan detail information during the execution of batch cop might be inaccurate #41582 @you06\nFix the issue that TiDB cannot read data updates when Stale Read and PREPARE statements are used at the same time #43044 @you06\nFix the issue that an assertion failed error might be mistakenly reported when executing the LOAD DATA statement #43849 @you06\nFix the issue that the coprocessor cannot fall back to the leader when a region data not ready error occurs during the use of Stale Read #43365 @you06",
          "Fix the issue that the min, max query result is incorrect #43805 @wshwsh12",
          "Fix the issue of incorrect execution plans when pushing down window functions to TiFlash #43922 @gengliqi",
          "Fix the issue that the query with CTE causes TiDB to hang #43749 #36896 @guo-shaoge",
          "Fix the issue that the SQL statement reports the runtime error: index out of range error when using the AES_DECRYPT expression #43063 @lcwangchao",
          "Fix the issue that the SHOW PROCESSLIST statement cannot display the TxnStart of the transaction of the statement with a long subquery time #40851 @crazycs520",
          "Fix the issue that PD isolation might block the running DDL #44014 #43755 #44267 @wjhuang2016",
          "Fix the TiDB panic issue that occurs when querying union views and temporary tables with UNION #42563 @lcwangchao",
          "Fix the behavior issue of Placement Rules in partitioned tables, so that the Placement Rules in deleted partitions can be correctly set and recycled #44116 @lcwangchao",
          "Fix the issue that truncating a partition of a partitioned table might cause the Placement Rule of the partition to become invalid #44031 @lcwangchao",
          "Fix the issue that TiCDC might lose some row changes during table renaming #43338 @tangenta",
          "Fix the issue that the DDL job history is lost after importing a table using BR #43725 @tangenta",
          "Fix the issue that JSON_OBJECT might report an error in some cases #39806 @YangKeao",
          "Fix the issue that the cluster cannot query some system views in IPv6 environment #43286 @Defined2014",
          "Fix the issue that when the PD member address changes, allocating ID for the AUTO_INCREMENT column will be blocked for a long time #42643 @tiancaiamao",
          "Fix the issue that TiDB sends duplicate requests to PD during placement rules recycling, causing numerous full config reset entries in the PD log #33069 @tiancaiamao",
          "Fix the issue that the SHOW PRIVILEGES statement returns an incomplete privilege list #40591 @CbcWestwolf",
          "Fix the issue that ADMIN SHOW DDL JOBS LIMIT returns incorrect results #42298 @CbcWestwolf",
          "Fix the issue that the tidb_auth_token user fails to be created when the password complexity check is enabled #44098 @CbcWestwolf",
          "Fix the issue of not finding the partition during inner join in dynamic pruning mode #43686 @mjonss",
          "Fix the issue that the Data Truncated warning occurs when executing MODIFY COLUMN on a partitioned table #41118 @mjonss",
          "Fix the issue of displaying the incorrect TiDB address in IPv6 environment #43260 @nexustar",
          "Fix the issue that CTE results are incorrect when pushing down predicates #43645 @winoros",
          "Fix the issue that incorrect results might be returned when using a common table expression (CTE) in statements with non-correlated subqueries #44051 @winoros",
          "Fix the issue that Join Reorder might cause incorrect outer join results #44314 @AilinKid",
          "Fix the issue that in some extreme cases, when the first statement of a pessimistic transaction is retried, resolving locks on this transaction might affect transaction correctness #42937 @MyonKeminta",
          "Fix the issue that in some rare cases, residual pessimistic locks of pessimistic transactions might affect data correctness when GC resolves locks #43243 @MyonKeminta",
          "Fix the issue that the scan detail information during the execution of batch cop might be inaccurate #41582 @you06",
          "Fix the issue that TiDB cannot read data updates when Stale Read and PREPARE statements are used at the same time #43044 @you06",
          "Fix the issue that an assertion failed error might be mistakenly reported when executing the LOAD DATA statement #43849 @you06",
          "Fix the issue that the coprocessor cannot fall back to the leader when a region data not ready error occurs during the use of Stale Read #43365 @you06",
          "TiKV\nFix the issue that the peers of the corresponding Region mistakenly hibernate when a TiKV node fails #14547 @hicqu\nFix the issue of file handle leakage in Continuous Profiling #14224 @tabokie\nFix the issue that PD crash might cause PITR to fail to proceed #14184 @YuJuncen\nFix the issue that encryption key ID conflict might cause the deletion of the old keys #14585 @tabokie\nFix the issue that autocommit and point get replica read might break linearizability #14715 @cfzjywxk\nFix the performance degradation issue caused by accumulated lock records when a cluster is upgraded from a previous version to v6.5 or later versions #14780 @MyonKeminta\nFix the issue that TiDB Lightning might cause SST file leakage #14745 @YuJuncen\nFix the potential conflict between the encryption key and raft log file deletion that might cause TiKV to fail to start #14761 @Connor1996",
          "Fix the issue that the peers of the corresponding Region mistakenly hibernate when a TiKV node fails #14547 @hicqu",
          "Fix the issue of file handle leakage in Continuous Profiling #14224 @tabokie",
          "Fix the issue that PD crash might cause PITR to fail to proceed #14184 @YuJuncen",
          "Fix the issue that encryption key ID conflict might cause the deletion of the old keys #14585 @tabokie",
          "Fix the issue that autocommit and point get replica read might break linearizability #14715 @cfzjywxk",
          "Fix the performance degradation issue caused by accumulated lock records when a cluster is upgraded from a previous version to v6.5 or later versions #14780 @MyonKeminta",
          "Fix the issue that TiDB Lightning might cause SST file leakage #14745 @YuJuncen",
          "Fix the potential conflict between the encryption key and raft log file deletion that might cause TiKV to fail to start #14761 @Connor1996",
          "TiFlash\nFix the performance degradation issue of the partition TableScan operator during Region transfer #7519 @Lloyd-Pottiger\nFix the issue that a TiFlash query might report an error if the GENERATED type field is present along with the TIMESTAMP or TIME type #7468 @Lloyd-Pottiger\nFix the issue that large update transactions might cause TiFlash to repeatedly report errors and restart #7316 @JaySon-Huang\nFix the issue that the error \"Truncate error cast decimal as decimal\" occurs when reading data from TiFlash with the INSERT SELECT statement #7348 @windtalker\nFix the issue that queries might consume more memory than needed when the data on the Join build side is very large and contains many small string type columns #7416 @yibin87",
          "Fix the performance degradation issue of the partition TableScan operator during Region transfer #7519 @Lloyd-Pottiger",
          "Fix the issue that a TiFlash query might report an error if the GENERATED type field is present along with the TIMESTAMP or TIME type #7468 @Lloyd-Pottiger",
          "Fix the issue that large update transactions might cause TiFlash to repeatedly report errors and restart #7316 @JaySon-Huang",
          "Fix the issue that the error \"Truncate error cast decimal as decimal\" occurs when reading data from TiFlash with the INSERT SELECT statement #7348 @windtalker",
          "Fix the issue that queries might consume more memory than needed when the data on the Join build side is very large and contains many small string type columns #7416 @yibin87",
          "Tools\nBackup & Restore (BR)\nFix the issue that the error message \"resolve lock timeout\" of BR is misleading when a backup fails, which hides the actual error information #43236 @YuJuncen\nTiCDC\nFix an OOM issue that might occur when there are as many as 50,000 tables #7872 @sdojjy\nFix the issue that TiCDC gets stuck when an OOM occurs in upstream TiDB #8561 @overvenus\nFix the issue that TiCDC gets stuck when PD fails such as network isolation or PD Owner node reboot #8808 #8812 #8877 @asddongmen\nFix the issue of TiCDC time zone setting #8798 @hi-rustin\nFix the issue that checkpoint lag increases when one of the upstream TiKV nodes crashes #8858 @hicqu\nFix the issue that when replicating data to downstream MySQL, a replication error occurs after the FLASHBACK CLUSTER TO TIMESTAMP statement is executed in the upstream TiDB #8040 @asddongmen\nFix the issue that when replicating data to object storage, the EXCHANGE PARTITION operation in the upstream cannot be properly replicated to the downstream #8914 @CharlesCheung96\nFix the OOM issue caused by excessive memory usage of the sorter component in some special scenarios #8974 @hicqu\nFix the issue that when the downstream is Kafka, TiCDC queries the downstream metadata too frequently and causes excessive workload in the downstream #8957 #8959 @hi-rustin\nFix the issue that when a replication error occurs due to an oversized Kafka message, the message body is recorded in the log #9031 @darraes\nFix the TiCDC node panic that occurs when the downstream Kafka sinks are rolling restarted #9023 @asddongmen\nFix the issue that when replicating data to storage services, the JSON file corresponding to downstream DDL statements does not record the default values of table fields #9066 @CharlesCheung96\nTiDB Lightning\nFix the issue that OOM might occur when importing a wide table #43728 @D3Hunter\nFix the issue of write to tikv with no leader returned when importing a large amount of data #43055 @lance6716\nFix a possible OOM problem when there is an unclosed delimiter in the data file #40400 @buchuitoudegou\nAdd a retry mechanism when encountering an unknown RPC error during data import #43291 @D3Hunter\nTiDB Binlog\nFix the issue that TiDB Binlog reports an error when encountering a CANCELED DDL statement #1228 @okJiang",
          "Backup & Restore (BR)\nFix the issue that the error message \"resolve lock timeout\" of BR is misleading when a backup fails, which hides the actual error information #43236 @YuJuncen",
          "Fix the issue that the error message \"resolve lock timeout\" of BR is misleading when a backup fails, which hides the actual error information #43236 @YuJuncen",
          "TiCDC\nFix an OOM issue that might occur when there are as many as 50,000 tables #7872 @sdojjy\nFix the issue that TiCDC gets stuck when an OOM occurs in upstream TiDB #8561 @overvenus\nFix the issue that TiCDC gets stuck when PD fails such as network isolation or PD Owner node reboot #8808 #8812 #8877 @asddongmen\nFix the issue of TiCDC time zone setting #8798 @hi-rustin\nFix the issue that checkpoint lag increases when one of the upstream TiKV nodes crashes #8858 @hicqu\nFix the issue that when replicating data to downstream MySQL, a replication error occurs after the FLASHBACK CLUSTER TO TIMESTAMP statement is executed in the upstream TiDB #8040 @asddongmen\nFix the issue that when replicating data to object storage, the EXCHANGE PARTITION operation in the upstream cannot be properly replicated to the downstream #8914 @CharlesCheung96\nFix the OOM issue caused by excessive memory usage of the sorter component in some special scenarios #8974 @hicqu\nFix the issue that when the downstream is Kafka, TiCDC queries the downstream metadata too frequently and causes excessive workload in the downstream #8957 #8959 @hi-rustin\nFix the issue that when a replication error occurs due to an oversized Kafka message, the message body is recorded in the log #9031 @darraes\nFix the TiCDC node panic that occurs when the downstream Kafka sinks are rolling restarted #9023 @asddongmen\nFix the issue that when replicating data to storage services, the JSON file corresponding to downstream DDL statements does not record the default values of table fields #9066 @CharlesCheung96",
          "Fix an OOM issue that might occur when there are as many as 50,000 tables #7872 @sdojjy",
          "Fix the issue that TiCDC gets stuck when an OOM occurs in upstream TiDB #8561 @overvenus",
          "Fix the issue that TiCDC gets stuck when PD fails such as network isolation or PD Owner node reboot #8808 #8812 #8877 @asddongmen",
          "Fix the issue of TiCDC time zone setting #8798 @hi-rustin",
          "Fix the issue that checkpoint lag increases when one of the upstream TiKV nodes crashes #8858 @hicqu",
          "Fix the issue that when replicating data to downstream MySQL, a replication error occurs after the FLASHBACK CLUSTER TO TIMESTAMP statement is executed in the upstream TiDB #8040 @asddongmen",
          "Fix the issue that when replicating data to object storage, the EXCHANGE PARTITION operation in the upstream cannot be properly replicated to the downstream #8914 @CharlesCheung96",
          "Fix the OOM issue caused by excessive memory usage of the sorter component in some special scenarios #8974 @hicqu",
          "Fix the issue that when the downstream is Kafka, TiCDC queries the downstream metadata too frequently and causes excessive workload in the downstream #8957 #8959 @hi-rustin",
          "Fix the issue that when a replication error occurs due to an oversized Kafka message, the message body is recorded in the log #9031 @darraes",
          "Fix the TiCDC node panic that occurs when the downstream Kafka sinks are rolling restarted #9023 @asddongmen",
          "Fix the issue that when replicating data to storage services, the JSON file corresponding to downstream DDL statements does not record the default values of table fields #9066 @CharlesCheung96",
          "TiDB Lightning\nFix the issue that OOM might occur when importing a wide table #43728 @D3Hunter\nFix the issue of write to tikv with no leader returned when importing a large amount of data #43055 @lance6716\nFix a possible OOM problem when there is an unclosed delimiter in the data file #40400 @buchuitoudegou\nAdd a retry mechanism when encountering an unknown RPC error during data import #43291 @D3Hunter",
          "Fix the issue that OOM might occur when importing a wide table #43728 @D3Hunter",
          "Fix the issue of write to tikv with no leader returned when importing a large amount of data #43055 @lance6716",
          "Fix a possible OOM problem when there is an unclosed delimiter in the data file #40400 @buchuitoudegou",
          "Add a retry mechanism when encountering an unknown RPC error during data import #43291 @D3Hunter",
          "TiDB Binlog\nFix the issue that TiDB Binlog reports an error when encountering a CANCELED DDL statement #1228 @okJiang",
          "Fix the issue that TiDB Binlog reports an error when encountering a CANCELED DDL statement #1228 @okJiang"
        ]
      },
      {
        "version": "6.5.2",
        "date": "2023-04-21",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.5.2/",
        "changes": [
          "TiDB\nSupport caching the execution plan for BatchPointGet in Prepared Plan Cache #42125 @qw4990\nSupport more SQL formats for Index Join #40505 @Yisaer\nChange the log level of some Index Merge readers from \"info\" to \"debug\" #41949 @yibin87\nOptimize the distsql_concurrency setting for Range partitioned tables with Limit to reduce query latency #41480 @you06",
          "Support caching the execution plan for BatchPointGet in Prepared Plan Cache #42125 @qw4990",
          "Support more SQL formats for Index Join #40505 @Yisaer",
          "Change the log level of some Index Merge readers from \"info\" to \"debug\" #41949 @yibin87",
          "Optimize the distsql_concurrency setting for Range partitioned tables with Limit to reduce query latency #41480 @you06",
          "TiFlash\nReduce CPU consumption of task scheduling during TiFlash reads #6495 @JinheLin\nImprove performance of data import from BR and TiDB Lightning to TiFlash with default configurations #7272 @breezewish",
          "Reduce CPU consumption of task scheduling during TiFlash reads #6495 @JinheLin",
          "Improve performance of data import from BR and TiDB Lightning to TiFlash with default configurations #7272 @breezewish",
          "Tools\nTiCDC\nRelease TiCDC Open API v2.0 #8743 @sdojjy\nIntroduce gomemlimit to prevent TiCDC from OOM issues #8675 @amyangfei\nUse the multi-statement approach to optimize the replication performance in scenarios involving batch execution of UPDATE statements #8057 @amyangfei\nSupport splitting transactions in the redo applier to improve its throughput and reduce RTO in disaster recovery scenarios #8318 @CharlesCheung96\nSupport applying DDL events in redo logs #8361 @CharlesCheung96\nTiDB Lightning\nSupport importing CSV data files with BOM headers #40744 @dsdashun",
          "TiCDC\nRelease TiCDC Open API v2.0 #8743 @sdojjy\nIntroduce gomemlimit to prevent TiCDC from OOM issues #8675 @amyangfei\nUse the multi-statement approach to optimize the replication performance in scenarios involving batch execution of UPDATE statements #8057 @amyangfei\nSupport splitting transactions in the redo applier to improve its throughput and reduce RTO in disaster recovery scenarios #8318 @CharlesCheung96\nSupport applying DDL events in redo logs #8361 @CharlesCheung96",
          "Release TiCDC Open API v2.0 #8743 @sdojjy",
          "Introduce gomemlimit to prevent TiCDC from OOM issues #8675 @amyangfei",
          "Use the multi-statement approach to optimize the replication performance in scenarios involving batch execution of UPDATE statements #8057 @amyangfei",
          "Support splitting transactions in the redo applier to improve its throughput and reduce RTO in disaster recovery scenarios #8318 @CharlesCheung96",
          "Support applying DDL events in redo logs #8361 @CharlesCheung96",
          "TiDB Lightning\nSupport importing CSV data files with BOM headers #40744 @dsdashun",
          "Support importing CSV data files with BOM headers #40744 @dsdashun",
          "TiDB\nFix the issue that after a new column is added in the cache table, the value is NULL instead of the default value of the column #42928 @lqs\nFix the issue of DDL retry caused by write conflict when executing TRUNCATE TABLE for partitioned tables with many partitions and TiFlash replicas #42940 @mjonss\nFix the issue of missing table names in the ADMIN SHOW DDL JOBS result when a DROP TABLE operation is being executed #42268 @tiancaiamao\nFix the issue that TiDB server cannot start due to an error in reading the cgroup information with the error message \"can't read file memory.stat from cgroup v1: open /sys/memory.stat no such file or directory\" #42659 @hawkingrei\nFix frequent write conflicts in transactions when performing DDL data backfill #24427 @mjonss\nFix the issue that TiDB panic occurs due to inconsistent InfoSchema being obtained when generating the execution plan #41622 @tiancaiamao\nFix the issue that when modifying the floating-point type using DDL to keep the length unchanged and reduce the decimal places, the old data still remains the same #41281 @zimulala\nFix the issue that after executing PointUpdate within a transaction, TiDB returns incorrect results for the SELECT statement #28011 @zyguan\nFix the issue that, when using Cursor Fetch and running other statements among Execute, Fetch, and Close, the Fetch and Close commands might return incorrect results or cause TiDB to panic #40094 @YangKeao\nFix the issue that INSERT IGNORE and REPLACE statements do not lock keys that do not modify values #42121 @zyguan\nFix the issue that TiFlash reports an error for generated columns during execution #40663 @guo-shaoge\nFix the issue that TiDB might produce incorrect results when different partitioned tables appear in a single SQL statement #42135 @mjonss\nFix the issue that full index scans might cause errors when prepared plan cache is enabled #42150 @fzzf678\nFix the issue that IndexMerge might produce incorrect results when prepare plan cache is enabled #41828 @qw4990\nFix the issue that the configuration of max_prepared_stmt_count does not take effect #39735 @xuyifangreeneyes\nFix the issue that global memory control might incorrectly kill SQL statements with memory usage less than tidb_server_memory_limit_sess_min_size #42662 @XuHuaiyu\nFix the issue that Index Join might cause panic in dynamic trimming mode of partition tables #40596 @tiancaiamao",
          "Fix the issue that after a new column is added in the cache table, the value is NULL instead of the default value of the column #42928 @lqs",
          "Fix the issue of DDL retry caused by write conflict when executing TRUNCATE TABLE for partitioned tables with many partitions and TiFlash replicas #42940 @mjonss",
          "Fix the issue of missing table names in the ADMIN SHOW DDL JOBS result when a DROP TABLE operation is being executed #42268 @tiancaiamao",
          "Fix the issue that TiDB server cannot start due to an error in reading the cgroup information with the error message \"can't read file memory.stat from cgroup v1: open /sys/memory.stat no such file or directory\" #42659 @hawkingrei",
          "Fix frequent write conflicts in transactions when performing DDL data backfill #24427 @mjonss",
          "Fix the issue that TiDB panic occurs due to inconsistent InfoSchema being obtained when generating the execution plan #41622 @tiancaiamao",
          "Fix the issue that when modifying the floating-point type using DDL to keep the length unchanged and reduce the decimal places, the old data still remains the same #41281 @zimulala",
          "Fix the issue that after executing PointUpdate within a transaction, TiDB returns incorrect results for the SELECT statement #28011 @zyguan",
          "Fix the issue that, when using Cursor Fetch and running other statements among Execute, Fetch, and Close, the Fetch and Close commands might return incorrect results or cause TiDB to panic #40094 @YangKeao",
          "Fix the issue that INSERT IGNORE and REPLACE statements do not lock keys that do not modify values #42121 @zyguan",
          "Fix the issue that TiFlash reports an error for generated columns during execution #40663 @guo-shaoge",
          "Fix the issue that TiDB might produce incorrect results when different partitioned tables appear in a single SQL statement #42135 @mjonss",
          "Fix the issue that full index scans might cause errors when prepared plan cache is enabled #42150 @fzzf678",
          "Fix the issue that IndexMerge might produce incorrect results when prepare plan cache is enabled #41828 @qw4990",
          "Fix the issue that the configuration of max_prepared_stmt_count does not take effect #39735 @xuyifangreeneyes",
          "Fix the issue that global memory control might incorrectly kill SQL statements with memory usage less than tidb_server_memory_limit_sess_min_size #42662 @XuHuaiyu",
          "Fix the issue that Index Join might cause panic in dynamic trimming mode of partition tables #40596 @tiancaiamao",
          "TiKV\nFix the issue that TiKV does not correctly parse the : character when processing the cgroup path #14538 @SpadeA-Tang",
          "Fix the issue that TiKV does not correctly parse the : character when processing the cgroup path #14538 @SpadeA-Tang",
          "PD\nFix the issue that PD might unexpectedly add multiple Learners to a Region #5786 @HunDunDM\nFix the issue that switching placement rule might cause uneven distribution of leaders #6195 @bufferflies",
          "Fix the issue that PD might unexpectedly add multiple Learners to a Region #5786 @HunDunDM",
          "Fix the issue that switching placement rule might cause uneven distribution of leaders #6195 @bufferflies",
          "TiFlash\nFix the issue that TiFlash cannot recognize generated columns #6801 @guo-shaoge\nFix the issue that Decimal division does not round up the last digit in certain cases #7022 @LittleFall\nFix the issue that Decimal cast rounds up incorrectly in certain cases #6994 @windtalker\nFix the issue that TopN/Sort operators produce incorrect results after enabling the new collation #6807 @xzhangxian1008\nFix the issue of TiFlash process failures due to TiCDC incompatibility #7212 @hongyunyan",
          "Fix the issue that TiFlash cannot recognize generated columns #6801 @guo-shaoge",
          "Fix the issue that Decimal division does not round up the last digit in certain cases #7022 @LittleFall",
          "Fix the issue that Decimal cast rounds up incorrectly in certain cases #6994 @windtalker",
          "Fix the issue that TopN/Sort operators produce incorrect results after enabling the new collation #6807 @xzhangxian1008",
          "Fix the issue of TiFlash process failures due to TiCDC incompatibility #7212 @hongyunyan",
          "Tools\nBackup & Restore (BR)\nFix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau\nFix the issue of insufficient wait time for splitting Region retry during the PITR recovery process #42001 @joccau\nTiCDC\nFix the issue that the partition separator does not work when TiCDC replicates data to object storage #8581 @CharlesCheung96 @hi-rustin\nFix the issue that table scheduling might cause data loss when TiCDC replicates data to object storage #8256 @zhaoxinyu\nFix the issue that the replication gets stuck due to non-reentrant DDL statements #8662 @hicqu\nFix the issue that TiCDC scaling might cause data loss when TiCDC replicates data to object storage #8666 @CharlesCheung96\nFix the issue that the memory usage of db sorter is not controlled by cgroup memory limit #8588 @amyangfei\nFix the issue that data loss might occur in special cases during the apply of Redo log #8591 @CharlesCheung96\nFix the issue that the memory usage of db sorter is not controlled by cgroup memory limit #8588 @amyangfei\nFix the issue that the disorder of UPDATE and INSERT statements during data replication might cause the Duplicate entry error #8597 @sdojjy\nFix the abnormal exit issue of the TiCDC service caused by network isolation between PD and TiCDC #8562 @overvenus\nFix the issue that graceful upgrade for TiCDC clusters fails on Kubernetes #8484 @overvenus\nFix the issue that the TiCDC server panics when all downstream Kafka servers are unavailable #8523 @3AceShowHand\nFix the issue that restarting the changefeed might cause data loss or that the checkpoint cannot advance #8242 @overvenus",
          "Backup & Restore (BR)\nFix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau\nFix the issue of insufficient wait time for splitting Region retry during the PITR recovery process #42001 @joccau",
          "Fix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau",
          "Fix the issue of insufficient wait time for splitting Region retry during the PITR recovery process #42001 @joccau",
          "TiCDC\nFix the issue that the partition separator does not work when TiCDC replicates data to object storage #8581 @CharlesCheung96 @hi-rustin\nFix the issue that table scheduling might cause data loss when TiCDC replicates data to object storage #8256 @zhaoxinyu\nFix the issue that the replication gets stuck due to non-reentrant DDL statements #8662 @hicqu\nFix the issue that TiCDC scaling might cause data loss when TiCDC replicates data to object storage #8666 @CharlesCheung96\nFix the issue that the memory usage of db sorter is not controlled by cgroup memory limit #8588 @amyangfei\nFix the issue that data loss might occur in special cases during the apply of Redo log #8591 @CharlesCheung96\nFix the issue that the memory usage of db sorter is not controlled by cgroup memory limit #8588 @amyangfei\nFix the issue that the disorder of UPDATE and INSERT statements during data replication might cause the Duplicate entry error #8597 @sdojjy\nFix the abnormal exit issue of the TiCDC service caused by network isolation between PD and TiCDC #8562 @overvenus\nFix the issue that graceful upgrade for TiCDC clusters fails on Kubernetes #8484 @overvenus\nFix the issue that the TiCDC server panics when all downstream Kafka servers are unavailable #8523 @3AceShowHand\nFix the issue that restarting the changefeed might cause data loss or that the checkpoint cannot advance #8242 @overvenus",
          "Fix the issue that the partition separator does not work when TiCDC replicates data to object storage #8581 @CharlesCheung96 @hi-rustin",
          "Fix the issue that table scheduling might cause data loss when TiCDC replicates data to object storage #8256 @zhaoxinyu",
          "Fix the issue that the replication gets stuck due to non-reentrant DDL statements #8662 @hicqu",
          "Fix the issue that TiCDC scaling might cause data loss when TiCDC replicates data to object storage #8666 @CharlesCheung96",
          "Fix the issue that the memory usage of db sorter is not controlled by cgroup memory limit #8588 @amyangfei",
          "Fix the issue that data loss might occur in special cases during the apply of Redo log #8591 @CharlesCheung96",
          "Fix the issue that the memory usage of db sorter is not controlled by cgroup memory limit #8588 @amyangfei",
          "Fix the issue that the disorder of UPDATE and INSERT statements during data replication might cause the Duplicate entry error #8597 @sdojjy",
          "Fix the abnormal exit issue of the TiCDC service caused by network isolation between PD and TiCDC #8562 @overvenus",
          "Fix the issue that graceful upgrade for TiCDC clusters fails on Kubernetes #8484 @overvenus",
          "Fix the issue that the TiCDC server panics when all downstream Kafka servers are unavailable #8523 @3AceShowHand",
          "Fix the issue that restarting the changefeed might cause data loss or that the checkpoint cannot advance #8242 @overvenus"
        ]
      },
      {
        "version": "6.5.1",
        "date": "2023-03-10",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.5.1/",
        "changes": [
          "TiDB\nStarting from v6.5.1, the TiDB cluster deployed by TiDB Operator v1.4.3 or higher supports IPv6 addresses. This means that TiDB can support a larger address space and bring you better security and network performance.\nFull support for IPv6 addressing: TiDB supports using IPv6 addresses for all network connections, including client connections, internal communication between nodes, and communication with external systems.\nDual-stack support: If you are not ready to fully switch to IPv6 yet, TiDB also supports dual-stack networks. This means that you can use both IPv4 and IPv6 addresses in the same TiDB cluster and choose a network deployment mode that prioritizes IPv6 by configuration.\nFor more information on IPv6 deployment, see TiDB on Kubernetes documentation.\nSupport specifying the SQL script executed upon TiDB cluster initialization #35624 @morgo\nTiDB v6.5.1 adds a new configuration item initialize-sql-file. When you start a TiDB cluster for the first time, you can specify the SQL script to be executed by configuring the command line parameter --initialize-sql-file. You can use this feature when you need to perform such operations as modifying the value of a system variable, creating a user, or granting privileges. For more information, see documentation.\nClear expired region cache regularly to avoid memory leak and performance degradation #40461 @sticnarf\nAdd a new configuration item --proxy-protocol-fallbackable to control whether to enable PROXY protocol fallback mode. When this parameter is set to true, TiDB accepts PROXY client connections and client connections without any PROXY protocol header #41409 @blacktear23\nImprove the accuracy of Memory Tracker #40900 #40500 @wshwsh12\nWhen the plan cache fails to take effect, the system returns the reason as a warning #40210 @qw4990\nImprove the optimizer strategy for out-of-range estimation #39008 @time-and-fate",
          "Starting from v6.5.1, the TiDB cluster deployed by TiDB Operator v1.4.3 or higher supports IPv6 addresses. This means that TiDB can support a larger address space and bring you better security and network performance.\nFull support for IPv6 addressing: TiDB supports using IPv6 addresses for all network connections, including client connections, internal communication between nodes, and communication with external systems.\nDual-stack support: If you are not ready to fully switch to IPv6 yet, TiDB also supports dual-stack networks. This means that you can use both IPv4 and IPv6 addresses in the same TiDB cluster and choose a network deployment mode that prioritizes IPv6 by configuration.\nFor more information on IPv6 deployment, see TiDB on Kubernetes documentation.",
          "Full support for IPv6 addressing: TiDB supports using IPv6 addresses for all network connections, including client connections, internal communication between nodes, and communication with external systems.",
          "Dual-stack support: If you are not ready to fully switch to IPv6 yet, TiDB also supports dual-stack networks. This means that you can use both IPv4 and IPv6 addresses in the same TiDB cluster and choose a network deployment mode that prioritizes IPv6 by configuration.",
          "Support specifying the SQL script executed upon TiDB cluster initialization #35624 @morgo\nTiDB v6.5.1 adds a new configuration item initialize-sql-file. When you start a TiDB cluster for the first time, you can specify the SQL script to be executed by configuring the command line parameter --initialize-sql-file. You can use this feature when you need to perform such operations as modifying the value of a system variable, creating a user, or granting privileges. For more information, see documentation.",
          "Clear expired region cache regularly to avoid memory leak and performance degradation #40461 @sticnarf",
          "Add a new configuration item --proxy-protocol-fallbackable to control whether to enable PROXY protocol fallback mode. When this parameter is set to true, TiDB accepts PROXY client connections and client connections without any PROXY protocol header #41409 @blacktear23",
          "Improve the accuracy of Memory Tracker #40900 #40500 @wshwsh12",
          "When the plan cache fails to take effect, the system returns the reason as a warning #40210 @qw4990",
          "Improve the optimizer strategy for out-of-range estimation #39008 @time-and-fate",
          "TiKV\nSupport starting TiKV on a CPU with less than 1 core #13586 #13752 #14017 @andreid-db\nIncrease the thread limit of the Unified Read Pool (readpool.unified.max-thread-count) to 10 times the CPU quota, to better handle high-concurrency queries #13690 @v01dstar\nChange the default value of resolved-ts.advance-ts-interval from \"1s\" to \"20s\", to reduce cross-region traffic #14100 @overvenus",
          "Support starting TiKV on a CPU with less than 1 core #13586 #13752 #14017 @andreid-db",
          "Increase the thread limit of the Unified Read Pool (readpool.unified.max-thread-count) to 10 times the CPU quota, to better handle high-concurrency queries #13690 @v01dstar",
          "Change the default value of resolved-ts.advance-ts-interval from \"1s\" to \"20s\", to reduce cross-region traffic #14100 @overvenus",
          "TiFlash\nAccelerate TiFlash startup greatly when the data volume is large #6395 @hehechen",
          "Accelerate TiFlash startup greatly when the data volume is large #6395 @hehechen",
          "Tools\nBackup & Restore (BR)\nOptimize the concurrency of downloading log backup files on the TiKV side to improve the performance of PITR in regular scenarios #14206 @YuJuncen\nTiCDC\nEnable pull-based sink to optimize system throughput #8232 @hi-rustin\nSupport storing redo logs to GCS-compatible or Azure-compatible object storage #7987 @CharlesCheung96\nImplement MQ sink and MySQL sink in the asynchronous mode to improve the sink throughput #5928 @amyangfei @CharlesCheung96",
          "Backup & Restore (BR)\nOptimize the concurrency of downloading log backup files on the TiKV side to improve the performance of PITR in regular scenarios #14206 @YuJuncen",
          "Optimize the concurrency of downloading log backup files on the TiKV side to improve the performance of PITR in regular scenarios #14206 @YuJuncen",
          "TiCDC\nEnable pull-based sink to optimize system throughput #8232 @hi-rustin\nSupport storing redo logs to GCS-compatible or Azure-compatible object storage #7987 @CharlesCheung96\nImplement MQ sink and MySQL sink in the asynchronous mode to improve the sink throughput #5928 @amyangfei @CharlesCheung96",
          "Enable pull-based sink to optimize system throughput #8232 @hi-rustin",
          "Support storing redo logs to GCS-compatible or Azure-compatible object storage #7987 @CharlesCheung96",
          "Implement MQ sink and MySQL sink in the asynchronous mode to improve the sink throughput #5928 @amyangfei @CharlesCheung96",
          "TiDB\nFix the issue that the pessimistic-auto-commit configuration item does not take effect for point-get queries #39928 @zyguan\nFix the issue that the INSERT or REPLACE statements might panic in long session connections #40351 @winoros\nFix the issue that auto analyze causes graceful shutdown to take a long time #40038 @xuyifangreeneyes\nFix the issue that data race might occur during DDL ingestion #40970 @tangenta\nFix the issue that data race might occur when an index is added #40879 @tangenta\nFix the issue that the adding index operation is inefficient due to invalid Region cache when there are many Regions in a table #38436 @tangenta\nFix the issue that TiDB might deadlock during initialization #40408 @Defined2014\nFix the issue that unexpected data is read because TiDB improperly handles NULL values when constructing key ranges #40158 @tiancaiamao\nFix the issue that the value of system variables might be incorrectly modified in some cases due to memory reuse #40979 @lcwangchao\nFix the issue that a TTL task fails if the primary key of the table contains an ENUM column #40456 @lcwangchao\nFix the issue that TiDB panics when adding a unique index #40592 @tangenta\nFix the issue that some truncate operations cannot be blocked by MDL when truncating the same table concurrently #40484 @wjhuang2016\nFix the issue that TiDB cannot restart after global bindings are created for partition tables in dynamic trimming mode #40368 @Yisaer\nFix the issue that reading data using the \"cursor read\" method might return an error because of GC #39447 @zyguan\nFix the issue that the EXECUTE information is null in the result of SHOW PROCESSLIST #41156 @YangKeao\nFix the issue that when globalMemoryControl is killing a query, the KILL operation might not end #41057 @wshwsh12\nFix the issue that TiDB might panic after indexMerge encounters an error #41047 #40877 @guo-shaoge @windtalker\nFix the issue that the ANALYZE statement might be terminated by KILL #41825 @XuHuaiyu\nFix the issue that goroutine leak might occur in indexMerge #41545 #41605 @guo-shaoge\nFix the issue of potential wrong results when comparing unsigned TINYINT/SMALLINT/INT values with DECIMAL/FLOAT/DOUBLE values smaller than 0 #41736 @LittleFall\nFix the issue that enabling tidb_enable_reuse_chunk might lead to memory leak #40987 @guo-shaoge\nFix the issue that data race in time zone might cause data-index inconsistency #40710 @wjhuang2016\nFix the issue that the scan detail information during the execution of batch cop might be inaccurate #41582 @you06\nFix the issue that the upper concurrency of cop is not limited #41134 @you06\nFix the issue that the statement context in cursor read is mistakenly cached #39998 @zyguan\nPeriodically clean up stale Region cache to avoid memory leak and performance degradation #40355 @sticnarf\nFix the issue that using plan cache on queries that contain year <cmp> const might get a wrong result #41626 @qw4990\nFix the issue of large estimation errors when querying with a large range and a large amount of data modification #39593 @time-and-fate\nFix the issue that some conditions cannot be pushed down through Join operators when using Plan Cache #40093 #38205 @qw4990\nFix the issue that IndexMerge plans might generate incorrect ranges on the SET type columns #41273 #41293 @time-and-fate\nFix the issue that Plan Cache might cache FullScan plans when processing int_col <cmp> decimal conditions #40679 #41032 @qw4990\nFix the issue that Plan Cache might cache FullScan plans when processing int_col in (decimal...) conditions #40224 @qw4990\nFix the issue that the ignore_plan_cache hint might not work for INSERT statements #40079 #39717 @qw4990\nFix the issue that Auto Analyze might hinder TiDB from exiting #40038 @xuyifangreeneyes\nFix the issue that incorrect access intervals might be constructed on Unsigned Primary Keys in partitioned tables #40309 @winoros\nFix the issue that Plan Cache might cache Shuffle operators and return incorrect results #38335 @qw4990\nFix the issue that creating Global Binding on partitioned tables might cause TiDB to fail to start #40368 @Yisaer\nFix the issue that query plan operators might be missing in slow logs #41458 @time-and-fate\nFix the issue that incorrect results might be returned when TopN operators with virtual columns are mistakenly pushing down to TiKV or TiFlash #41355 @Dousir9\nFix the issue of inconsistent data when adding indexes #40698 #40730 #41459 #40464 #40217 @tangenta\nFix the issue of getting the Pessimistic lock not found error when adding indexes #41515 @tangenta\nFix the issue of misreported duplicate key errors when adding unique indexes #41630 @tangenta\nFix the issue of performance degradation when using paging in TiDB #40741 @solotzg",
          "Fix the issue that the pessimistic-auto-commit configuration item does not take effect for point-get queries #39928 @zyguan",
          "Fix the issue that the INSERT or REPLACE statements might panic in long session connections #40351 @winoros",
          "Fix the issue that auto analyze causes graceful shutdown to take a long time #40038 @xuyifangreeneyes",
          "Fix the issue that data race might occur during DDL ingestion #40970 @tangenta",
          "Fix the issue that data race might occur when an index is added #40879 @tangenta",
          "Fix the issue that the adding index operation is inefficient due to invalid Region cache when there are many Regions in a table #38436 @tangenta",
          "Fix the issue that TiDB might deadlock during initialization #40408 @Defined2014",
          "Fix the issue that unexpected data is read because TiDB improperly handles NULL values when constructing key ranges #40158 @tiancaiamao",
          "Fix the issue that the value of system variables might be incorrectly modified in some cases due to memory reuse #40979 @lcwangchao",
          "Fix the issue that a TTL task fails if the primary key of the table contains an ENUM column #40456 @lcwangchao",
          "Fix the issue that TiDB panics when adding a unique index #40592 @tangenta",
          "Fix the issue that some truncate operations cannot be blocked by MDL when truncating the same table concurrently #40484 @wjhuang2016",
          "Fix the issue that TiDB cannot restart after global bindings are created for partition tables in dynamic trimming mode #40368 @Yisaer",
          "Fix the issue that reading data using the \"cursor read\" method might return an error because of GC #39447 @zyguan",
          "Fix the issue that the EXECUTE information is null in the result of SHOW PROCESSLIST #41156 @YangKeao",
          "Fix the issue that when globalMemoryControl is killing a query, the KILL operation might not end #41057 @wshwsh12",
          "Fix the issue that TiDB might panic after indexMerge encounters an error #41047 #40877 @guo-shaoge @windtalker",
          "Fix the issue that the ANALYZE statement might be terminated by KILL #41825 @XuHuaiyu",
          "Fix the issue that goroutine leak might occur in indexMerge #41545 #41605 @guo-shaoge",
          "Fix the issue of potential wrong results when comparing unsigned TINYINT/SMALLINT/INT values with DECIMAL/FLOAT/DOUBLE values smaller than 0 #41736 @LittleFall",
          "Fix the issue that enabling tidb_enable_reuse_chunk might lead to memory leak #40987 @guo-shaoge",
          "Fix the issue that data race in time zone might cause data-index inconsistency #40710 @wjhuang2016",
          "Fix the issue that the scan detail information during the execution of batch cop might be inaccurate #41582 @you06",
          "Fix the issue that the upper concurrency of cop is not limited #41134 @you06",
          "Fix the issue that the statement context in cursor read is mistakenly cached #39998 @zyguan",
          "Periodically clean up stale Region cache to avoid memory leak and performance degradation #40355 @sticnarf",
          "Fix the issue that using plan cache on queries that contain year <cmp> const might get a wrong result #41626 @qw4990",
          "Fix the issue of large estimation errors when querying with a large range and a large amount of data modification #39593 @time-and-fate",
          "Fix the issue that some conditions cannot be pushed down through Join operators when using Plan Cache #40093 #38205 @qw4990",
          "Fix the issue that IndexMerge plans might generate incorrect ranges on the SET type columns #41273 #41293 @time-and-fate",
          "Fix the issue that Plan Cache might cache FullScan plans when processing int_col <cmp> decimal conditions #40679 #41032 @qw4990",
          "Fix the issue that Plan Cache might cache FullScan plans when processing int_col in (decimal...) conditions #40224 @qw4990",
          "Fix the issue that the ignore_plan_cache hint might not work for INSERT statements #40079 #39717 @qw4990",
          "Fix the issue that Auto Analyze might hinder TiDB from exiting #40038 @xuyifangreeneyes",
          "Fix the issue that incorrect access intervals might be constructed on Unsigned Primary Keys in partitioned tables #40309 @winoros",
          "Fix the issue that Plan Cache might cache Shuffle operators and return incorrect results #38335 @qw4990",
          "Fix the issue that creating Global Binding on partitioned tables might cause TiDB to fail to start #40368 @Yisaer",
          "Fix the issue that query plan operators might be missing in slow logs #41458 @time-and-fate",
          "Fix the issue that incorrect results might be returned when TopN operators with virtual columns are mistakenly pushing down to TiKV or TiFlash #41355 @Dousir9",
          "Fix the issue of inconsistent data when adding indexes #40698 #40730 #41459 #40464 #40217 @tangenta",
          "Fix the issue of getting the Pessimistic lock not found error when adding indexes #41515 @tangenta",
          "Fix the issue of misreported duplicate key errors when adding unique indexes #41630 @tangenta",
          "Fix the issue of performance degradation when using paging in TiDB #40741 @solotzg",
          "TiKV\nFix the issue that Resolved TS causes higher network traffic #14092 @overvenus\nFix the data inconsistency issue caused by network failure between TiDB and TiKV during the execution of a DML after a failed pessimistic DML #14038 @MyonKeminta\nFix an error that occurs when casting the const Enum type to other types #14156 @wshwsh12\nFix the issue that the paging in a cop task is inaccurate #14254 @you06\nFix the issue that the scan_detail field is inaccurate in batch_cop mode #14109 @you06\nFix a potential error in the Raft Engine that might cause TiKV to detect Raft data corruption and fail to restart #14338 @tonyxuqqi",
          "Fix the issue that Resolved TS causes higher network traffic #14092 @overvenus",
          "Fix the data inconsistency issue caused by network failure between TiDB and TiKV during the execution of a DML after a failed pessimistic DML #14038 @MyonKeminta",
          "Fix an error that occurs when casting the const Enum type to other types #14156 @wshwsh12",
          "Fix the issue that the paging in a cop task is inaccurate #14254 @you06",
          "Fix the issue that the scan_detail field is inaccurate in batch_cop mode #14109 @you06",
          "Fix a potential error in the Raft Engine that might cause TiKV to detect Raft data corruption and fail to restart #14338 @tonyxuqqi",
          "PD\nFix the issue that the execution replace-down-peer slows down under certain conditions #5788 @HundunDM\nFix the issue that PD might unexpectedly add multiple Learners to a Region #5786 @HunDunDM\nFix the issue that the Region Scatter task generates redundant replicas unexpectedly #5909 @HundunDM\nFix the PD OOM issue that occurs when the calls of ReportMinResolvedTS are too frequent #5965 @HundunDM\nFix the issue that the Region Scatter might cause uneven distribution of leader #6017 @HunDunDM",
          "Fix the issue that the execution replace-down-peer slows down under certain conditions #5788 @HundunDM",
          "Fix the issue that PD might unexpectedly add multiple Learners to a Region #5786 @HunDunDM",
          "Fix the issue that the Region Scatter task generates redundant replicas unexpectedly #5909 @HundunDM",
          "Fix the PD OOM issue that occurs when the calls of ReportMinResolvedTS are too frequent #5965 @HundunDM",
          "Fix the issue that the Region Scatter might cause uneven distribution of leader #6017 @HunDunDM",
          "TiFlash\nFix the issue that semi-joins use excessive memory when calculating Cartesian products #6730 @gengliqi\nFix the issue that TiFlash log search is too slow #6829 @hehechen\nFix the issue that TiFlash cannot start because files are mistakenly deleted after repeated restarts #6486 @JaySon-Huang\nFix the issue that TiFlash might report an error when performing a query after adding a new column #6726 @JaySon-Huang\nFix the issue that TiFlash does not support IPv6 configuration #6734 @ywqzzy",
          "Fix the issue that semi-joins use excessive memory when calculating Cartesian products #6730 @gengliqi",
          "Fix the issue that TiFlash log search is too slow #6829 @hehechen",
          "Fix the issue that TiFlash cannot start because files are mistakenly deleted after repeated restarts #6486 @JaySon-Huang",
          "Fix the issue that TiFlash might report an error when performing a query after adding a new column #6726 @JaySon-Huang",
          "Fix the issue that TiFlash does not support IPv6 configuration #6734 @ywqzzy",
          "Tools\nBackup & Restore (BR)\nFix the issue that the connection failure between PD and tidb-server causes PITR backup progress not to advance #41082 @YuJuncen\nFix the issue that TiKV cannot listen to PITR tasks due to the connection failure between PD and TiKV #14159 @YuJuncen\nFix the issue that PITR does not support configuration changes for PD clusters #14165 @YuJuncen\nFix the issue that the PITR feature does not support CA-bundles #38775 @3pointer\nFix the issue that when a PITR backup task is deleted, the residual backup data causes data inconsistency in new tasks #40403 @joccau\nFix the issue that causes panic when BR parses the backupmeta file #40878 @MoCuishle28\nFix the issue that restore is interrupted due to failure in getting the Region size #36053 @YuJuncen\nFix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau\nFix the issue that restoring data to a cluster on which the log backup is running causes the log backup file unable to be restored #40797 @Leavrth\nFix the panic issue that occurs when attempting to resume backup from a checkpoint after a full backup failure #40704 @Leavrth\nFix the issue that PITR errors are overwritten #40576 @Leavrth\nFix the issue that checkpoints do not advance in PITR backup tasks when the advance owner and gc owner are different #41806 @joccau\nTiCDC\nFix the issue that changefeed might get stuck in special scenarios such as when scaling in or scaling out TiKV or TiCDC nodes #8174 @hicqu\nFix the issue that precheck is not performed on the storage path of redo log #6335 @CharlesCheung96\nFix the issue of insufficient duration that redo log can tolerate for S3 storage failure #8089 @CharlesCheung96\nFix the issue that transaction-atomicity and protocol cannot be updated via the configuration file #7935 @CharlesCheung96\nFix the issue that the checkpoint cannot advance when TiCDC replicates an excessively large number of tables #8004 @overvenus\nFix the issue that applying redo log might cause OOM when the replication lag is excessively high #8085 @CharlesCheung96\nFix the issue that the performance degrades when redo log is enabled to write meta #8074 @CharlesCheung96\nFix a bug that the context deadline is exceeded when TiCDC replicates data without splitting large transactions #7982 @hi-rustin\nFix the issue that pausing a changefeed when PD is abnormal results in incorrect status #8330 @sdojjy\nFix the data inconsistency that occurs when replicating data to a TiDB or MySQL sink and when CHARACTER SET is specified on the column that has the non-null unique index without a primary key #8420 @asddongmen\nFix the panic issue in table scheduling and blackhole sink #8024 #8142 @hicqu\nTiDB Data Migration (DM)\nFix the issue that the binlog-schema delete command fails to execute #7373 @liumengya94\nFix the issue that the checkpoint does not advance when the last binlog is a skipped DDL #8175 @D3Hunter\nFix a bug that when the expression filters of both \"update\" and \"non-update\" types are specified in one table, all UPDATE statements are skipped #7831 @lance6716\nTiDB Lightning\nFix the issue that TiDB Lightning prechecks cannot find dirty data left by previously failed imports #39477 @dsdashun\nFix the issue that TiDB Lightning panics in the split-region phase #40934 @lance6716\nFix the issue that the conflict resolution logic (duplicate-resolution) might lead to inconsistent checksums #40657 @sleepymole\nFix the issue that TiDB Lightning might incorrectly skip conflict resolution when all but the last TiDB Lightning instance encounters a local duplicate record during a parallel import #40923 @lichunzhu\nFix the issue that when importing data in Local Backend mode, the target columns do not automatically generate data if the compound primary key of the imported target table has an auto_random column and no value for the column is specified in the source data #41454 @D3Hunter",
          "Backup & Restore (BR)\nFix the issue that the connection failure between PD and tidb-server causes PITR backup progress not to advance #41082 @YuJuncen\nFix the issue that TiKV cannot listen to PITR tasks due to the connection failure between PD and TiKV #14159 @YuJuncen\nFix the issue that PITR does not support configuration changes for PD clusters #14165 @YuJuncen\nFix the issue that the PITR feature does not support CA-bundles #38775 @3pointer\nFix the issue that when a PITR backup task is deleted, the residual backup data causes data inconsistency in new tasks #40403 @joccau\nFix the issue that causes panic when BR parses the backupmeta file #40878 @MoCuishle28\nFix the issue that restore is interrupted due to failure in getting the Region size #36053 @YuJuncen\nFix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau\nFix the issue that restoring data to a cluster on which the log backup is running causes the log backup file unable to be restored #40797 @Leavrth\nFix the panic issue that occurs when attempting to resume backup from a checkpoint after a full backup failure #40704 @Leavrth\nFix the issue that PITR errors are overwritten #40576 @Leavrth\nFix the issue that checkpoints do not advance in PITR backup tasks when the advance owner and gc owner are different #41806 @joccau",
          "Fix the issue that the connection failure between PD and tidb-server causes PITR backup progress not to advance #41082 @YuJuncen",
          "Fix the issue that TiKV cannot listen to PITR tasks due to the connection failure between PD and TiKV #14159 @YuJuncen",
          "Fix the issue that PITR does not support configuration changes for PD clusters #14165 @YuJuncen",
          "Fix the issue that the PITR feature does not support CA-bundles #38775 @3pointer",
          "Fix the issue that when a PITR backup task is deleted, the residual backup data causes data inconsistency in new tasks #40403 @joccau",
          "Fix the issue that causes panic when BR parses the backupmeta file #40878 @MoCuishle28",
          "Fix the issue that restore is interrupted due to failure in getting the Region size #36053 @YuJuncen",
          "Fix the issue that the frequency of resolve lock is too high when there is no PITR backup task in the TiDB cluster #40759 @joccau",
          "Fix the issue that restoring data to a cluster on which the log backup is running causes the log backup file unable to be restored #40797 @Leavrth",
          "Fix the panic issue that occurs when attempting to resume backup from a checkpoint after a full backup failure #40704 @Leavrth",
          "Fix the issue that PITR errors are overwritten #40576 @Leavrth",
          "Fix the issue that checkpoints do not advance in PITR backup tasks when the advance owner and gc owner are different #41806 @joccau",
          "TiCDC\nFix the issue that changefeed might get stuck in special scenarios such as when scaling in or scaling out TiKV or TiCDC nodes #8174 @hicqu\nFix the issue that precheck is not performed on the storage path of redo log #6335 @CharlesCheung96\nFix the issue of insufficient duration that redo log can tolerate for S3 storage failure #8089 @CharlesCheung96\nFix the issue that transaction-atomicity and protocol cannot be updated via the configuration file #7935 @CharlesCheung96\nFix the issue that the checkpoint cannot advance when TiCDC replicates an excessively large number of tables #8004 @overvenus\nFix the issue that applying redo log might cause OOM when the replication lag is excessively high #8085 @CharlesCheung96\nFix the issue that the performance degrades when redo log is enabled to write meta #8074 @CharlesCheung96\nFix a bug that the context deadline is exceeded when TiCDC replicates data without splitting large transactions #7982 @hi-rustin\nFix the issue that pausing a changefeed when PD is abnormal results in incorrect status #8330 @sdojjy\nFix the data inconsistency that occurs when replicating data to a TiDB or MySQL sink and when CHARACTER SET is specified on the column that has the non-null unique index without a primary key #8420 @asddongmen\nFix the panic issue in table scheduling and blackhole sink #8024 #8142 @hicqu",
          "Fix the issue that changefeed might get stuck in special scenarios such as when scaling in or scaling out TiKV or TiCDC nodes #8174 @hicqu",
          "Fix the issue that precheck is not performed on the storage path of redo log #6335 @CharlesCheung96",
          "Fix the issue of insufficient duration that redo log can tolerate for S3 storage failure #8089 @CharlesCheung96",
          "Fix the issue that transaction-atomicity and protocol cannot be updated via the configuration file #7935 @CharlesCheung96",
          "Fix the issue that the checkpoint cannot advance when TiCDC replicates an excessively large number of tables #8004 @overvenus",
          "Fix the issue that applying redo log might cause OOM when the replication lag is excessively high #8085 @CharlesCheung96",
          "Fix the issue that the performance degrades when redo log is enabled to write meta #8074 @CharlesCheung96",
          "Fix a bug that the context deadline is exceeded when TiCDC replicates data without splitting large transactions #7982 @hi-rustin",
          "Fix the issue that pausing a changefeed when PD is abnormal results in incorrect status #8330 @sdojjy",
          "Fix the data inconsistency that occurs when replicating data to a TiDB or MySQL sink and when CHARACTER SET is specified on the column that has the non-null unique index without a primary key #8420 @asddongmen",
          "Fix the panic issue in table scheduling and blackhole sink #8024 #8142 @hicqu",
          "TiDB Data Migration (DM)\nFix the issue that the binlog-schema delete command fails to execute #7373 @liumengya94\nFix the issue that the checkpoint does not advance when the last binlog is a skipped DDL #8175 @D3Hunter\nFix a bug that when the expression filters of both \"update\" and \"non-update\" types are specified in one table, all UPDATE statements are skipped #7831 @lance6716",
          "Fix the issue that the binlog-schema delete command fails to execute #7373 @liumengya94",
          "Fix the issue that the checkpoint does not advance when the last binlog is a skipped DDL #8175 @D3Hunter",
          "Fix a bug that when the expression filters of both \"update\" and \"non-update\" types are specified in one table, all UPDATE statements are skipped #7831 @lance6716",
          "TiDB Lightning\nFix the issue that TiDB Lightning prechecks cannot find dirty data left by previously failed imports #39477 @dsdashun\nFix the issue that TiDB Lightning panics in the split-region phase #40934 @lance6716\nFix the issue that the conflict resolution logic (duplicate-resolution) might lead to inconsistent checksums #40657 @sleepymole\nFix the issue that TiDB Lightning might incorrectly skip conflict resolution when all but the last TiDB Lightning instance encounters a local duplicate record during a parallel import #40923 @lichunzhu\nFix the issue that when importing data in Local Backend mode, the target columns do not automatically generate data if the compound primary key of the imported target table has an auto_random column and no value for the column is specified in the source data #41454 @D3Hunter",
          "Fix the issue that TiDB Lightning prechecks cannot find dirty data left by previously failed imports #39477 @dsdashun",
          "Fix the issue that TiDB Lightning panics in the split-region phase #40934 @lance6716",
          "Fix the issue that the conflict resolution logic (duplicate-resolution) might lead to inconsistent checksums #40657 @sleepymole",
          "Fix the issue that TiDB Lightning might incorrectly skip conflict resolution when all but the last TiDB Lightning instance encounters a local duplicate record during a parallel import #40923 @lichunzhu",
          "Fix the issue that when importing data in Local Backend mode, the target columns do not automatically generate data if the compound primary key of the imported target table has an auto_random column and no value for the column is specified in the source data #41454 @D3Hunter"
        ]
      },
      {
        "version": "6.5.0",
        "date": "2022-12-29",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.5.0/",
        "changes": [
          "The performance of TiDB adding indexes is improved by about 10 times (GA) #35983 @benjamin2037 @tangenta\nTiDB v6.3.0 introduces the Add index acceleration as an experimental feature to improve the speed of backfilling when creating an index. In v6.5.0, this feature becomes GA and is enabled by default, and the performance on large tables is expected to be about 10 times faster than that in v6.1.0. The acceleration feature is suitable for scenarios where a single SQL statement adds an index serially. When multiple SQL statements add indexes in parallel, only one of the SQL statements will be accelerated.",
          "Provide lightweight metadata lock to improve the DML success rate during DDL change (GA) #37275 @wjhuang2016\nTiDB v6.3.0 introduces Metadata lock as an experimental feature. To avoid the Information schema is changed error caused by DML statements, TiDB coordinates the priority of DMLs and DDLs during table metadata change, and makes the ongoing DDLs wait for the DMLs with old metadata to commit. In v6.5.0, this feature becomes GA and is enabled by default. It is suitable for various types of DDLs change scenarios. When you upgrade your existing cluster from versions earlier than v6.5.0 to v6.5.0 or later, TiDB automatically enables metadata lock. To disable this feature, you can set the system variable tidb_enable_metadata_lock to OFF.\nFor more information, see documentation.",
          "Support restoring a cluster to a specific point in time by using FLASHBACK CLUSTER TO TIMESTAMP (GA) #37197 #13303 @Defined2014 @bb7133 @JmPotato @Connor1996 @HuSharp @CalvinNeo\nSince v6.4.0, TiDB has introduced the FLASHBACK CLUSTER TO TIMESTAMP statement as an experimental feature. You can use this statement to restore a cluster to a specific point in time within the Garbage Collection (GC) life time. In v6.5.0, this feature is now compatible with TiCDC and PITR and becomes GA. This feature helps you to easily undo DML misoperations, restore the original cluster in minutes, and roll back data at different time points to determine the exact time when data changes.\nFor more information, see documentation.",
          "Fully support non-transactional DML statements including INSERT, REPLACE, UPDATE, and DELETE #33485 @ekexium\nIn the scenarios of large data processing, a single SQL statement with a large transaction might have a negative impact on the cluster stability and performance. A non-transactional DML statement is a DML statement split into multiple SQL statements for internal execution. The split statements compromise transaction atomicity and isolation but greatly improve the cluster stability. TiDB has supported non-transactional DELETE statements since v6.1.0, and non-transactional INSERT, REPLACE, and UPDATE statements since v6.5.0.\nFor more information, see Non-Transactional DML statements and BATCH syntax.",
          "Support time to live (TTL) (experimental) #39262 @lcwangchao\nTTL provides row-level data lifetime management. In TiDB, a table with the TTL attribute automatically checks data lifetime and deletes expired data at the row level. TTL is designed to help you clean up unnecessary data periodically and in a timely manner without affecting the online read and write workloads.\nFor more information, see documentation.",
          "Support saving TiFlash query results using the INSERT INTO SELECT statement (experimental) #37515 @gengliqi\nStarting from v6.5.0, TiDB supports pushing down the SELECT clause (analytical query) of the INSERT INTO SELECT statement to TiFlash. In this way, you can easily save the TiFlash query result to a TiDB table specified by INSERT INTO for further analysis, which takes effect as result caching (that is, result materialization). For example:\nINSERT INTO t2 SELECT Mod(x,y) FROM t1;\nDuring the experimental phase, this feature is disabled by default. To enable it, you can set the tidb_enable_tiflash_read_for_write_stmt system variable to ON. There are no special restrictions on the result table specified by INSERT INTO for this feature, and you are free to add or not add a TiFlash replica to that result table. Typical usage scenarios of this feature include:\nRun complex analytical queries using TiFlash\nReuse TiFlash query results or deal with highly concurrent online requests\nNeed a relatively small result set compared with the input data size, preferably smaller than 100 MiB.\nFor more information, see documentation.",
          "Run complex analytical queries using TiFlash",
          "Reuse TiFlash query results or deal with highly concurrent online requests",
          "Need a relatively small result set compared with the input data size, preferably smaller than 100 MiB.",
          "Support binding history execution plans (experimental) #39199 @fzzf678\nFor a SQL statement, due to various factors during execution, the optimizer might occasionally choose a new execution plan instead of its previous optimal execution plan, and the SQL performance is impacted. In this case, if the optimal execution plan has not been cleared yet, it still exists in the SQL execution history.\nIn v6.5.0, TiDB supports binding historical execution plans by extending the binding object in the CREATE [GLOBAL | SESSION] BINDING statement. When the execution plan of a SQL statement changes, you can bind the original execution plan by specifying plan_digest in the CREATE [GLOBAL | SESSION] BINDING statement to quickly recover SQL performance, as long as the original execution plan is still in the SQL execution history memory table (for example, statements_summary). This feature can simplify the process of handling execution plan change issues and improve your maintenance efficiency.\nFor more information, see documentation.",
          "TiDB\nFor BIT and CHAR columns, make the result of INFORMATION_SCHEMA.COLUMNS consistent with MySQL #25472 @hawkingrei\nOptimize the TiDB probing mechanism for TiFlash nodes in the TiFlash MPP mode to mitigate the performance impact when nodes are abnormal #39686 @hackersean",
          "For BIT and CHAR columns, make the result of INFORMATION_SCHEMA.COLUMNS consistent with MySQL #25472 @hawkingrei",
          "Optimize the TiDB probing mechanism for TiFlash nodes in the TiFlash MPP mode to mitigate the performance impact when nodes are abnormal #39686 @hackersean",
          "TiKV\nStop writing to Raft Engine when there is insufficient space to avoid exhausting disk space #13642 @jiayang-zheng\nSupport pushing down the json_valid function to TiKV #13571 @lizhenhuan\nSupport backing up multiple ranges of data in a single backup request #13701 @Leavrth\nSupport backing up data to the Asia Pacific region (ap-southeast-3) of AWS by updating the rusoto library #13751 @3pointer\nReduce pessimistic transaction conflicts #13298 @MyonKeminta\nImprove recovery performance by caching external storage objects #13798 @YuJuncen\nRun the CheckLeader in a dedicated thread to reduce TiCDC replication latency #13774 @overvenus\nSupport pull model for Checkpoints #13824 @YuJuncen\nAvoid spinning issues on the sender side by updating crossbeam-channel #13815 @sticnarf\nSupport batch Coprocessor tasks processing in TiKV #13849 @cfzjywxk\nReduce waiting time on failure recovery by notifying TiKV to wake up Regions #13648 @LykxSassinator\nReduce the requested size of memory usage by code optimization #13827 @BusyJay\nIntroduce the Raft extension to improve code extensibility #13827 @BusyJay\nSupport using tikv-ctl to query which Regions are included in a certain key range #13760 @HuSharp\nImprove read and write performance for rows that are not updated but locked continuously #13694 @sticnarf",
          "Stop writing to Raft Engine when there is insufficient space to avoid exhausting disk space #13642 @jiayang-zheng",
          "Support pushing down the json_valid function to TiKV #13571 @lizhenhuan",
          "Support backing up multiple ranges of data in a single backup request #13701 @Leavrth",
          "Support backing up data to the Asia Pacific region (ap-southeast-3) of AWS by updating the rusoto library #13751 @3pointer",
          "Reduce pessimistic transaction conflicts #13298 @MyonKeminta",
          "Improve recovery performance by caching external storage objects #13798 @YuJuncen",
          "Run the CheckLeader in a dedicated thread to reduce TiCDC replication latency #13774 @overvenus",
          "Support pull model for Checkpoints #13824 @YuJuncen",
          "Avoid spinning issues on the sender side by updating crossbeam-channel #13815 @sticnarf",
          "Support batch Coprocessor tasks processing in TiKV #13849 @cfzjywxk",
          "Reduce waiting time on failure recovery by notifying TiKV to wake up Regions #13648 @LykxSassinator",
          "Reduce the requested size of memory usage by code optimization #13827 @BusyJay",
          "Introduce the Raft extension to improve code extensibility #13827 @BusyJay",
          "Support using tikv-ctl to query which Regions are included in a certain key range #13760 @HuSharp",
          "Improve read and write performance for rows that are not updated but locked continuously #13694 @sticnarf",
          "PD\nOptimize the granularity of locks to reduce lock contention and improve the handling capability of heartbeats under high concurrency #5586 @rleungx\nOptimize scheduler performance for large-scale clusters and accelerate the production of scheduling policies #5473 @bufferflies\nImprove the speed of loading Regions #5606 @rleungx\nReduce unnecessary overhead by optimized handling of Region heartbeats #5648 @rleungx\nAdd the feature of automatically garbage collecting tombstone stores #5348 @nolouch",
          "Optimize the granularity of locks to reduce lock contention and improve the handling capability of heartbeats under high concurrency #5586 @rleungx",
          "Optimize scheduler performance for large-scale clusters and accelerate the production of scheduling policies #5473 @bufferflies",
          "Improve the speed of loading Regions #5606 @rleungx",
          "Reduce unnecessary overhead by optimized handling of Region heartbeats #5648 @rleungx",
          "Add the feature of automatically garbage collecting tombstone stores #5348 @nolouch",
          "TiFlash\nImprove write performance in scenarios where there is no batch processing on the SQL side #6404 @lidezhu\nAdd more details for TableFullScan in the explain analyze output #5926 @hongyunyan",
          "Improve write performance in scenarios where there is no batch processing on the SQL side #6404 @lidezhu",
          "Add more details for TableFullScan in the explain analyze output #5926 @hongyunyan",
          "Tools\nTiDB Dashboard\nAdd three new fields to the slow query page: \"Is Prepared?\", \"Is Plan from Cache?\", \"Is Plan from Binding?\" #1451 @shhdgit\nBackup & Restore (BR)\nOptimize BR memory usage during the process of cleaning backup log data #38869 @Leavrth\nFix the restoration failure issue caused by PD leader switch during the restoration process #36910 @MoCuishle28\nImprove TLS compatibility by using the OpenSSL protocol in log backup #13867 @YuJuncen\nTiCDC\nImprove the performance of Kafka protocol encoder #7540 #7532 #7543 @3AceShowHand @sdojjy\nTiDB Data Migration (DM)\nImprove the data replication performance for DM by not parsing the data of tables in the block list #7622 @GMHDBJD\nImprove the write efficiency of DM relay by using asynchronous write and batch write #7580 @GMHDBJD\nOptimize the error messages in DM precheck #7621 @buchuitoudegou\nImprove the compatibility of SHOW SLAVE HOSTS for old MySQL versions #5017 @lyzx2001",
          "TiDB Dashboard\nAdd three new fields to the slow query page: \"Is Prepared?\", \"Is Plan from Cache?\", \"Is Plan from Binding?\" #1451 @shhdgit",
          "Add three new fields to the slow query page: \"Is Prepared?\", \"Is Plan from Cache?\", \"Is Plan from Binding?\" #1451 @shhdgit",
          "Backup & Restore (BR)\nOptimize BR memory usage during the process of cleaning backup log data #38869 @Leavrth\nFix the restoration failure issue caused by PD leader switch during the restoration process #36910 @MoCuishle28\nImprove TLS compatibility by using the OpenSSL protocol in log backup #13867 @YuJuncen",
          "Optimize BR memory usage during the process of cleaning backup log data #38869 @Leavrth",
          "Fix the restoration failure issue caused by PD leader switch during the restoration process #36910 @MoCuishle28",
          "Improve TLS compatibility by using the OpenSSL protocol in log backup #13867 @YuJuncen",
          "TiCDC\nImprove the performance of Kafka protocol encoder #7540 #7532 #7543 @3AceShowHand @sdojjy",
          "Improve the performance of Kafka protocol encoder #7540 #7532 #7543 @3AceShowHand @sdojjy",
          "TiDB Data Migration (DM)\nImprove the data replication performance for DM by not parsing the data of tables in the block list #7622 @GMHDBJD\nImprove the write efficiency of DM relay by using asynchronous write and batch write #7580 @GMHDBJD\nOptimize the error messages in DM precheck #7621 @buchuitoudegou\nImprove the compatibility of SHOW SLAVE HOSTS for old MySQL versions #5017 @lyzx2001",
          "Improve the data replication performance for DM by not parsing the data of tables in the block list #7622 @GMHDBJD",
          "Improve the write efficiency of DM relay by using asynchronous write and batch write #7580 @GMHDBJD",
          "Optimize the error messages in DM precheck #7621 @buchuitoudegou",
          "Improve the compatibility of SHOW SLAVE HOSTS for old MySQL versions #5017 @lyzx2001",
          "TiDB\nFix the issue of memory chunk misuse for the chunk reuse feature that occurs in some cases #38917 @keeplearning20221\nFix the issue that the internal sessions of tidb_constraint_check_in_place_pessimistic might be affected by the global setting #38766 @ekexium\nFix the issue that the AUTO_INCREMENT column cannot work with the CHECK constraint #38894 @YangKeao\nFix the issue that using INSERT IGNORE INTO to insert data of the STRING type into an auto-increment column of the SMALLINT type will cause an error #38483 @hawkingrei\nFix the issue that the null pointer error occurs in the operation of renaming the partition column of a partitioned table #38932 @mjonss\nFix the issue that modifying the partition column of a partitioned table causes DDL to hang #38530 @mjonss\nFix the issue that the ADMIN SHOW JOB operation panics after upgrading from v4.0.16 to v6.4.0 #38980 @tangenta\nFix the issue that the tidb_decode_key function fails to correctly parse the encoding of partitioned tables #39304 @Defined2014\nFix the issue that gRPC error logs are not redirected to the correct log file during log rotation #38941 @xhebox\nFix the issue that TiDB generates an unexpected execution plan for the BEGIN; SELECT... FOR UPDATE; point query when TiKV is not configured as a read engine #39344 @Yisaer\nFix the issue that mistakenly pushing down StreamAgg to TiFlash causes wrong results #39266 @fixdb",
          "Fix the issue of memory chunk misuse for the chunk reuse feature that occurs in some cases #38917 @keeplearning20221",
          "Fix the issue that the internal sessions of tidb_constraint_check_in_place_pessimistic might be affected by the global setting #38766 @ekexium",
          "Fix the issue that the AUTO_INCREMENT column cannot work with the CHECK constraint #38894 @YangKeao",
          "Fix the issue that using INSERT IGNORE INTO to insert data of the STRING type into an auto-increment column of the SMALLINT type will cause an error #38483 @hawkingrei",
          "Fix the issue that the null pointer error occurs in the operation of renaming the partition column of a partitioned table #38932 @mjonss",
          "Fix the issue that modifying the partition column of a partitioned table causes DDL to hang #38530 @mjonss",
          "Fix the issue that the ADMIN SHOW JOB operation panics after upgrading from v4.0.16 to v6.4.0 #38980 @tangenta",
          "Fix the issue that the tidb_decode_key function fails to correctly parse the encoding of partitioned tables #39304 @Defined2014",
          "Fix the issue that gRPC error logs are not redirected to the correct log file during log rotation #38941 @xhebox",
          "Fix the issue that TiDB generates an unexpected execution plan for the BEGIN; SELECT... FOR UPDATE; point query when TiKV is not configured as a read engine #39344 @Yisaer",
          "Fix the issue that mistakenly pushing down StreamAgg to TiFlash causes wrong results #39266 @fixdb",
          "TiKV\nFix an error in Raft Engine ctl #11119 @tabokie\nFix the Get raft db is not allowed error when executing the compact raft command in tikv-ctl #13515 @guoxiangCN\nFix the issue that log backup does not work when TLS is enabled #13867 @YuJuncen\nFix the support issue of the Geometry field type #13651 @dveeden\nFix the issue that _ in the LIKE operator cannot match non-ASCII characters when new collation is not enabled #13769 @YangKeao\nFix the issue that tikv-ctl is terminated unexpectedly when executing the reset-to-version command #13829 @tabokie",
          "Fix an error in Raft Engine ctl #11119 @tabokie",
          "Fix the Get raft db is not allowed error when executing the compact raft command in tikv-ctl #13515 @guoxiangCN",
          "Fix the issue that log backup does not work when TLS is enabled #13867 @YuJuncen",
          "Fix the support issue of the Geometry field type #13651 @dveeden",
          "Fix the issue that _ in the LIKE operator cannot match non-ASCII characters when new collation is not enabled #13769 @YangKeao",
          "Fix the issue that tikv-ctl is terminated unexpectedly when executing the reset-to-version command #13829 @tabokie",
          "PD\nFix the issue that the balance-hot-region-scheduler configuration is not persisted if not modified #5701 @HunDunDM\nFix the issue that rank-formula-version does not retain the pre-upgrade configuration during the upgrade process #5698 @HunDunDM",
          "Fix the issue that the balance-hot-region-scheduler configuration is not persisted if not modified #5701 @HunDunDM",
          "Fix the issue that rank-formula-version does not retain the pre-upgrade configuration during the upgrade process #5698 @HunDunDM",
          "TiFlash\nFix the issue that column files in the delta layer cannot be compacted after restarting TiFlash #6159 @lidezhu\nFix the issue that TiFlash File Open OPS is too high #6345 @JaySon-Huang",
          "Fix the issue that column files in the delta layer cannot be compacted after restarting TiFlash #6159 @lidezhu",
          "Fix the issue that TiFlash File Open OPS is too high #6345 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nFix the issue that when BR deletes log backup data, it mistakenly deletes data that should not be deleted #38939 @Leavrth\nFix the issue that restore tasks fail when using old framework for collations in databases or tables #39150 @MoCuishle28\nFix the issue that backup fails because Alibaba Cloud and Huawei Cloud are not fully compatible with Amazon S3 storage #39545 @3pointer\nTiCDC\nFix the issue that TiCDC gets stuck when the PD leader crashes #7470 @zeminzhou\nFix data loss occurred in the scenario of executing DDL statements first and then pausing and resuming the changefeed #7682 @asddongmen\nFix the issue that TiCDC mistakenly reports an error when there is a later version of TiFlash #7744 @overvenus\nFix the issue that the sink component gets stuck if the downstream network is unavailable #7706 @hicqu\nFix the issue that data is lost when a user quickly deletes a replication task and then creates another one with the same task name #7657 @overvenus\nTiDB Data Migration (DM)\nFix the issue that a task-mode:all task cannot be started when the upstream database enables the GTID mode but does not have any data #7037 @liumengya94\nFix the issue that data is replicated for multiple times when a new DM worker is scheduled before the existing worker exits #7658 @GMHDBJD\nFix the issue that DM precheck is not passed when the upstream database uses regular expressions to grant privileges #7645 @lance6716\nTiDB Lightning\nFix the memory leakage issue when TiDB Lightning imports a huge source data file #39331 @dsdashun\nFix the issue that TiDB Lightning cannot detect conflicts correctly when importing data in parallel #39476 @dsdashun",
          "Backup & Restore (BR)\nFix the issue that when BR deletes log backup data, it mistakenly deletes data that should not be deleted #38939 @Leavrth\nFix the issue that restore tasks fail when using old framework for collations in databases or tables #39150 @MoCuishle28\nFix the issue that backup fails because Alibaba Cloud and Huawei Cloud are not fully compatible with Amazon S3 storage #39545 @3pointer",
          "Fix the issue that when BR deletes log backup data, it mistakenly deletes data that should not be deleted #38939 @Leavrth",
          "Fix the issue that restore tasks fail when using old framework for collations in databases or tables #39150 @MoCuishle28",
          "Fix the issue that backup fails because Alibaba Cloud and Huawei Cloud are not fully compatible with Amazon S3 storage #39545 @3pointer",
          "TiCDC\nFix the issue that TiCDC gets stuck when the PD leader crashes #7470 @zeminzhou\nFix data loss occurred in the scenario of executing DDL statements first and then pausing and resuming the changefeed #7682 @asddongmen\nFix the issue that TiCDC mistakenly reports an error when there is a later version of TiFlash #7744 @overvenus\nFix the issue that the sink component gets stuck if the downstream network is unavailable #7706 @hicqu\nFix the issue that data is lost when a user quickly deletes a replication task and then creates another one with the same task name #7657 @overvenus",
          "Fix the issue that TiCDC gets stuck when the PD leader crashes #7470 @zeminzhou",
          "Fix data loss occurred in the scenario of executing DDL statements first and then pausing and resuming the changefeed #7682 @asddongmen",
          "Fix the issue that TiCDC mistakenly reports an error when there is a later version of TiFlash #7744 @overvenus",
          "Fix the issue that the sink component gets stuck if the downstream network is unavailable #7706 @hicqu",
          "Fix the issue that data is lost when a user quickly deletes a replication task and then creates another one with the same task name #7657 @overvenus",
          "TiDB Data Migration (DM)\nFix the issue that a task-mode:all task cannot be started when the upstream database enables the GTID mode but does not have any data #7037 @liumengya94\nFix the issue that data is replicated for multiple times when a new DM worker is scheduled before the existing worker exits #7658 @GMHDBJD\nFix the issue that DM precheck is not passed when the upstream database uses regular expressions to grant privileges #7645 @lance6716",
          "Fix the issue that a task-mode:all task cannot be started when the upstream database enables the GTID mode but does not have any data #7037 @liumengya94",
          "Fix the issue that data is replicated for multiple times when a new DM worker is scheduled before the existing worker exits #7658 @GMHDBJD",
          "Fix the issue that DM precheck is not passed when the upstream database uses regular expressions to grant privileges #7645 @lance6716",
          "TiDB Lightning\nFix the memory leakage issue when TiDB Lightning imports a huge source data file #39331 @dsdashun\nFix the issue that TiDB Lightning cannot detect conflicts correctly when importing data in parallel #39476 @dsdashun",
          "Fix the memory leakage issue when TiDB Lightning imports a huge source data file #39331 @dsdashun",
          "Fix the issue that TiDB Lightning cannot detect conflicts correctly when importing data in parallel #39476 @dsdashun"
        ]
      }
    ]
  },
  {
    "major_version": "6.4",
    "patches": [
      {
        "version": "6.4.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.4.0/",
        "changes": [
          "Support using a SQL statement to compact TiFlash replicas of specified partitions in a table immediately #5315 @hehechen\nSince v6.2.0, TiDB has supported the feature of compacting physical data immediately on a full-table replica of TiFlash. You can choose the right time to manually execute SQL statements to immediately compact the physical data in TiFlash, which helps to reduce storage space and improve query performance. In v6.4.0, we refine the granularity of TiFlash replica data to be compacted and support compacting TiFlash replicas of specified partitions in a table immediately.\nBy executing the SQL statement ALTER TABLE table_name COMPACT [PARTITION PartitionNameList] [engine_type REPLICA], you can immediately compact TiFlash replicas of specified partitions in a table.\nFor more information, see User document.",
          "Support restoring a cluster to a specific point in time by using FLASHBACK CLUSTER TO TIMESTAMP (experimental) #37197 #13303 @Defined2014 @bb7133 @JmPotato @Connor1996 @HuSharp @CalvinNeo\nYou can use the FLASHBACK CLUSTER TO TIMESTAMP syntax to restore a cluster to a specific point in time quickly within the Garbage Collection (GC) lifetime. This feature helps you to easily and quickly undo DML misoperations. For example, you can use this syntax to restore the original cluster in minutes after mistakenly executing DELETE without a WHERE clause. This feature does not rely on database backups and supports rolling back data at different time points to determine the exact time when data changes. Note that FLASHBACK CLUSTER TO TIMESTAMP cannot replace database backups.\nBefore executing FLASHBACK CLUSTER TO TIMESTAMP, you need to pause PITR and replication tasks running on such tools as TiCDC and restart them after the FLASHBACK is completed. Otherwise, replication tasks might fail.\nFor more information, see User document.",
          "Support restoring a deleted database by using FLASHBACK DATABASE #20463 @erwadba\nBy using FLASHBACK DATABASE, you can restore a database and its data deleted by DROP within the garbage collection (GC) life time. This feature does not depend on any external tools. You can quickly restore data and metadata using SQL statements.\nFor more information, see User document.",
          "TiDB\nAllow modifying the noop variable lc_messages #38231 @djshow832\nSupport the AUTO_RANDOM column as the first column of the clustered composite index #38572 @tangenta\nUse pessimistic transactions in internal transaction retry to avoid retry failure and reduce time consumption #38136 @jackysp",
          "Allow modifying the noop variable lc_messages #38231 @djshow832",
          "Support the AUTO_RANDOM column as the first column of the clustered composite index #38572 @tangenta",
          "Use pessimistic transactions in internal transaction retry to avoid retry failure and reduce time consumption #38136 @jackysp",
          "TiKV\nAdd a new configuration item apply-yield-write-size to control the maximum number of bytes that the Apply thread can write for one Finite-state Machine in one round of poll, and relieve Raftstore congestion when the Apply thread writes a large volume of data #13313 @glorv\nWarm up the entry cache before migrating the leader of Region to avoid QPS jitter during the leader transfer process #13060 @cosven\nSupport pushing down the json_constrains operator to Coprocessor #13592 @lizhenhuan\nAdd the asynchronous function for CausalTsProvider to improve the flush performance in some scenarios #13428 @zeminzhou",
          "Add a new configuration item apply-yield-write-size to control the maximum number of bytes that the Apply thread can write for one Finite-state Machine in one round of poll, and relieve Raftstore congestion when the Apply thread writes a large volume of data #13313 @glorv",
          "Warm up the entry cache before migrating the leader of Region to avoid QPS jitter during the leader transfer process #13060 @cosven",
          "Support pushing down the json_constrains operator to Coprocessor #13592 @lizhenhuan",
          "Add the asynchronous function for CausalTsProvider to improve the flush performance in some scenarios #13428 @zeminzhou",
          "PD\nThe v2 algorithm of the hot Region scheduler becomes GA. In some scenarios, the v2 algorithm can achieve better balancing in both configured dimensions and reduce invalid scheduling #5021 @HundunDM\nOptimize the timeout mechanism of operator step to avoid premature timeout #5596 @bufferflies\nImprove the performance of the scheduler in large clusters #5473 @bufferflies\nSupport using external timestamp which is not provided by PD #5637 @lhy1024",
          "The v2 algorithm of the hot Region scheduler becomes GA. In some scenarios, the v2 algorithm can achieve better balancing in both configured dimensions and reduce invalid scheduling #5021 @HundunDM",
          "Optimize the timeout mechanism of operator step to avoid premature timeout #5596 @bufferflies",
          "Improve the performance of the scheduler in large clusters #5473 @bufferflies",
          "Support using external timestamp which is not provided by PD #5637 @lhy1024",
          "TiFlash\nRefactor the TiFlash MPP error handling logic to further improve the stability of MPP #5095 @windtalker\nOptimize the sorting of the TiFlash computation process, and optimize the key handling for Join and Aggregation #5294 @solotzg\nOptimize the memory usage for decoding and remove redundant transfer columns to improve Join performance #6157 @yibin87",
          "Refactor the TiFlash MPP error handling logic to further improve the stability of MPP #5095 @windtalker",
          "Optimize the sorting of the TiFlash computation process, and optimize the key handling for Join and Aggregation #5294 @solotzg",
          "Optimize the memory usage for decoding and remove redundant transfer columns to improve Join performance #6157 @yibin87",
          "Tools\nTiDB Dashboard\nSupport displaying TiFlash metrics on the Monitoring page and optimize the presentation of metrics on that page #1440 @YiniXu9506\nShow the number of rows for results in the Slow Query list and SQL Statement list #1443 @baurine\nOptimize the Dashboard to not report the Alertmanager errors when Alertmanager does not exist #1444 @baurine\nBackup & Restore (BR)\nImprove the mechanism for loading the metadata. The metadata is loaded into memory only when necessary, which significantly reduces the memory usage during PITR #38404 @YuJuncen\nTiCDC\nSupport replicating the exchange partition DDL statements #639 @asddongmen\nImprove non-batch sending performance for the MQ sink module #7353 @hi-rustin\nImprove performance of TiCDC puller when a table has a large number of Regions #7078 #7281 @sdojjy\nSupport reading historical data in the downstream TiDB by using the tidb_enable_external_ts_read variable when Syncpoint is enabled #7419 @asddongmen\nEnable transaction split and disable safeMode by default to improve the replication stability #7505 @asddongmen\nTiDB Data Migration (DM)\nRemove the useless operate-source update command from dmctl #7246 @buchuitoudegou\nFix the issue that DM full import fails if the upstream database uses DDL statements that are incompatible with TiDB. You can create the schema of target tables in TiDB manually in advance using DDL statements supported by TiDB to ensure successful import #37984 @lance6716\nTiDB Lightning\nOptimize the file scanning logic to accelerate the scan of schema files #38598 @dsdashun",
          "TiDB Dashboard\nSupport displaying TiFlash metrics on the Monitoring page and optimize the presentation of metrics on that page #1440 @YiniXu9506\nShow the number of rows for results in the Slow Query list and SQL Statement list #1443 @baurine\nOptimize the Dashboard to not report the Alertmanager errors when Alertmanager does not exist #1444 @baurine",
          "Support displaying TiFlash metrics on the Monitoring page and optimize the presentation of metrics on that page #1440 @YiniXu9506",
          "Show the number of rows for results in the Slow Query list and SQL Statement list #1443 @baurine",
          "Optimize the Dashboard to not report the Alertmanager errors when Alertmanager does not exist #1444 @baurine",
          "Backup & Restore (BR)\nImprove the mechanism for loading the metadata. The metadata is loaded into memory only when necessary, which significantly reduces the memory usage during PITR #38404 @YuJuncen",
          "Improve the mechanism for loading the metadata. The metadata is loaded into memory only when necessary, which significantly reduces the memory usage during PITR #38404 @YuJuncen",
          "TiCDC\nSupport replicating the exchange partition DDL statements #639 @asddongmen\nImprove non-batch sending performance for the MQ sink module #7353 @hi-rustin\nImprove performance of TiCDC puller when a table has a large number of Regions #7078 #7281 @sdojjy\nSupport reading historical data in the downstream TiDB by using the tidb_enable_external_ts_read variable when Syncpoint is enabled #7419 @asddongmen\nEnable transaction split and disable safeMode by default to improve the replication stability #7505 @asddongmen",
          "Support replicating the exchange partition DDL statements #639 @asddongmen",
          "Improve non-batch sending performance for the MQ sink module #7353 @hi-rustin",
          "Improve performance of TiCDC puller when a table has a large number of Regions #7078 #7281 @sdojjy",
          "Support reading historical data in the downstream TiDB by using the tidb_enable_external_ts_read variable when Syncpoint is enabled #7419 @asddongmen",
          "Enable transaction split and disable safeMode by default to improve the replication stability #7505 @asddongmen",
          "TiDB Data Migration (DM)\nRemove the useless operate-source update command from dmctl #7246 @buchuitoudegou\nFix the issue that DM full import fails if the upstream database uses DDL statements that are incompatible with TiDB. You can create the schema of target tables in TiDB manually in advance using DDL statements supported by TiDB to ensure successful import #37984 @lance6716",
          "Remove the useless operate-source update command from dmctl #7246 @buchuitoudegou",
          "Fix the issue that DM full import fails if the upstream database uses DDL statements that are incompatible with TiDB. You can create the schema of target tables in TiDB manually in advance using DDL statements supported by TiDB to ensure successful import #37984 @lance6716",
          "TiDB Lightning\nOptimize the file scanning logic to accelerate the scan of schema files #38598 @dsdashun",
          "Optimize the file scanning logic to accelerate the scan of schema files #38598 @dsdashun",
          "TiDB\nFix the potential issue of index inconsistency that occurs after you create a new index #38165 @tangenta\nFix a permission issue of the INFORMATION_SCHEMA.TIKV_REGION_STATUS table #38407 @CbcWestwolf\nFix the issue that the grantor field is missing in the mysql.tables_priv table #38293 @CbcWestwolf\nFix the issue that the join result of common table expressions might be wrong #38170 @wjhuang2016\nFix the issue that the union result of common table expressions might be wrong #37928 @YangKeao\nFix the issue that the information in the transaction region num monitoring panel is incorrect #38139 @jackysp\nFix the issue that the system variable tidb_constraint_check_in_place_pessimistic might affect internal transactions. The variable scope is modified to SESSION. #38766 @ekexium\nFix the issue that conditions in a query are mistakenly pushed down to projections #35623 @Reminiscent\nFix the issue that the wrong isNullRejected check results for AND and OR cause wrong query results #38304 @Yisaer\nFix the issue that ORDER BY in GROUP_CONCAT is not considered when the outer join is eliminated, which causes wrong query results #18216 @winoros\nFix the issue of the wrong query result that occurs when the mistakenly pushed-down conditions are discarded by Join Reorder #38736 @winoros",
          "Fix the potential issue of index inconsistency that occurs after you create a new index #38165 @tangenta",
          "Fix a permission issue of the INFORMATION_SCHEMA.TIKV_REGION_STATUS table #38407 @CbcWestwolf",
          "Fix the issue that the grantor field is missing in the mysql.tables_priv table #38293 @CbcWestwolf",
          "Fix the issue that the join result of common table expressions might be wrong #38170 @wjhuang2016",
          "Fix the issue that the union result of common table expressions might be wrong #37928 @YangKeao",
          "Fix the issue that the information in the transaction region num monitoring panel is incorrect #38139 @jackysp",
          "Fix the issue that the system variable tidb_constraint_check_in_place_pessimistic might affect internal transactions. The variable scope is modified to SESSION. #38766 @ekexium",
          "Fix the issue that conditions in a query are mistakenly pushed down to projections #35623 @Reminiscent",
          "Fix the issue that the wrong isNullRejected check results for AND and OR cause wrong query results #38304 @Yisaer",
          "Fix the issue that ORDER BY in GROUP_CONCAT is not considered when the outer join is eliminated, which causes wrong query results #18216 @winoros",
          "Fix the issue of the wrong query result that occurs when the mistakenly pushed-down conditions are discarded by Join Reorder #38736 @winoros",
          "TiKV\nFix the issue that TiDB fails to start on Gitpod when there are multiple cgroup and mountinfo records #13660 @tabokie\nFix the wrong expression of a TiKV metric tikv_gc_compaction_filtered #13537 @Defined2014\nFix the performance issue caused by the abnormal delete_files_in_range #13534 @tabokie\nFix abnormal Region competition caused by expired lease during snapshot acquisition #13553 @SpadeA-Tang\nFix errors occurred when FLASHBACK fails in the first batch #13672 #13704 #13723 @HuSharp",
          "Fix the issue that TiDB fails to start on Gitpod when there are multiple cgroup and mountinfo records #13660 @tabokie",
          "Fix the wrong expression of a TiKV metric tikv_gc_compaction_filtered #13537 @Defined2014",
          "Fix the performance issue caused by the abnormal delete_files_in_range #13534 @tabokie",
          "Fix abnormal Region competition caused by expired lease during snapshot acquisition #13553 @SpadeA-Tang",
          "Fix errors occurred when FLASHBACK fails in the first batch #13672 #13704 #13723 @HuSharp",
          "PD\nFix inaccurate Stream timeout and accelerate leader switchover #5207 @CabinfeverB",
          "Fix inaccurate Stream timeout and accelerate leader switchover #5207 @CabinfeverB",
          "TiFlash\nFix the OOM issue due to oversized WAL files that occurs when PageStorage GC does not clear the Page deletion marker properly #6163 @JaySon-Huang",
          "Fix the OOM issue due to oversized WAL files that occurs when PageStorage GC does not clear the Page deletion marker properly #6163 @JaySon-Huang",
          "Tools\nTiDB Dashboard\nFix the TiDB OOM issue when querying execution plans of certain complex SQL statements #1386 @baurine\nFix the issue that the Top SQL switch might not take effect when NgMonitoring loses the connection to the PD nodes #164 @zhongzc\nBackup & Restore (BR)\nFix the restoration failure issue caused by PD leader switch during the restoration process #36910 @MoCuishle28\nFix the issue that the log backup task cannot be paused #38250 @joccau\nFix the issue that when BR deletes log backup data, it mistakenly deletes data that should not be deleted #38939 @Leavrth\nFix the issue that BR fails to delete data when deleting the log backup data stored in Azure Blob Storage or Google Cloud Storage for the first time #38229 @Leavrth\nTiCDC\nFix the issue that sasl-password in the changefeed query result is not masked #7182 @dveeden\nFix the issue that TiCDC might become unavailable when too many operations in an etcd transaction are committed #7131 @asddongmen\nFix the issue that redo logs might be deleted incorrectly #6413 @asddongmen\nFix performance regression when replicating wide tables in Kafka Sink V2 #7344 @hi-rustin\nFix the issue that checkpoint ts might be advanced incorrectly #7274 @hi-rustin\nFix the issue that too many logs are printed due to improper log level of the mounter module #7235 @hi-rustin\nFix the issue that a TiCDC cluster might have two owners #4051 @asddongmen\nTiDB Data Migration (DM)\nFix the issue that DM WebUI generates the wrong allow-list parameter #7096 @zoubingwu\nFix the issue that a DM-worker has a certain probability of triggering data race when it starts or stops #6401 @liumengya94\nFix the issue that when DM replicates an UPDATE or DELETE statement but the corresponding row data does not exist, DM silently ignores the event #6383 @GMHDBJD\nFix the issue that the secondsBehindMaster field is not displayed after you run the query-status command #7189 @GMHDBJD\nFix the issue that updating the checkpoint may trigger a large transaction #5010 @lance6716\nFix the issue that in full task mode, when a task enters the sync stage and fails immediately, DM may lose upstream table schema information #7159 @lance6716\nFix the issue that deadlock may be triggered when the consistency check is enabled #7241 @buchuitoudegou\nFix the issue that task precheck requires the SELECT privilege for the INFORMATION_SCHEMA table #7317 @lance6716\nFix the issue that an empty TLS configuration causes an error #7384 @liumengya94\nTiDB Lightning\nFix the import performance degradation when importing the Apache Parquet files to the target tables that contain the string type columns in thebinary encoding format #38351 @dsdashun\nTiDB Dumpling\nFix the issue that Dumpling might time out when exporting a lot of tables #36549 @lance6716\nFix lock errors reported when consistency lock is enabled but the upstream has no target table #38683 @lance6716",
          "TiDB Dashboard\nFix the TiDB OOM issue when querying execution plans of certain complex SQL statements #1386 @baurine\nFix the issue that the Top SQL switch might not take effect when NgMonitoring loses the connection to the PD nodes #164 @zhongzc",
          "Fix the TiDB OOM issue when querying execution plans of certain complex SQL statements #1386 @baurine",
          "Fix the issue that the Top SQL switch might not take effect when NgMonitoring loses the connection to the PD nodes #164 @zhongzc",
          "Backup & Restore (BR)\nFix the restoration failure issue caused by PD leader switch during the restoration process #36910 @MoCuishle28\nFix the issue that the log backup task cannot be paused #38250 @joccau\nFix the issue that when BR deletes log backup data, it mistakenly deletes data that should not be deleted #38939 @Leavrth\nFix the issue that BR fails to delete data when deleting the log backup data stored in Azure Blob Storage or Google Cloud Storage for the first time #38229 @Leavrth",
          "Fix the restoration failure issue caused by PD leader switch during the restoration process #36910 @MoCuishle28",
          "Fix the issue that the log backup task cannot be paused #38250 @joccau",
          "Fix the issue that when BR deletes log backup data, it mistakenly deletes data that should not be deleted #38939 @Leavrth",
          "Fix the issue that BR fails to delete data when deleting the log backup data stored in Azure Blob Storage or Google Cloud Storage for the first time #38229 @Leavrth",
          "TiCDC\nFix the issue that sasl-password in the changefeed query result is not masked #7182 @dveeden\nFix the issue that TiCDC might become unavailable when too many operations in an etcd transaction are committed #7131 @asddongmen\nFix the issue that redo logs might be deleted incorrectly #6413 @asddongmen\nFix performance regression when replicating wide tables in Kafka Sink V2 #7344 @hi-rustin\nFix the issue that checkpoint ts might be advanced incorrectly #7274 @hi-rustin\nFix the issue that too many logs are printed due to improper log level of the mounter module #7235 @hi-rustin\nFix the issue that a TiCDC cluster might have two owners #4051 @asddongmen",
          "Fix the issue that sasl-password in the changefeed query result is not masked #7182 @dveeden",
          "Fix the issue that TiCDC might become unavailable when too many operations in an etcd transaction are committed #7131 @asddongmen",
          "Fix the issue that redo logs might be deleted incorrectly #6413 @asddongmen",
          "Fix performance regression when replicating wide tables in Kafka Sink V2 #7344 @hi-rustin",
          "Fix the issue that checkpoint ts might be advanced incorrectly #7274 @hi-rustin",
          "Fix the issue that too many logs are printed due to improper log level of the mounter module #7235 @hi-rustin",
          "Fix the issue that a TiCDC cluster might have two owners #4051 @asddongmen",
          "TiDB Data Migration (DM)\nFix the issue that DM WebUI generates the wrong allow-list parameter #7096 @zoubingwu\nFix the issue that a DM-worker has a certain probability of triggering data race when it starts or stops #6401 @liumengya94\nFix the issue that when DM replicates an UPDATE or DELETE statement but the corresponding row data does not exist, DM silently ignores the event #6383 @GMHDBJD\nFix the issue that the secondsBehindMaster field is not displayed after you run the query-status command #7189 @GMHDBJD\nFix the issue that updating the checkpoint may trigger a large transaction #5010 @lance6716\nFix the issue that in full task mode, when a task enters the sync stage and fails immediately, DM may lose upstream table schema information #7159 @lance6716\nFix the issue that deadlock may be triggered when the consistency check is enabled #7241 @buchuitoudegou\nFix the issue that task precheck requires the SELECT privilege for the INFORMATION_SCHEMA table #7317 @lance6716\nFix the issue that an empty TLS configuration causes an error #7384 @liumengya94",
          "Fix the issue that DM WebUI generates the wrong allow-list parameter #7096 @zoubingwu",
          "Fix the issue that a DM-worker has a certain probability of triggering data race when it starts or stops #6401 @liumengya94",
          "Fix the issue that when DM replicates an UPDATE or DELETE statement but the corresponding row data does not exist, DM silently ignores the event #6383 @GMHDBJD",
          "Fix the issue that the secondsBehindMaster field is not displayed after you run the query-status command #7189 @GMHDBJD",
          "Fix the issue that updating the checkpoint may trigger a large transaction #5010 @lance6716",
          "Fix the issue that in full task mode, when a task enters the sync stage and fails immediately, DM may lose upstream table schema information #7159 @lance6716",
          "Fix the issue that deadlock may be triggered when the consistency check is enabled #7241 @buchuitoudegou",
          "Fix the issue that task precheck requires the SELECT privilege for the INFORMATION_SCHEMA table #7317 @lance6716",
          "Fix the issue that an empty TLS configuration causes an error #7384 @liumengya94",
          "TiDB Lightning\nFix the import performance degradation when importing the Apache Parquet files to the target tables that contain the string type columns in thebinary encoding format #38351 @dsdashun",
          "Fix the import performance degradation when importing the Apache Parquet files to the target tables that contain the string type columns in thebinary encoding format #38351 @dsdashun",
          "TiDB Dumpling\nFix the issue that Dumpling might time out when exporting a lot of tables #36549 @lance6716\nFix lock errors reported when consistency lock is enabled but the upstream has no target table #38683 @lance6716",
          "Fix the issue that Dumpling might time out when exporting a lot of tables #36549 @lance6716",
          "Fix lock errors reported when consistency lock is enabled but the upstream has no target table #38683 @lance6716"
        ]
      }
    ]
  },
  {
    "major_version": "6.3",
    "patches": [
      {
        "version": "6.3.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.3.0/",
        "changes": [
          "Add a new syntactic sugar (Range INTERVAL partitioning) to simplify Range partition definitions (experimental) #35683 @mjonss\nTiDB provides INTERVAL partitioning as a new way of defining Range partitions. You do not need to enumerate all partitions, which drastically reduces the length of Range partitioning DDL statements. The syntax is equivalent to that of the original Range partitioning.",
          "Range COLUMNS partitioning supports defining multiple columns #36636 @mjonss\nTiDB supports PARTITION BY RANGE COLUMNS (column_list). column_list is no longer limited to a single column. The basic feature is the same as MySQL.",
          "EXCHANGE PARTITION becomes GA #35996 @ymkzpx",
          "Support pushdown of two more window functions to TiFlash #5579 @SeaRise\nLEAD()\nLAG()",
          "LEAD()",
          "LAG()",
          "Provide lightweight metadata lock to improve the DML success rate during DDL change (experimental) #37275 @wjhuang2016\nTiDB uses the online asynchronous schema change algorithm to support changing metadata objects. When a transaction is executed, it obtains the corresponding metadata snapshot at the transaction start. If the metadata is changed during a transaction, to ensure data consistency, TiDB returns an Information schema is changed error and the transaction fails to commit. To solve the problem, TiDB v6.3.0 introduces metadata lock into the online DDL algorithm. To avoid DML errors whenever possible, TiDB coordinates the priority of DMLs and DDLs during table metadata change, and makes executing DDLs wait for the DMLs with old metadata to commit.",
          "Improve the performance of adding indexes and reduce its impact on DML transactions (experimental) #35983 @benjamin2037\nTo improve the speed of backfilling when creating an index, TiDB v6.3.0 accelerates the ADD INDEX and CREATE INDEX DDL operations when the tidb_ddl_enable_fast_reorg system variable is enabled. When the feature is enabled, the performance of adding indexes is about tripled.",
          "TiDB\nTiDB is now case-insensitive to the target table name when checking the table existence #34610 @tiancaiamao\nImprove MySQL compatibility by adding a parsing check when setting the value of init_connect #35324 @CbcWestwolf\nImprove the log warning generated for new connections #34964 @xiongjiwei\nOptimize the HTTP API for querying DDL history jobs, and add support for the start_job_id parameter #35838 @tiancaiamao\nReport errors when the JSON path has wrong syntax #22525 #34959 @xiongjiwei\nImprove the performance of Join operations by fixing a false sharing issue #37641 @gengliqi\nSupport exporting the execution plan information of multiple SQL statements at a time using PLAN REPLAYER, which makes troubleshooting more efficient #37798 @Yisaer",
          "TiDB is now case-insensitive to the target table name when checking the table existence #34610 @tiancaiamao",
          "Improve MySQL compatibility by adding a parsing check when setting the value of init_connect #35324 @CbcWestwolf",
          "Improve the log warning generated for new connections #34964 @xiongjiwei",
          "Optimize the HTTP API for querying DDL history jobs, and add support for the start_job_id parameter #35838 @tiancaiamao",
          "Report errors when the JSON path has wrong syntax #22525 #34959 @xiongjiwei",
          "Improve the performance of Join operations by fixing a false sharing issue #37641 @gengliqi",
          "Support exporting the execution plan information of multiple SQL statements at a time using PLAN REPLAYER, which makes troubleshooting more efficient #37798 @Yisaer",
          "TiKV\nSupport configuring the unreachable_backoff item to avoid Raftstore broadcasting too many messages after one peer becomes unreachable #13054 @5kbpers\nImprove the fault tolerance of TSO service #12794 @pingyu\nSupport dynamically modifying the number of sub-compaction operations performed concurrently in RocksDB (rocksdb.max-sub-compactions) #13145 @ethercflow\nOptimize the performance of merging empty Regions #12421 @tabokie\nSupport more regular expression functions #13483 @gengliqi\nSupport automatically adjusting the thread pool size based on the CPU usage #13313 @glorv",
          "Support configuring the unreachable_backoff item to avoid Raftstore broadcasting too many messages after one peer becomes unreachable #13054 @5kbpers",
          "Improve the fault tolerance of TSO service #12794 @pingyu",
          "Support dynamically modifying the number of sub-compaction operations performed concurrently in RocksDB (rocksdb.max-sub-compactions) #13145 @ethercflow",
          "Optimize the performance of merging empty Regions #12421 @tabokie",
          "Support more regular expression functions #13483 @gengliqi",
          "Support automatically adjusting the thread pool size based on the CPU usage #13313 @glorv",
          "PD\nImprove the query of the TiKV IO MBps metric in TiDB Dashboard #5366 @YiniXu9506\nModify the URL in TiDB Dashboard from metrics to monitoring #5366 @YiniXu9506",
          "Improve the query of the TiKV IO MBps metric in TiDB Dashboard #5366 @YiniXu9506",
          "Modify the URL in TiDB Dashboard from metrics to monitoring #5366 @YiniXu9506",
          "TiFlash\nSupport pushing down the elt function to TiFlash #5104 @Willendless\nSupport pushing down the leftShift function to TiFlash #5099 @AnnieoftheStars\nSupport pushing down the castTimeAsDuration function to TiFlash #5306 @AntiTopQuark\nSupport pushing down the HexIntArg/HexStrArg function to TiFlash #5107 @YangKeao\nRefactor TiFlash's interpreter, and support the new interpreter Planner #4739 @SeaRise\nImprove the accuracy of memory tracker in TiFlash #5609 @bestwoody\nImprove the performance of string columns with the UTF8_BIN/ASCII_BIN/LATIN1_BIN/UTF8MB4_BIN collations #5294 @solotzg\nCalculate the I/O throughput in background in ReadLimiter #5401, #5091 @Lloyd-Pottiger",
          "Support pushing down the elt function to TiFlash #5104 @Willendless",
          "Support pushing down the leftShift function to TiFlash #5099 @AnnieoftheStars",
          "Support pushing down the castTimeAsDuration function to TiFlash #5306 @AntiTopQuark",
          "Support pushing down the HexIntArg/HexStrArg function to TiFlash #5107 @YangKeao",
          "Refactor TiFlash's interpreter, and support the new interpreter Planner #4739 @SeaRise",
          "Improve the accuracy of memory tracker in TiFlash #5609 @bestwoody",
          "Improve the performance of string columns with the UTF8_BIN/ASCII_BIN/LATIN1_BIN/UTF8MB4_BIN collations #5294 @solotzg",
          "Calculate the I/O throughput in background in ReadLimiter #5401, #5091 @Lloyd-Pottiger",
          "Tools\nBackup & Restore (BR)\nPITR can merge small files generated in log backup, which greatly reduces the number of backup files #13232 @Leavrth\nPITR supports automatically configuring the number of TiFlash replicas based on the upstream cluster configuration after the restoration #37208 @YuJuncen\nTiCDC\nImprove TiCDC's compatibility with the concurrent DDL framework introduced in the upstream TiDB #6506 @lance6716\nSupport logging start ts of DML statements when MySQL sink gets an error #6460 @overvenus\nEnhance the api/v1/health API to return a more accurate health state of a TiCDC cluster #4757 @overvenus\nImplement MQ sink and MySQL sink in the asynchronous mode to improve the sink throughput #5928 @hicqu @hi-rustin\nDelete the deprecated pulsar sink #7087 @hi-rustin\nImprove replication performance by discarding DDL statements that are irrelevant to a changefeed #6447 @asddongmen\nTiDB Data Migration (DM)\nImprove compatibility with MySQL 8.0 as data source #6448 @lance6716\nOptimize DDL by executing DDL asynchronously when encounter \"invalid connection\" #4689 @lyzx2001\nTiDB Lightning\nAdd query parameters for S3 external storage URL to support accessing the S3 data in another account by assuming a given role #36891 @dsdashun",
          "Backup & Restore (BR)\nPITR can merge small files generated in log backup, which greatly reduces the number of backup files #13232 @Leavrth\nPITR supports automatically configuring the number of TiFlash replicas based on the upstream cluster configuration after the restoration #37208 @YuJuncen",
          "PITR can merge small files generated in log backup, which greatly reduces the number of backup files #13232 @Leavrth",
          "PITR supports automatically configuring the number of TiFlash replicas based on the upstream cluster configuration after the restoration #37208 @YuJuncen",
          "TiCDC\nImprove TiCDC's compatibility with the concurrent DDL framework introduced in the upstream TiDB #6506 @lance6716\nSupport logging start ts of DML statements when MySQL sink gets an error #6460 @overvenus\nEnhance the api/v1/health API to return a more accurate health state of a TiCDC cluster #4757 @overvenus\nImplement MQ sink and MySQL sink in the asynchronous mode to improve the sink throughput #5928 @hicqu @hi-rustin\nDelete the deprecated pulsar sink #7087 @hi-rustin\nImprove replication performance by discarding DDL statements that are irrelevant to a changefeed #6447 @asddongmen",
          "Improve TiCDC's compatibility with the concurrent DDL framework introduced in the upstream TiDB #6506 @lance6716",
          "Support logging start ts of DML statements when MySQL sink gets an error #6460 @overvenus",
          "Enhance the api/v1/health API to return a more accurate health state of a TiCDC cluster #4757 @overvenus",
          "Implement MQ sink and MySQL sink in the asynchronous mode to improve the sink throughput #5928 @hicqu @hi-rustin",
          "Delete the deprecated pulsar sink #7087 @hi-rustin",
          "Improve replication performance by discarding DDL statements that are irrelevant to a changefeed #6447 @asddongmen",
          "TiDB Data Migration (DM)\nImprove compatibility with MySQL 8.0 as data source #6448 @lance6716\nOptimize DDL by executing DDL asynchronously when encounter \"invalid connection\" #4689 @lyzx2001",
          "Improve compatibility with MySQL 8.0 as data source #6448 @lance6716",
          "Optimize DDL by executing DDL asynchronously when encounter \"invalid connection\" #4689 @lyzx2001",
          "TiDB Lightning\nAdd query parameters for S3 external storage URL to support accessing the S3 data in another account by assuming a given role #36891 @dsdashun",
          "Add query parameters for S3 external storage URL to support accessing the S3 data in another account by assuming a given role #36891 @dsdashun",
          "TiDB\nFix the issue that the privilege check is skipped for PREPARE statements #35784 @lcwangchao\nFix the issue that the system variable tidb_enable_noop_variable can be set to WARN #36647 @lcwangchao\nFix the issue that when an expression index is defined, the ORDINAL_POSITION column of the INFORMATION_SCHEMA.COLUMNS table might be incorrect #31200 @bb7133\nFix the issue that TiDB does not report an error when the timestamp is larger than MAXINT32 #31585 @bb7133\nFix the issue that TiDB server cannot be started when the enterprise plugin is used #37319 @xhebox\nFix the incorrect output of SHOW CREATE PLACEMENT POLICY #37526 @xhebox\nFix the unexpected EXCHANGE PARTITION behaviors with temporary tables #37201 @lcwangchao\nFix the issue that querying INFORMATION_SCHEMA.TIKV_REGION_STATUS returns an incorrect result @zimulala\nFix the issue that the EXPLAIN query on views does not check privileges #34326 @hawkingrei\nFix the issue that JSON null cannot be updated to NULL #37852 @YangKeao\nFix the issue that row_count of DDL jobs is inaccurate #25968 @Defined2014\nFix the issue that FLASHBACK TABLE does not work properly #37386 @tiancaiamao\nFix the issue of failing to handle prepared statement flags in the typical MySQL protocol #36731 @dveeden\nFix the issue of incorrect TiDB status that might appear on startup in some extreme cases #36791 @xhebox\nFix the issue that INFORMATION_SCHEMA.VARIABLES_INFO does not comply with security enhanced mode (SEM) #37586 @CbcWestwolf\nFix the issue that casting string to string goes wrong in queries with UNION #31678 @cbcwestwolf\nFix the wrong result that occurs when enabling dynamic mode in partitioned tables for TiFlash #37254 @wshwsh12\nFix the issue that the cast and comparison between binary strings and JSON in TiDB are incompatible with MySQL #31918 #25053 @YangKeao\nFix the issue that JSON_OBJECTAGG and JSON_ARRAYAGG in TiDB are not compatible with MySQL on binary values #25053 @YangKeao\nFix the issue that the comparison between JSON opaque values causes panic #37315 @YangKeao\nFix the issue that the single precision float cannot be used in JSON aggregation functions #37287 @YangKeao\nFix the issue that the UNION operator might return unexpected empty result #36903 @tiancaiamao\nFix the issue that the result of the castRealAsTime expression is inconsistent with MySQL #37462 @mengxin9014\nFix the issue that pessimistic DML operations lock non-unique index keys #36235 @ekexium\nFix the issue that auto-commit change affects transaction commit behaviours #36581 @cfzjywxk\nFix the issue that the EXPLAIN ANALYZE statement with DML executors might return result before the transaction commit finishes #37373 @cfzjywxk\nFix the issue that the UPDATE statements incorrectly eliminate the projection in some cases, which causes the Can't find column error #37568 @AilinKid\nFix the issue that the Join Reorder operation will mistakenly push down its Outer Join condition #37238 @AilinKid\nFix the issue that the IN and NOT IN subqueries in some patterns report the Can't find column error #37032 @AilinKid\nFix the issue that Can't find column is reported if an UPDATE statement contains common table expressions (CTE) #35758 @AilinKid\nFix incorrect PromQL #35856 @Defined2014",
          "Fix the issue that the privilege check is skipped for PREPARE statements #35784 @lcwangchao",
          "Fix the issue that the system variable tidb_enable_noop_variable can be set to WARN #36647 @lcwangchao",
          "Fix the issue that when an expression index is defined, the ORDINAL_POSITION column of the INFORMATION_SCHEMA.COLUMNS table might be incorrect #31200 @bb7133",
          "Fix the issue that TiDB does not report an error when the timestamp is larger than MAXINT32 #31585 @bb7133",
          "Fix the issue that TiDB server cannot be started when the enterprise plugin is used #37319 @xhebox",
          "Fix the incorrect output of SHOW CREATE PLACEMENT POLICY #37526 @xhebox",
          "Fix the unexpected EXCHANGE PARTITION behaviors with temporary tables #37201 @lcwangchao",
          "Fix the issue that querying INFORMATION_SCHEMA.TIKV_REGION_STATUS returns an incorrect result @zimulala",
          "Fix the issue that the EXPLAIN query on views does not check privileges #34326 @hawkingrei",
          "Fix the issue that JSON null cannot be updated to NULL #37852 @YangKeao",
          "Fix the issue that row_count of DDL jobs is inaccurate #25968 @Defined2014",
          "Fix the issue that FLASHBACK TABLE does not work properly #37386 @tiancaiamao",
          "Fix the issue of failing to handle prepared statement flags in the typical MySQL protocol #36731 @dveeden",
          "Fix the issue of incorrect TiDB status that might appear on startup in some extreme cases #36791 @xhebox",
          "Fix the issue that INFORMATION_SCHEMA.VARIABLES_INFO does not comply with security enhanced mode (SEM) #37586 @CbcWestwolf",
          "Fix the issue that casting string to string goes wrong in queries with UNION #31678 @cbcwestwolf",
          "Fix the wrong result that occurs when enabling dynamic mode in partitioned tables for TiFlash #37254 @wshwsh12",
          "Fix the issue that the cast and comparison between binary strings and JSON in TiDB are incompatible with MySQL #31918 #25053 @YangKeao",
          "Fix the issue that JSON_OBJECTAGG and JSON_ARRAYAGG in TiDB are not compatible with MySQL on binary values #25053 @YangKeao",
          "Fix the issue that the comparison between JSON opaque values causes panic #37315 @YangKeao",
          "Fix the issue that the single precision float cannot be used in JSON aggregation functions #37287 @YangKeao",
          "Fix the issue that the UNION operator might return unexpected empty result #36903 @tiancaiamao",
          "Fix the issue that the result of the castRealAsTime expression is inconsistent with MySQL #37462 @mengxin9014",
          "Fix the issue that pessimistic DML operations lock non-unique index keys #36235 @ekexium",
          "Fix the issue that auto-commit change affects transaction commit behaviours #36581 @cfzjywxk",
          "Fix the issue that the EXPLAIN ANALYZE statement with DML executors might return result before the transaction commit finishes #37373 @cfzjywxk",
          "Fix the issue that the UPDATE statements incorrectly eliminate the projection in some cases, which causes the Can't find column error #37568 @AilinKid",
          "Fix the issue that the Join Reorder operation will mistakenly push down its Outer Join condition #37238 @AilinKid",
          "Fix the issue that the IN and NOT IN subqueries in some patterns report the Can't find column error #37032 @AilinKid",
          "Fix the issue that Can't find column is reported if an UPDATE statement contains common table expressions (CTE) #35758 @AilinKid",
          "Fix incorrect PromQL #35856 @Defined2014",
          "TiKV\nFix the issue that PD does not reconnect to TiKV after the Region heartbeat is interrupted #12934 @bufferflies\nFix the issue that Regions might be overlapped if Raftstore is busy #13160 @5kbpers\nFix the issue that the PD client might cause deadlocks #13191 @bufferflies #12933 @BurtonQin\nFix the issue that TiKV might panic when encryption is disabled #13081 @jiayang-zheng\nFix the wrong expression of Unified Read Pool CPU in Dashboard #13086 @glorv\nFix the issue that the TiKV service is unavailable for several minutes when a TiKV instance is in an isolated network environment #12966 @cosven\nFix the issue that TiKV mistakenly reports a PessimisticLockNotFound error #13425 @sticnarf\nFix the issue that PITR might cause data loss in some situations #13281 @YuJuncen\nFix the issue that causes checkpoint not advanced when there are some long pessimistic transactions #13304 @YuJuncen\nFix the issue that TiKV does not distinguish the datetime type (DATETIME, DATE, TIMESTAMP and TIME) and STRING type in JSON #13417 @YangKeao\nFix incompatibility with MySQL of comparison between JSON bool and other JSON value #13386 #37481 @YangKeao",
          "Fix the issue that PD does not reconnect to TiKV after the Region heartbeat is interrupted #12934 @bufferflies",
          "Fix the issue that Regions might be overlapped if Raftstore is busy #13160 @5kbpers",
          "Fix the issue that the PD client might cause deadlocks #13191 @bufferflies #12933 @BurtonQin",
          "Fix the issue that TiKV might panic when encryption is disabled #13081 @jiayang-zheng",
          "Fix the wrong expression of Unified Read Pool CPU in Dashboard #13086 @glorv",
          "Fix the issue that the TiKV service is unavailable for several minutes when a TiKV instance is in an isolated network environment #12966 @cosven",
          "Fix the issue that TiKV mistakenly reports a PessimisticLockNotFound error #13425 @sticnarf",
          "Fix the issue that PITR might cause data loss in some situations #13281 @YuJuncen",
          "Fix the issue that causes checkpoint not advanced when there are some long pessimistic transactions #13304 @YuJuncen",
          "Fix the issue that TiKV does not distinguish the datetime type (DATETIME, DATE, TIMESTAMP and TIME) and STRING type in JSON #13417 @YangKeao",
          "Fix incompatibility with MySQL of comparison between JSON bool and other JSON value #13386 #37481 @YangKeao",
          "PD\nFix PD panics caused by the issue that gRPC handles errors inappropriately when enable-forwarding is enabled #5373 @bufferflies\nFix the issue that unhealthy Region might cause PD panic #5491 @nolouch\nFix the issue that the TiFlash learner replica might not be created #5401 @HunDunDM",
          "Fix PD panics caused by the issue that gRPC handles errors inappropriately when enable-forwarding is enabled #5373 @bufferflies",
          "Fix the issue that unhealthy Region might cause PD panic #5491 @nolouch",
          "Fix the issue that the TiFlash learner replica might not be created #5401 @HunDunDM",
          "TiFlash\nFix the issue that a window function might cause TiFlash to crash when the query is canceled #5814 @SeaRise\nFix the issue that wrong data input for CAST(value AS DATETIME) causing high TiFlash sys CPU #5097 @xzhangxian1008\nFix the issue that the result of CAST(Real/Decimal AS time) is inconsistent with MySQL #3779 @mengxin9014\nFix the issue that some obsolete data in storage cannot be deleted #5570 @JaySon-Huang\nFix the issue that page GC might block creating tables #5697 @JaySon-Huang\nFix the panic that occurs after creating the primary index with a column containing the NULL value #5859 @JaySon-Huang",
          "Fix the issue that a window function might cause TiFlash to crash when the query is canceled #5814 @SeaRise",
          "Fix the issue that wrong data input for CAST(value AS DATETIME) causing high TiFlash sys CPU #5097 @xzhangxian1008",
          "Fix the issue that the result of CAST(Real/Decimal AS time) is inconsistent with MySQL #3779 @mengxin9014",
          "Fix the issue that some obsolete data in storage cannot be deleted #5570 @JaySon-Huang",
          "Fix the issue that page GC might block creating tables #5697 @JaySon-Huang",
          "Fix the panic that occurs after creating the primary index with a column containing the NULL value #5859 @JaySon-Huang",
          "Tools\nBackup & Restore (BR)\nFix the issue that might cause the information of the checkpoint being stale #36423 @YuJuncen\nFix the issue that the regions are not balanced because the concurrency is set too large during the restoration #37549 @3pointer\nFix the issue that might cause log backup checkpoint TS stuck when TiCDC exists in the cluster #37822 @YuJuncen\nFix the issue that might lead to backup and restoration failure if special characters exist in the authorization key of external storage #37469 @MoCuishle28\nTiCDC\nFix the issue that TiCDC returns an inaccurate error for a wrong PD address with a grpc service #6458 @crelax\nFix the issue that the cdc cause cli changefeed list command does not return failed changefeeds #6334 @asddongmen\nFix the issue that TiCDC is unavailable when changefeed initialization fails #6859 @asddongmen\nTiDB Binlog\nFix the issue that Drainer cannot send requests correctly to Pump when compressor is set to gzip #1152 @lichunzhu\nTiDB Data Migration (DM)\nFix the issue that DM reports the Specified key was too long error #5315 @lance6716\nFix goroutine leak when relay meets an error #6193 @lance6716\nFix the issue that when collation_compatible is set to \"strict\", DM might generate SQL with duplicated collations #6832 @lance6716\nReduce the appearance of the warning message \"found error when get timezone from binlog status_vars\" in DM-worker log #6628 @lyzx2001\nFix the issue that latin1 data might be corrupted during replication #7028 @lance6716\nTiDB Lightning\nFix the issue that TiDB Lightning does not support columns starting with slash, number, or non-ascii characters in Parquet files #36980 @D3Hunter",
          "Backup & Restore (BR)\nFix the issue that might cause the information of the checkpoint being stale #36423 @YuJuncen\nFix the issue that the regions are not balanced because the concurrency is set too large during the restoration #37549 @3pointer\nFix the issue that might cause log backup checkpoint TS stuck when TiCDC exists in the cluster #37822 @YuJuncen\nFix the issue that might lead to backup and restoration failure if special characters exist in the authorization key of external storage #37469 @MoCuishle28",
          "Fix the issue that might cause the information of the checkpoint being stale #36423 @YuJuncen",
          "Fix the issue that the regions are not balanced because the concurrency is set too large during the restoration #37549 @3pointer",
          "Fix the issue that might cause log backup checkpoint TS stuck when TiCDC exists in the cluster #37822 @YuJuncen",
          "Fix the issue that might lead to backup and restoration failure if special characters exist in the authorization key of external storage #37469 @MoCuishle28",
          "TiCDC\nFix the issue that TiCDC returns an inaccurate error for a wrong PD address with a grpc service #6458 @crelax\nFix the issue that the cdc cause cli changefeed list command does not return failed changefeeds #6334 @asddongmen\nFix the issue that TiCDC is unavailable when changefeed initialization fails #6859 @asddongmen",
          "Fix the issue that TiCDC returns an inaccurate error for a wrong PD address with a grpc service #6458 @crelax",
          "Fix the issue that the cdc cause cli changefeed list command does not return failed changefeeds #6334 @asddongmen",
          "Fix the issue that TiCDC is unavailable when changefeed initialization fails #6859 @asddongmen",
          "TiDB Binlog\nFix the issue that Drainer cannot send requests correctly to Pump when compressor is set to gzip #1152 @lichunzhu",
          "Fix the issue that Drainer cannot send requests correctly to Pump when compressor is set to gzip #1152 @lichunzhu",
          "TiDB Data Migration (DM)\nFix the issue that DM reports the Specified key was too long error #5315 @lance6716\nFix goroutine leak when relay meets an error #6193 @lance6716\nFix the issue that when collation_compatible is set to \"strict\", DM might generate SQL with duplicated collations #6832 @lance6716\nReduce the appearance of the warning message \"found error when get timezone from binlog status_vars\" in DM-worker log #6628 @lyzx2001\nFix the issue that latin1 data might be corrupted during replication #7028 @lance6716",
          "Fix the issue that DM reports the Specified key was too long error #5315 @lance6716",
          "Fix goroutine leak when relay meets an error #6193 @lance6716",
          "Fix the issue that when collation_compatible is set to \"strict\", DM might generate SQL with duplicated collations #6832 @lance6716",
          "Reduce the appearance of the warning message \"found error when get timezone from binlog status_vars\" in DM-worker log #6628 @lyzx2001",
          "Fix the issue that latin1 data might be corrupted during replication #7028 @lance6716",
          "TiDB Lightning\nFix the issue that TiDB Lightning does not support columns starting with slash, number, or non-ascii characters in Parquet files #36980 @D3Hunter",
          "Fix the issue that TiDB Lightning does not support columns starting with slash, number, or non-ascii characters in Parquet files #36980 @D3Hunter"
        ]
      }
    ]
  },
  {
    "major_version": "6.2",
    "patches": [
      {
        "version": "6.2.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.2.0/",
        "changes": [
          "The physical data compaction feature is GA\nThe TiFlash backend automatically compacts physical data based on specific conditions to reduce the backlog of useless data and optimize the data storage structure.\nThere is often a certain amount of useless data in TiFlash tables before data compaction is automatically triggered. This feature lets you choose the right timing and manually execute SQL statements to immediately compact the physical data in TiFlash, thus reducing storage space usage and improving query performance. This feature is experimental in TiDB v6.1, and now is in General Availability (GA) in TiDB v6.2.0.\nUser document #4145 @breezewish",
          "TiDB\nSupport the SHOW COUNT(*) WARNINGS and SHOW COUNT(*) ERRORS statements #25068 @likzn\nAdd validation check for some system variables #35048 @morgo\nOptimize the error messages for some type conversions #32744 @fanrenhoo\nThe KILL command now supports DDL operations #24144 @morgo\nMake the output of SHOW TABLES/DATABASES LIKE  more MySQL-compatible. The column names in the output contain the LIKE value #35116 @likzn\nImprove the performance of JSON-related functions #35859 @wjhuang2016\nImprove the verification speed of password login using SHA-2 #35998 @virusdefender\nSimplify some log outputs #36011 @dveeden\nOptimize the Coprocessor communication protocol. This can greatly reduce the memory consumption of the TiDB processes when reading data, and further alleviate the OOM issue in the scenario of scanning tables and exporting data by Dumpling. The system variable tidb_enable_paging is introduced to control whether to enable this communication protocol (with the scope of SESSION or GLOBAL). This protocol is disabled by default. To enable it, set the variable value to true #35633 @tiancaiama @wshwsh12\nOptimize the accuracy of memory tracking for some operators (HashJoin, HashAgg, Update, Delete) (#35634, #35631, #35635 @wshwsh12) (#34096 @ekexium)\nThe system table INFORMATION_SCHEMA.DATA_LOCK_WAIT supports recording the locking information of optimistic transactions #34609 @longfangson\nAdd some monitoring metrics for transactions #34456 @longfangsong",
          "Support the SHOW COUNT(*) WARNINGS and SHOW COUNT(*) ERRORS statements #25068 @likzn",
          "Add validation check for some system variables #35048 @morgo",
          "Optimize the error messages for some type conversions #32744 @fanrenhoo",
          "The KILL command now supports DDL operations #24144 @morgo",
          "Make the output of SHOW TABLES/DATABASES LIKE  more MySQL-compatible. The column names in the output contain the LIKE value #35116 @likzn",
          "Improve the performance of JSON-related functions #35859 @wjhuang2016",
          "Improve the verification speed of password login using SHA-2 #35998 @virusdefender",
          "Simplify some log outputs #36011 @dveeden",
          "Optimize the Coprocessor communication protocol. This can greatly reduce the memory consumption of the TiDB processes when reading data, and further alleviate the OOM issue in the scenario of scanning tables and exporting data by Dumpling. The system variable tidb_enable_paging is introduced to control whether to enable this communication protocol (with the scope of SESSION or GLOBAL). This protocol is disabled by default. To enable it, set the variable value to true #35633 @tiancaiama @wshwsh12",
          "Optimize the accuracy of memory tracking for some operators (HashJoin, HashAgg, Update, Delete) (#35634, #35631, #35635 @wshwsh12) (#34096 @ekexium)",
          "The system table INFORMATION_SCHEMA.DATA_LOCK_WAIT supports recording the locking information of optimistic transactions #34609 @longfangson",
          "Add some monitoring metrics for transactions #34456 @longfangsong",
          "TiKV\nSupport compressing the metrics response using gzip to reduce the HTTP body size #12355 @glorv\nImprove the readability of the TiKV panel in Grafana Dashboard #12007 @kevin-xianliu\nOptimize the commit pipeline performance of the Apply operator #12898 @ethercflow\nSupport dynamically modifying the number of sub-compaction operations performed concurrently in RocksDB (rocksdb.max-sub-compactions) #13145 @ethercflow",
          "Support compressing the metrics response using gzip to reduce the HTTP body size #12355 @glorv",
          "Improve the readability of the TiKV panel in Grafana Dashboard #12007 @kevin-xianliu",
          "Optimize the commit pipeline performance of the Apply operator #12898 @ethercflow",
          "Support dynamically modifying the number of sub-compaction operations performed concurrently in RocksDB (rocksdb.max-sub-compactions) #13145 @ethercflow",
          "PD\nSupport the statistical dimension of CPU usage of a Region and enhance the usage scenarios of Load Base Split #12063 @Jmpotato",
          "Support the statistical dimension of CPU usage of a Region and enhance the usage scenarios of Load Base Split #12063 @Jmpotato",
          "TiFlash\nRefine error handling of the TiFlash MPP engine, thereby enhancing stability #5095 @windtalker @yibin87\nOptimize the comparison and sorting of UTF8_BIN and UTF8MB4_BIN collations #5294 @solotzg",
          "Refine error handling of the TiFlash MPP engine, thereby enhancing stability #5095 @windtalker @yibin87",
          "Optimize the comparison and sorting of UTF8_BIN and UTF8MB4_BIN collations #5294 @solotzg",
          "Tools\nBackup & Restore (BR)\nAdjust the backup data directory structure to fix backup failure caused by S3 rate limiting in large cluster backup #30087 @MoCuishle28\nTiCDC\nReduce performance overhead caused by runtime context switching in multi-Region scenarios #5610 @hicqu\nOptimize redo log performance, and fix meta and data inconsistency problems (#6011 @CharlesCheung96) (#5924 @zhaoxinyu) (#6277 @hicqu)\nTiDB Lightning\nAdd more retryable errors, including EOF, Read index not ready, and Coprocessor timeout #36674, #36566 @D3Hunter\nTiUP\nWhen a new cluster is deployed using TiUP, node-exporter will use the 1.3.1 version, and blackbox-exporter will use the 0.21.1 version, which ensures successful deployment in different systems and environments",
          "Backup & Restore (BR)\nAdjust the backup data directory structure to fix backup failure caused by S3 rate limiting in large cluster backup #30087 @MoCuishle28",
          "Adjust the backup data directory structure to fix backup failure caused by S3 rate limiting in large cluster backup #30087 @MoCuishle28",
          "TiCDC\nReduce performance overhead caused by runtime context switching in multi-Region scenarios #5610 @hicqu\nOptimize redo log performance, and fix meta and data inconsistency problems (#6011 @CharlesCheung96) (#5924 @zhaoxinyu) (#6277 @hicqu)",
          "Reduce performance overhead caused by runtime context switching in multi-Region scenarios #5610 @hicqu",
          "Optimize redo log performance, and fix meta and data inconsistency problems (#6011 @CharlesCheung96) (#5924 @zhaoxinyu) (#6277 @hicqu)",
          "TiDB Lightning\nAdd more retryable errors, including EOF, Read index not ready, and Coprocessor timeout #36674, #36566 @D3Hunter",
          "Add more retryable errors, including EOF, Read index not ready, and Coprocessor timeout #36674, #36566 @D3Hunter",
          "TiUP\nWhen a new cluster is deployed using TiUP, node-exporter will use the 1.3.1 version, and blackbox-exporter will use the 0.21.1 version, which ensures successful deployment in different systems and environments",
          "When a new cluster is deployed using TiUP, node-exporter will use the 1.3.1 version, and blackbox-exporter will use the 0.21.1 version, which ensures successful deployment in different systems and environments",
          "TiDB\nFix the issue that a partition is incorrectly pruned if a partition key is used in the query condition and the collate is different from the one in the query partition table #32749 @mjonss\nFix the issue that SET ROLE cannot match the granted role if there are capital letters in the host #33061 @morgo\nFix the issue that columns with auto_increment cannot be dropped #34891 @Defined2014\nFix the issue that SHOW CONFIG shows some configuration items that have been removed #34867 @morgo\nFix the issue that SHOW DATABASES LIKE  is case-sensitive #34766 @e1ijah1\nFix the issue that SHOW TABLE STATUS LIKE ... is case-sensitive #7518 @likzn\nFix the issue that max-index-length still reports an error in non-strict mode #34931 @e1ijah1\nFix the issue that ALTER COLUMN ... DROP DEFAULT does not work #35018 @Defined2014\nFix the issue that when you create a table, the default value and the type of a column are not consistent and are not automatically corrected #34881 @Lloyd-Pottiger\nFix the issue that data in the mysql.columns_priv table is not deleted synchronously after you run DROP USER #35059 @lcwangchao\nFix the issue of DDL jam by disallowing creating tables within the schemas of some systems #35205 @tangenta\nFix the issue that querying partitioned tables might report \"index-out-of-range\" and \"non used index\" errors in some cases #35181 @mjonss\nFix the issue that INTERVAL expr unit + expr might report an error #30253 @mjonss\nFix a bug that a temporary table cannot be found after being created in a transaction #35644 @djshow832\nFix the panic issue that occurs when setting collation to the ENUM column #31637 @wjhuang2016\nFix the issue that when one PD node goes down, the query of information_schema.TIKV_REGION_STATUS fails due to not retrying other PD nodes #35708 @tangenta\nFix the issue that SHOW CREATE TABLE  cannot correctly display set or ENUM columns after SET character_set_results = GBK #31338 @tangenta\nFix the incorrect scope of the system variables tidb_log_file_max_days and tidb_config #35190 @morgo\nFix the issue that the output of SHOW CREATE TABLE is not compatible with MySQL for the ENUM or SET column #36317 @Defined2014\nFix the issue that when creating a table, the behavior of a LONG BYTE column is not compatible with MySQL #36239 @Defined2014\nFix the issue that auto_increment = x does not take effect on temporary tables #36224 @djshow832\nFix the wrong default value when modifying columns concurrently #35846 @wjhuang2016\nAvoid sending requests to unhealthy TiKV nodes to improve availability #34906 @sticnarf\nFix the issue that the column list does not work in the LOAD DATA statement #35198 @SpadeA-Tang\nFix the issue that in some scenarios the pessimistic lock is incorrectly added to the non-unique secondary index #36235 @ekexium",
          "Fix the issue that a partition is incorrectly pruned if a partition key is used in the query condition and the collate is different from the one in the query partition table #32749 @mjonss",
          "Fix the issue that SET ROLE cannot match the granted role if there are capital letters in the host #33061 @morgo",
          "Fix the issue that columns with auto_increment cannot be dropped #34891 @Defined2014",
          "Fix the issue that SHOW CONFIG shows some configuration items that have been removed #34867 @morgo",
          "Fix the issue that SHOW DATABASES LIKE  is case-sensitive #34766 @e1ijah1",
          "Fix the issue that SHOW TABLE STATUS LIKE ... is case-sensitive #7518 @likzn",
          "Fix the issue that max-index-length still reports an error in non-strict mode #34931 @e1ijah1",
          "Fix the issue that ALTER COLUMN ... DROP DEFAULT does not work #35018 @Defined2014",
          "Fix the issue that when you create a table, the default value and the type of a column are not consistent and are not automatically corrected #34881 @Lloyd-Pottiger",
          "Fix the issue that data in the mysql.columns_priv table is not deleted synchronously after you run DROP USER #35059 @lcwangchao",
          "Fix the issue of DDL jam by disallowing creating tables within the schemas of some systems #35205 @tangenta",
          "Fix the issue that querying partitioned tables might report \"index-out-of-range\" and \"non used index\" errors in some cases #35181 @mjonss",
          "Fix the issue that INTERVAL expr unit + expr might report an error #30253 @mjonss",
          "Fix a bug that a temporary table cannot be found after being created in a transaction #35644 @djshow832",
          "Fix the panic issue that occurs when setting collation to the ENUM column #31637 @wjhuang2016",
          "Fix the issue that when one PD node goes down, the query of information_schema.TIKV_REGION_STATUS fails due to not retrying other PD nodes #35708 @tangenta",
          "Fix the issue that SHOW CREATE TABLE  cannot correctly display set or ENUM columns after SET character_set_results = GBK #31338 @tangenta",
          "Fix the incorrect scope of the system variables tidb_log_file_max_days and tidb_config #35190 @morgo",
          "Fix the issue that the output of SHOW CREATE TABLE is not compatible with MySQL for the ENUM or SET column #36317 @Defined2014",
          "Fix the issue that when creating a table, the behavior of a LONG BYTE column is not compatible with MySQL #36239 @Defined2014",
          "Fix the issue that auto_increment = x does not take effect on temporary tables #36224 @djshow832",
          "Fix the wrong default value when modifying columns concurrently #35846 @wjhuang2016",
          "Avoid sending requests to unhealthy TiKV nodes to improve availability #34906 @sticnarf",
          "Fix the issue that the column list does not work in the LOAD DATA statement #35198 @SpadeA-Tang",
          "Fix the issue that in some scenarios the pessimistic lock is incorrectly added to the non-unique secondary index #36235 @ekexium",
          "TiKV\nAvoid reporting WriteConflict errors in pessimistic transactions #11612 @sticnarf\nFix the possible duplicate commit records in pessimistic transactions when async commit is enabled #12615 @sticnarf\nFix the issue that TiKV panics when modifying the storage.api-version from 1 to 2 #12600 @pingyu\nFix the issue of inconsistent Region size configuration between TiKV and PD #12518 @5kbpers\nFix the issue that TiKV keeps reconnecting PD clients #12506, #12827 @Connor1996\nFix the issue that TiKV panics when performing type conversion for an empty string #12673 @wshwsh12\nFix the issue of time parsing error that occurs when the DATETIME values contain a fraction and Z #12739 @gengliqi\nFix the issue that the perf context written by the Apply operator to TiKV RocksDB is coarse-grained #11044 @LykxSassinator\nFix the issue that TiKV fails to start when the configuration of backup/import/cdc is invalid #12771 @3pointer\nFix the panic issue that might occur when a peer is being split and destroyed at the same time #12825 @BusyJay\nFix the panic issue that might occur when the source peer catches up logs by snapshot in the Region merge process #12663 @BusyJay\nFix the panic issue caused by analyzing statistics when max_sample_size is set to 0 #11192 @LykxSassinator\nFix the issue that encryption keys are not cleaned up when Raft Engine is enabled #12890 @tabokie\nFix the issue that the get_valid_int_prefix function is incompatible with TiDB. For example, the FLOAT type was incorrectly converted to INT #13045 @guo-shaoge\nFix the issue that the Commit Log Duration of a new Region is too high, which causes QPS to drop #13077 @Connor1996\nFix the issue that PD does not reconnect to TiKV after the Region heartbeat is interrupted #12934 @bufferflies",
          "Avoid reporting WriteConflict errors in pessimistic transactions #11612 @sticnarf",
          "Fix the possible duplicate commit records in pessimistic transactions when async commit is enabled #12615 @sticnarf",
          "Fix the issue that TiKV panics when modifying the storage.api-version from 1 to 2 #12600 @pingyu",
          "Fix the issue of inconsistent Region size configuration between TiKV and PD #12518 @5kbpers",
          "Fix the issue that TiKV keeps reconnecting PD clients #12506, #12827 @Connor1996",
          "Fix the issue that TiKV panics when performing type conversion for an empty string #12673 @wshwsh12",
          "Fix the issue of time parsing error that occurs when the DATETIME values contain a fraction and Z #12739 @gengliqi",
          "Fix the issue that the perf context written by the Apply operator to TiKV RocksDB is coarse-grained #11044 @LykxSassinator",
          "Fix the issue that TiKV fails to start when the configuration of backup/import/cdc is invalid #12771 @3pointer",
          "Fix the panic issue that might occur when a peer is being split and destroyed at the same time #12825 @BusyJay",
          "Fix the panic issue that might occur when the source peer catches up logs by snapshot in the Region merge process #12663 @BusyJay",
          "Fix the panic issue caused by analyzing statistics when max_sample_size is set to 0 #11192 @LykxSassinator",
          "Fix the issue that encryption keys are not cleaned up when Raft Engine is enabled #12890 @tabokie",
          "Fix the issue that the get_valid_int_prefix function is incompatible with TiDB. For example, the FLOAT type was incorrectly converted to INT #13045 @guo-shaoge",
          "Fix the issue that the Commit Log Duration of a new Region is too high, which causes QPS to drop #13077 @Connor1996",
          "Fix the issue that PD does not reconnect to TiKV after the Region heartbeat is interrupted #12934 @bufferflies",
          "Tools\nBackup & Restore (BR)\nFix the issue that BR does not reset the rate limit after finishing a rate-limited backup task #31722 @MoCuishle28",
          "Backup & Restore (BR)\nFix the issue that BR does not reset the rate limit after finishing a rate-limited backup task #31722 @MoCuishle28",
          "Fix the issue that BR does not reset the rate limit after finishing a rate-limited backup task #31722 @MoCuishle28"
        ]
      }
    ]
  },
  {
    "major_version": "6.1",
    "patches": [
      {
        "version": "6.1.7",
        "date": "2023-07-12",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.1.7/",
        "changes": [
          "TiDB\nUse pessimistic transactions in internal transaction retry to avoid retry failure and reduce time consumption #38136 @jackysp",
          "Use pessimistic transactions in internal transaction retry to avoid retry failure and reduce time consumption #38136 @jackysp",
          "Tools\nTiCDC\nSupport batch UPDATE DML statements to improve TiCDC replication performance #8084 @amyangfei\nTiDB Lightning\nVerify checksum through SQL after the import to improve stability of verification #41941 @GMHDBJD",
          "TiCDC\nSupport batch UPDATE DML statements to improve TiCDC replication performance #8084 @amyangfei",
          "Support batch UPDATE DML statements to improve TiCDC replication performance #8084 @amyangfei",
          "TiDB Lightning\nVerify checksum through SQL after the import to improve stability of verification #41941 @GMHDBJD",
          "Verify checksum through SQL after the import to improve stability of verification #41941 @GMHDBJD",
          "TiDB\nFix the panic issue caused by empty processInfo #43829 @zimulala\nFix the issue that resolve lock might hang when there is a sudden change in PD time #44822 @zyguan\nFix the issue that queries containing Common Table Expressions (CTEs) might cause insufficient disk space #44477 @guo-shaoge\nFix the issue that using CTEs and correlated subqueries simultaneously might result in incorrect query results or panic #44649 #38170 #44774 @winoros @guo-shaoge\nFix the issue that the query result of the SELECT CAST(n AS CHAR) statement is incorrect when n in the statement is a negative number #44786 @xhebox\nFix the query panic issue of TiDB in certain cases #40857 @Dousir9\nFix the issue that SQL compile error logs are not redacted #41831 @lance6716\nFix the issue that the SELECT statement returns an error for a partitioned table if the table partition definition uses the FLOOR() function to round a partitioned column #42323 @jiyfhust\nFix the issue that querying partitioned tables might cause errors during Region split #43144 @lcwangchao\nFix the issue of unnecessary memory usage during reading statistical information #42052 @xuyifangreeneyes\nFix the issue of excessive memory usage after creating a large number of empty partitioned tables #44308 @hawkingrei\nFix the issue that queries might return incorrect results when tidb_opt_agg_push_down is enabled #44795 @AilinKid\nFix the issue that the join result of common table expressions might be wrong #38170 @wjhuang2016\nFix the issue that in some rare cases, residual pessimistic locks of pessimistic transactions might affect data correctness when GC resolves locks #43243 @MyonKeminta\nFix the issue that after a new column is added in the cache table, the value is NULL instead of the default value of the column #42928 @lqs\nFix the issue that TiDB returns an error when the corresponding rows in partitioned tables cannot be found in the probe phase of index join #43686 @AilinKid @mjonss\nFix the issue that dropping a database causes slow GC progress #33069 @tiancaiamao\nFix the issue that data and indexes are inconsistent when the ON UPDATE statement does not correctly update the primary key #44565 @zyguan\nFix the issue that TiCDC might lose some row changes during table renaming #43338 @tangenta\nFix the behavior issue of Placement Rules in partitioned tables, so that the Placement Rules in deleted partitions can be correctly set and recycled #44116 @lcwangchao\nFix the issue that when tidb_scatter_region is enabled, Region does not automatically split after a partition is truncated #43174 #43028\nFix the issue of DDL retry caused by write conflict when executing TRUNCATE TABLE for partitioned tables with many partitions and TiFlash replicas #42940 @mjonss\nFix the issue of incorrect execution plans when pushing down window functions to TiFlash #43922 @gengliqi\nFix the issue that incorrect results might be returned when using a common table expression (CTE) in statements with non-correlated subqueries #44051 @winoros\nFix the issue that using memTracker with cursor fetch causes memory leaks #44254 @YangKeao\nFix the issue that the data length in the QUERY column of the INFORMATION_SCHEMA.DDL_JOBS table might exceed the column definition #42440 @tiancaiamao\nFix the issue that the min, max query result is incorrect #43805 @wshwsh12\nFix the issue that TiDB reports syntax errors when analyzing tables #43392 @guo-shaoge\nFix the issue that the SHOW PROCESSLIST statement cannot display the TxnStart of the transaction of the statement with a long subquery time #40851 @crazycs520\nFix the issue of missing table names in the ADMIN SHOW DDL JOBS result when a DROP TABLE operation is being executed #42268 @tiancaiamao\nFix the issue of displaying the incorrect TiDB address in IPv6 environment #43260 @nexustar\nFix the issue that the SQL statement reports the runtime error: index out of range error when using the AES_DECRYPT expression #43063 @lcwangchao\nFix the issue that there is no warning when using SUBPARTITION to create partitioned tables #41198 #41200 @mjonss\nFix the issue that the query with CTE causes TiDB to hang #43749 #36896 @guo-shaoge\nFix the issue that truncating a partition of a partitioned table might cause the Placement Rule of the partition to become invalid #44031 @lcwangchao\nFix the issue that CTE results are incorrect when pushing down predicates #43645 @winoros\nFix the issue that auto-commit change affects transaction commit behaviours #36581 @cfzjywxk",
          "Fix the panic issue caused by empty processInfo #43829 @zimulala",
          "Fix the issue that resolve lock might hang when there is a sudden change in PD time #44822 @zyguan",
          "Fix the issue that queries containing Common Table Expressions (CTEs) might cause insufficient disk space #44477 @guo-shaoge",
          "Fix the issue that using CTEs and correlated subqueries simultaneously might result in incorrect query results or panic #44649 #38170 #44774 @winoros @guo-shaoge",
          "Fix the issue that the query result of the SELECT CAST(n AS CHAR) statement is incorrect when n in the statement is a negative number #44786 @xhebox",
          "Fix the query panic issue of TiDB in certain cases #40857 @Dousir9",
          "Fix the issue that SQL compile error logs are not redacted #41831 @lance6716",
          "Fix the issue that the SELECT statement returns an error for a partitioned table if the table partition definition uses the FLOOR() function to round a partitioned column #42323 @jiyfhust",
          "Fix the issue that querying partitioned tables might cause errors during Region split #43144 @lcwangchao",
          "Fix the issue of unnecessary memory usage during reading statistical information #42052 @xuyifangreeneyes",
          "Fix the issue of excessive memory usage after creating a large number of empty partitioned tables #44308 @hawkingrei",
          "Fix the issue that queries might return incorrect results when tidb_opt_agg_push_down is enabled #44795 @AilinKid",
          "Fix the issue that the join result of common table expressions might be wrong #38170 @wjhuang2016",
          "Fix the issue that in some rare cases, residual pessimistic locks of pessimistic transactions might affect data correctness when GC resolves locks #43243 @MyonKeminta",
          "Fix the issue that after a new column is added in the cache table, the value is NULL instead of the default value of the column #42928 @lqs",
          "Fix the issue that TiDB returns an error when the corresponding rows in partitioned tables cannot be found in the probe phase of index join #43686 @AilinKid @mjonss",
          "Fix the issue that dropping a database causes slow GC progress #33069 @tiancaiamao",
          "Fix the issue that data and indexes are inconsistent when the ON UPDATE statement does not correctly update the primary key #44565 @zyguan",
          "Fix the issue that TiCDC might lose some row changes during table renaming #43338 @tangenta",
          "Fix the behavior issue of Placement Rules in partitioned tables, so that the Placement Rules in deleted partitions can be correctly set and recycled #44116 @lcwangchao",
          "Fix the issue that when tidb_scatter_region is enabled, Region does not automatically split after a partition is truncated #43174 #43028",
          "Fix the issue of DDL retry caused by write conflict when executing TRUNCATE TABLE for partitioned tables with many partitions and TiFlash replicas #42940 @mjonss",
          "Fix the issue of incorrect execution plans when pushing down window functions to TiFlash #43922 @gengliqi",
          "Fix the issue that incorrect results might be returned when using a common table expression (CTE) in statements with non-correlated subqueries #44051 @winoros",
          "Fix the issue that using memTracker with cursor fetch causes memory leaks #44254 @YangKeao",
          "Fix the issue that the data length in the QUERY column of the INFORMATION_SCHEMA.DDL_JOBS table might exceed the column definition #42440 @tiancaiamao",
          "Fix the issue that the min, max query result is incorrect #43805 @wshwsh12",
          "Fix the issue that TiDB reports syntax errors when analyzing tables #43392 @guo-shaoge",
          "Fix the issue that the SHOW PROCESSLIST statement cannot display the TxnStart of the transaction of the statement with a long subquery time #40851 @crazycs520",
          "Fix the issue of missing table names in the ADMIN SHOW DDL JOBS result when a DROP TABLE operation is being executed #42268 @tiancaiamao",
          "Fix the issue of displaying the incorrect TiDB address in IPv6 environment #43260 @nexustar",
          "Fix the issue that the SQL statement reports the runtime error: index out of range error when using the AES_DECRYPT expression #43063 @lcwangchao",
          "Fix the issue that there is no warning when using SUBPARTITION to create partitioned tables #41198 #41200 @mjonss",
          "Fix the issue that the query with CTE causes TiDB to hang #43749 #36896 @guo-shaoge",
          "Fix the issue that truncating a partition of a partitioned table might cause the Placement Rule of the partition to become invalid #44031 @lcwangchao",
          "Fix the issue that CTE results are incorrect when pushing down predicates #43645 @winoros",
          "Fix the issue that auto-commit change affects transaction commit behaviours #36581 @cfzjywxk",
          "TiKV\nFix the issue that TiDB Lightning might cause SST file leakage #14745 @YuJuncen\nFix the issue that encryption key ID conflict might cause the deletion of the old keys #14585 @tabokie\nFix the issue of file handle leakage in Continuous Profiling #14224 @tabokie",
          "Fix the issue that TiDB Lightning might cause SST file leakage #14745 @YuJuncen",
          "Fix the issue that encryption key ID conflict might cause the deletion of the old keys #14585 @tabokie",
          "Fix the issue of file handle leakage in Continuous Profiling #14224 @tabokie",
          "PD\nFix the issue that gRPC returns errors with unexpected formats #5161 @HuSharp",
          "Fix the issue that gRPC returns errors with unexpected formats #5161 @HuSharp",
          "Tools\nBackup & Restore (BR)\nFix the issue that resolved lock timeout is falsely reported in some cases #43236 @YuJuncen\nFix the issue of backup slowdown when a TiKV node crashes in a cluster #42973 @YuJuncen\nTiCDC\nFix the issue that TiCDC cannot create a changefeed with a downstream Kafka-on-Pulsar #8892 @hi-rustin\nFix the issue that TiCDC cannot automatically recover when PD address or leader fails #8812 #8877 @asddongmen\nFix the issue that when the downstream is Kafka, TiCDC queries the downstream metadata too frequently and causes excessive workload in the downstream #8957 #8959 @hi-rustin\nFix the issue that TiCDC gets stuck when PD fails such as network isolation or PD Owner node reboot #8808 #8812 #8877 @asddongmen\nTiDB Lightning\nFix the issue that in Logical Import Mode, deleting tables downstream during import might cause TiDB Lightning metadata not to be updated in time #44614 @dsdashun\nFix the issue that disk quota might be inaccurate due to competing conditions #44867 @D3Hunter\nFix the issue of write to tikv with no leader returned when importing a large amount of data #43055 @lance6716\nFix a possible OOM problem when there is an unclosed delimiter in the data file #40400 @buchuitoudegou\nFix the issue that OOM might occur when importing a wide table #43728 @D3Hunter\nTiDB Binlog\nFix the issue that the etcd client does not automatically synchronize the latest node information during initialization #1236 @lichunzhu\nFix the panic issue of Drainer due to an old TiKV client version by upgrading the TiKV client #1170 @lichunzhu\nFix the issue that unfiltered failed DDL statements cause task errors #1228 @lichunzhu",
          "Backup & Restore (BR)\nFix the issue that resolved lock timeout is falsely reported in some cases #43236 @YuJuncen\nFix the issue of backup slowdown when a TiKV node crashes in a cluster #42973 @YuJuncen",
          "Fix the issue that resolved lock timeout is falsely reported in some cases #43236 @YuJuncen",
          "Fix the issue of backup slowdown when a TiKV node crashes in a cluster #42973 @YuJuncen",
          "TiCDC\nFix the issue that TiCDC cannot create a changefeed with a downstream Kafka-on-Pulsar #8892 @hi-rustin\nFix the issue that TiCDC cannot automatically recover when PD address or leader fails #8812 #8877 @asddongmen\nFix the issue that when the downstream is Kafka, TiCDC queries the downstream metadata too frequently and causes excessive workload in the downstream #8957 #8959 @hi-rustin\nFix the issue that TiCDC gets stuck when PD fails such as network isolation or PD Owner node reboot #8808 #8812 #8877 @asddongmen",
          "Fix the issue that TiCDC cannot create a changefeed with a downstream Kafka-on-Pulsar #8892 @hi-rustin",
          "Fix the issue that TiCDC cannot automatically recover when PD address or leader fails #8812 #8877 @asddongmen",
          "Fix the issue that when the downstream is Kafka, TiCDC queries the downstream metadata too frequently and causes excessive workload in the downstream #8957 #8959 @hi-rustin",
          "Fix the issue that TiCDC gets stuck when PD fails such as network isolation or PD Owner node reboot #8808 #8812 #8877 @asddongmen",
          "TiDB Lightning\nFix the issue that in Logical Import Mode, deleting tables downstream during import might cause TiDB Lightning metadata not to be updated in time #44614 @dsdashun\nFix the issue that disk quota might be inaccurate due to competing conditions #44867 @D3Hunter\nFix the issue of write to tikv with no leader returned when importing a large amount of data #43055 @lance6716\nFix a possible OOM problem when there is an unclosed delimiter in the data file #40400 @buchuitoudegou\nFix the issue that OOM might occur when importing a wide table #43728 @D3Hunter",
          "Fix the issue that in Logical Import Mode, deleting tables downstream during import might cause TiDB Lightning metadata not to be updated in time #44614 @dsdashun",
          "Fix the issue that disk quota might be inaccurate due to competing conditions #44867 @D3Hunter",
          "Fix the issue of write to tikv with no leader returned when importing a large amount of data #43055 @lance6716",
          "Fix a possible OOM problem when there is an unclosed delimiter in the data file #40400 @buchuitoudegou",
          "Fix the issue that OOM might occur when importing a wide table #43728 @D3Hunter",
          "TiDB Binlog\nFix the issue that the etcd client does not automatically synchronize the latest node information during initialization #1236 @lichunzhu\nFix the panic issue of Drainer due to an old TiKV client version by upgrading the TiKV client #1170 @lichunzhu\nFix the issue that unfiltered failed DDL statements cause task errors #1228 @lichunzhu",
          "Fix the issue that the etcd client does not automatically synchronize the latest node information during initialization #1236 @lichunzhu",
          "Fix the panic issue of Drainer due to an old TiKV client version by upgrading the TiKV client #1170 @lichunzhu",
          "Fix the issue that unfiltered failed DDL statements cause task errors #1228 @lichunzhu"
        ]
      },
      {
        "version": "6.1.6",
        "date": "2023-04-12",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.1.6/",
        "changes": [
          "TiDB\nSupports caching the execution plan for BatchPointGet in Prepared Plan Cache #42125 @qw4990\nSupport more SQL formats for Index Join #40505 @Yisaer",
          "Supports caching the execution plan for BatchPointGet in Prepared Plan Cache #42125 @qw4990",
          "Support more SQL formats for Index Join #40505 @Yisaer",
          "TiKV\nSupport starting TiKV on a CPU with less than 1 core #13586 #13752 #14017 @andreid-db @andreid-db",
          "Support starting TiKV on a CPU with less than 1 core #13586 #13752 #14017 @andreid-db @andreid-db",
          "TiDB\nFix the issue that the ignore_plan_cache hint might not work for INSERT statements #40079 #39717 @qw4990\nFix the issue that TiDB might panic after indexMerge encounters an error #41047 #40877 @guo-shaoge @windtalker\nFix the issue that incorrect results might be returned when TopN operators with virtual columns are mistakenly pushing down to TiKV or TiFlash #41355 @Dousir9\nFix the PD OOM issue when there is a large number of Regions but the table ID cannot be pushed down when querying some virtual tables using Prepare or Execute #39605 @djshow832\nFix the issue that Plan Cache might cache FullScan plans when processing int_col in (decimal...) conditions #40224 @qw4990\nFix the issue that IndexMerge plans might generate incorrect ranges on the SET type columns #41273 #41293 @time-and-fate\nFix the issue of potential wrong results when comparing unsigned TINYINT/SMALLINT/INT values with DECIMAL/FLOAT/DOUBLE values smaller than 0 #41736 @LittleFall\nFix the issue that the TiDB server might run out of memory when the INFORMATION_SCHEMA.CLUSTER_SLOW_QUERY table is queried. This issue can be triggered when you check slow queries on the Grafana dashboard #33893 @crazycs520\nFix the issue that range partitions allow multiple MAXVALUE partitions #36329 @u5surf\nFix the issue that Plan Cache might cache Shuffle operators and return incorrect results #38335 @qw4990\nFix the issue that data race in time zone might cause data-index inconsistency #40710 @wjhuang2016\nFix the issue that goroutine leak might occur in indexMerge #41545 #41605 @guo-shaoge @guo-shaoge\nFix the issue that, when using Cursor Fetch and running other statements among Execute, Fetch, and Close, the Fetch and Close commands might return incorrect results or cause TiDB to panic #40094 @YangKeao\nFix the issue that when modifying the floating-point type using DDL to keep the length unchanged and reduce the decimal places, the old data still remains the same #41281 @zimulala\nFix the issue that joining the information_schema.columns table causes TiDB to panic #32459 @tangenta\nFix the issue that TiDB panic occurs due to inconsistent InfoSchema being obtained when generating the execution plan #41622 @tiancaiamao\nFix the issue that TiFlash reports an error for generated columns during execution #40663 @guo-shaoge\nFix the issue that TiDB might produce incorrect results when different partitioned tables appear in a single SQL statement #42135 @mjonss\nFix the issue that Plan Cache might cache Shuffle operators and return incorrect results #38335 @qw4990 @fzzf678\nFix the issue that using Index Merge to read a table containing the SET type column might lead to incorrect results #41293 @time-and-fate\nFix the issue that full index scans might cause errors when prepared plan cache is enabled #42150 @fzzf678\nFix the issue that SQL statements using PointGet to read a table during the execution of a DDL statement might throw a panic #41622 @tiancaiamao\nFix the issue that after executing PointUpdate within a transaction, TiDB returns incorrect results for the SELECT statement #28011 @zyguan\nClear expired region cache regularly to avoid memory leak and performance degradation #40461 @sticnarf @zyguan\nFix the issue that INSERT IGNORE and REPLACE statements do not lock keys that do not modify values #42121 @zyguan",
          "Fix the issue that the ignore_plan_cache hint might not work for INSERT statements #40079 #39717 @qw4990",
          "Fix the issue that TiDB might panic after indexMerge encounters an error #41047 #40877 @guo-shaoge @windtalker",
          "Fix the issue that incorrect results might be returned when TopN operators with virtual columns are mistakenly pushing down to TiKV or TiFlash #41355 @Dousir9",
          "Fix the PD OOM issue when there is a large number of Regions but the table ID cannot be pushed down when querying some virtual tables using Prepare or Execute #39605 @djshow832",
          "Fix the issue that Plan Cache might cache FullScan plans when processing int_col in (decimal...) conditions #40224 @qw4990",
          "Fix the issue that IndexMerge plans might generate incorrect ranges on the SET type columns #41273 #41293 @time-and-fate",
          "Fix the issue of potential wrong results when comparing unsigned TINYINT/SMALLINT/INT values with DECIMAL/FLOAT/DOUBLE values smaller than 0 #41736 @LittleFall",
          "Fix the issue that the TiDB server might run out of memory when the INFORMATION_SCHEMA.CLUSTER_SLOW_QUERY table is queried. This issue can be triggered when you check slow queries on the Grafana dashboard #33893 @crazycs520",
          "Fix the issue that range partitions allow multiple MAXVALUE partitions #36329 @u5surf",
          "Fix the issue that Plan Cache might cache Shuffle operators and return incorrect results #38335 @qw4990",
          "Fix the issue that data race in time zone might cause data-index inconsistency #40710 @wjhuang2016",
          "Fix the issue that goroutine leak might occur in indexMerge #41545 #41605 @guo-shaoge @guo-shaoge",
          "Fix the issue that, when using Cursor Fetch and running other statements among Execute, Fetch, and Close, the Fetch and Close commands might return incorrect results or cause TiDB to panic #40094 @YangKeao",
          "Fix the issue that when modifying the floating-point type using DDL to keep the length unchanged and reduce the decimal places, the old data still remains the same #41281 @zimulala",
          "Fix the issue that joining the information_schema.columns table causes TiDB to panic #32459 @tangenta",
          "Fix the issue that TiDB panic occurs due to inconsistent InfoSchema being obtained when generating the execution plan #41622 @tiancaiamao",
          "Fix the issue that TiFlash reports an error for generated columns during execution #40663 @guo-shaoge",
          "Fix the issue that TiDB might produce incorrect results when different partitioned tables appear in a single SQL statement #42135 @mjonss",
          "Fix the issue that Plan Cache might cache Shuffle operators and return incorrect results #38335 @qw4990 @fzzf678",
          "Fix the issue that using Index Merge to read a table containing the SET type column might lead to incorrect results #41293 @time-and-fate",
          "Fix the issue that full index scans might cause errors when prepared plan cache is enabled #42150 @fzzf678",
          "Fix the issue that SQL statements using PointGet to read a table during the execution of a DDL statement might throw a panic #41622 @tiancaiamao",
          "Fix the issue that after executing PointUpdate within a transaction, TiDB returns incorrect results for the SELECT statement #28011 @zyguan",
          "Clear expired region cache regularly to avoid memory leak and performance degradation #40461 @sticnarf @zyguan",
          "Fix the issue that INSERT IGNORE and REPLACE statements do not lock keys that do not modify values #42121 @zyguan",
          "TiKV\nFix an error that occurs when casting the const Enum type to other types #14156 @wshwsh12\nFix the issue of CPU quota limitation #13084 @BornChanger\nFix the issue of incorrect snapshot last index #12618 @LintianShi",
          "Fix an error that occurs when casting the const Enum type to other types #14156 @wshwsh12",
          "Fix the issue of CPU quota limitation #13084 @BornChanger",
          "Fix the issue of incorrect snapshot last index #12618 @LintianShi",
          "PD\nFix the issue that the Region Scatter might cause uneven distribution of leader #6017 @HunDunDM\nFix the issue that the timeout mechanism of Online Unsafe Recovery does not work #6107 @v01dstar",
          "Fix the issue that the Region Scatter might cause uneven distribution of leader #6017 @HunDunDM",
          "Fix the issue that the timeout mechanism of Online Unsafe Recovery does not work #6107 @v01dstar",
          "TiFlash\nFix the issue that semi-joins use excessive memory when calculating Cartesian products #6730 @gengliqi\nFix the issue that TiFlash log search is too slow #6829 @hehechen\nFix the issue that TopN/Sort operators produce incorrect results after enabling the new collation #6807 @xzhangxian1008\nFix the issue that Decimal cast rounds up incorrectly in certain cases #6994 @windtalker\nFix the issue that TiFlash cannot recognize generated columns #6801 @guo-shaoge\nFix the issue that Decimal division does not round up the last digit in certain cases #7022 @LittleFall",
          "Fix the issue that semi-joins use excessive memory when calculating Cartesian products #6730 @gengliqi",
          "Fix the issue that TiFlash log search is too slow #6829 @hehechen",
          "Fix the issue that TopN/Sort operators produce incorrect results after enabling the new collation #6807 @xzhangxian1008",
          "Fix the issue that Decimal cast rounds up incorrectly in certain cases #6994 @windtalker",
          "Fix the issue that TiFlash cannot recognize generated columns #6801 @guo-shaoge",
          "Fix the issue that Decimal division does not round up the last digit in certain cases #7022 @LittleFall",
          "Tools\nTiCDC\nFix the issue that the disorder of UPDATE and INSERT statements during data replication might cause the Duplicate entry error #8597 @sdojjy\nFix the abnormal exit issue of the TiCDC service caused by network isolation between PD and TiCDC #8562 @overvenus\nFix the data inconsistency that occurs when replicating data to a TiDB or MySQL sink and when CHARACTER SET is specified on the column that has the non-null unique index without a primary key #8420 @zhaoxinyu\nFix the issue that the memory usage of db sorter is not controlled by cgroup memory limit #8588 @amyangfei\nOptimize the error message of cdc cli for invalid input #7903 @CharlesCheung96\nFix the issue of insufficient duration that redo log can tolerate for S3 storage failure #8089 @CharlesCheung96\nFix the issue that pausing a changefeed when PD is abnormal results in incorrect status #8330 @sdojjy\nTiDB Lightning\nFix the issue that the conflict resolution logic (duplicate-resolution) might lead to inconsistent checksums #40657 @sleepymole\nFix the issue that TiDB Lightning panics in the split-region phase #40934 @lance6716\nFix the issue that when importing data in Local Backend mode, the target columns do not automatically generate data if the compound primary key of the imported target table has an auto_random column and no value for the column is specified in the source data #41454 @D3Hunter\nFix the issue that TiDB Lightning might incorrectly skip conflict resolution when all but the last TiDB Lightning instance encounters a local duplicate record during a parallel import #40923 @lichunzhu",
          "TiCDC\nFix the issue that the disorder of UPDATE and INSERT statements during data replication might cause the Duplicate entry error #8597 @sdojjy\nFix the abnormal exit issue of the TiCDC service caused by network isolation between PD and TiCDC #8562 @overvenus\nFix the data inconsistency that occurs when replicating data to a TiDB or MySQL sink and when CHARACTER SET is specified on the column that has the non-null unique index without a primary key #8420 @zhaoxinyu\nFix the issue that the memory usage of db sorter is not controlled by cgroup memory limit #8588 @amyangfei\nOptimize the error message of cdc cli for invalid input #7903 @CharlesCheung96\nFix the issue of insufficient duration that redo log can tolerate for S3 storage failure #8089 @CharlesCheung96\nFix the issue that pausing a changefeed when PD is abnormal results in incorrect status #8330 @sdojjy",
          "Fix the issue that the disorder of UPDATE and INSERT statements during data replication might cause the Duplicate entry error #8597 @sdojjy",
          "Fix the abnormal exit issue of the TiCDC service caused by network isolation between PD and TiCDC #8562 @overvenus",
          "Fix the data inconsistency that occurs when replicating data to a TiDB or MySQL sink and when CHARACTER SET is specified on the column that has the non-null unique index without a primary key #8420 @zhaoxinyu",
          "Fix the issue that the memory usage of db sorter is not controlled by cgroup memory limit #8588 @amyangfei",
          "Optimize the error message of cdc cli for invalid input #7903 @CharlesCheung96",
          "Fix the issue of insufficient duration that redo log can tolerate for S3 storage failure #8089 @CharlesCheung96",
          "Fix the issue that pausing a changefeed when PD is abnormal results in incorrect status #8330 @sdojjy",
          "TiDB Lightning\nFix the issue that the conflict resolution logic (duplicate-resolution) might lead to inconsistent checksums #40657 @sleepymole\nFix the issue that TiDB Lightning panics in the split-region phase #40934 @lance6716\nFix the issue that when importing data in Local Backend mode, the target columns do not automatically generate data if the compound primary key of the imported target table has an auto_random column and no value for the column is specified in the source data #41454 @D3Hunter\nFix the issue that TiDB Lightning might incorrectly skip conflict resolution when all but the last TiDB Lightning instance encounters a local duplicate record during a parallel import #40923 @lichunzhu",
          "Fix the issue that the conflict resolution logic (duplicate-resolution) might lead to inconsistent checksums #40657 @sleepymole",
          "Fix the issue that TiDB Lightning panics in the split-region phase #40934 @lance6716",
          "Fix the issue that when importing data in Local Backend mode, the target columns do not automatically generate data if the compound primary key of the imported target table has an auto_random column and no value for the column is specified in the source data #41454 @D3Hunter",
          "Fix the issue that TiDB Lightning might incorrectly skip conflict resolution when all but the last TiDB Lightning instance encounters a local duplicate record during a parallel import #40923 @lichunzhu"
        ]
      },
      {
        "version": "6.1.5",
        "date": "2023-02-28",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.1.5/",
        "changes": [
          "TiDB\nSupport the AUTO_RANDOM column as the first column of the clustered composite index #38572 @tangenta",
          "Support the AUTO_RANDOM column as the first column of the clustered composite index #38572 @tangenta",
          "TiDB\nFix the issue that data race might cause TiDB to restart #27725 @XuHuaiyu\nFix the issue that the UPDATE statement might not read the latest data when the Read Committed isolation level is used #41581 @cfzjywxk",
          "Fix the issue that data race might cause TiDB to restart #27725 @XuHuaiyu",
          "Fix the issue that the UPDATE statement might not read the latest data when the Read Committed isolation level is used #41581 @cfzjywxk"
        ]
      },
      {
        "version": "6.1.4",
        "date": "2023-02-08",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.1.4/",
        "changes": [
          "TiFlash\nReduce the IOPS by up to 95% and the write amplification by up to 65% for TiFlash instances under high update throughput workloads #6460 @flowbehappy",
          "Reduce the IOPS by up to 95% and the write amplification by up to 65% for TiFlash instances under high update throughput workloads #6460 @flowbehappy",
          "Tools\nTiCDC\nAdd the DML batch operation mode to improve the throughput when SQL statements are generated in batches #7653 @asddongmen\nSupport storing redo logs to GCS- or Azure-compatible object storage #7987 @CharlesCheung96\nTiDB Lightning\nChange the severity of the precheck items clusterResourceCheckItem and emptyRegionCheckItem from Critical to Warning #37654 @niubell",
          "TiCDC\nAdd the DML batch operation mode to improve the throughput when SQL statements are generated in batches #7653 @asddongmen\nSupport storing redo logs to GCS- or Azure-compatible object storage #7987 @CharlesCheung96",
          "Add the DML batch operation mode to improve the throughput when SQL statements are generated in batches #7653 @asddongmen",
          "Support storing redo logs to GCS- or Azure-compatible object storage #7987 @CharlesCheung96",
          "TiDB Lightning\nChange the severity of the precheck items clusterResourceCheckItem and emptyRegionCheckItem from Critical to Warning #37654 @niubell",
          "Change the severity of the precheck items clusterResourceCheckItem and emptyRegionCheckItem from Critical to Warning #37654 @niubell",
          "TiDB\nFix the issue that when you create a table, the default value and the type of a column are not consistent and are not automatically corrected #34881 @Lloyd-Pottiger @mjonss\nFix the data race issue in the LazyTxn.LockKeys function #40355 @HuSharp\nFix the issue that the INSERT or REPLACE statements might panic in long session connections #40351 @fanrenhoo\nFix the issue that reading data using the \"cursor read\" method might return an error because of GC #39447 @zyguan\nFix the issue that the pessimistic-auto-commit configuration item does not take effect for point-get queries #39928 @zyguan\nFix the issue that querying the INFORMATION_SCHEMA.TIKV_REGION_STATUS table returns an incorrect result #37436 @zimulala\nFix the issue that the IN and NOT IN subqueries in some patterns report the Can't find column error #37032 @AilinKid @lance6716",
          "Fix the issue that when you create a table, the default value and the type of a column are not consistent and are not automatically corrected #34881 @Lloyd-Pottiger @mjonss",
          "Fix the data race issue in the LazyTxn.LockKeys function #40355 @HuSharp",
          "Fix the issue that the INSERT or REPLACE statements might panic in long session connections #40351 @fanrenhoo",
          "Fix the issue that reading data using the \"cursor read\" method might return an error because of GC #39447 @zyguan",
          "Fix the issue that the pessimistic-auto-commit configuration item does not take effect for point-get queries #39928 @zyguan",
          "Fix the issue that querying the INFORMATION_SCHEMA.TIKV_REGION_STATUS table returns an incorrect result #37436 @zimulala",
          "Fix the issue that the IN and NOT IN subqueries in some patterns report the Can't find column error #37032 @AilinKid @lance6716"
        ]
      },
      {
        "version": "6.1.3",
        "date": "2022-12-05",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.1.3/",
        "changes": [
          "PD\nOptimize the granularity of locks to reduce lock contention and improve the capability of processing heartbeat in high concurrency #5586 @rleungx",
          "Optimize the granularity of locks to reduce lock contention and improve the capability of processing heartbeat in high concurrency #5586 @rleungx",
          "Tools\nTiCDC\nEnable transaction split and disable the safe mode of a changefeed in TiCDC by default to improve performance #7505 @asddongmen\nImprove the performance of Kafka protocol encoder #7540, #7532, #7543 @sdojjy @3AceShowHand",
          "TiCDC\nEnable transaction split and disable the safe mode of a changefeed in TiCDC by default to improve performance #7505 @asddongmen\nImprove the performance of Kafka protocol encoder #7540, #7532, #7543 @sdojjy @3AceShowHand",
          "Enable transaction split and disable the safe mode of a changefeed in TiCDC by default to improve performance #7505 @asddongmen",
          "Improve the performance of Kafka protocol encoder #7540, #7532, #7543 @sdojjy @3AceShowHand",
          "Others\nUpgrade the Go compiler version of TiDB from go1.18 to go1.19, which improves the TiDB stability. Specifically, a Go environment variable GOMEMLIMIT is introduced to keep the memory usage of TiDB below a certain threshold. This helps mitigate most OOM issues. For more information, see Mitigate OOM issues by configuring the GOMEMLIMIT.",
          "Upgrade the Go compiler version of TiDB from go1.18 to go1.19, which improves the TiDB stability. Specifically, a Go environment variable GOMEMLIMIT is introduced to keep the memory usage of TiDB below a certain threshold. This helps mitigate most OOM issues. For more information, see Mitigate OOM issues by configuring the GOMEMLIMIT.",
          "TiDB\nFix the issue that the grantor field is missing in the mysql.tables_priv table #38293 @CbcWestwolf\nFix the issue of the wrong query result that occurs when the mistakenly pushed-down conditions are discarded by Join Reorder #38736 @winoros\nFix the issue that the lock acquired by get_lock() cannot hold for more than 10 minutes #38706 @tangenta\nFix the issue that the auto-increment column cannot be used with check constraint #38894 @YangKeao\nFix the issue that the gPRC log is output to a wrong file #38941 @xhebox\nFix the issue that the TiFlash sync status of a table is not deleted from etcd when the table is truncated or dropped #37168 @CalvinNeo\nFix the issue that data files can be accessed unrestrainedly via data source name injection (CVE-2022-3023) #38541 @lance6716\nFix the issue that the function str_to_date returns wrong result in the NO_ZERO_DATE SQL mode #39146 @mengxin9014\nFix the issue that statistics collection tasks in the background might panic #35421 @lilinghai\nFix the issue that in some scenarios the pessimistic lock is incorrectly added to the non-unique secondary index #36235 @ekexium",
          "Fix the issue that the grantor field is missing in the mysql.tables_priv table #38293 @CbcWestwolf",
          "Fix the issue of the wrong query result that occurs when the mistakenly pushed-down conditions are discarded by Join Reorder #38736 @winoros",
          "Fix the issue that the lock acquired by get_lock() cannot hold for more than 10 minutes #38706 @tangenta",
          "Fix the issue that the auto-increment column cannot be used with check constraint #38894 @YangKeao",
          "Fix the issue that the gPRC log is output to a wrong file #38941 @xhebox",
          "Fix the issue that the TiFlash sync status of a table is not deleted from etcd when the table is truncated or dropped #37168 @CalvinNeo",
          "Fix the issue that data files can be accessed unrestrainedly via data source name injection (CVE-2022-3023) #38541 @lance6716",
          "Fix the issue that the function str_to_date returns wrong result in the NO_ZERO_DATE SQL mode #39146 @mengxin9014",
          "Fix the issue that statistics collection tasks in the background might panic #35421 @lilinghai",
          "Fix the issue that in some scenarios the pessimistic lock is incorrectly added to the non-unique secondary index #36235 @ekexium"
        ]
      },
      {
        "version": "6.1.2",
        "date": "2022-10-24",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.1.2/",
        "changes": [
          "TiDB\nAllow setting placement rules and TiFlash replicas at the same time in one table #37171 @lcwangchao",
          "Allow setting placement rules and TiFlash replicas at the same time in one table #37171 @lcwangchao",
          "TiKV\nSupport configuring the unreachable_backoff item to avoid Raftstore broadcasting too many messages after one peer becomes unreachable #13054 @5kbpers\nSupport configuring the RocksDB write stall settings to a value smaller than the flow control threshold #13467 @tabokie",
          "Support configuring the unreachable_backoff item to avoid Raftstore broadcasting too many messages after one peer becomes unreachable #13054 @5kbpers",
          "Support configuring the RocksDB write stall settings to a value smaller than the flow control threshold #13467 @tabokie",
          "Tools\nTiDB Lightning\nAdd retryable errors during checksum to improve robustness #37690 @D3Hunter\nTiCDC\nEnhance the performance of the region worker by handling resolved TS in a batch #7078 @sdojjy",
          "TiDB Lightning\nAdd retryable errors during checksum to improve robustness #37690 @D3Hunter",
          "Add retryable errors during checksum to improve robustness #37690 @D3Hunter",
          "TiCDC\nEnhance the performance of the region worker by handling resolved TS in a batch #7078 @sdojjy",
          "Enhance the performance of the region worker by handling resolved TS in a batch #7078 @sdojjy",
          "TiDB\nFix the issue that database-level privileges are incorrectly cleaned up #38363 @dveeden\nFix the incorrect output of SHOW CREATE PLACEMENT POLICY #37526 @xhebox\nFix the issue that when one PD node goes down, the query of information_schema.TIKV_REGION_STATUS fails due to not retrying other PD nodes #35708 @tangenta\nFix the issue that the UNION operator might return unexpected empty result #36903 @tiancaiamao\nFix the wrong result that occurs when enabling dynamic mode in partitioned tables for TiFlash #37254 @wshwsh12\nFix the issue that the Region cache is not cleaned up in time when the Region is merged #37141 @sticnarf\nFix the issue that the KV client sends unnecessary ping messages #36861 @jackysp\nFix the issue that the EXPLAIN ANALYZE statement with DML executors might return result before the transaction commit finishes #37373 @cfzjywxk\nFix the issue that GROUP CONCAT with ORDER BY might fail when the ORDER BY clause contains a correlated subquery #18216 @winoros\nFix the issue that Can't find column is reported if an UPDATE statement contains common table expressions (CTE) #35758 @AilinKid\nFix the issue that the EXECUTE might throw an unexpected error in specific scenarios #37187 @Reminiscent",
          "Fix the issue that database-level privileges are incorrectly cleaned up #38363 @dveeden",
          "Fix the incorrect output of SHOW CREATE PLACEMENT POLICY #37526 @xhebox",
          "Fix the issue that when one PD node goes down, the query of information_schema.TIKV_REGION_STATUS fails due to not retrying other PD nodes #35708 @tangenta",
          "Fix the issue that the UNION operator might return unexpected empty result #36903 @tiancaiamao",
          "Fix the wrong result that occurs when enabling dynamic mode in partitioned tables for TiFlash #37254 @wshwsh12",
          "Fix the issue that the Region cache is not cleaned up in time when the Region is merged #37141 @sticnarf",
          "Fix the issue that the KV client sends unnecessary ping messages #36861 @jackysp",
          "Fix the issue that the EXPLAIN ANALYZE statement with DML executors might return result before the transaction commit finishes #37373 @cfzjywxk",
          "Fix the issue that GROUP CONCAT with ORDER BY might fail when the ORDER BY clause contains a correlated subquery #18216 @winoros",
          "Fix the issue that Can't find column is reported if an UPDATE statement contains common table expressions (CTE) #35758 @AilinKid",
          "Fix the issue that the EXECUTE might throw an unexpected error in specific scenarios #37187 @Reminiscent",
          "TiKV\nFix the issue that the snapshot data might be incomplete caused by batch snapshot across Regions #13553 @SpadeA-Tang\nFix the issue of QPS drop when flow control is enabled and level0_slowdown_trigger is set explicitly #11424 @Connor1996\nFix the issue that causes permission denied error when TiKV gets an error from the web identity provider and fails back to the default provider #13122 @3pointer\nFix the issue that the TiKV service is unavailable for several minutes when a TiKV instance is in an isolated network environment #12966 @cosven",
          "Fix the issue that the snapshot data might be incomplete caused by batch snapshot across Regions #13553 @SpadeA-Tang",
          "Fix the issue of QPS drop when flow control is enabled and level0_slowdown_trigger is set explicitly #11424 @Connor1996",
          "Fix the issue that causes permission denied error when TiKV gets an error from the web identity provider and fails back to the default provider #13122 @3pointer",
          "Fix the issue that the TiKV service is unavailable for several minutes when a TiKV instance is in an isolated network environment #12966 @cosven",
          "PD\nFix the issue that the statistics of the Region tree might be inaccurate #5318 @rleungx\nFix the issue that the TiFlash learner replica might not be created #5401 @HunDunDM\nFix the issue that PD cannot correctly handle dashboard proxy requests #5321 @HunDunDM\nFix the issue that unhealthy Region might cause PD panic #5491 @nolouch",
          "Fix the issue that the statistics of the Region tree might be inaccurate #5318 @rleungx",
          "Fix the issue that the TiFlash learner replica might not be created #5401 @HunDunDM",
          "Fix the issue that PD cannot correctly handle dashboard proxy requests #5321 @HunDunDM",
          "Fix the issue that unhealthy Region might cause PD panic #5491 @nolouch",
          "TiFlash\nFix the issue that I/O Limiter might incorrectly throttle the I/O throughput of query requests after bulk writes, which reduces the query performance #5801 @JinheLin\nFix the issue that a window function might cause TiFlash to crash when the query is canceled #5814 @SeaRise\nFix the panic that occurs after creating the primary index with a column containing the NULL value #5859 @JaySon-Huang",
          "Fix the issue that I/O Limiter might incorrectly throttle the I/O throughput of query requests after bulk writes, which reduces the query performance #5801 @JinheLin",
          "Fix the issue that a window function might cause TiFlash to crash when the query is canceled #5814 @SeaRise",
          "Fix the panic that occurs after creating the primary index with a column containing the NULL value #5859 @JaySon-Huang",
          "Tools\nTiDB Lightning\nFix panic of TiDB Lightning caused by invalid metric counters #37338 @D3Hunter\nTiDB Data Migration (DM)\nFix the issue that upstream table structure information is lost when DM tasks enter the sync unit and are interrupted #7159 @lance6716\nFix large transaction errors by splitting SQL statements when saving checkpoints #5010 @lance6716\nFix the issue that DM precheck requires the SELECT privilege on INFORMATION_SCHEMA #7317 @lance6716\nFix the issue that DM-worker triggers a deadlock error after running DM tasks with fast/full validators #7241 @buchuitoudegou\nFix the issue that DM reports the Specified key was too long error #5315 @lance6716\nFix the issue that latin1 data might be corrupted during replication #7028 @lance6716\nTiCDC\nFix the issue that the cdc server might panic if it receives an HTTP request before the cdc server fully starts #6838 @asddongmen\nFix the log flooding issue during upgrade #7235 @hi-rustin\nFix the issue that changefeed's redo log files might be deleted by mistake #6413 @hi-rustin\nFix the issue that TiCDC might become unavailable when too many operations in an etcd transaction are committed #7131 @hi-rustin\nFix the issue that data inconsistency might occur when non-reentrant DDL statements in redo logs are executed twice #6927 @hicqu\nBackup & Restore (BR)\nFix the issue that the regions are not balanced because the concurrency is set too large during the restoration #37549 @3pointer\nFix the issue that might lead to backup and restoration failure if special characters exist in the authorization key of external storage #37469 @MoCuishle28",
          "TiDB Lightning\nFix panic of TiDB Lightning caused by invalid metric counters #37338 @D3Hunter",
          "Fix panic of TiDB Lightning caused by invalid metric counters #37338 @D3Hunter",
          "TiDB Data Migration (DM)\nFix the issue that upstream table structure information is lost when DM tasks enter the sync unit and are interrupted #7159 @lance6716\nFix large transaction errors by splitting SQL statements when saving checkpoints #5010 @lance6716\nFix the issue that DM precheck requires the SELECT privilege on INFORMATION_SCHEMA #7317 @lance6716\nFix the issue that DM-worker triggers a deadlock error after running DM tasks with fast/full validators #7241 @buchuitoudegou\nFix the issue that DM reports the Specified key was too long error #5315 @lance6716\nFix the issue that latin1 data might be corrupted during replication #7028 @lance6716",
          "Fix the issue that upstream table structure information is lost when DM tasks enter the sync unit and are interrupted #7159 @lance6716",
          "Fix large transaction errors by splitting SQL statements when saving checkpoints #5010 @lance6716",
          "Fix the issue that DM precheck requires the SELECT privilege on INFORMATION_SCHEMA #7317 @lance6716",
          "Fix the issue that DM-worker triggers a deadlock error after running DM tasks with fast/full validators #7241 @buchuitoudegou",
          "Fix the issue that DM reports the Specified key was too long error #5315 @lance6716",
          "Fix the issue that latin1 data might be corrupted during replication #7028 @lance6716",
          "TiCDC\nFix the issue that the cdc server might panic if it receives an HTTP request before the cdc server fully starts #6838 @asddongmen\nFix the log flooding issue during upgrade #7235 @hi-rustin\nFix the issue that changefeed's redo log files might be deleted by mistake #6413 @hi-rustin\nFix the issue that TiCDC might become unavailable when too many operations in an etcd transaction are committed #7131 @hi-rustin\nFix the issue that data inconsistency might occur when non-reentrant DDL statements in redo logs are executed twice #6927 @hicqu",
          "Fix the issue that the cdc server might panic if it receives an HTTP request before the cdc server fully starts #6838 @asddongmen",
          "Fix the log flooding issue during upgrade #7235 @hi-rustin",
          "Fix the issue that changefeed's redo log files might be deleted by mistake #6413 @hi-rustin",
          "Fix the issue that TiCDC might become unavailable when too many operations in an etcd transaction are committed #7131 @hi-rustin",
          "Fix the issue that data inconsistency might occur when non-reentrant DDL statements in redo logs are executed twice #6927 @hicqu",
          "Backup & Restore (BR)\nFix the issue that the regions are not balanced because the concurrency is set too large during the restoration #37549 @3pointer\nFix the issue that might lead to backup and restoration failure if special characters exist in the authorization key of external storage #37469 @MoCuishle28",
          "Fix the issue that the regions are not balanced because the concurrency is set too large during the restoration #37549 @3pointer",
          "Fix the issue that might lead to backup and restoration failure if special characters exist in the authorization key of external storage #37469 @MoCuishle28"
        ]
      },
      {
        "version": "6.1.1",
        "date": "2022-09-01",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.1.1/",
        "changes": [
          "TiDB\nAdd a new optimizer SEMI_JOIN_REWRITE to improve the performance of EXISTS queries #35323 @winoros",
          "Add a new optimizer SEMI_JOIN_REWRITE to improve the performance of EXISTS queries #35323 @winoros",
          "TiKV\nSupport compressing the metrics response using gzip to reduce the HTTP body size #12355 @winoros\nSupport reducing the amount of data returned for each request by filtering out some metrics using the server.simplify-metrics configuration item #12355 @glorv\nSupport dynamically modifying the number of sub-compaction operations performed concurrently in RocksDB (rocksdb.max-sub-compactions) #13145 @ethercflow",
          "Support compressing the metrics response using gzip to reduce the HTTP body size #12355 @winoros",
          "Support reducing the amount of data returned for each request by filtering out some metrics using the server.simplify-metrics configuration item #12355 @glorv",
          "Support dynamically modifying the number of sub-compaction operations performed concurrently in RocksDB (rocksdb.max-sub-compactions) #13145 @ethercflow",
          "PD\nImprove the scheduling speed of Balance Region in specific stages #4990 @bufferflies",
          "Improve the scheduling speed of Balance Region in specific stages #4990 @bufferflies",
          "Tools\nTiDB Lightning\nAdd a retry mechanism on errors such as stale command to improve import success rate #36877 @D3Hunter\nTiDB Data Migration (DM)\nUsers can manually set the amount of concurrency for lightning loader #5505 @buchuitoudegou\nTiCDC\nAdd a sink uri parameter transaction-atomicity to support splitting the large transaction in a changefeed. This can greatly reduce the latency and memory consumption of large transactions #5231 @CharlesCheung96\nReduce performance overhead caused by runtime context switching in multi-Region scenarios #5610 @hicqu\nEnhance the MySQL sink to turn off the safe mode automatically #5611 @overvenus",
          "TiDB Lightning\nAdd a retry mechanism on errors such as stale command to improve import success rate #36877 @D3Hunter",
          "Add a retry mechanism on errors such as stale command to improve import success rate #36877 @D3Hunter",
          "TiDB Data Migration (DM)\nUsers can manually set the amount of concurrency for lightning loader #5505 @buchuitoudegou",
          "Users can manually set the amount of concurrency for lightning loader #5505 @buchuitoudegou",
          "TiCDC\nAdd a sink uri parameter transaction-atomicity to support splitting the large transaction in a changefeed. This can greatly reduce the latency and memory consumption of large transactions #5231 @CharlesCheung96\nReduce performance overhead caused by runtime context switching in multi-Region scenarios #5610 @hicqu\nEnhance the MySQL sink to turn off the safe mode automatically #5611 @overvenus",
          "Add a sink uri parameter transaction-atomicity to support splitting the large transaction in a changefeed. This can greatly reduce the latency and memory consumption of large transactions #5231 @CharlesCheung96",
          "Reduce performance overhead caused by runtime context switching in multi-Region scenarios #5610 @hicqu",
          "Enhance the MySQL sink to turn off the safe mode automatically #5611 @overvenus",
          "TiDB\nFix the issue that INL_HASH_JOIN might hang when used with LIMIT #35638 @guo-shaoge\nFix the issue that TiDB might panic when executing the UPDATE statement #32311 @Yisaer\nFix a bug that TiDB might send coprocessor requests when executing the SHOW COLUMNS statement #36496 @tangenta\nFix a bug that TiDB might return the invalid memory address or nil pointer dereference error when executing the SHOW WARNINGS statement #31569 @zyguan\nFix a bug that in the static partition prune mode, SQL statements with an aggregate condition might return wrong result when the table is empty #35295 @tiancaiamao\nFix the issue that the Join Reorder operation will mistakenly push down its Outer Join condition #37238 @winoros\nFix the issue that CTE-schema hash code is cloned mistakenly, which causes the Can't find column ... in schema ... error when CTE is referenced more than once #35404 @AilinKid\nFix the issue that the wrong join reorder in some right outer join scenarios causes wrong query result #36912 @winoros\nFix the issue of incorrectly inferred null flag of the TiFlash firstrow aggregate function in the EqualAll case #34584 @fixdb\nFix the issue that Plan Cache does not work when a binding is created with the IGNORE_PLAN_CACHE hint #34596 @fzzf678\nFix the issue that an EXCHANGE operator is missing between the hash-partition window and the single-partition window #35990 @LittleFall\nFix the issue that partitioned tables cannot fully use indexes to scan data in some cases #33966 @mjonss\nFix the issue of wrong query result when a wrong default value is set for partial aggregation after the aggregation is pushed down #35295 @tiancaiamao\nFix the issue that querying partitioned tables might get the index-out-of-range error in some cases #35181 @mjonss\nFix the issue that a partition is incorrectly pruned if a partition key is used in the query condition and the collate is different from the one in the query partition table #32749 @mjonss\nFix the issue that when TiDB Binlog is enabled, executing the ALTER SEQUENCE statement might cause a wrong metadata version and cause Drainer to exit #36276 @AilinKid\nFix the issue of incorrect TiDB status that might appear on startup in some extreme cases #36791 @xhebox\nFix the potential UnknownPlanID issue that occurs when querying the execution plans for partitioned tables in TiDB Dashboard #35153 @time-and-fate\nFix the issue that the column list does not work in the LOAD DATA statement #35198 @SpadeA-Tang\nFix the issue of the data and columnID count not match error that occurs when inserting duplicated values with TiDB Binlog enabled #33608 @zyguan\nRemove the limitation of tidb_gc_life_time #35392 @TonsnakeLin\nFix the LOAD DATA statement dead loop when an empty filed terminator is used #33298 @zyguan\nAvoid sending requests to unhealthy TiKV nodes to improve availability #34906 @sticnarf",
          "Fix the issue that INL_HASH_JOIN might hang when used with LIMIT #35638 @guo-shaoge",
          "Fix the issue that TiDB might panic when executing the UPDATE statement #32311 @Yisaer",
          "Fix a bug that TiDB might send coprocessor requests when executing the SHOW COLUMNS statement #36496 @tangenta",
          "Fix a bug that TiDB might return the invalid memory address or nil pointer dereference error when executing the SHOW WARNINGS statement #31569 @zyguan",
          "Fix a bug that in the static partition prune mode, SQL statements with an aggregate condition might return wrong result when the table is empty #35295 @tiancaiamao",
          "Fix the issue that the Join Reorder operation will mistakenly push down its Outer Join condition #37238 @winoros",
          "Fix the issue that CTE-schema hash code is cloned mistakenly, which causes the Can't find column ... in schema ... error when CTE is referenced more than once #35404 @AilinKid",
          "Fix the issue that the wrong join reorder in some right outer join scenarios causes wrong query result #36912 @winoros",
          "Fix the issue of incorrectly inferred null flag of the TiFlash firstrow aggregate function in the EqualAll case #34584 @fixdb",
          "Fix the issue that Plan Cache does not work when a binding is created with the IGNORE_PLAN_CACHE hint #34596 @fzzf678",
          "Fix the issue that an EXCHANGE operator is missing between the hash-partition window and the single-partition window #35990 @LittleFall",
          "Fix the issue that partitioned tables cannot fully use indexes to scan data in some cases #33966 @mjonss",
          "Fix the issue of wrong query result when a wrong default value is set for partial aggregation after the aggregation is pushed down #35295 @tiancaiamao",
          "Fix the issue that querying partitioned tables might get the index-out-of-range error in some cases #35181 @mjonss",
          "Fix the issue that a partition is incorrectly pruned if a partition key is used in the query condition and the collate is different from the one in the query partition table #32749 @mjonss",
          "Fix the issue that when TiDB Binlog is enabled, executing the ALTER SEQUENCE statement might cause a wrong metadata version and cause Drainer to exit #36276 @AilinKid",
          "Fix the issue of incorrect TiDB status that might appear on startup in some extreme cases #36791 @xhebox",
          "Fix the potential UnknownPlanID issue that occurs when querying the execution plans for partitioned tables in TiDB Dashboard #35153 @time-and-fate",
          "Fix the issue that the column list does not work in the LOAD DATA statement #35198 @SpadeA-Tang",
          "Fix the issue of the data and columnID count not match error that occurs when inserting duplicated values with TiDB Binlog enabled #33608 @zyguan",
          "Remove the limitation of tidb_gc_life_time #35392 @TonsnakeLin",
          "Fix the LOAD DATA statement dead loop when an empty filed terminator is used #33298 @zyguan",
          "Avoid sending requests to unhealthy TiKV nodes to improve availability #34906 @sticnarf",
          "TiKV\nFix a bug that Regions might be overlapped if Raftstore is busy #13160 @5kbpers\nFix the issue that PD does not reconnect to TiKV after the Region heartbeat is interrupted #12934 @bufferflies\nFix the issue that TiKV panics when performing type conversion for an empty string #12673 @wshwsh12\nFix the issue of inconsistent Region size configuration between TiKV and PD #12518 @5kbpers\nFix the issue that encryption keys are not cleaned up when Raft Engine is enabled #12890 @tabokie\nFix the panic issue that might occur when a peer is being split and destroyed at the same time #12825 @BusyJay\nFix the panic issue that might occur when the source peer catches up logs by snapshot in the Region merge process #12663 @BusyJay\nFix the issue of frequent PD client reconnection that occurs when the PD client meets an error #12345 @Connor1996\nFix potential panic when parallel recovery is enabled for Raft Engine #13123 @tabokie\nFix the issue that the Commit Log Duration of a new Region is too high, which causes QPS to drop #13077 @Connor1996\nFix rare panics when Raft Engine is enabled #12698 @tabokie\nAvoid redundant log warnings when proc filesystem (procfs) cannot be found #13116 @tabokie\nFix the wrong expression of Unified Read Pool CPU in dashboard #13086 @glorv\nFix the issue that when a Region is large, the default region-split-check-diff might be larger than the bucket size #12598 @tonyxuqqi\nFix the issue that TiKV might panic when Apply Snapshot is aborted and Raft Engine is enabled #12470 @tabokie\nFix the issue that the PD client might cause deadlocks #13191 @bufferflies #12933 @BurtonQin",
          "Fix a bug that Regions might be overlapped if Raftstore is busy #13160 @5kbpers",
          "Fix the issue that PD does not reconnect to TiKV after the Region heartbeat is interrupted #12934 @bufferflies",
          "Fix the issue that TiKV panics when performing type conversion for an empty string #12673 @wshwsh12",
          "Fix the issue of inconsistent Region size configuration between TiKV and PD #12518 @5kbpers",
          "Fix the issue that encryption keys are not cleaned up when Raft Engine is enabled #12890 @tabokie",
          "Fix the panic issue that might occur when a peer is being split and destroyed at the same time #12825 @BusyJay",
          "Fix the panic issue that might occur when the source peer catches up logs by snapshot in the Region merge process #12663 @BusyJay",
          "Fix the issue of frequent PD client reconnection that occurs when the PD client meets an error #12345 @Connor1996",
          "Fix potential panic when parallel recovery is enabled for Raft Engine #13123 @tabokie",
          "Fix the issue that the Commit Log Duration of a new Region is too high, which causes QPS to drop #13077 @Connor1996",
          "Fix rare panics when Raft Engine is enabled #12698 @tabokie",
          "Avoid redundant log warnings when proc filesystem (procfs) cannot be found #13116 @tabokie",
          "Fix the wrong expression of Unified Read Pool CPU in dashboard #13086 @glorv",
          "Fix the issue that when a Region is large, the default region-split-check-diff might be larger than the bucket size #12598 @tonyxuqqi",
          "Fix the issue that TiKV might panic when Apply Snapshot is aborted and Raft Engine is enabled #12470 @tabokie",
          "Fix the issue that the PD client might cause deadlocks #13191 @bufferflies #12933 @BurtonQin",
          "PD\nFix the issue that the online progress is inaccurate when label configurations of cluster nodes are invalid #5234 @rleungx\nFix PD panics caused by the issue that gRPC handles errors inappropriately when enable-forwarding is enabled #5373 @bufferflies\nFix the issue that /regions/replicated might return a wrong status #5095 @rleungx",
          "Fix the issue that the online progress is inaccurate when label configurations of cluster nodes are invalid #5234 @rleungx",
          "Fix PD panics caused by the issue that gRPC handles errors inappropriately when enable-forwarding is enabled #5373 @bufferflies",
          "Fix the issue that /regions/replicated might return a wrong status #5095 @rleungx",
          "TiFlash\nFix the issue that TiFlash crashes after dropping a column of a table with clustered indexes in some situations #5154 @hongyunyan\nFix the issue that the format function might return a Data truncated error #4891 @xzhangxian1008\nFix the issue that some obsolete data might persist in storage and cannot be deleted #5659 @lidezhu\nFix unnecessary CPU usage in some edge cases #5409 @breezewish\nFix a bug that TiFlash cannot work in a cluster using IPv6 #5247 @solotzg\nFix a bug that TiFlash might crash due to an error in parallel aggregation #5356 @gengliqi\nFix a bug that thread resources might leak in case of MinTSOScheduler query errors #5556 @windtalker",
          "Fix the issue that TiFlash crashes after dropping a column of a table with clustered indexes in some situations #5154 @hongyunyan",
          "Fix the issue that the format function might return a Data truncated error #4891 @xzhangxian1008",
          "Fix the issue that some obsolete data might persist in storage and cannot be deleted #5659 @lidezhu",
          "Fix unnecessary CPU usage in some edge cases #5409 @breezewish",
          "Fix a bug that TiFlash cannot work in a cluster using IPv6 #5247 @solotzg",
          "Fix a bug that TiFlash might crash due to an error in parallel aggregation #5356 @gengliqi",
          "Fix a bug that thread resources might leak in case of MinTSOScheduler query errors #5556 @windtalker",
          "Tools\nTiDB Lightning\nFix the issue that TiDB Lightning fails to connect to TiDB when TiDB uses an IPv6 host #35880 @D3Hunter\nFix the read index not ready error by adding a retry mechanism #36566 @D3Hunter\nFix the issue that sensitive information in logs is printed in server mode #36374 @lichunzhu\nFix the issue that TiDB Lightning does not support columns starting with slash, number, or non-ascii characters in Parquet files #36980 @D3Hunter\nFix the issue that de-duplication might cause TiDB Lightning to panic in extreme cases #34163 @ForwardStar\nTiDB Data Migration (DM)\nFix the issue that the txn-entry-size-limit configuration item does not take effect in DM #6161 @ForwardStar\nFix the issue that the check-task command cannot handle special characters #5895 @Ehco1996\nFix the issue of possible data race in query-status #4811 @lyzx2001\nFix the different output format for the operate-schema command #5688 @ForwardStar\nFix goroutine leak when relay meets an error #6193 @lance6716\nFix the issue that DM Worker might get stuck when getting DB Conn #3733 @lance6716\nFix the issue that DM fails to start when TiDB uses an IPv6 host #6249 @D3Hunter\nTiCDC\nFix the wrong maximum compatible version number #6039 @hi-rustin\nFix a bug that may cause the cdc server to panic when it receives an HTTP request before it fully starts #5639 @asddongmen\nFix the ddl sink panic issue when the changefeed sync-point is enabled #4934 @asddongmen\nFix the issue that a changefeed is stuck in some scenarios when sync-point is enabled #6827 @hicqu\nFix a bug that changefeed API does not work properly after the cdc server restarts #5837 @asddongmen\nFix the data race issue in the black hole sink #6206 @asddongmen\nFix the TiCDC panic issue when you set enable-old-value = false #6198 @hi-rustin\nFix the data consistency issue when the redo log feature is enabled #6189 #6368 #6277 #6456 #6695 #6764 #6859 @asddongmen\nFix poor redo log performance by writing redo events asynchronously #6011 @CharlesCheung96\nFix the issue that the MySQL sink cannot connect to IPv6 addresses #6135 @hi-rustin\nBackup & Restore (BR)\nFix a bug that BR reports ErrRestoreTableIDMismatch in RawKV mode #35279 @3pointer\nAdjust the backup data directory structure to fix backup failure caused by S3 rate limiting in large cluster backup #30087 @MoCuishle28\nFix incorrect backup time in the summary log #35553 @ixuh12\nDumpling\nFix the issue that GetDSN does not support IPv6 #36112 @D3Hunter\nTiDB Binlog\nFix a bug that Drainer cannot send requests correctly to Pump when compressor is set to gzip #1152 @lichunzhu",
          "TiDB Lightning\nFix the issue that TiDB Lightning fails to connect to TiDB when TiDB uses an IPv6 host #35880 @D3Hunter\nFix the read index not ready error by adding a retry mechanism #36566 @D3Hunter\nFix the issue that sensitive information in logs is printed in server mode #36374 @lichunzhu\nFix the issue that TiDB Lightning does not support columns starting with slash, number, or non-ascii characters in Parquet files #36980 @D3Hunter\nFix the issue that de-duplication might cause TiDB Lightning to panic in extreme cases #34163 @ForwardStar",
          "Fix the issue that TiDB Lightning fails to connect to TiDB when TiDB uses an IPv6 host #35880 @D3Hunter",
          "Fix the read index not ready error by adding a retry mechanism #36566 @D3Hunter",
          "Fix the issue that sensitive information in logs is printed in server mode #36374 @lichunzhu",
          "Fix the issue that TiDB Lightning does not support columns starting with slash, number, or non-ascii characters in Parquet files #36980 @D3Hunter",
          "Fix the issue that de-duplication might cause TiDB Lightning to panic in extreme cases #34163 @ForwardStar",
          "TiDB Data Migration (DM)\nFix the issue that the txn-entry-size-limit configuration item does not take effect in DM #6161 @ForwardStar\nFix the issue that the check-task command cannot handle special characters #5895 @Ehco1996\nFix the issue of possible data race in query-status #4811 @lyzx2001\nFix the different output format for the operate-schema command #5688 @ForwardStar\nFix goroutine leak when relay meets an error #6193 @lance6716\nFix the issue that DM Worker might get stuck when getting DB Conn #3733 @lance6716\nFix the issue that DM fails to start when TiDB uses an IPv6 host #6249 @D3Hunter",
          "Fix the issue that the txn-entry-size-limit configuration item does not take effect in DM #6161 @ForwardStar",
          "Fix the issue that the check-task command cannot handle special characters #5895 @Ehco1996",
          "Fix the issue of possible data race in query-status #4811 @lyzx2001",
          "Fix the different output format for the operate-schema command #5688 @ForwardStar",
          "Fix goroutine leak when relay meets an error #6193 @lance6716",
          "Fix the issue that DM Worker might get stuck when getting DB Conn #3733 @lance6716",
          "Fix the issue that DM fails to start when TiDB uses an IPv6 host #6249 @D3Hunter",
          "TiCDC\nFix the wrong maximum compatible version number #6039 @hi-rustin\nFix a bug that may cause the cdc server to panic when it receives an HTTP request before it fully starts #5639 @asddongmen\nFix the ddl sink panic issue when the changefeed sync-point is enabled #4934 @asddongmen\nFix the issue that a changefeed is stuck in some scenarios when sync-point is enabled #6827 @hicqu\nFix a bug that changefeed API does not work properly after the cdc server restarts #5837 @asddongmen\nFix the data race issue in the black hole sink #6206 @asddongmen\nFix the TiCDC panic issue when you set enable-old-value = false #6198 @hi-rustin\nFix the data consistency issue when the redo log feature is enabled #6189 #6368 #6277 #6456 #6695 #6764 #6859 @asddongmen\nFix poor redo log performance by writing redo events asynchronously #6011 @CharlesCheung96\nFix the issue that the MySQL sink cannot connect to IPv6 addresses #6135 @hi-rustin",
          "Fix the wrong maximum compatible version number #6039 @hi-rustin",
          "Fix a bug that may cause the cdc server to panic when it receives an HTTP request before it fully starts #5639 @asddongmen",
          "Fix the ddl sink panic issue when the changefeed sync-point is enabled #4934 @asddongmen",
          "Fix the issue that a changefeed is stuck in some scenarios when sync-point is enabled #6827 @hicqu",
          "Fix a bug that changefeed API does not work properly after the cdc server restarts #5837 @asddongmen",
          "Fix the data race issue in the black hole sink #6206 @asddongmen",
          "Fix the TiCDC panic issue when you set enable-old-value = false #6198 @hi-rustin",
          "Fix the data consistency issue when the redo log feature is enabled #6189 #6368 #6277 #6456 #6695 #6764 #6859 @asddongmen",
          "Fix poor redo log performance by writing redo events asynchronously #6011 @CharlesCheung96",
          "Fix the issue that the MySQL sink cannot connect to IPv6 addresses #6135 @hi-rustin",
          "Backup & Restore (BR)\nFix a bug that BR reports ErrRestoreTableIDMismatch in RawKV mode #35279 @3pointer\nAdjust the backup data directory structure to fix backup failure caused by S3 rate limiting in large cluster backup #30087 @MoCuishle28\nFix incorrect backup time in the summary log #35553 @ixuh12",
          "Fix a bug that BR reports ErrRestoreTableIDMismatch in RawKV mode #35279 @3pointer",
          "Adjust the backup data directory structure to fix backup failure caused by S3 rate limiting in large cluster backup #30087 @MoCuishle28",
          "Fix incorrect backup time in the summary log #35553 @ixuh12",
          "Dumpling\nFix the issue that GetDSN does not support IPv6 #36112 @D3Hunter",
          "Fix the issue that GetDSN does not support IPv6 #36112 @D3Hunter",
          "TiDB Binlog\nFix a bug that Drainer cannot send requests correctly to Pump when compressor is set to gzip #1152 @lichunzhu",
          "Fix a bug that Drainer cannot send requests correctly to Pump when compressor is set to gzip #1152 @lichunzhu"
        ]
      },
      {
        "version": "6.1.0",
        "date": "2022-06-13",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.1.0/",
        "changes": [
          "List partitioning and list COLUMNS partitioning become GA. Both are compatible with MySQL 5.7.\nUser documents: List partitioning, List COLUMNS partitioning",
          "TiFlash supports initiating a compact command. (experimental)\nTiFlash v6.1.0 introduces the ALTER TABLE ... COMPACT statement, which provides a manual way to compact physical data based on the existing background compaction mechanism. With this statement, you can update data in earlier formats and improve read/write performance any time as appropriate. It is recommended that you execute this statement to compact data after upgrading your cluster to v6.1.0. This statement is an extension of the standard SQL syntax and therefore is compatible with MySQL clients. For scenarios other than TiFlash upgrade, usually there is no need to use this statement.\nUser document, #4145",
          "TiFlash implements the window function framework and supports the following window functions:\nRANK()\nDENSE_RANK()\nROW_NUMBER()\nUser document, #33072",
          "RANK()",
          "DENSE_RANK()",
          "ROW_NUMBER()",
          "TiDB\nImprove the performance of the UnionScanRead operator #32433\nImprove the display of task types in the output of EXPLAIN (add the MPP task type) #33332\nSupport using rand() as the default value of a column #10377\nSupport using uuid() as the default value of a column #33870\nSupport modifying the character set of columns from latin1 to utf8/utf8mb4 #34008",
          "Improve the performance of the UnionScanRead operator #32433",
          "Improve the display of task types in the output of EXPLAIN (add the MPP task type) #33332",
          "Support using rand() as the default value of a column #10377",
          "Support using uuid() as the default value of a column #33870",
          "Support modifying the character set of columns from latin1 to utf8/utf8mb4 #34008",
          "TiKV\nImprove the old value hit rate of CDC when using in-memory pessimistic lock #12279\nImprove the health check to detect unavailable Raftstore, so that the TiKV client can update Region Cache in time #12398\nSupport setting memory limit on Raft Engine #12255\nTiKV automatically detects and deletes the damaged SST files to improve the product availability #10578\nCDC supports RawKV #11965\nSupport splitting a large snapshot file into multiple files #11595\nMove the snapshot garbage collection from Raftstore to background thread to prevent snapshot GC from blocking Raftstore message loops #11966\nSupport dynamic setting of the maximum message length (max-grpc-send-msg-len) and the maximum batch size of gPRC messages (raft-msg-max-batch-size) #12334\nSupport executing online unsafe recovery plan through Raft #10483",
          "Improve the old value hit rate of CDC when using in-memory pessimistic lock #12279",
          "Improve the health check to detect unavailable Raftstore, so that the TiKV client can update Region Cache in time #12398",
          "Support setting memory limit on Raft Engine #12255",
          "TiKV automatically detects and deletes the damaged SST files to improve the product availability #10578",
          "CDC supports RawKV #11965",
          "Support splitting a large snapshot file into multiple files #11595",
          "Move the snapshot garbage collection from Raftstore to background thread to prevent snapshot GC from blocking Raftstore message loops #11966",
          "Support dynamic setting of the maximum message length (max-grpc-send-msg-len) and the maximum batch size of gPRC messages (raft-msg-max-batch-size) #12334",
          "Support executing online unsafe recovery plan through Raft #10483",
          "PD\nSupport time-to-live (TTL) for region labels #4694\nSupport Region Buckets #4668\nDisable compiling swagger server by default #4932",
          "Support time-to-live (TTL) for region labels #4694",
          "Support Region Buckets #4668",
          "Disable compiling swagger server by default #4932",
          "TiFlash\nOptimize memory calculation for an aggregate operator so that a more efficient algorithm is used in the merge phase #4451",
          "Optimize memory calculation for an aggregate operator so that a more efficient algorithm is used in the merge phase #4451",
          "Tools\nBackup & Restore (BR)\nSupport backing up and restoring empty databases #33866\nTiDB Lightning\nOptimize Scatter Region to batch mode to improve the stability of the Scatter Region process #33618\nTiCDC\nTiCDC supports splitting large transactions during replication, which significantly reduces replication latency caused by large transactions #5280",
          "Backup & Restore (BR)\nSupport backing up and restoring empty databases #33866",
          "Support backing up and restoring empty databases #33866",
          "TiDB Lightning\nOptimize Scatter Region to batch mode to improve the stability of the Scatter Region process #33618",
          "Optimize Scatter Region to batch mode to improve the stability of the Scatter Region process #33618",
          "TiCDC\nTiCDC supports splitting large transactions during replication, which significantly reduces replication latency caused by large transactions #5280",
          "TiCDC supports splitting large transactions during replication, which significantly reduces replication latency caused by large transactions #5280",
          "TiDB\nFix the issue of possible panic that might occur when the in function processes the bit type data #33070\nFix the issue of wrong query result because the UnionScan operator cannot maintain the order #33175\nFix the issue that the Merge Join operator gets wrong results in certain cases #33042\nFix the issue that the index join result might be wrong in the dynamic pruning mode #33231\nFix the issue that data might not be garbage-collected when some partitions of a partitioned table is dropped #33620\nFix the issue that some DDL statements might be stuck for a period after the PD node of a cluster is replaced #33908\nFix the issue that the TiDB server might run out of memory when the INFORMATION_SCHEMA.CLUSTER_SLOW_QUERY table is queried. This issue can be triggered when you check slow queries on the Grafana dashboard #33893\nFix the issue that the system variable max_allowed_packet does not take effect #31422\nFix the issue of memory leak in the TopSQL module #34525 #34502\nFix the issue that the Plan Cache might be wrong on the PointGet plan #32371\nFix the issue that query result might be wrong when Plan Cache is started in the RC isolation level #34447",
          "Fix the issue of possible panic that might occur when the in function processes the bit type data #33070",
          "Fix the issue of wrong query result because the UnionScan operator cannot maintain the order #33175",
          "Fix the issue that the Merge Join operator gets wrong results in certain cases #33042",
          "Fix the issue that the index join result might be wrong in the dynamic pruning mode #33231",
          "Fix the issue that data might not be garbage-collected when some partitions of a partitioned table is dropped #33620",
          "Fix the issue that some DDL statements might be stuck for a period after the PD node of a cluster is replaced #33908",
          "Fix the issue that the TiDB server might run out of memory when the INFORMATION_SCHEMA.CLUSTER_SLOW_QUERY table is queried. This issue can be triggered when you check slow queries on the Grafana dashboard #33893",
          "Fix the issue that the system variable max_allowed_packet does not take effect #31422",
          "Fix the issue of memory leak in the TopSQL module #34525 #34502",
          "Fix the issue that the Plan Cache might be wrong on the PointGet plan #32371",
          "Fix the issue that query result might be wrong when Plan Cache is started in the RC isolation level #34447",
          "TiKV\nFix the issue that the Raft log lag is increasing when a TiKV instance is taken offline #12161\nFix the issue that TiKV panics and destroys peers unexpectedly because the target Region to be merged is invalid #12232\nFix the issue that TiKV reports the failed to load_latest_options error when upgrading from v5.3.1 or v5.4.0 to v6.0.0 or later versions #12269\nFix the issue of OOM caused by appending Raft logs when the memory resource is insufficient #11379\nFix the issue of TiKV panic caused by the race between destroying peers and batch splitting Regions #12368\nFix the issue of TiKV memory usage spike in a short time after stats_monitor falls into a dead loop #12416\nFix the issue that TiKV reports the invalid store ID 0 error when using Follower Read #12478",
          "Fix the issue that the Raft log lag is increasing when a TiKV instance is taken offline #12161",
          "Fix the issue that TiKV panics and destroys peers unexpectedly because the target Region to be merged is invalid #12232",
          "Fix the issue that TiKV reports the failed to load_latest_options error when upgrading from v5.3.1 or v5.4.0 to v6.0.0 or later versions #12269",
          "Fix the issue of OOM caused by appending Raft logs when the memory resource is insufficient #11379",
          "Fix the issue of TiKV panic caused by the race between destroying peers and batch splitting Regions #12368",
          "Fix the issue of TiKV memory usage spike in a short time after stats_monitor falls into a dead loop #12416",
          "Fix the issue that TiKV reports the invalid store ID 0 error when using Follower Read #12478",
          "PD\nFix the wrong status code of not leader #4797\nFix a bug of TSO fallback in some corner cases #4884\nFix the issue that a removed tombstone store appears again after the PD leader transfer #4941\nFix the issue that scheduling cannot start immediately after the PD leader transfer #4769",
          "Fix the wrong status code of not leader #4797",
          "Fix a bug of TSO fallback in some corner cases #4884",
          "Fix the issue that a removed tombstone store appears again after the PD leader transfer #4941",
          "Fix the issue that scheduling cannot start immediately after the PD leader transfer #4769",
          "TiDB Dashboard\nFix a bug that Top SQL cannot collect the CPU overhead of the SQL statements that were running before the Top SQL feature is enabled #33859",
          "Fix a bug that Top SQL cannot collect the CPU overhead of the SQL statements that were running before the Top SQL feature is enabled #33859",
          "TiFlash\nFix potential data inconsistency after a lot of INSERT and DELETE operations #4956",
          "Fix potential data inconsistency after a lot of INSERT and DELETE operations #4956",
          "Tools\nTiCDC\nFix excessive memory usage by optimizing the way DDL schemas are buffered #1386\nFix data loss that occurs in special incremental scanning scenarios #5468\nTiDB Data Migration (DM)\nFix the start-time time zone issue and change DM behavior from using the downstream time zone to using the upstream time zone #5471\nFix the issue that DM occupies more disk space after the task automatically resumes #3734 #5344\nFix the problem that checkpoint flush may cause the data of failed rows to be skipped #5279\nFix the issue that in some cases manually executing the filtered DDL in the downstream might cause task resumption failure #5272\nFix an issue that the uppercase table cannot be replicated when case-sensitive: true is not set #5255\nFix the DM worker panic issue that occurs when the primary key is not first in the index returned by the SHOW CREATE TABLE statement #5159\nFix the issue that CPU usage may increase and a large amount of log is printed when GTID is enabled or when the task is automatically resumed #5063\nFix the offline option and other usage issues in DM WebUI #4993\nFix the issue that incremental tasks fail to start when GTID is empty in the upstream #3731\nFix the issue that empty configurations may cause dm-master to panic #3732\nTiDB Lightning\nFix the issue that the precheck does not check local disk resources and cluster availability #34213\nFix the issue of incorrect routing for schemas #33381\nFix the issue that the PD configuration is not restored correctly when TiDB Lightning panics #31733\nFix the issue of Local-backend import failure caused by out-of-bounds data in the auto_increment column #27937\nFix the issue of local backend import failure when the auto_random or auto_increment column is null #34208",
          "TiCDC\nFix excessive memory usage by optimizing the way DDL schemas are buffered #1386\nFix data loss that occurs in special incremental scanning scenarios #5468",
          "Fix excessive memory usage by optimizing the way DDL schemas are buffered #1386",
          "Fix data loss that occurs in special incremental scanning scenarios #5468",
          "TiDB Data Migration (DM)\nFix the start-time time zone issue and change DM behavior from using the downstream time zone to using the upstream time zone #5471\nFix the issue that DM occupies more disk space after the task automatically resumes #3734 #5344\nFix the problem that checkpoint flush may cause the data of failed rows to be skipped #5279\nFix the issue that in some cases manually executing the filtered DDL in the downstream might cause task resumption failure #5272\nFix an issue that the uppercase table cannot be replicated when case-sensitive: true is not set #5255\nFix the DM worker panic issue that occurs when the primary key is not first in the index returned by the SHOW CREATE TABLE statement #5159\nFix the issue that CPU usage may increase and a large amount of log is printed when GTID is enabled or when the task is automatically resumed #5063\nFix the offline option and other usage issues in DM WebUI #4993\nFix the issue that incremental tasks fail to start when GTID is empty in the upstream #3731\nFix the issue that empty configurations may cause dm-master to panic #3732",
          "Fix the start-time time zone issue and change DM behavior from using the downstream time zone to using the upstream time zone #5471",
          "Fix the issue that DM occupies more disk space after the task automatically resumes #3734 #5344",
          "Fix the problem that checkpoint flush may cause the data of failed rows to be skipped #5279",
          "Fix the issue that in some cases manually executing the filtered DDL in the downstream might cause task resumption failure #5272",
          "Fix an issue that the uppercase table cannot be replicated when case-sensitive: true is not set #5255",
          "Fix the DM worker panic issue that occurs when the primary key is not first in the index returned by the SHOW CREATE TABLE statement #5159",
          "Fix the issue that CPU usage may increase and a large amount of log is printed when GTID is enabled or when the task is automatically resumed #5063",
          "Fix the offline option and other usage issues in DM WebUI #4993",
          "Fix the issue that incremental tasks fail to start when GTID is empty in the upstream #3731",
          "Fix the issue that empty configurations may cause dm-master to panic #3732",
          "TiDB Lightning\nFix the issue that the precheck does not check local disk resources and cluster availability #34213\nFix the issue of incorrect routing for schemas #33381\nFix the issue that the PD configuration is not restored correctly when TiDB Lightning panics #31733\nFix the issue of Local-backend import failure caused by out-of-bounds data in the auto_increment column #27937\nFix the issue of local backend import failure when the auto_random or auto_increment column is null #34208",
          "Fix the issue that the precheck does not check local disk resources and cluster availability #34213",
          "Fix the issue of incorrect routing for schemas #33381",
          "Fix the issue that the PD configuration is not restored correctly when TiDB Lightning panics #31733",
          "Fix the issue of Local-backend import failure caused by out-of-bounds data in the auto_increment column #27937",
          "Fix the issue of local backend import failure when the auto_random or auto_increment column is null #34208"
        ]
      }
    ]
  },
  {
    "major_version": "6.0",
    "patches": [
      {
        "version": "6.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-6.0.0-dmr/",
        "changes": [
          "SQL-based placement rules for data\nTiDB is a distributed database with excellent scalability. Usually, data is deployed across multiple servers or even multiple data centers. Therefore, data scheduling management is one of the most important basic capabilities of TiDB. In most cases, users do not need to care about how to schedule and manage data. However, with the increasing application complexity, deployment changes caused by isolation and access latency have become new challenges for TiDB. Since v6.0.0, TiDB officially provides data scheduling and management capabilities based on SQL interfaces. It supports flexible scheduling and management in dimensions such as replica counts, role types, and placement locations for any data. TiDB also supports more flexible management for data placement in multi-service shared clusters and cross-AZ deployments.\nUser document",
          "Support building TiFlash replicas by databases. To add TiFlash replicas for all tables in a database, you only need to use a single SQL statement, which greatly saves operation and maintenance costs.\nUser document",
          "TiDB\nClear the placement rule settings of a table automatically after restoring the table using the FLASHBACK or RECOVER statement #31668\nAdd a performance overview dashboard to show core performance metrics on typical critical paths, making metrics analysis on TiDB easier #31676\nSupport using the REPLACE keyword in the LOAD DATA LOCAL INFILE statement #24515\nSupport partition pruning for the built-in IN expression in Range partition tables #26739\nImprove query efficiency by eliminating potentially redundant Exchange operations in MPP aggregation queries #31762\nImprove compatibility with MySQL by allowing duplicate partition names in the TRUNCATE PARTITION and DROP PARTITION statements #31681\nSupport showing the CREATE_TIME information in the results of the ADMIN SHOW DDL JOBS statement #23494\nSupport a new built-in function CHARSET() #3931\nSupport filtering a baseline capturing blocklist by usernames #32558\nSupport using wildcards in a baseline capturing blocklist #32714\nOptimize the results of the ADMIN SHOW DDL JOBS and SHOW TABLE STATUS statements by displaying the time according to the current time_zone #26642\nSupport pushing down the DAYNAME() and MONTHNAME() functions to TiFlash #32594\nSupport pushing down the REGEXP function to TiFlash #32637\nSupport pushing down the DAYOFMONTH() and LAST_DAY() functions to TiFlash #33012\nSupport pushing down the DAYOFWEEK() and DAYOFYEAR() functions to TiFlash #33130\nSupport pushing down the IS_TRUE, IS_FALSE, and IS_TRUE_WITH_NULL functions to TiFlash #33047\nSupport pushing down the GREATEST and LEAST functions to TiFlash #32787\nSupport tracking the execution of the UnionScan operator #32631\nSupport using the PointGet plan for queries that read the _tidb_rowid column #31543\nSupport showing the original partition name in the output of the EXPLAIN statement without converting the name to lowercase #32719\nEnable partition pruning for RANGE COLUMNS partitionings on IN conditions and string type columns #32626\nReturn an error message when a system variable is set to NULL #32850\nRemove Broadcast Join from the non-MPP mode #31465\nSupport executing MPP plans on partitioned tables in dynamic pruning mode #32347\nSupport pushing down predicates for common table expressions (CTEs) #28163\nSimplify the configurations of Statement Summary and Capture Plan Baselines to be available on a global basis only #30557\nUpdate gopsutil to v3.21.12 to address alarms reported when building binary on macOS 12 #31607",
          "Clear the placement rule settings of a table automatically after restoring the table using the FLASHBACK or RECOVER statement #31668",
          "Add a performance overview dashboard to show core performance metrics on typical critical paths, making metrics analysis on TiDB easier #31676",
          "Support using the REPLACE keyword in the LOAD DATA LOCAL INFILE statement #24515",
          "Support partition pruning for the built-in IN expression in Range partition tables #26739",
          "Improve query efficiency by eliminating potentially redundant Exchange operations in MPP aggregation queries #31762",
          "Improve compatibility with MySQL by allowing duplicate partition names in the TRUNCATE PARTITION and DROP PARTITION statements #31681",
          "Support showing the CREATE_TIME information in the results of the ADMIN SHOW DDL JOBS statement #23494",
          "Support a new built-in function CHARSET() #3931",
          "Support filtering a baseline capturing blocklist by usernames #32558",
          "Support using wildcards in a baseline capturing blocklist #32714",
          "Optimize the results of the ADMIN SHOW DDL JOBS and SHOW TABLE STATUS statements by displaying the time according to the current time_zone #26642",
          "Support pushing down the DAYNAME() and MONTHNAME() functions to TiFlash #32594",
          "Support pushing down the REGEXP function to TiFlash #32637",
          "Support pushing down the DAYOFMONTH() and LAST_DAY() functions to TiFlash #33012",
          "Support pushing down the DAYOFWEEK() and DAYOFYEAR() functions to TiFlash #33130",
          "Support pushing down the IS_TRUE, IS_FALSE, and IS_TRUE_WITH_NULL functions to TiFlash #33047",
          "Support pushing down the GREATEST and LEAST functions to TiFlash #32787",
          "Support tracking the execution of the UnionScan operator #32631",
          "Support using the PointGet plan for queries that read the _tidb_rowid column #31543",
          "Support showing the original partition name in the output of the EXPLAIN statement without converting the name to lowercase #32719",
          "Enable partition pruning for RANGE COLUMNS partitionings on IN conditions and string type columns #32626",
          "Return an error message when a system variable is set to NULL #32850",
          "Remove Broadcast Join from the non-MPP mode #31465",
          "Support executing MPP plans on partitioned tables in dynamic pruning mode #32347",
          "Support pushing down predicates for common table expressions (CTEs) #28163",
          "Simplify the configurations of Statement Summary and Capture Plan Baselines to be available on a global basis only #30557",
          "Update gopsutil to v3.21.12 to address alarms reported when building binary on macOS 12 #31607",
          "TiKV\nImprove the sampling accuracy of the Raftstore for batches with many key ranges #12327\nAdd the correct \"Content-Type\" for debug/pprof/profile to make the Profile more easily identified #11521\nRenew the lease time of the leader infinitely when the Raftstore has heartbeats or handles read requests, which helps reduce latency jitter #11579\nChoose the store with the least cost when switching the leader, which helps improve performance stability #10602\nFetch Raft logs asynchronously to reduce the performance jitter caused by blocking the Raftstore #11320\nSupport the QUARTER function in vector calculation #5751\nSupport pushing down the BIT data type to TiKV #30738\nSupport pushing down the MOD function and the SYSDATE function to TiKV #11916\nReduce the TiCDC recovery time by reducing the number of the Regions that require the Resolve Locks step #11993\nSupport dynamically modifying raftstore.raft-max-inflight-msgs #11865\nSupport EXTRA_PHYSICAL_TABLE_ID_COL_ID to enable dynamic pruning mode #11888\nSupport calculation in buckets #11759\nEncode the keys of RawKV API V2 as user-key + memcomparable-padding + timestamp #11965\nEncode the values of RawKV API V2 as user-value + ttl + ValueMeta and encode delete in ValueMeta #11965\nSupport dynamically modifying raftstore.raft-max-size-per-msg #12017\nSupport monitoring multi-k8s in Grafana #12014\nTransfer the leadership to CDC observer to reduce latency jitter #12111\nSupport dynamically modifying raftstore.apply_max_batch_size and raftstore.store_max_batch_size #11982\nRawKV V2 returns the latest version upon receiving the raw_get or raw_scan request #11965\nSupport the RCCheckTS consistency reads #12097\nSupport dynamically modifying storage.scheduler-worker-pool-size(the thread count of the Scheduler pool) #12067\nControl the use of CPU and bandwidth by using the global foreground flow controller to improve the performance stability of TiKV #11855\nSupport dynamically modifying readpool.unified.max-thread-count (the thread count of the UnifyReadPool) #11781\nUse the TiKV internal pipeline to replace the RocksDB pipeline and deprecate the rocksdb.enable-multibatch-write parameter #12059",
          "Improve the sampling accuracy of the Raftstore for batches with many key ranges #12327",
          "Add the correct \"Content-Type\" for debug/pprof/profile to make the Profile more easily identified #11521",
          "Renew the lease time of the leader infinitely when the Raftstore has heartbeats or handles read requests, which helps reduce latency jitter #11579",
          "Choose the store with the least cost when switching the leader, which helps improve performance stability #10602",
          "Fetch Raft logs asynchronously to reduce the performance jitter caused by blocking the Raftstore #11320",
          "Support the QUARTER function in vector calculation #5751",
          "Support pushing down the BIT data type to TiKV #30738",
          "Support pushing down the MOD function and the SYSDATE function to TiKV #11916",
          "Reduce the TiCDC recovery time by reducing the number of the Regions that require the Resolve Locks step #11993",
          "Support dynamically modifying raftstore.raft-max-inflight-msgs #11865",
          "Support EXTRA_PHYSICAL_TABLE_ID_COL_ID to enable dynamic pruning mode #11888",
          "Support calculation in buckets #11759",
          "Encode the keys of RawKV API V2 as user-key + memcomparable-padding + timestamp #11965",
          "Encode the values of RawKV API V2 as user-value + ttl + ValueMeta and encode delete in ValueMeta #11965",
          "Support dynamically modifying raftstore.raft-max-size-per-msg #12017",
          "Support monitoring multi-k8s in Grafana #12014",
          "Transfer the leadership to CDC observer to reduce latency jitter #12111",
          "Support dynamically modifying raftstore.apply_max_batch_size and raftstore.store_max_batch_size #11982",
          "RawKV V2 returns the latest version upon receiving the raw_get or raw_scan request #11965",
          "Support the RCCheckTS consistency reads #12097",
          "Support dynamically modifying storage.scheduler-worker-pool-size(the thread count of the Scheduler pool) #12067",
          "Control the use of CPU and bandwidth by using the global foreground flow controller to improve the performance stability of TiKV #11855",
          "Support dynamically modifying readpool.unified.max-thread-count (the thread count of the UnifyReadPool) #11781",
          "Use the TiKV internal pipeline to replace the RocksDB pipeline and deprecate the rocksdb.enable-multibatch-write parameter #12059",
          "PD\nSupport automatically selecting the fastest object for transfer when evicting the leader, which helps speed up the eviction process #4229\nForbid deleting a voter from a 2-replica Raft group in case the Region becomes unavailable #4564\nSpeed up the scheduling of the balance leader #4652",
          "Support automatically selecting the fastest object for transfer when evicting the leader, which helps speed up the eviction process #4229",
          "Forbid deleting a voter from a 2-replica Raft group in case the Region becomes unavailable #4564",
          "Speed up the scheduling of the balance leader #4652",
          "TiFlash\nForbid the logical splitting of TiFlash files (by adjusting the default value of profiles.default.dt_enable_logical_split to false. See user document for details) and improve the space usage efficiency of the TiFlash columnar storage so that the space occupation of a table synchronized to TiFlash is similar to the space occupation of the table in TiKV\nOptimize the cluster management and replica replication mechanism for TiFlash by integrating the previous cluster management module into TiDB, which accelerates replica creation for small tables #29924",
          "Forbid the logical splitting of TiFlash files (by adjusting the default value of profiles.default.dt_enable_logical_split to false. See user document for details) and improve the space usage efficiency of the TiFlash columnar storage so that the space occupation of a table synchronized to TiFlash is similar to the space occupation of the table in TiKV",
          "Optimize the cluster management and replica replication mechanism for TiFlash by integrating the previous cluster management module into TiDB, which accelerates replica creation for small tables #29924",
          "Tools\nBackup & Restore (BR)\nImprove the speed of restoring the backup data. In the simulation test when BR restores 16 TB data to a TiKV cluster with 15 nodes (each node has 16 CPU cores), the throughput reaches 2.66 GiB/s. #27036\nSupport importing and exporting placement rules. Add a --with-tidb-placement-mode parameter to control whether to ignore the placement rules when importing data. #32290\nTiCDC\nAdd a Lag analyze panel in Grafana #4891\nSupport placement rules #4846\nSynchronize HTTP API handling #1710\nAdd the exponential backoff mechanism for restarting a changefeed #3329\nSet the default isolation level of MySQL sink to read-committed to reduce deadlocks in MySQL #3589\nValidate changefeed parameters upon creation and refine error messages #1716 #1718 #1719 #4472\nExpose configuration parameters of the Kafka producer to make them configurable in TiCDC #4385\nTiDB Data Migration (DM)\nSupport starting a task when upstream table schemas are inconsistent and in optimistic mode #3629 #3708 #3786\nSupport creating a task in the stopped state #4484\nSupport Syncer using the working directory of the DM-worker rather than /tmp to write internal files, and cleaning the directory after the task is stopped #4107\nPrecheck has improved. Some important checks are no longer skipped. #3608\nTiDB Lightning\nAdd more retryable error types #31376\nSupport the base64 format password string #31194\nStandardize error codes and error outputs #32239",
          "Backup & Restore (BR)\nImprove the speed of restoring the backup data. In the simulation test when BR restores 16 TB data to a TiKV cluster with 15 nodes (each node has 16 CPU cores), the throughput reaches 2.66 GiB/s. #27036\nSupport importing and exporting placement rules. Add a --with-tidb-placement-mode parameter to control whether to ignore the placement rules when importing data. #32290",
          "Improve the speed of restoring the backup data. In the simulation test when BR restores 16 TB data to a TiKV cluster with 15 nodes (each node has 16 CPU cores), the throughput reaches 2.66 GiB/s. #27036",
          "Support importing and exporting placement rules. Add a --with-tidb-placement-mode parameter to control whether to ignore the placement rules when importing data. #32290",
          "TiCDC\nAdd a Lag analyze panel in Grafana #4891\nSupport placement rules #4846\nSynchronize HTTP API handling #1710\nAdd the exponential backoff mechanism for restarting a changefeed #3329\nSet the default isolation level of MySQL sink to read-committed to reduce deadlocks in MySQL #3589\nValidate changefeed parameters upon creation and refine error messages #1716 #1718 #1719 #4472\nExpose configuration parameters of the Kafka producer to make them configurable in TiCDC #4385",
          "Add a Lag analyze panel in Grafana #4891",
          "Support placement rules #4846",
          "Synchronize HTTP API handling #1710",
          "Add the exponential backoff mechanism for restarting a changefeed #3329",
          "Set the default isolation level of MySQL sink to read-committed to reduce deadlocks in MySQL #3589",
          "Validate changefeed parameters upon creation and refine error messages #1716 #1718 #1719 #4472",
          "Expose configuration parameters of the Kafka producer to make them configurable in TiCDC #4385",
          "TiDB Data Migration (DM)\nSupport starting a task when upstream table schemas are inconsistent and in optimistic mode #3629 #3708 #3786\nSupport creating a task in the stopped state #4484\nSupport Syncer using the working directory of the DM-worker rather than /tmp to write internal files, and cleaning the directory after the task is stopped #4107\nPrecheck has improved. Some important checks are no longer skipped. #3608",
          "Support starting a task when upstream table schemas are inconsistent and in optimistic mode #3629 #3708 #3786",
          "Support creating a task in the stopped state #4484",
          "Support Syncer using the working directory of the DM-worker rather than /tmp to write internal files, and cleaning the directory after the task is stopped #4107",
          "Precheck has improved. Some important checks are no longer skipped. #3608",
          "TiDB Lightning\nAdd more retryable error types #31376\nSupport the base64 format password string #31194\nStandardize error codes and error outputs #32239",
          "Add more retryable error types #31376",
          "Support the base64 format password string #31194",
          "Standardize error codes and error outputs #32239",
          "TiDB\nFix a bug that TiDB fails to create tables with placement rules when SCHEDULE = majority_in_primary, and PrimaryRegion and Regions are of the same value #31271\nFix the invalid transaction error when executing a query using index lookup join #30468\nFix a bug that show grants returns incorrect results when two or more privileges are granted #30855\nFix a bug that INSERT INTO t1 SET timestamp_col = DEFAULT would set the timestamp to the zero timestamp for the field defaulted to CURRENT_TIMESTAMP #29926\nFix errors reported in reading the results by avoiding encoding the maximum value and minimum non-null value of the string type #31721\nFix load data panic if the data is broken at an escape character #31589\nFix the issue that the greatest or least function with collation gets a wrong result #31789\nFix a bug that the date_add and date_sub functions might return incorrect data types #31809\nFix possible panic when inserting data to virtually generated columns using an insert statement #31735\nFix a bug that no error is reported when duplicate columns are present in the created list partition #31784\nFix wrong results returned when select for update union select uses incorrect snapshots #31530\nFix the potential issue that Regions might be unevenly distributed after a restore operation is finished #31034\nFix a bug that COERCIBILITY is wrong for the json type #31541\nFix wrong collation of the json type when this type is processed using builtin-func #31320\nFix a bug that PD rules are not deleted when the count of TiFlash replicas is set to 0 #32190\nFix the issue that alter column set default wrongly updates the table schema #31074\nFix the issue that date_format in TiDB handles '\\n' in a MySQL-incompatible way #32232\nFix a bug that errors may occur when updating partitioned tables using join #31629\nFix wrong range calculation results for Nulleq function on Enum values #32428\nFix possible panic in upper() and lower() functions #32488\nFix time zone problems encountered when changing the other type columns to timestamp type columns #29585\nFix TiDB OOM when exporting data using ChunkRPC #31981 #30880\nFix a bug that sub SELECT LIMIT does not work as expected in dynamic partition pruning mode #32516\nFix wrong or inconsistent format of bit default value in the INFORMATION_SCHEMA.COLUMNS table #32655\nFix a bug that partition table pruning might not work for listing partition tables after server restart #32416\nFix a bug that add column might use a wrong default timestamp after SET timestamp is executed #31968\nFix a bug that connecting to a TiDB passwordless account from MySQL 5.5 or 5.6 client may fail #32334\nFix wrong results when reading partitioned tables in dynamic mode in transactions #29851\nFix a bug that TiDB may dispatch duplicate tasks to TiFlash #32814\nFix wrong results returned when the input of the timdiff function contains a millisecond #31680\nFix wrong results when explicitly reading partitions and using the IndexJoin plan #32007\nFix a bug that renaming a column fails when changing its column type concurrently #31075\nFix a bug that the formula for calculating net cost for TiFlash plans is not aligned with TiKV plans #30103\nFix a bug that KILL TIDB cannot take effect immediately on idle connections #24031\nFix possible wrong results when querying a table with generated columns #33038\nFix wrong results of deleting data of multiple tables using left join #31321\nFix a bug that the SUBTIME function returns a wrong result in case of overflow #31868\nFix a bug that the selection operator cannot be pushed down when an aggregation query contains the having condition #33166\nFix a bug that CTE might be blocked when a query reports errors #31302\nFix a bug that excessive length of varbinary or varchar columns when creating tables in non-strict mode might result in errors #30328\nFix the wrong number of followers in information_schema.placement_policies when no follower is specified #31702\nFix the issue that TiDB allows to specify column prefix length as 0 when an index is created #31972\nFix the issue that TiDB allows partition names ending with spaces #31535\nCorrect the error message of the RENAME TABLE statement #29893",
          "Fix a bug that TiDB fails to create tables with placement rules when SCHEDULE = majority_in_primary, and PrimaryRegion and Regions are of the same value #31271",
          "Fix the invalid transaction error when executing a query using index lookup join #30468",
          "Fix a bug that show grants returns incorrect results when two or more privileges are granted #30855",
          "Fix a bug that INSERT INTO t1 SET timestamp_col = DEFAULT would set the timestamp to the zero timestamp for the field defaulted to CURRENT_TIMESTAMP #29926",
          "Fix errors reported in reading the results by avoiding encoding the maximum value and minimum non-null value of the string type #31721",
          "Fix load data panic if the data is broken at an escape character #31589",
          "Fix the issue that the greatest or least function with collation gets a wrong result #31789",
          "Fix a bug that the date_add and date_sub functions might return incorrect data types #31809",
          "Fix possible panic when inserting data to virtually generated columns using an insert statement #31735",
          "Fix a bug that no error is reported when duplicate columns are present in the created list partition #31784",
          "Fix wrong results returned when select for update union select uses incorrect snapshots #31530",
          "Fix the potential issue that Regions might be unevenly distributed after a restore operation is finished #31034",
          "Fix a bug that COERCIBILITY is wrong for the json type #31541",
          "Fix wrong collation of the json type when this type is processed using builtin-func #31320",
          "Fix a bug that PD rules are not deleted when the count of TiFlash replicas is set to 0 #32190",
          "Fix the issue that alter column set default wrongly updates the table schema #31074",
          "Fix the issue that date_format in TiDB handles '\\n' in a MySQL-incompatible way #32232",
          "Fix a bug that errors may occur when updating partitioned tables using join #31629",
          "Fix wrong range calculation results for Nulleq function on Enum values #32428",
          "Fix possible panic in upper() and lower() functions #32488",
          "Fix time zone problems encountered when changing the other type columns to timestamp type columns #29585",
          "Fix TiDB OOM when exporting data using ChunkRPC #31981 #30880",
          "Fix a bug that sub SELECT LIMIT does not work as expected in dynamic partition pruning mode #32516",
          "Fix wrong or inconsistent format of bit default value in the INFORMATION_SCHEMA.COLUMNS table #32655",
          "Fix a bug that partition table pruning might not work for listing partition tables after server restart #32416",
          "Fix a bug that add column might use a wrong default timestamp after SET timestamp is executed #31968",
          "Fix a bug that connecting to a TiDB passwordless account from MySQL 5.5 or 5.6 client may fail #32334",
          "Fix wrong results when reading partitioned tables in dynamic mode in transactions #29851",
          "Fix a bug that TiDB may dispatch duplicate tasks to TiFlash #32814",
          "Fix wrong results returned when the input of the timdiff function contains a millisecond #31680",
          "Fix wrong results when explicitly reading partitions and using the IndexJoin plan #32007",
          "Fix a bug that renaming a column fails when changing its column type concurrently #31075",
          "Fix a bug that the formula for calculating net cost for TiFlash plans is not aligned with TiKV plans #30103",
          "Fix a bug that KILL TIDB cannot take effect immediately on idle connections #24031",
          "Fix possible wrong results when querying a table with generated columns #33038",
          "Fix wrong results of deleting data of multiple tables using left join #31321",
          "Fix a bug that the SUBTIME function returns a wrong result in case of overflow #31868",
          "Fix a bug that the selection operator cannot be pushed down when an aggregation query contains the having condition #33166",
          "Fix a bug that CTE might be blocked when a query reports errors #31302",
          "Fix a bug that excessive length of varbinary or varchar columns when creating tables in non-strict mode might result in errors #30328",
          "Fix the wrong number of followers in information_schema.placement_policies when no follower is specified #31702",
          "Fix the issue that TiDB allows to specify column prefix length as 0 when an index is created #31972",
          "Fix the issue that TiDB allows partition names ending with spaces #31535",
          "Correct the error message of the RENAME TABLE statement #29893",
          "TiKV\nFix the panic issue caused by deleting snapshot files when the peer status is Applying #11746\nFix the issue of QPS drop when flow control is enabled and level0_slowdown_trigger is set explicitly #11424\nFix the issue that destroying a peer might cause high latency #10210\nFix a bug that TiKV cannot delete a range of data (which means the internal command unsafe_destroy_range is executed) when the GC worker is busy #11903\nFix a bug that TiKV panics when the data in StoreMeta is accidentally deleted in some corner cases #11852\nFix a bug that TiKV panics when performing profiling on an ARM platform #10658\nFix a bug that TiKV might panic if it has been running for 2 years or more #11940\nFix the compilation issue on the ARM64 architecture caused by missing SSE instruction set #12034\nFix the issue that deleting an uninitialized replica might cause an old replica to be recreated #10533\nFix a bug that stale messages cause TiKV to panic #12023\nFix the issue that undefined behavior (UB) might occur in TsSet conversions #12070\nFix a bug that replica reads might violate the linearizability #12109\nFix the potential panic issue that occurs when TiKV performs profiling on Ubuntu 18.04 #9765\nFix the issue that tikv-ctl returns an incorrect result due to its wrong string match #12329\nFix the issue of intermittent packet loss and out of memory (OOM) caused by the overflow of memory metrics #12160\nFix the potential issue of mistakenly reporting TiKV panics when exiting TiKV #12231",
          "Fix the panic issue caused by deleting snapshot files when the peer status is Applying #11746",
          "Fix the issue of QPS drop when flow control is enabled and level0_slowdown_trigger is set explicitly #11424",
          "Fix the issue that destroying a peer might cause high latency #10210",
          "Fix a bug that TiKV cannot delete a range of data (which means the internal command unsafe_destroy_range is executed) when the GC worker is busy #11903",
          "Fix a bug that TiKV panics when the data in StoreMeta is accidentally deleted in some corner cases #11852",
          "Fix a bug that TiKV panics when performing profiling on an ARM platform #10658",
          "Fix a bug that TiKV might panic if it has been running for 2 years or more #11940",
          "Fix the compilation issue on the ARM64 architecture caused by missing SSE instruction set #12034",
          "Fix the issue that deleting an uninitialized replica might cause an old replica to be recreated #10533",
          "Fix a bug that stale messages cause TiKV to panic #12023",
          "Fix the issue that undefined behavior (UB) might occur in TsSet conversions #12070",
          "Fix a bug that replica reads might violate the linearizability #12109",
          "Fix the potential panic issue that occurs when TiKV performs profiling on Ubuntu 18.04 #9765",
          "Fix the issue that tikv-ctl returns an incorrect result due to its wrong string match #12329",
          "Fix the issue of intermittent packet loss and out of memory (OOM) caused by the overflow of memory metrics #12160",
          "Fix the potential issue of mistakenly reporting TiKV panics when exiting TiKV #12231",
          "PD\nFix the issue that PD generates the operator with meaningless steps of Joint Consensus #4362\nFix a bug that the TSO revoking process might get stuck when closing the PD client #4549\nFix the issue that the Region scatterer scheduling lost some peers #4565\nFix the issue that Duration fields of dr-autosync cannot be dynamically configured #4651",
          "Fix the issue that PD generates the operator with meaningless steps of Joint Consensus #4362",
          "Fix a bug that the TSO revoking process might get stuck when closing the PD client #4549",
          "Fix the issue that the Region scatterer scheduling lost some peers #4565",
          "Fix the issue that Duration fields of dr-autosync cannot be dynamically configured #4651",
          "TiFlash\nFix the TiFlash panic issue that occurs when the memory limit is enabled #3902\nFix the issue that expired data is recycled slowly #4146\nFix the potential issue of TiFlash panic when Snapshot is applied simultaneously with multiple DDL operations #4072\nFix the potential query error after adding columns under heavy read workload #3967\nFix the issue that the SQRT function with a negative argument returns NaN instead of Null #3598\nFix the issue that casting INT to DECIMAL might cause overflow #3920\nFix the issue that the result of IN is incorrect in multi-value expressions #4016\nFix the issue that the date format identifies '\\n' as an invalid separator #4036\nFix the issue that the learner-read process takes too much time under high concurrency scenarios #3555\nFix the wrong result that occurs when casting DATETIME to DECIMAL #4151\nFix the issue of memory leak that occurs when a query is canceled #4098\nFix a bug that enabling the elastic thread pool might cause a memory leak #4098\nFix a bug that canceled MPP queries might cause tasks to hang forever when the local tunnel is enabled #4229\nFix a bug that the failure of the HashJoin build side might cause MPP queries to hang forever #4195\nFix a bug that MPP tasks might leak threads forever #4238",
          "Fix the TiFlash panic issue that occurs when the memory limit is enabled #3902",
          "Fix the issue that expired data is recycled slowly #4146",
          "Fix the potential issue of TiFlash panic when Snapshot is applied simultaneously with multiple DDL operations #4072",
          "Fix the potential query error after adding columns under heavy read workload #3967",
          "Fix the issue that the SQRT function with a negative argument returns NaN instead of Null #3598",
          "Fix the issue that casting INT to DECIMAL might cause overflow #3920",
          "Fix the issue that the result of IN is incorrect in multi-value expressions #4016",
          "Fix the issue that the date format identifies '\\n' as an invalid separator #4036",
          "Fix the issue that the learner-read process takes too much time under high concurrency scenarios #3555",
          "Fix the wrong result that occurs when casting DATETIME to DECIMAL #4151",
          "Fix the issue of memory leak that occurs when a query is canceled #4098",
          "Fix a bug that enabling the elastic thread pool might cause a memory leak #4098",
          "Fix a bug that canceled MPP queries might cause tasks to hang forever when the local tunnel is enabled #4229",
          "Fix a bug that the failure of the HashJoin build side might cause MPP queries to hang forever #4195",
          "Fix a bug that MPP tasks might leak threads forever #4238",
          "Tools\nBackup & Restore (BR)\nFix a bug that BR gets stuck when the restore operation meets some unrecoverable errors #33200\nFix a bug that causes the restore operation to fail when the encryption information is lost during backup retry #32423\nTiCDC\nFix a bug that MySQL sink generates duplicated replace SQL statements when batch-replace-enable is disabled #4501\nFix a bug that a TiCDC node exits abnormally when a PD leader is killed #4248\nFix the error Unknown system variable 'transaction_isolation' for some MySQL versions #4504\nFix the TiCDC panic issue that might occur when Canal-JSON incorrectly handles string #4635\nFix a bug that sequence is incorrectly replicated in some cases #4552\nFix the TiCDC panic issue that might occur because Canal-JSON does not support nil #4736\nFix the wrong data mapping for avro codec of type Enum/Set and TinyText/MediumText/Text/LongText #4454\nFix a bug that Avro converts a NOT NULL column to a nullable field #4818\nFix an issue that TiCDC cannot exit #4699\nTiDB Data Migration (DM)\nFix the issue that syncer metrics are updated only when querying the status #4281\nFix the issue that execution errors of the update statement in safemode may cause the DM-worker panic #4317\nFix a bug that long varchars report an error Column length too big #4637\nFix the conflict issue caused by multiple DM-workers writing data from the same upstream #3737\nFix the issue that hundreds of \"checkpoint has no change, skip sync flush checkpoint\" print in the log and the replication is very slow #4619\nFix the DML loss issue when merging shards and replicating incremental data from upstream in the pessimistic mode #5002\nTiDB Lightning\nFix a bug that TiDB Lightning may not delete the metadata schema when some import tasks do not contain source files #28144\nFix the panic that occurs when the table names in the source file and in the target cluster are different #31771\nFix the checksum error \"GC life time is shorter than transaction duration\" #32733\nFix the issue that TiDB Lightning gets stuck when it fails to check empty tables #31797\nDumpling\nFix the issue that the displayed progress is not accurate when running dumpling --sql $query #30532\nFix the issue that Amazon S3 cannot correctly calculate the size of compressed data #30534\nTiDB Binlog\nFix the issue that TiDB Binlog might be skipped when large upstream write transactions are replicated to Kafka #1136",
          "Backup & Restore (BR)\nFix a bug that BR gets stuck when the restore operation meets some unrecoverable errors #33200\nFix a bug that causes the restore operation to fail when the encryption information is lost during backup retry #32423",
          "Fix a bug that BR gets stuck when the restore operation meets some unrecoverable errors #33200",
          "Fix a bug that causes the restore operation to fail when the encryption information is lost during backup retry #32423",
          "TiCDC\nFix a bug that MySQL sink generates duplicated replace SQL statements when batch-replace-enable is disabled #4501\nFix a bug that a TiCDC node exits abnormally when a PD leader is killed #4248\nFix the error Unknown system variable 'transaction_isolation' for some MySQL versions #4504\nFix the TiCDC panic issue that might occur when Canal-JSON incorrectly handles string #4635\nFix a bug that sequence is incorrectly replicated in some cases #4552\nFix the TiCDC panic issue that might occur because Canal-JSON does not support nil #4736\nFix the wrong data mapping for avro codec of type Enum/Set and TinyText/MediumText/Text/LongText #4454\nFix a bug that Avro converts a NOT NULL column to a nullable field #4818\nFix an issue that TiCDC cannot exit #4699",
          "Fix a bug that MySQL sink generates duplicated replace SQL statements when batch-replace-enable is disabled #4501",
          "Fix a bug that a TiCDC node exits abnormally when a PD leader is killed #4248",
          "Fix the error Unknown system variable 'transaction_isolation' for some MySQL versions #4504",
          "Fix the TiCDC panic issue that might occur when Canal-JSON incorrectly handles string #4635",
          "Fix a bug that sequence is incorrectly replicated in some cases #4552",
          "Fix the TiCDC panic issue that might occur because Canal-JSON does not support nil #4736",
          "Fix the wrong data mapping for avro codec of type Enum/Set and TinyText/MediumText/Text/LongText #4454",
          "Fix a bug that Avro converts a NOT NULL column to a nullable field #4818",
          "Fix an issue that TiCDC cannot exit #4699",
          "TiDB Data Migration (DM)\nFix the issue that syncer metrics are updated only when querying the status #4281\nFix the issue that execution errors of the update statement in safemode may cause the DM-worker panic #4317\nFix a bug that long varchars report an error Column length too big #4637\nFix the conflict issue caused by multiple DM-workers writing data from the same upstream #3737\nFix the issue that hundreds of \"checkpoint has no change, skip sync flush checkpoint\" print in the log and the replication is very slow #4619\nFix the DML loss issue when merging shards and replicating incremental data from upstream in the pessimistic mode #5002",
          "Fix the issue that syncer metrics are updated only when querying the status #4281",
          "Fix the issue that execution errors of the update statement in safemode may cause the DM-worker panic #4317",
          "Fix a bug that long varchars report an error Column length too big #4637",
          "Fix the conflict issue caused by multiple DM-workers writing data from the same upstream #3737",
          "Fix the issue that hundreds of \"checkpoint has no change, skip sync flush checkpoint\" print in the log and the replication is very slow #4619",
          "Fix the DML loss issue when merging shards and replicating incremental data from upstream in the pessimistic mode #5002",
          "TiDB Lightning\nFix a bug that TiDB Lightning may not delete the metadata schema when some import tasks do not contain source files #28144\nFix the panic that occurs when the table names in the source file and in the target cluster are different #31771\nFix the checksum error \"GC life time is shorter than transaction duration\" #32733\nFix the issue that TiDB Lightning gets stuck when it fails to check empty tables #31797",
          "Fix a bug that TiDB Lightning may not delete the metadata schema when some import tasks do not contain source files #28144",
          "Fix the panic that occurs when the table names in the source file and in the target cluster are different #31771",
          "Fix the checksum error \"GC life time is shorter than transaction duration\" #32733",
          "Fix the issue that TiDB Lightning gets stuck when it fails to check empty tables #31797",
          "Dumpling\nFix the issue that the displayed progress is not accurate when running dumpling --sql $query #30532\nFix the issue that Amazon S3 cannot correctly calculate the size of compressed data #30534",
          "Fix the issue that the displayed progress is not accurate when running dumpling --sql $query #30532",
          "Fix the issue that Amazon S3 cannot correctly calculate the size of compressed data #30534",
          "TiDB Binlog\nFix the issue that TiDB Binlog might be skipped when large upstream write transactions are replicated to Kafka #1136",
          "Fix the issue that TiDB Binlog might be skipped when large upstream write transactions are replicated to Kafka #1136"
        ]
      }
    ]
  },
  {
    "major_version": "5.4",
    "patches": [
      {
        "version": "5.4.3",
        "date": "2022-10-13",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.4.3/",
        "changes": [
          "TiKV\nSupport configuring the RocksDB write stall settings to a value smaller than the flow control threshold #13467\nSupport configuring the unreachable_backoff item to avoid Raftstore broadcasting too many messages after one peer becomes unreachable #13054",
          "Support configuring the RocksDB write stall settings to a value smaller than the flow control threshold #13467",
          "Support configuring the unreachable_backoff item to avoid Raftstore broadcasting too many messages after one peer becomes unreachable #13054",
          "Tools\nTiDB Lightning\nOptimize Scatter Region to batch mode to improve the stability of the Scatter Region process #33618\nTiCDC\nReduce performance overhead caused by runtime context switching in multi-Region scenarios #5610",
          "TiDB Lightning\nOptimize Scatter Region to batch mode to improve the stability of the Scatter Region process #33618",
          "Optimize Scatter Region to batch mode to improve the stability of the Scatter Region process #33618",
          "TiCDC\nReduce performance overhead caused by runtime context switching in multi-Region scenarios #5610",
          "Reduce performance overhead caused by runtime context switching in multi-Region scenarios #5610",
          "TiDB\nFix the incorrect output of SHOW CREATE PLACEMENT POLICY #37526\nFix the issue that some DDL statements might be stuck for a period after the PD node of a cluster is replaced #33908\nFix the issue that KILL TIDB cannot take effect immediately on idle connections #24031\nFix the issue that incorrect results are returned in the DATA_TYPE and COLUMN_TYPE columns when querying the INFORMSTION_SCHEMA.COLUMNS system table #36496\nFix the issue that when TiDB Binlog is enabled, executing the ALTER SEQUENCE statement might cause a wrong metadata version and cause Drainer to exit #36276\nFix the issue that the UNION operator might return unexpected empty result #36903\nFix the wrong result that occurs when enabling dynamic mode in partitioned tables for TiFlash #37254\nFix the issue that INL_HASH_JOIN might hang when used with LIMIT #35638\nFix the issue that TiDB might return the invalid memory address or nil pointer dereference error when executing the SHOW WARNINGS statement #31569\nFix the invalid transaction error that occurs when performing Stale Read in the RC isolation level #30872\nFix the issue that the EXPLAIN ANALYZE statement with DML executors might return result before the transaction commit finishes #37373\nFix the issue of the data and columnID count not match error that occurs when inserting duplicated values with TiDB Binlog enabled #33608\nFix the issue that in the static partition prune mode, SQL statements with an aggregate condition might return wrong result when the table is empty #35295\nFix the issue that TiDB might panic when executing the UPDATE statement #32311\nFix the issue of wrong query result because the UnionScan operator cannot maintain the order #33175\nFix the issue that the UPDATE statements incorrectly eliminate the projection in some cases, which causes the Can't find column error #37568\nFix the issue that partitioned tables cannot fully use indexes to scan data in some cases #33966\nFix the issue that the EXECUTE might throw an unexpected error in specific scenarios #37187\nFix the issue that TiDB might return wrong results when using a BIT type index with prepared plan cache enabled #33067",
          "Fix the incorrect output of SHOW CREATE PLACEMENT POLICY #37526",
          "Fix the issue that some DDL statements might be stuck for a period after the PD node of a cluster is replaced #33908",
          "Fix the issue that KILL TIDB cannot take effect immediately on idle connections #24031",
          "Fix the issue that incorrect results are returned in the DATA_TYPE and COLUMN_TYPE columns when querying the INFORMSTION_SCHEMA.COLUMNS system table #36496",
          "Fix the issue that when TiDB Binlog is enabled, executing the ALTER SEQUENCE statement might cause a wrong metadata version and cause Drainer to exit #36276",
          "Fix the issue that the UNION operator might return unexpected empty result #36903",
          "Fix the wrong result that occurs when enabling dynamic mode in partitioned tables for TiFlash #37254",
          "Fix the issue that INL_HASH_JOIN might hang when used with LIMIT #35638",
          "Fix the issue that TiDB might return the invalid memory address or nil pointer dereference error when executing the SHOW WARNINGS statement #31569",
          "Fix the invalid transaction error that occurs when performing Stale Read in the RC isolation level #30872",
          "Fix the issue that the EXPLAIN ANALYZE statement with DML executors might return result before the transaction commit finishes #37373",
          "Fix the issue of the data and columnID count not match error that occurs when inserting duplicated values with TiDB Binlog enabled #33608",
          "Fix the issue that in the static partition prune mode, SQL statements with an aggregate condition might return wrong result when the table is empty #35295",
          "Fix the issue that TiDB might panic when executing the UPDATE statement #32311",
          "Fix the issue of wrong query result because the UnionScan operator cannot maintain the order #33175",
          "Fix the issue that the UPDATE statements incorrectly eliminate the projection in some cases, which causes the Can't find column error #37568",
          "Fix the issue that partitioned tables cannot fully use indexes to scan data in some cases #33966",
          "Fix the issue that the EXECUTE might throw an unexpected error in specific scenarios #37187",
          "Fix the issue that TiDB might return wrong results when using a BIT type index with prepared plan cache enabled #33067",
          "TiKV\nFix the issue of continuous SQL execution errors in the cluster after the PD leader is switched or PD is restarted #12934\nCause: This issue is caused by a TiKV bug that TiKV does not retry sending heartbeat information to PD client after heartbeat requests fail, until TiKV reconnects to PD client. As a result, the Region information on the failed TiKV node becomes outdated, and TiDB cannot get the latest Region information, which causes SQL execution errors.\nAffected versions: v5.3.2 and v5.4.2. This issue has been fixed in v5.3.3 and v5.4.3. If you are using v5.4.2, you can upgrade your cluster to v5.4.3.\nWorkaround: In addition to upgrade, you can also restart the TiKV nodes that cannot send Region heartbeat to PD, until there is no Region heartbeat to send.\nFix the issue that causes permission denied error when TiKV gets an error from the web identity provider and fails back to the default provider #13122\nFix the issue that the PD client might cause deadlocks #13191\nFix the issue that Regions might be overlapped if Raftstore is busy #13160",
          "Fix the issue of continuous SQL execution errors in the cluster after the PD leader is switched or PD is restarted #12934\nCause: This issue is caused by a TiKV bug that TiKV does not retry sending heartbeat information to PD client after heartbeat requests fail, until TiKV reconnects to PD client. As a result, the Region information on the failed TiKV node becomes outdated, and TiDB cannot get the latest Region information, which causes SQL execution errors.\nAffected versions: v5.3.2 and v5.4.2. This issue has been fixed in v5.3.3 and v5.4.3. If you are using v5.4.2, you can upgrade your cluster to v5.4.3.\nWorkaround: In addition to upgrade, you can also restart the TiKV nodes that cannot send Region heartbeat to PD, until there is no Region heartbeat to send.",
          "Cause: This issue is caused by a TiKV bug that TiKV does not retry sending heartbeat information to PD client after heartbeat requests fail, until TiKV reconnects to PD client. As a result, the Region information on the failed TiKV node becomes outdated, and TiDB cannot get the latest Region information, which causes SQL execution errors.",
          "Affected versions: v5.3.2 and v5.4.2. This issue has been fixed in v5.3.3 and v5.4.3. If you are using v5.4.2, you can upgrade your cluster to v5.4.3.",
          "Workaround: In addition to upgrade, you can also restart the TiKV nodes that cannot send Region heartbeat to PD, until there is no Region heartbeat to send.",
          "Fix the issue that causes permission denied error when TiKV gets an error from the web identity provider and fails back to the default provider #13122",
          "Fix the issue that the PD client might cause deadlocks #13191",
          "Fix the issue that Regions might be overlapped if Raftstore is busy #13160",
          "PD\nFix the issue that PD cannot correctly handle dashboard proxy requests #5321\nFix the issue that a removed tombstone store appears again after the PD leader transfer #4941\nFix the issue that the TiFlash learner replica might not be created #5401",
          "Fix the issue that PD cannot correctly handle dashboard proxy requests #5321",
          "Fix the issue that a removed tombstone store appears again after the PD leader transfer #4941",
          "Fix the issue that the TiFlash learner replica might not be created #5401",
          "TiFlash\nFix the issue that the format function might return a Data truncated error #4891\nFix the issue that TiFlash might crash due to an error in parallel aggregation #5356\nFix the panic that occurs after creating the primary index with a column containing the NULL value #5859",
          "Fix the issue that the format function might return a Data truncated error #4891",
          "Fix the issue that TiFlash might crash due to an error in parallel aggregation #5356",
          "Fix the panic that occurs after creating the primary index with a column containing the NULL value #5859",
          "Tools\nTiDB Lightning\nFix the issue that an auto-increment column of the BIGINT type might be out of range #27937\nFix the issue that de-duplication might cause TiDB Lightning to panic in extreme cases #34163\nFix the issue that TiDB Lightning does not support columns starting with slash, number, or non-ascii characters in Parquet files #36980\nFix the issue that TiDB Lightning fails to connect to TiDB when TiDB uses an IPv6 host #35880\nTiDB Data Migration (DM)\nFix the issue that DM Worker might get stuck when getting DB Conn #3733\nFix the issue that DM reports the Specified key was too long error #5315\nFix the issue that latin1 data might be corrupted during replication #7028\nFix the issue that DM fails to start when TiDB uses an IPv6 host #6249\nFix the issue of possible data race in query-status #4811\nFix goroutine leak when relay meets an error #6193\nTiCDC\nFix the TiCDC panic issue when you set enable-old-value = false #6198\nBackup & Restore (BR)\nFix the issue that might lead to backup and restoration failure if special characters exist in the authorization key of external storage #37469\nFix the issue that the regions are not balanced because the concurrency is set too large during the restoration #37549\nDumpling\nFix the issue that GetDSN does not support IPv6 #36112",
          "TiDB Lightning\nFix the issue that an auto-increment column of the BIGINT type might be out of range #27937\nFix the issue that de-duplication might cause TiDB Lightning to panic in extreme cases #34163\nFix the issue that TiDB Lightning does not support columns starting with slash, number, or non-ascii characters in Parquet files #36980\nFix the issue that TiDB Lightning fails to connect to TiDB when TiDB uses an IPv6 host #35880",
          "Fix the issue that an auto-increment column of the BIGINT type might be out of range #27937",
          "Fix the issue that de-duplication might cause TiDB Lightning to panic in extreme cases #34163",
          "Fix the issue that TiDB Lightning does not support columns starting with slash, number, or non-ascii characters in Parquet files #36980",
          "Fix the issue that TiDB Lightning fails to connect to TiDB when TiDB uses an IPv6 host #35880",
          "TiDB Data Migration (DM)\nFix the issue that DM Worker might get stuck when getting DB Conn #3733\nFix the issue that DM reports the Specified key was too long error #5315\nFix the issue that latin1 data might be corrupted during replication #7028\nFix the issue that DM fails to start when TiDB uses an IPv6 host #6249\nFix the issue of possible data race in query-status #4811\nFix goroutine leak when relay meets an error #6193",
          "Fix the issue that DM Worker might get stuck when getting DB Conn #3733",
          "Fix the issue that DM reports the Specified key was too long error #5315",
          "Fix the issue that latin1 data might be corrupted during replication #7028",
          "Fix the issue that DM fails to start when TiDB uses an IPv6 host #6249",
          "Fix the issue of possible data race in query-status #4811",
          "Fix goroutine leak when relay meets an error #6193",
          "TiCDC\nFix the TiCDC panic issue when you set enable-old-value = false #6198",
          "Fix the TiCDC panic issue when you set enable-old-value = false #6198",
          "Backup & Restore (BR)\nFix the issue that might lead to backup and restoration failure if special characters exist in the authorization key of external storage #37469\nFix the issue that the regions are not balanced because the concurrency is set too large during the restoration #37549",
          "Fix the issue that might lead to backup and restoration failure if special characters exist in the authorization key of external storage #37469",
          "Fix the issue that the regions are not balanced because the concurrency is set too large during the restoration #37549",
          "Dumpling\nFix the issue that GetDSN does not support IPv6 #36112",
          "Fix the issue that GetDSN does not support IPv6 #36112"
        ]
      },
      {
        "version": "5.4.2",
        "date": "2022-07-08",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.4.2/",
        "changes": [
          "TiDB\nAvoid sending requests to unhealthy TiKV nodes to improve availability #34906",
          "Avoid sending requests to unhealthy TiKV nodes to improve availability #34906",
          "TiKV\nReload TLS certificate automatically for each update to improve availability #12546\nImprove the health check to detect unavailable Raftstore, so that the TiKV client can update Region Cache in time #12398\nTransfer the leadership to CDC observer to reduce latency jitter #12111",
          "Reload TLS certificate automatically for each update to improve availability #12546",
          "Improve the health check to detect unavailable Raftstore, so that the TiKV client can update Region Cache in time #12398",
          "Transfer the leadership to CDC observer to reduce latency jitter #12111",
          "PD\nDisable compiling swagger server by default #4932",
          "Disable compiling swagger server by default #4932",
          "Tools\nTiDB Lightning\nOptimize Scatter Region to batch mode to improve the stability of the Scatter Region process #33618",
          "TiDB Lightning\nOptimize Scatter Region to batch mode to improve the stability of the Scatter Region process #33618",
          "Optimize Scatter Region to batch mode to improve the stability of the Scatter Region process #33618",
          "TiDB\nFix the issue of wrong TableDual plans cached in binary protocol #34690 #34678\nFix the issue of incorrectly inferred null flag of the TiFlash firstrow aggregate function in the EqualAll case #34584\nFix the issue that the planner generates wrong 2-phase aggregate plan for TiFlash #34682\nFix the planner wrong behaviors that occur when tidb_opt_agg_push_down and tidb_enforce_mpp are enabled #34465\nFix the wrong memory-usage value used when Plan Cache is evicted #34613\nFix the issue that the column list does not work in the LOAD DATA statement #35198\nAvoid reporting WriteConflict errors in pessimistic transactions #11612\nFix the issue that the prewrite requests are not idempotency when Region errors and network issues occur #34875\nFix the issue that the async commit transactions being rolled back might not meet atomicity #33641\nPreviously, when a network connectivity issue occurred, TiDB did not always correctly free the resources held by the disconnected session. This issue has been fixed so that open transactions can be rolled back and other associated resources can be released. #34722\nFix the issue that the references invalid table error might be incorrectly reported when TiDB queries views with CTE #33965\nFix the panic issue caused by the fatal error: concurrent map read and map write error #35340",
          "Fix the issue of wrong TableDual plans cached in binary protocol #34690 #34678",
          "Fix the issue of incorrectly inferred null flag of the TiFlash firstrow aggregate function in the EqualAll case #34584",
          "Fix the issue that the planner generates wrong 2-phase aggregate plan for TiFlash #34682",
          "Fix the planner wrong behaviors that occur when tidb_opt_agg_push_down and tidb_enforce_mpp are enabled #34465",
          "Fix the wrong memory-usage value used when Plan Cache is evicted #34613",
          "Fix the issue that the column list does not work in the LOAD DATA statement #35198",
          "Avoid reporting WriteConflict errors in pessimistic transactions #11612",
          "Fix the issue that the prewrite requests are not idempotency when Region errors and network issues occur #34875",
          "Fix the issue that the async commit transactions being rolled back might not meet atomicity #33641",
          "Previously, when a network connectivity issue occurred, TiDB did not always correctly free the resources held by the disconnected session. This issue has been fixed so that open transactions can be rolled back and other associated resources can be released. #34722",
          "Fix the issue that the references invalid table error might be incorrectly reported when TiDB queries views with CTE #33965",
          "Fix the panic issue caused by the fatal error: concurrent map read and map write error #35340",
          "TiKV\nFix the panic issue caused by analyzing statistics when max_sample_size is set to 0 #11192\nFix the potential issue of mistakenly reporting TiKV panics when exiting TiKV #12231\nFix the panic issue that might occur when the source peer catches up logs by snapshot in the Region merge process #12663\nFix the panic issue that might occur when a peer is being split and destroyed at the same time #12825\nFix the issue of frequent PD client reconnection that occurs when the PD client meets an error #12345\nFix the issue of time parsing error that occurs when the DATETIME values contain a fraction and Z #12739\nFix the issue that TiKV panics when performing type conversion for an empty string #12673\nFix the possible duplicate commit records in pessimistic transactions when async commit is enabled #12615\nFix the issue that TiKV reports the invalid store ID 0 error when using Follower Read #12478\nFix the issue of TiKV panic caused by the race between destroying peers and batch splitting Regions #12368\nFix the issue that tikv-ctl returns an incorrect result due to its wrong string match #12329\nFix the issue of failing to start TiKV on AUFS #12543",
          "Fix the panic issue caused by analyzing statistics when max_sample_size is set to 0 #11192",
          "Fix the potential issue of mistakenly reporting TiKV panics when exiting TiKV #12231",
          "Fix the panic issue that might occur when the source peer catches up logs by snapshot in the Region merge process #12663",
          "Fix the panic issue that might occur when a peer is being split and destroyed at the same time #12825",
          "Fix the issue of frequent PD client reconnection that occurs when the PD client meets an error #12345",
          "Fix the issue of time parsing error that occurs when the DATETIME values contain a fraction and Z #12739",
          "Fix the issue that TiKV panics when performing type conversion for an empty string #12673",
          "Fix the possible duplicate commit records in pessimistic transactions when async commit is enabled #12615",
          "Fix the issue that TiKV reports the invalid store ID 0 error when using Follower Read #12478",
          "Fix the issue of TiKV panic caused by the race between destroying peers and batch splitting Regions #12368",
          "Fix the issue that tikv-ctl returns an incorrect result due to its wrong string match #12329",
          "Fix the issue of failing to start TiKV on AUFS #12543",
          "PD\nFix the wrong status code of not leader #4797\nFix the PD panic that occurs when a hot region has no leader #5005\nFix the issue that scheduling cannot start immediately after the PD leader transfer #4769\nFix a bug of TSO fallback in some corner cases #4884",
          "Fix the wrong status code of not leader #4797",
          "Fix the PD panic that occurs when a hot region has no leader #5005",
          "Fix the issue that scheduling cannot start immediately after the PD leader transfer #4769",
          "Fix a bug of TSO fallback in some corner cases #4884",
          "TiFlash\nFix the issue that TiFlash crashes after dropping a column of a table with clustered indexes in some situations #5154\nFix potential data inconsistency after a lot of INSERT and DELETE operations #4956\nFix wrong decimal comparison results in corner cases #4512",
          "Fix the issue that TiFlash crashes after dropping a column of a table with clustered indexes in some situations #5154",
          "Fix potential data inconsistency after a lot of INSERT and DELETE operations #4956",
          "Fix wrong decimal comparison results in corner cases #4512",
          "Tools\nBackup & Restore (BR)\nFix a bug that BR reports ErrRestoreTableIDMismatch in RawKV mode #35279\nFix a bug that BR does not retry when an error occurs in saving files #34865\nFix a panic issue when BR is running #34956\nFix the issue that BR cannot handle S3 internal errors #34350\nFix a bug that BR gets stuck when the restore operation meets some unrecoverable errors #33200\nTiCDC\nFix data loss that occurs in special incremental scanning scenarios #5468\nFix a bug that the redo log manager flushes logs before writing logs #5486\nFix a bug that the resolved ts moves too fast when some tables are not maintained by the redo writer #5486\nFix the issue that file name conflicts may cause data loss #5486\nFix replication interruption that occurs when Region leader is missing and the retry exceeds the limit #5230\nFix the bug that MySQL Sink may save a wrong checkpointTs #5107\nFix a bug that may cause goroutine leak in the HTTP server #5303\nFix the issue that changes in meta Region can lead to latency increase #4756 #4762\nTiDB Data Migration (DM)\nFix the issue that DM occupies more disk space after a task automatically resumes #5344\nFix the issue that the uppercase table cannot be replicated when case-sensitive: true is not set #5255",
          "Backup & Restore (BR)\nFix a bug that BR reports ErrRestoreTableIDMismatch in RawKV mode #35279\nFix a bug that BR does not retry when an error occurs in saving files #34865\nFix a panic issue when BR is running #34956\nFix the issue that BR cannot handle S3 internal errors #34350\nFix a bug that BR gets stuck when the restore operation meets some unrecoverable errors #33200",
          "Fix a bug that BR reports ErrRestoreTableIDMismatch in RawKV mode #35279",
          "Fix a bug that BR does not retry when an error occurs in saving files #34865",
          "Fix a panic issue when BR is running #34956",
          "Fix the issue that BR cannot handle S3 internal errors #34350",
          "Fix a bug that BR gets stuck when the restore operation meets some unrecoverable errors #33200",
          "TiCDC\nFix data loss that occurs in special incremental scanning scenarios #5468\nFix a bug that the redo log manager flushes logs before writing logs #5486\nFix a bug that the resolved ts moves too fast when some tables are not maintained by the redo writer #5486\nFix the issue that file name conflicts may cause data loss #5486\nFix replication interruption that occurs when Region leader is missing and the retry exceeds the limit #5230\nFix the bug that MySQL Sink may save a wrong checkpointTs #5107\nFix a bug that may cause goroutine leak in the HTTP server #5303\nFix the issue that changes in meta Region can lead to latency increase #4756 #4762",
          "Fix data loss that occurs in special incremental scanning scenarios #5468",
          "Fix a bug that the redo log manager flushes logs before writing logs #5486",
          "Fix a bug that the resolved ts moves too fast when some tables are not maintained by the redo writer #5486",
          "Fix the issue that file name conflicts may cause data loss #5486",
          "Fix replication interruption that occurs when Region leader is missing and the retry exceeds the limit #5230",
          "Fix the bug that MySQL Sink may save a wrong checkpointTs #5107",
          "Fix a bug that may cause goroutine leak in the HTTP server #5303",
          "Fix the issue that changes in meta Region can lead to latency increase #4756 #4762",
          "TiDB Data Migration (DM)\nFix the issue that DM occupies more disk space after a task automatically resumes #5344\nFix the issue that the uppercase table cannot be replicated when case-sensitive: true is not set #5255",
          "Fix the issue that DM occupies more disk space after a task automatically resumes #5344",
          "Fix the issue that the uppercase table cannot be replicated when case-sensitive: true is not set #5255"
        ]
      },
      {
        "version": "5.4.1",
        "date": "2022-05-13",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.4.1/",
        "changes": [
          "TiDB\nSupport using the PointGet plan for queries that read the _tidb_rowid column #31543\nAdd more logs and metrics for the Apply operator to show whether it is parallel #33887\nImprove the TopN pruning logic for Analyze Version 2 used for collecting statistics #34256\nSupport displaying multiple Kubernetes clusters in the Grafana dashboard #32593",
          "Support using the PointGet plan for queries that read the _tidb_rowid column #31543",
          "Add more logs and metrics for the Apply operator to show whether it is parallel #33887",
          "Improve the TopN pruning logic for Analyze Version 2 used for collecting statistics #34256",
          "Support displaying multiple Kubernetes clusters in the Grafana dashboard #32593",
          "TiKV\nSupport displaying multiple Kubernetes clusters in the Grafana dashboard #12104",
          "Support displaying multiple Kubernetes clusters in the Grafana dashboard #12104",
          "PD\nSupport displaying multiple Kubernetes clusters in the Grafana dashboard #4673",
          "Support displaying multiple Kubernetes clusters in the Grafana dashboard #4673",
          "TiFlash\nSupport displaying multiple Kubernetes clusters in the Grafana dashboard #4129",
          "Support displaying multiple Kubernetes clusters in the Grafana dashboard #4129",
          "Tools\nTiCDC\nSupport multiple Kubernetes clusters in Grafana dashboards #4665\nExpose configuration parameters of the Kafka producer to make them configurable in TiCDC #4385\nTiDB Data Migration (DM)\nSupport Syncer using the working directory of the DM-worker rather than /tmp to write internal files, and cleaning the directory after the task is stopped #4107",
          "TiCDC\nSupport multiple Kubernetes clusters in Grafana dashboards #4665\nExpose configuration parameters of the Kafka producer to make them configurable in TiCDC #4385",
          "Support multiple Kubernetes clusters in Grafana dashboards #4665",
          "Expose configuration parameters of the Kafka producer to make them configurable in TiCDC #4385",
          "TiDB Data Migration (DM)\nSupport Syncer using the working directory of the DM-worker rather than /tmp to write internal files, and cleaning the directory after the task is stopped #4107",
          "Support Syncer using the working directory of the DM-worker rather than /tmp to write internal files, and cleaning the directory after the task is stopped #4107",
          "TiDB\nFix the issue that date_format in TiDB handles '\\n' in a MySQL-incompatible way #32232\nFix the issue that TiDB writes wrong data due to the wrong encoding of the ENUM or SET column #32302\nFix the issue that the Merge Join operator gets wrong results in certain cases #33042\nFix the issue that TiDB gets a wrong result when a correlated subquery returns a constant #32089\nFix the issue that TiDB gets the wrong result when using TiFlash to scan tables with empty range although TiFlash does not support reading tables with empty range yet #33083\nFix the issue that the MAX or MIN function on the ENUM or SET column returns a wrong result when the new collation is enabled in TiDB #31638\nFix a bug that CTE might be blocked when a query reports errors #31302\nFix wrong range calculation results for Nulleq function on Enum values #32428\nFix TiDB OOM when exporting data using ChunkRPC #31981 #30880\nFix a bug that tidb_super_read_only is not automatically enabled when tidb_restricted_read_only is enabled #31745\nFix the issue that the greatest or least function with collation gets a wrong result #31789\nFix load data panic if the data is broken at an escape character #31589\nFix the invalid transaction error when executing a query using index lookup join #30468\nFix wrong results of deleting data of multiple tables using left join #31321\nFix a bug that TiDB may dispatch duplicate tasks to TiFlash #32814\nFix the issue that granting the all privilege might fail in clusters that are upgraded from v4.0 #33588\nFix the session panic that occurs when executing the prepared statement after table schema change with the MySQL binary protocol #33509\nFix the issue that executing SQL statements that have the compress() expression with tidb_enable_vectorized_expression enabled will fail #33397\nFix the issue of high CPU usage by the reArrangeFallback function #30353\nFix the issue that the table attributes are not indexed when a new partition is added and the issue that the table range information is not updated when the partition changes #33929\nFix a bug that the TopN statistical information of a table during the initialization is not correctly sorted #34216\nFix the error that occurs when reading from the INFORMATION_SCHEMA.ATTRIBUTES table by skipping the unidentifiable table attributes #33665\nFix a bug that even if @@tidb_enable_parallel_apply is set, the Apply operator is not paralleled when an order property exists #34237\nFix a bug that '0000-00-00 00:00:00' can be inserted into a datetime column when sql_mode is set to NO_ZERO_DATE #34099\nFix the issue that the TiDB server might run out of memory when the INFORMATION_SCHEMA.CLUSTER_SLOW_QUERY table is queried. This issue can be triggered when you check slow queries on the Grafana dashboard #33893\nFix a bug that in the NOWAIT statement, a transaction being executed does not return immediately when encountering a lock #32754\nFix a bug that causes a failure when creating a table with the GBK charset and gbk_bin collation #31308\nFix a bug that when enable-new-charset is on, creating a GBK charset table with collation fails with the \"Unknown character set\" error #31297",
          "Fix the issue that date_format in TiDB handles '\\n' in a MySQL-incompatible way #32232",
          "Fix the issue that TiDB writes wrong data due to the wrong encoding of the ENUM or SET column #32302",
          "Fix the issue that the Merge Join operator gets wrong results in certain cases #33042",
          "Fix the issue that TiDB gets a wrong result when a correlated subquery returns a constant #32089",
          "Fix the issue that TiDB gets the wrong result when using TiFlash to scan tables with empty range although TiFlash does not support reading tables with empty range yet #33083",
          "Fix the issue that the MAX or MIN function on the ENUM or SET column returns a wrong result when the new collation is enabled in TiDB #31638",
          "Fix a bug that CTE might be blocked when a query reports errors #31302",
          "Fix wrong range calculation results for Nulleq function on Enum values #32428",
          "Fix TiDB OOM when exporting data using ChunkRPC #31981 #30880",
          "Fix a bug that tidb_super_read_only is not automatically enabled when tidb_restricted_read_only is enabled #31745",
          "Fix the issue that the greatest or least function with collation gets a wrong result #31789",
          "Fix load data panic if the data is broken at an escape character #31589",
          "Fix the invalid transaction error when executing a query using index lookup join #30468",
          "Fix wrong results of deleting data of multiple tables using left join #31321",
          "Fix a bug that TiDB may dispatch duplicate tasks to TiFlash #32814",
          "Fix the issue that granting the all privilege might fail in clusters that are upgraded from v4.0 #33588",
          "Fix the session panic that occurs when executing the prepared statement after table schema change with the MySQL binary protocol #33509",
          "Fix the issue that executing SQL statements that have the compress() expression with tidb_enable_vectorized_expression enabled will fail #33397",
          "Fix the issue of high CPU usage by the reArrangeFallback function #30353",
          "Fix the issue that the table attributes are not indexed when a new partition is added and the issue that the table range information is not updated when the partition changes #33929",
          "Fix a bug that the TopN statistical information of a table during the initialization is not correctly sorted #34216",
          "Fix the error that occurs when reading from the INFORMATION_SCHEMA.ATTRIBUTES table by skipping the unidentifiable table attributes #33665",
          "Fix a bug that even if @@tidb_enable_parallel_apply is set, the Apply operator is not paralleled when an order property exists #34237",
          "Fix a bug that '0000-00-00 00:00:00' can be inserted into a datetime column when sql_mode is set to NO_ZERO_DATE #34099",
          "Fix the issue that the TiDB server might run out of memory when the INFORMATION_SCHEMA.CLUSTER_SLOW_QUERY table is queried. This issue can be triggered when you check slow queries on the Grafana dashboard #33893",
          "Fix a bug that in the NOWAIT statement, a transaction being executed does not return immediately when encountering a lock #32754",
          "Fix a bug that causes a failure when creating a table with the GBK charset and gbk_bin collation #31308",
          "Fix a bug that when enable-new-charset is on, creating a GBK charset table with collation fails with the \"Unknown character set\" error #31297",
          "TiKV\nFix the issue that TiKV panics and destroys peers unexpectedly because the target Region to be merged is invalid #12232\nFix a bug that stale messages cause TiKV to panic #12023\nFix the issue of intermittent packet loss and out of memory (OOM) caused by the overflow of memory metrics #12160\nFix the potential panic issue that occurs when TiKV performs profiling on Ubuntu 18.04 #9765\nFix a bug that replica reads might violate the linearizability #12109\nFix the TiKV panic issue that occurs when the target peer is replaced with the peer that is destroyed without being initialized when merging a Region #12048\nFix a bug that TiKV might panic if it has been running for 2 years or more #11940\nReduce the TiCDC recovery time by reducing the number of the Regions that require the Resolve Locks step #11993\nFix the panic issue caused by deleting snapshot files when the peer status is Applying #11746\nFix the issue that destroying a peer might cause high latency #10210\nFix the panic issue caused by invalid assertion in resource metering #12234\nFix the issue that slow score calculation is inaccurate in some corner cases #12254\nFix the OOM issue caused by the resolved_ts module and add more metrics #12159\nFix the issue that successfully committed optimistic transactions may report the Write Conflict error when the network is poor #34066\nFix the TiKV panic issue that occurs when replica read is enabled on a poor network #12046",
          "Fix the issue that TiKV panics and destroys peers unexpectedly because the target Region to be merged is invalid #12232",
          "Fix a bug that stale messages cause TiKV to panic #12023",
          "Fix the issue of intermittent packet loss and out of memory (OOM) caused by the overflow of memory metrics #12160",
          "Fix the potential panic issue that occurs when TiKV performs profiling on Ubuntu 18.04 #9765",
          "Fix a bug that replica reads might violate the linearizability #12109",
          "Fix the TiKV panic issue that occurs when the target peer is replaced with the peer that is destroyed without being initialized when merging a Region #12048",
          "Fix a bug that TiKV might panic if it has been running for 2 years or more #11940",
          "Reduce the TiCDC recovery time by reducing the number of the Regions that require the Resolve Locks step #11993",
          "Fix the panic issue caused by deleting snapshot files when the peer status is Applying #11746",
          "Fix the issue that destroying a peer might cause high latency #10210",
          "Fix the panic issue caused by invalid assertion in resource metering #12234",
          "Fix the issue that slow score calculation is inaccurate in some corner cases #12254",
          "Fix the OOM issue caused by the resolved_ts module and add more metrics #12159",
          "Fix the issue that successfully committed optimistic transactions may report the Write Conflict error when the network is poor #34066",
          "Fix the TiKV panic issue that occurs when replica read is enabled on a poor network #12046",
          "PD\nFix the issue that Duration fields of dr-autosync cannot be dynamically configured #4651\nFix the issue that when there exists a Store with large capacity (2T for example), fully allocated small Stores cannot be detected, which results in no balance operator being generated #4805\nFix the issue that the label distribution has residual labels in the metrics #4825",
          "Fix the issue that Duration fields of dr-autosync cannot be dynamically configured #4651",
          "Fix the issue that when there exists a Store with large capacity (2T for example), fully allocated small Stores cannot be detected, which results in no balance operator being generated #4805",
          "Fix the issue that the label distribution has residual labels in the metrics #4825",
          "TiFlash\nFix the panic issue that occurs when TLS is enabled #4196\nFix possible metadata corruption caused by Region merge on a lagging Region peer #4437\nFix the issue that a query containing JOIN might be hung if an error occurs #4195\nFix a bug that MPP tasks might leak threads forever #4238\nFix the overflow that occurs when casting FLOAT to DECIMAL #3998\nFix the issue that expired data is recycled slowly #4146\nFix a bug that canceled MPP queries might cause tasks to hang forever when the local tunnel is enabled #4229\nFix the issue of memory leak that occurs when a query is canceled #4098\nFix the wrong result that occurs when casting DATETIME to DECIMAL #4151\nFix the potential issue of TiFlash panic when Snapshot is applied simultaneously with multiple DDL operations #4072\nFix the bug that invalid storage directory configurations lead to unexpected behaviors #4093\nFix the bug that some exceptions are not handled properly #4101\nFix the issue that casting INT to DECIMAL might cause overflow #3920\nFix the issue that the result of IN is incorrect in multi-value expressions #4016\nFix the issue that the date format identifies '\\n' as an invalid separator #4036\nFix the potential query error after adding columns under heavy read workload #3967\nFix the panic issue that occurs when the memory limit is enabled #3902\nFix potential data corruption in DTFiles #4778\nFix potential errors when querying on a table with many delete operations #4747\nFix a bug that TiFlash reports many \"Keepalive watchdog fired\" errors randomly #4192\nFix a bug that data not matching any region range remains on a TiFlash node #4414\nFix a bug that empty segments cannot be merged after GC #4511",
          "Fix the panic issue that occurs when TLS is enabled #4196",
          "Fix possible metadata corruption caused by Region merge on a lagging Region peer #4437",
          "Fix the issue that a query containing JOIN might be hung if an error occurs #4195",
          "Fix a bug that MPP tasks might leak threads forever #4238",
          "Fix the overflow that occurs when casting FLOAT to DECIMAL #3998",
          "Fix the issue that expired data is recycled slowly #4146",
          "Fix a bug that canceled MPP queries might cause tasks to hang forever when the local tunnel is enabled #4229",
          "Fix the issue of memory leak that occurs when a query is canceled #4098",
          "Fix the wrong result that occurs when casting DATETIME to DECIMAL #4151",
          "Fix the potential issue of TiFlash panic when Snapshot is applied simultaneously with multiple DDL operations #4072",
          "Fix the bug that invalid storage directory configurations lead to unexpected behaviors #4093",
          "Fix the bug that some exceptions are not handled properly #4101",
          "Fix the issue that casting INT to DECIMAL might cause overflow #3920",
          "Fix the issue that the result of IN is incorrect in multi-value expressions #4016",
          "Fix the issue that the date format identifies '\\n' as an invalid separator #4036",
          "Fix the potential query error after adding columns under heavy read workload #3967",
          "Fix the panic issue that occurs when the memory limit is enabled #3902",
          "Fix potential data corruption in DTFiles #4778",
          "Fix potential errors when querying on a table with many delete operations #4747",
          "Fix a bug that TiFlash reports many \"Keepalive watchdog fired\" errors randomly #4192",
          "Fix a bug that data not matching any region range remains on a TiFlash node #4414",
          "Fix a bug that empty segments cannot be merged after GC #4511",
          "Tools\nBackup & Restore (BR)\nFix a bug that causes the restore operation to fail when the encryption information is lost during backup retry #32423\nFix the issue that BR fails to back up RawKV #32607\nFix duplicate primary keys when inserting a record into a table after incremental restoration #33596\nFix a bug that BR incremental restore returns errors mistakenly due to DDL jobs with empty query #33322\nFix the potential issue that Regions might be unevenly distributed after a restore operation is finished #31034\nFix the issue that BR does not retry enough times when Regions are not consistent during restoration #33419\nFix the issue that BR might panic occasionally when merging small files is enabled #33801\nFix the issue that schedulers do not resume after BR or TiDB Lightning exits abnormally #33546\nTiCDC\nFix incorrect metrics caused by owner changes #4774\nFix the TiCDC panic issue that might occur because Canal-JSON does not support nil #4736\nFix a stability problem in workerpool used by Unified Sorter #4447\nFix a bug that sequence is incorrectly replicated in some cases #4552\nFix the TiCDC panic issue that might occur when Canal-JSON incorrectly handles string #4635\nFix a bug that a TiCDC node exits abnormally when a PD leader is killed #4248\nFix a bug that MySQL sink generates duplicated replace SQL statements when batch-replace-enable is disabled #4501\nFix the DML construct error caused by the rename tables DDL #5059\nFix the issue that in rare cases replication can be stuck if the owner is changed and the new scheduler is enabled (disabled by default) #4963\nFix the issue that the error ErrProcessorDuplicateOperations is reported when the new scheduler is enabled (disabled by default) #4769\nFix the issue that TiCDC fails to start when the first PD set in --pd is not available after TLS is enabled #4777\nFix the issue that the checkpoint metrics are missing when tables are being scheduled #4714\nTiDB Lightning\nFix the checksum error \"GC life time is shorter than transaction duration\" #32733\nFix the issue that TiDB Lightning gets stuck when it fails to check empty tables #31797\nFix a bug that TiDB Lightning may not delete the metadata schema when some import tasks do not contain source files #28144\nFix the issue that the precheck does not check local disk resources and cluster availability #34213\nTiDB Data Migration (DM)\nFix the issue that hundreds of \"checkpoint has no change, skip sync flush checkpoint\" print in the log and the replication is very slow #4619\nFix a bug that long varchars report an error Column length too big #4637\nFix the issue that execution errors of the update statement in safemode may cause the DM-worker panic #4317\nFix the issue that in some cases manually executing the filtered DDL in the downstream might cause task resumption failure #5272\nFix a bug that no data is returned for the query-status command when binlog is not enabled in the upstream #5121\nFix the DM worker panic issue that occurs when the primary key is not first in the index returned by the SHOW CREATE TABLE statement #5159\nFix the issue that CPU usage may increase and a large amount of log is printed when GTID is enabled or when the task is automatically resumed #5063",
          "Backup & Restore (BR)\nFix a bug that causes the restore operation to fail when the encryption information is lost during backup retry #32423\nFix the issue that BR fails to back up RawKV #32607\nFix duplicate primary keys when inserting a record into a table after incremental restoration #33596\nFix a bug that BR incremental restore returns errors mistakenly due to DDL jobs with empty query #33322\nFix the potential issue that Regions might be unevenly distributed after a restore operation is finished #31034\nFix the issue that BR does not retry enough times when Regions are not consistent during restoration #33419\nFix the issue that BR might panic occasionally when merging small files is enabled #33801\nFix the issue that schedulers do not resume after BR or TiDB Lightning exits abnormally #33546",
          "Fix a bug that causes the restore operation to fail when the encryption information is lost during backup retry #32423",
          "Fix the issue that BR fails to back up RawKV #32607",
          "Fix duplicate primary keys when inserting a record into a table after incremental restoration #33596",
          "Fix a bug that BR incremental restore returns errors mistakenly due to DDL jobs with empty query #33322",
          "Fix the potential issue that Regions might be unevenly distributed after a restore operation is finished #31034",
          "Fix the issue that BR does not retry enough times when Regions are not consistent during restoration #33419",
          "Fix the issue that BR might panic occasionally when merging small files is enabled #33801",
          "Fix the issue that schedulers do not resume after BR or TiDB Lightning exits abnormally #33546",
          "TiCDC\nFix incorrect metrics caused by owner changes #4774\nFix the TiCDC panic issue that might occur because Canal-JSON does not support nil #4736\nFix a stability problem in workerpool used by Unified Sorter #4447\nFix a bug that sequence is incorrectly replicated in some cases #4552\nFix the TiCDC panic issue that might occur when Canal-JSON incorrectly handles string #4635\nFix a bug that a TiCDC node exits abnormally when a PD leader is killed #4248\nFix a bug that MySQL sink generates duplicated replace SQL statements when batch-replace-enable is disabled #4501\nFix the DML construct error caused by the rename tables DDL #5059\nFix the issue that in rare cases replication can be stuck if the owner is changed and the new scheduler is enabled (disabled by default) #4963\nFix the issue that the error ErrProcessorDuplicateOperations is reported when the new scheduler is enabled (disabled by default) #4769\nFix the issue that TiCDC fails to start when the first PD set in --pd is not available after TLS is enabled #4777\nFix the issue that the checkpoint metrics are missing when tables are being scheduled #4714",
          "Fix incorrect metrics caused by owner changes #4774",
          "Fix the TiCDC panic issue that might occur because Canal-JSON does not support nil #4736",
          "Fix a stability problem in workerpool used by Unified Sorter #4447",
          "Fix a bug that sequence is incorrectly replicated in some cases #4552",
          "Fix the TiCDC panic issue that might occur when Canal-JSON incorrectly handles string #4635",
          "Fix a bug that a TiCDC node exits abnormally when a PD leader is killed #4248",
          "Fix a bug that MySQL sink generates duplicated replace SQL statements when batch-replace-enable is disabled #4501",
          "Fix the DML construct error caused by the rename tables DDL #5059",
          "Fix the issue that in rare cases replication can be stuck if the owner is changed and the new scheduler is enabled (disabled by default) #4963",
          "Fix the issue that the error ErrProcessorDuplicateOperations is reported when the new scheduler is enabled (disabled by default) #4769",
          "Fix the issue that TiCDC fails to start when the first PD set in --pd is not available after TLS is enabled #4777",
          "Fix the issue that the checkpoint metrics are missing when tables are being scheduled #4714",
          "TiDB Lightning\nFix the checksum error \"GC life time is shorter than transaction duration\" #32733\nFix the issue that TiDB Lightning gets stuck when it fails to check empty tables #31797\nFix a bug that TiDB Lightning may not delete the metadata schema when some import tasks do not contain source files #28144\nFix the issue that the precheck does not check local disk resources and cluster availability #34213",
          "Fix the checksum error \"GC life time is shorter than transaction duration\" #32733",
          "Fix the issue that TiDB Lightning gets stuck when it fails to check empty tables #31797",
          "Fix a bug that TiDB Lightning may not delete the metadata schema when some import tasks do not contain source files #28144",
          "Fix the issue that the precheck does not check local disk resources and cluster availability #34213",
          "TiDB Data Migration (DM)\nFix the issue that hundreds of \"checkpoint has no change, skip sync flush checkpoint\" print in the log and the replication is very slow #4619\nFix a bug that long varchars report an error Column length too big #4637\nFix the issue that execution errors of the update statement in safemode may cause the DM-worker panic #4317\nFix the issue that in some cases manually executing the filtered DDL in the downstream might cause task resumption failure #5272\nFix a bug that no data is returned for the query-status command when binlog is not enabled in the upstream #5121\nFix the DM worker panic issue that occurs when the primary key is not first in the index returned by the SHOW CREATE TABLE statement #5159\nFix the issue that CPU usage may increase and a large amount of log is printed when GTID is enabled or when the task is automatically resumed #5063",
          "Fix the issue that hundreds of \"checkpoint has no change, skip sync flush checkpoint\" print in the log and the replication is very slow #4619",
          "Fix a bug that long varchars report an error Column length too big #4637",
          "Fix the issue that execution errors of the update statement in safemode may cause the DM-worker panic #4317",
          "Fix the issue that in some cases manually executing the filtered DDL in the downstream might cause task resumption failure #5272",
          "Fix a bug that no data is returned for the query-status command when binlog is not enabled in the upstream #5121",
          "Fix the DM worker panic issue that occurs when the primary key is not first in the index returned by the SHOW CREATE TABLE statement #5159",
          "Fix the issue that CPU usage may increase and a large amount of log is printed when GTID is enabled or when the task is automatically resumed #5063"
        ]
      },
      {
        "version": "5.4.0",
        "date": "2022-02-15",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.4.0/",
        "changes": [
          "TiDB supports the GBK character set since v5.4.0\nBefore v5.4.0, TiDB supports ascii, binary, latin1, utf8, and utf8mb4 character sets.\nTo better support Chinese users, TiDB supports the GBK character set since v5.4.0. After enabling the new_collations_enabled_on_first_bootstrap option in the TiDB configuration file when initializing a TiDB cluster for the first time, the TiDB GBK character set supports both gbk_bin and gbk_chinese_ci collations.\nWhen using the GBK character set, you need to pay attention to the compatibility restrictions. For details, see Character Set and Collation - GBK.",
          "TiDB\nSupport the ADMIN {SESSION | INSTANCE | GLOBAL} PLAN_CACHE syntax to clear the cached query plan #30370",
          "Support the ADMIN {SESSION | INSTANCE | GLOBAL} PLAN_CACHE syntax to clear the cached query plan #30370",
          "TiKV\nCoprocessor supports paging API to process requests in a stream-like way #11448\nSupport read-through-lock so that read operations do not need to wait for secondary locks to be resolved #11402\nAdd a disk protection mechanism to avoid panic caused by disk space drainage #10537\nSupport archiving and rotating logs #11651\nReduce the system call by the Raft client and increase CPU efficiency #11309\nCoprocessor supports pushing down substring to TiKV #11495\nImprove the scan performance by skip reading locks in the Read Committed isolation level #11485\nReduce the default thread pool size used by backup operations and limit the use of thread pool when the stress is high #11000\nSupport dynamically adjusting the sizes of the Apply thread pool and the Store thread pool #11159\nSupport configuring the size of the snap-generator thread pool #11247\nOptimize the issue of global lock race that occurs when there are many files with frequent reads and writes #250",
          "Coprocessor supports paging API to process requests in a stream-like way #11448",
          "Support read-through-lock so that read operations do not need to wait for secondary locks to be resolved #11402",
          "Add a disk protection mechanism to avoid panic caused by disk space drainage #10537",
          "Support archiving and rotating logs #11651",
          "Reduce the system call by the Raft client and increase CPU efficiency #11309",
          "Coprocessor supports pushing down substring to TiKV #11495",
          "Improve the scan performance by skip reading locks in the Read Committed isolation level #11485",
          "Reduce the default thread pool size used by backup operations and limit the use of thread pool when the stress is high #11000",
          "Support dynamically adjusting the sizes of the Apply thread pool and the Store thread pool #11159",
          "Support configuring the size of the snap-generator thread pool #11247",
          "Optimize the issue of global lock race that occurs when there are many files with frequent reads and writes #250",
          "PD\nRecord the historic hotspot information by default #25281\nAdd signature for the HTTP component to identify the request source #4490\nUpdate TiDB Dashboard to v2021.12.31 #4257",
          "Record the historic hotspot information by default #25281",
          "Add signature for the HTTP component to identify the request source #4490",
          "Update TiDB Dashboard to v2021.12.31 #4257",
          "TiFlash\nOptimize the communication of local operators\nIncrease the non-temporary thread count of gRPC to avoid the frequent creation or destruction of threads",
          "Optimize the communication of local operators",
          "Increase the non-temporary thread count of gRPC to avoid the frequent creation or destruction of threads",
          "Tools\nBackup & Restore (BR)\nAdd a validity check for the key when BR performs encrypted backup #29794\nTiCDC\nReduce the count of \"EventFeed retry rate limited\" logs #4006\nReduce the replication latency when replicating many tables #3900\nReduce the time for the KV client to recover when a TiKV store is down #3191\nTiDB Data Migration (DM)\nLower the usage rate of CPU when the relay is enabled #2214\nTiDB Lightning\nUse optimistic transactions by default to write data to improve performance in TiDB-backend mode #30953\nDumpling\nImprove compatibility when Dumpling checks the database version #29500\nAdd the default collation when dumping CREATE DATABASE and CREATE TABLE #3420",
          "Backup & Restore (BR)\nAdd a validity check for the key when BR performs encrypted backup #29794",
          "Add a validity check for the key when BR performs encrypted backup #29794",
          "TiCDC\nReduce the count of \"EventFeed retry rate limited\" logs #4006\nReduce the replication latency when replicating many tables #3900\nReduce the time for the KV client to recover when a TiKV store is down #3191",
          "Reduce the count of \"EventFeed retry rate limited\" logs #4006",
          "Reduce the replication latency when replicating many tables #3900",
          "Reduce the time for the KV client to recover when a TiKV store is down #3191",
          "TiDB Data Migration (DM)\nLower the usage rate of CPU when the relay is enabled #2214",
          "Lower the usage rate of CPU when the relay is enabled #2214",
          "TiDB Lightning\nUse optimistic transactions by default to write data to improve performance in TiDB-backend mode #30953",
          "Use optimistic transactions by default to write data to improve performance in TiDB-backend mode #30953",
          "Dumpling\nImprove compatibility when Dumpling checks the database version #29500\nAdd the default collation when dumping CREATE DATABASE and CREATE TABLE #3420",
          "Improve compatibility when Dumpling checks the database version #29500",
          "Add the default collation when dumping CREATE DATABASE and CREATE TABLE #3420",
          "TiDB\nFix the issue of the tidb_analyze_version value change that occurs when upgrading the cluster from v4.x to v5.x #25422\nFix the issue of the wrong result that occurs when using different collations in a subquery #30748\nFix the issue that the result of concat(ifnull(time(3)) in TiDB is different from that in MySQL #29498\nFix the issue of potential data index inconsistency in optimistic transaction mode #30410\nFix the issue that the query execution plan of IndexMerge is wrong when an expression cannot be pushed down to TiKV #30200\nFix the issue that concurrent column type change causes inconsistency between the schema and the data #31048\nFix the issue that the IndexMerge query result is wrong when there is a subquery #30913\nFix the panic issue that occurs when the FetchSize is set too large in the client #30896\nFix the issue that LEFT JOIN might be mistakenly converted to INNER JOIN #20510\nFix the issue that panic might occur when the CASE-WHEN expression and collation are used together #30245\nFix the issue of wrong query result that occurs when the IN value contains a binary constant #31261\nFix the issue of wrong query result that occurs when CTE has a subquery #31255\nFix the issue that executing the INSERT ... SELECT ... ON DUPLICATE KEY UPDATE statement gets panic #28078\nFix the issue that INDEX HASH JOIN returns the send on closed channel error #31129",
          "Fix the issue of the tidb_analyze_version value change that occurs when upgrading the cluster from v4.x to v5.x #25422",
          "Fix the issue of the wrong result that occurs when using different collations in a subquery #30748",
          "Fix the issue that the result of concat(ifnull(time(3)) in TiDB is different from that in MySQL #29498",
          "Fix the issue of potential data index inconsistency in optimistic transaction mode #30410",
          "Fix the issue that the query execution plan of IndexMerge is wrong when an expression cannot be pushed down to TiKV #30200",
          "Fix the issue that concurrent column type change causes inconsistency between the schema and the data #31048",
          "Fix the issue that the IndexMerge query result is wrong when there is a subquery #30913",
          "Fix the panic issue that occurs when the FetchSize is set too large in the client #30896",
          "Fix the issue that LEFT JOIN might be mistakenly converted to INNER JOIN #20510",
          "Fix the issue that panic might occur when the CASE-WHEN expression and collation are used together #30245",
          "Fix the issue of wrong query result that occurs when the IN value contains a binary constant #31261",
          "Fix the issue of wrong query result that occurs when CTE has a subquery #31255",
          "Fix the issue that executing the INSERT ... SELECT ... ON DUPLICATE KEY UPDATE statement gets panic #28078",
          "Fix the issue that INDEX HASH JOIN returns the send on closed channel error #31129",
          "TiKV\nFix the issue that the MVCC deletion records are not cleared by GC #11217\nFix the issue that retrying prewrite requests in the pessimistic transaction mode might cause the risk of data inconsistency in rare cases #11187\nFix the issue that GC scan causes memory overflow #11410\nFix the issue that RocksDB flush or compaction causes panic when the disk capacity is full #11224",
          "Fix the issue that the MVCC deletion records are not cleared by GC #11217",
          "Fix the issue that retrying prewrite requests in the pessimistic transaction mode might cause the risk of data inconsistency in rare cases #11187",
          "Fix the issue that GC scan causes memory overflow #11410",
          "Fix the issue that RocksDB flush or compaction causes panic when the disk capacity is full #11224",
          "PD\nFix the issue that Region statistics are not affected by flow-round-by-digit #4295\nFix the issue that the scheduling operator cannot fail fast because the target store is down #3353\nFix the issue that Regions on offline stores cannot be merged #4119\nFix the issue that the cold hotspot data cannot be deleted from the hotspot statistics #4390",
          "Fix the issue that Region statistics are not affected by flow-round-by-digit #4295",
          "Fix the issue that the scheduling operator cannot fail fast because the target store is down #3353",
          "Fix the issue that Regions on offline stores cannot be merged #4119",
          "Fix the issue that the cold hotspot data cannot be deleted from the hotspot statistics #4390",
          "TiFlash\nFix the issue that TiFlash might panic when an MPP query is stopped\nFix the issue that queries with the where <string> clause return wrong results\nFix the potential issue of data inconsistency that might occur when setting the column type of an integer primary key to a larger range\nFix the issue that when an input time is earlier than 1970-01-01 00:00:01 UTC, the behavior of unix_timestamp is inconsistent with that of TiDB or MySQL\nFix the issue that TiFlash might return the EstablishMPPConnection error after it is restarted\nFix the issue that the CastStringAsDecimal behavior is inconsistent in TiFlash and in TiDB/TiKV\nFix the issue that the DB::Exception: Encode type of coprocessor response is not CHBlock error is returned in the query result\nFix the issue that the castStringAsReal behavior is inconsistent in TiFlash and in TiDB/TiKV\nFix the issue that the returned result of the date_add_string_xxx function in TiFlash is inconsistent with that in MySQL",
          "Fix the issue that TiFlash might panic when an MPP query is stopped",
          "Fix the issue that queries with the where <string> clause return wrong results",
          "Fix the potential issue of data inconsistency that might occur when setting the column type of an integer primary key to a larger range",
          "Fix the issue that when an input time is earlier than 1970-01-01 00:00:01 UTC, the behavior of unix_timestamp is inconsistent with that of TiDB or MySQL",
          "Fix the issue that TiFlash might return the EstablishMPPConnection error after it is restarted",
          "Fix the issue that the CastStringAsDecimal behavior is inconsistent in TiFlash and in TiDB/TiKV",
          "Fix the issue that the DB::Exception: Encode type of coprocessor response is not CHBlock error is returned in the query result",
          "Fix the issue that the castStringAsReal behavior is inconsistent in TiFlash and in TiDB/TiKV",
          "Fix the issue that the returned result of the date_add_string_xxx function in TiFlash is inconsistent with that in MySQL",
          "Tools\nBackup & Restore (BR)\nFix the potential issue that Region distribution might be uneven after a restore operation is finished #30425\nFix the issue that '/' cannot be specified in endpoint when minio is used as the backup storage #30104\nFix the issue that system tables cannot be restored because concurrently backing up system tables makes the table name fail to update #29710\nTiCDC\nFix the issue that replication cannot be performed when min.insync.replicas is smaller than replication-factor #3994\nFix the issue that the cached region monitoring metric is negative #4300\nFix the issue that mq sink write row does not have monitoring data #3431\nFix the compatibility issue of sql mode #3810\nFix the potential panic issue that occurs when a replication task is removed #3128\nFix the issue of panic and data inconsistency that occurs when outputting the default column value #3929\nFix the issue that default values cannot be replicated #3793\nFix the potential issue that the deadlock causes a replication task to get stuck #4055\nFix the issue that no log is output when the disk is fully written #3362\nFix the issue that special comments in DDL statements cause the replication task to stop #3755\nFix the issue that the service cannot be started because of a timezone issue in the RHEL release #3584\nFix the issue of potential data loss caused by inaccurate checkpoint #3545\nFix the OOM issue in the container environment #1798\nFix the issue of replication stop caused by the incorrect configuration of config.Metadata.Timeout #3352\nTiDB Data Migration (DM)\nFix the issue that the CREATE VIEW statement interrupts data replication #4173\nFix the issue the schema needs to be reset after a DDL statement is skipped #4177\nFix the issue that the table checkpoint is not updated in time after a DDL statement is skipped #4184\nFix a compatibility issue of the TiDB version with the Parser version #4298\nFix the issue that syncer metrics are updated only when querying the status #4281\nTiDB Lightning\nFix the issue of wrong import result that occurs when TiDB Lightning does not have the privilege to access the mysql.tidb table #31088\nFix the issue that some checks are skipped when TiDB Lightning is restarted #30772\nFix the issue that TiDB Lightning fails to report the error when the S3 path does not exist #30674\nTiDB Binlog\nFix the issue that Drainer fails because it is incompatible with the CREATE PLACEMENT POLICY statement #1118",
          "Backup & Restore (BR)\nFix the potential issue that Region distribution might be uneven after a restore operation is finished #30425\nFix the issue that '/' cannot be specified in endpoint when minio is used as the backup storage #30104\nFix the issue that system tables cannot be restored because concurrently backing up system tables makes the table name fail to update #29710",
          "Fix the potential issue that Region distribution might be uneven after a restore operation is finished #30425",
          "Fix the issue that '/' cannot be specified in endpoint when minio is used as the backup storage #30104",
          "Fix the issue that system tables cannot be restored because concurrently backing up system tables makes the table name fail to update #29710",
          "TiCDC\nFix the issue that replication cannot be performed when min.insync.replicas is smaller than replication-factor #3994\nFix the issue that the cached region monitoring metric is negative #4300\nFix the issue that mq sink write row does not have monitoring data #3431\nFix the compatibility issue of sql mode #3810\nFix the potential panic issue that occurs when a replication task is removed #3128\nFix the issue of panic and data inconsistency that occurs when outputting the default column value #3929\nFix the issue that default values cannot be replicated #3793\nFix the potential issue that the deadlock causes a replication task to get stuck #4055\nFix the issue that no log is output when the disk is fully written #3362\nFix the issue that special comments in DDL statements cause the replication task to stop #3755\nFix the issue that the service cannot be started because of a timezone issue in the RHEL release #3584\nFix the issue of potential data loss caused by inaccurate checkpoint #3545\nFix the OOM issue in the container environment #1798\nFix the issue of replication stop caused by the incorrect configuration of config.Metadata.Timeout #3352",
          "Fix the issue that replication cannot be performed when min.insync.replicas is smaller than replication-factor #3994",
          "Fix the issue that the cached region monitoring metric is negative #4300",
          "Fix the issue that mq sink write row does not have monitoring data #3431",
          "Fix the compatibility issue of sql mode #3810",
          "Fix the potential panic issue that occurs when a replication task is removed #3128",
          "Fix the issue of panic and data inconsistency that occurs when outputting the default column value #3929",
          "Fix the issue that default values cannot be replicated #3793",
          "Fix the potential issue that the deadlock causes a replication task to get stuck #4055",
          "Fix the issue that no log is output when the disk is fully written #3362",
          "Fix the issue that special comments in DDL statements cause the replication task to stop #3755",
          "Fix the issue that the service cannot be started because of a timezone issue in the RHEL release #3584",
          "Fix the issue of potential data loss caused by inaccurate checkpoint #3545",
          "Fix the OOM issue in the container environment #1798",
          "Fix the issue of replication stop caused by the incorrect configuration of config.Metadata.Timeout #3352",
          "TiDB Data Migration (DM)\nFix the issue that the CREATE VIEW statement interrupts data replication #4173\nFix the issue the schema needs to be reset after a DDL statement is skipped #4177\nFix the issue that the table checkpoint is not updated in time after a DDL statement is skipped #4184\nFix a compatibility issue of the TiDB version with the Parser version #4298\nFix the issue that syncer metrics are updated only when querying the status #4281",
          "Fix the issue that the CREATE VIEW statement interrupts data replication #4173",
          "Fix the issue the schema needs to be reset after a DDL statement is skipped #4177",
          "Fix the issue that the table checkpoint is not updated in time after a DDL statement is skipped #4184",
          "Fix a compatibility issue of the TiDB version with the Parser version #4298",
          "Fix the issue that syncer metrics are updated only when querying the status #4281",
          "TiDB Lightning\nFix the issue of wrong import result that occurs when TiDB Lightning does not have the privilege to access the mysql.tidb table #31088\nFix the issue that some checks are skipped when TiDB Lightning is restarted #30772\nFix the issue that TiDB Lightning fails to report the error when the S3 path does not exist #30674",
          "Fix the issue of wrong import result that occurs when TiDB Lightning does not have the privilege to access the mysql.tidb table #31088",
          "Fix the issue that some checks are skipped when TiDB Lightning is restarted #30772",
          "Fix the issue that TiDB Lightning fails to report the error when the S3 path does not exist #30674",
          "TiDB Binlog\nFix the issue that Drainer fails because it is incompatible with the CREATE PLACEMENT POLICY statement #1118",
          "Fix the issue that Drainer fails because it is incompatible with the CREATE PLACEMENT POLICY statement #1118"
        ]
      }
    ]
  },
  {
    "major_version": "5.3",
    "patches": [
      {
        "version": "5.3.4",
        "date": "2022-11-24",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.3.4/",
        "changes": [
          "TiKV\nReload TLS certificate automatically for each update to improve availability #12546",
          "Reload TLS certificate automatically for each update to improve availability #12546",
          "TiDB\nFix the issue that the Region cache is not cleaned up in time when the Region is merged #37141\nFix the issue that TiDB writes wrong data due to the wrong encoding of the ENUM or SET column #32302\nFix the issue that database-level privileges are incorrectly cleaned up #38363\nFix the issue that the grantor field is missing in the mysql.tables_priv table #38293\nFix the issue that KILL TIDB cannot take effect immediately on idle connections #24031\nFix the issue that the return type of date_add and date_sub is different between TiDB and MySQL #36394, #27573\nFix the incorrect INSERT_METHOD value when Parser restores table options #38368\nFix the issue that authentication fails when a MySQL client of v5.1 or earlier connects to the TiDB server #29725\nFix wrong results of GREATEST and LEAST when passing in unsigned BIGINT arguments #30101\nFix the issue that the result of concat(ifnull(time(3)) in TiDB is different from that in MySQL #29498\nFix the issue that the avg() function returns ERROR 1105 (HY000): other error for mpp stream: Could not convert to the target type - -value is out of range. when queried from TiFlash #29952\nFix the issue that ERROR 1105 (HY000): close of nil channel is returned when using HashJoinExec #30289\nFix the issue that TiKV and TiFlash return different results when querying logical operations #37258\nFix the issue that the EXPLAIN ANALYZE statement with DML executors might return result before the transaction commit finishes #37373\nFix the issue that Region cache is not cleared properly after merging many Regions #37174\nFix the issue that the EXECUTE statement might throw an unexpected error in specific scenarios #37187\nFix the issue that GROUP CONCAT with ORDER BY might fail when the ORDER BY clause contains a correlated subquery #18216\nFix wrong results returned when length and width are incorrectly set for Decimal and Real when using plan cache #29565",
          "Fix the issue that the Region cache is not cleaned up in time when the Region is merged #37141",
          "Fix the issue that TiDB writes wrong data due to the wrong encoding of the ENUM or SET column #32302",
          "Fix the issue that database-level privileges are incorrectly cleaned up #38363",
          "Fix the issue that the grantor field is missing in the mysql.tables_priv table #38293",
          "Fix the issue that KILL TIDB cannot take effect immediately on idle connections #24031",
          "Fix the issue that the return type of date_add and date_sub is different between TiDB and MySQL #36394, #27573",
          "Fix the incorrect INSERT_METHOD value when Parser restores table options #38368",
          "Fix the issue that authentication fails when a MySQL client of v5.1 or earlier connects to the TiDB server #29725",
          "Fix wrong results of GREATEST and LEAST when passing in unsigned BIGINT arguments #30101",
          "Fix the issue that the result of concat(ifnull(time(3)) in TiDB is different from that in MySQL #29498",
          "Fix the issue that the avg() function returns ERROR 1105 (HY000): other error for mpp stream: Could not convert to the target type - -value is out of range. when queried from TiFlash #29952",
          "Fix the issue that ERROR 1105 (HY000): close of nil channel is returned when using HashJoinExec #30289",
          "Fix the issue that TiKV and TiFlash return different results when querying logical operations #37258",
          "Fix the issue that the EXPLAIN ANALYZE statement with DML executors might return result before the transaction commit finishes #37373",
          "Fix the issue that Region cache is not cleared properly after merging many Regions #37174",
          "Fix the issue that the EXECUTE statement might throw an unexpected error in specific scenarios #37187",
          "Fix the issue that GROUP CONCAT with ORDER BY might fail when the ORDER BY clause contains a correlated subquery #18216",
          "Fix wrong results returned when length and width are incorrectly set for Decimal and Real when using plan cache #29565",
          "PD\nFix the issue that PD cannot correctly handle dashboard proxy requests #5321\nFix the issue that the TiFlash learner replica might not be created in specific scenarios #5401\nFix inaccurate Stream timeout and accelerate leader switchover #5207",
          "Fix the issue that PD cannot correctly handle dashboard proxy requests #5321",
          "Fix the issue that the TiFlash learner replica might not be created in specific scenarios #5401",
          "Fix inaccurate Stream timeout and accelerate leader switchover #5207",
          "TiFlash\nFix the issue that logical operators return wrong results when the argument type is UInt8 #6127\nFix the issue that TiFlash bootstrap fails when 0.0 is used as the default value for integers, for example, `i` int(11) NOT NULL DEFAULT '0.0' #3157",
          "Fix the issue that logical operators return wrong results when the argument type is UInt8 #6127",
          "Fix the issue that TiFlash bootstrap fails when 0.0 is used as the default value for integers, for example, `i` int(11) NOT NULL DEFAULT '0.0' #3157",
          "Tools\nDumpling\nFix the issue that Dumpling cannot dump data when the --compress option and the S3 output directory are set simultaneously #30534\nTiCDC\nFix the issue that changefeed state is incorrect because a MySQL-related error is not reported to the owner in time #6698",
          "Dumpling\nFix the issue that Dumpling cannot dump data when the --compress option and the S3 output directory are set simultaneously #30534",
          "Fix the issue that Dumpling cannot dump data when the --compress option and the S3 output directory are set simultaneously #30534",
          "TiCDC\nFix the issue that changefeed state is incorrect because a MySQL-related error is not reported to the owner in time #6698",
          "Fix the issue that changefeed state is incorrect because a MySQL-related error is not reported to the owner in time #6698"
        ]
      },
      {
        "version": "5.3.3",
        "date": "2022-09-14",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.3.3/",
        "changes": [
          "TiKV\nFix the issue of continuous SQL execution errors in the cluster after the PD leader is switched or PD is restarted.\nCause: This issue is caused by a TiKV bug that TiKV does not retry sending heartbeat information to PD client after heartbeat requests fail, until TiKV reconnects to PD client. As a result, the Region information on the failed TiKV node becomes outdated, and TiDB cannot get the latest Region information, which causes SQL execution errors.\nAffected versions: v5.3.2 and v5.4.2. This issue has been fixed in v5.3.3. If you are using v5.3.2, you can upgrade your cluster to v5.3.3.\nWorkaround: In addition to upgrade, you can also restart the TiKV nodes that cannot send Region heartbeat to PD, until there is no Region heartbeat to send.\nFor bug details, see #12934.",
          "Fix the issue of continuous SQL execution errors in the cluster after the PD leader is switched or PD is restarted.\nCause: This issue is caused by a TiKV bug that TiKV does not retry sending heartbeat information to PD client after heartbeat requests fail, until TiKV reconnects to PD client. As a result, the Region information on the failed TiKV node becomes outdated, and TiDB cannot get the latest Region information, which causes SQL execution errors.\nAffected versions: v5.3.2 and v5.4.2. This issue has been fixed in v5.3.3. If you are using v5.3.2, you can upgrade your cluster to v5.3.3.\nWorkaround: In addition to upgrade, you can also restart the TiKV nodes that cannot send Region heartbeat to PD, until there is no Region heartbeat to send.\nFor bug details, see #12934.",
          "Cause: This issue is caused by a TiKV bug that TiKV does not retry sending heartbeat information to PD client after heartbeat requests fail, until TiKV reconnects to PD client. As a result, the Region information on the failed TiKV node becomes outdated, and TiDB cannot get the latest Region information, which causes SQL execution errors.",
          "Affected versions: v5.3.2 and v5.4.2. This issue has been fixed in v5.3.3. If you are using v5.3.2, you can upgrade your cluster to v5.3.3.",
          "Workaround: In addition to upgrade, you can also restart the TiKV nodes that cannot send Region heartbeat to PD, until there is no Region heartbeat to send.\nFor bug details, see #12934."
        ]
      },
      {
        "version": "5.3.2",
        "date": "2022-06-29",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.3.2/",
        "changes": [
          "TiKV\nReduce the system call by the Raft client and increase CPU efficiency #11309\nImprove the health check to detect unavailable Raftstore, so that the TiKV client can update Region Cache in time #12398\nTransfer the leadership to CDC observer to reduce latency jitter #12111\nAdd more metrics for the garbage collection module of Raft logs to locate performance problems in the module #11374",
          "Reduce the system call by the Raft client and increase CPU efficiency #11309",
          "Improve the health check to detect unavailable Raftstore, so that the TiKV client can update Region Cache in time #12398",
          "Transfer the leadership to CDC observer to reduce latency jitter #12111",
          "Add more metrics for the garbage collection module of Raft logs to locate performance problems in the module #11374",
          "Tools\nTiDB Data Migration (DM)\nSupport Syncer using the working directory of the DM-worker rather than /tmp to write internal files, and cleaning the directory after the task is stopped #4107\nTiDB Lightning\nOptimize Scatter Region to batch mode to improve the stability of the Scatter Region process #33618",
          "TiDB Data Migration (DM)\nSupport Syncer using the working directory of the DM-worker rather than /tmp to write internal files, and cleaning the directory after the task is stopped #4107",
          "Support Syncer using the working directory of the DM-worker rather than /tmp to write internal files, and cleaning the directory after the task is stopped #4107",
          "TiDB Lightning\nOptimize Scatter Region to batch mode to improve the stability of the Scatter Region process #33618",
          "Optimize Scatter Region to batch mode to improve the stability of the Scatter Region process #33618",
          "TiDB\nFix the issue that Amazon S3 cannot correctly calculate the size of compressed data #30534\nFix the issue of potential data index inconsistency in optimistic transaction mode #30410\nFix the issue that a SQL operation is canceled when its JSON type column joins its CHAR type column #29401\nPreviously, when a network connectivity issue occurred, TiDB did not always correctly free the resources held by the disconnected session. This issue has been fixed so that open transactions can be rolled back and other associated resources can be released. #34722\nFix the issue of the data and columnID count not match error that occurs when inserting duplicated values with TiDB Binlog enabled #33608\nFix the issue that query result might be wrong when Plan Cache is started in the RC isolation level #34447\nFix the session panic that occurs when executing the prepared statement after table schema change with the MySQL binary protocol #33509\nFix the issue that the table attributes are not indexed when a new partition is added and the issue that the table range information is not updated when the partition changes #33929\nFix the issue that the TiDB server might run out of memory when the INFORMATION_SCHEMA.CLUSTER_SLOW_QUERY table is queried. This issue can be triggered when you check slow queries on the Grafana dashboard #33893\nFix the issue that some DDL statements might be stuck for a period after the PD node of a cluster is replaced #33908\nFix the issue that granting the all privilege might fail in clusters that are upgraded from v4.0 #33588\nFix wrong results of deleting data of multiple tables using left join #31321\nFix a bug that TiDB may dispatch duplicate tasks to TiFlash #32814\nFix the issue that the background HTTP service of TiDB might not exit successfully and makes the cluster in an abnormal state #30571\nFix the panic issue caused by the fatal error: concurrent map read and map write error #35340",
          "Fix the issue that Amazon S3 cannot correctly calculate the size of compressed data #30534",
          "Fix the issue of potential data index inconsistency in optimistic transaction mode #30410",
          "Fix the issue that a SQL operation is canceled when its JSON type column joins its CHAR type column #29401",
          "Previously, when a network connectivity issue occurred, TiDB did not always correctly free the resources held by the disconnected session. This issue has been fixed so that open transactions can be rolled back and other associated resources can be released. #34722",
          "Fix the issue of the data and columnID count not match error that occurs when inserting duplicated values with TiDB Binlog enabled #33608",
          "Fix the issue that query result might be wrong when Plan Cache is started in the RC isolation level #34447",
          "Fix the session panic that occurs when executing the prepared statement after table schema change with the MySQL binary protocol #33509",
          "Fix the issue that the table attributes are not indexed when a new partition is added and the issue that the table range information is not updated when the partition changes #33929",
          "Fix the issue that the TiDB server might run out of memory when the INFORMATION_SCHEMA.CLUSTER_SLOW_QUERY table is queried. This issue can be triggered when you check slow queries on the Grafana dashboard #33893",
          "Fix the issue that some DDL statements might be stuck for a period after the PD node of a cluster is replaced #33908",
          "Fix the issue that granting the all privilege might fail in clusters that are upgraded from v4.0 #33588",
          "Fix wrong results of deleting data of multiple tables using left join #31321",
          "Fix a bug that TiDB may dispatch duplicate tasks to TiFlash #32814",
          "Fix the issue that the background HTTP service of TiDB might not exit successfully and makes the cluster in an abnormal state #30571",
          "Fix the panic issue caused by the fatal error: concurrent map read and map write error #35340",
          "TiKV\nFix the issue of frequent PD client reconnection that occurs when the PD client meets an error #12345\nFix the issue of time parsing error that occurs when the DATETIME values contain a fraction and Z #12739\nFix the issue that TiKV panics when performing type conversion for an empty string #12673\nFix the possible duplicate commit records in pessimistic transactions when async commit is enabled #12615\nFix the bug that TiKV reports the invalid store ID 0 error when using Follower Read #12478\nFix the issue of TiKV panic caused by the race between destroying peers and batch splitting Regions #12368\nFix the issue that successfully committed optimistic transactions may report the Write Conflict error when the network is poor #34066\nFix the issue that TiKV panics and destroys peers unexpectedly when the target Region to be merged is invalid #12232\nFix a bug that stale messages cause TiKV to panic #12023\nFix the issue of intermittent packet loss and out of memory (OOM) caused by the overflow of memory metrics #12160\nFix the potential panic issue that occurs when TiKV performs profiling on Ubuntu 18.04 #9765\nFix the issue that tikv-ctl returns an incorrect result due to its wrong string match #12329\nFix a bug that replica reads might violate the linearizability #12109\nFix the TiKV panic issue that occurs when the target peer is replaced with the peer that is destroyed without being initialized when merging a Region #12048\nFix a bug that TiKV might panic if it has been running for 2 years or more #11940",
          "Fix the issue of frequent PD client reconnection that occurs when the PD client meets an error #12345",
          "Fix the issue of time parsing error that occurs when the DATETIME values contain a fraction and Z #12739",
          "Fix the issue that TiKV panics when performing type conversion for an empty string #12673",
          "Fix the possible duplicate commit records in pessimistic transactions when async commit is enabled #12615",
          "Fix the bug that TiKV reports the invalid store ID 0 error when using Follower Read #12478",
          "Fix the issue of TiKV panic caused by the race between destroying peers and batch splitting Regions #12368",
          "Fix the issue that successfully committed optimistic transactions may report the Write Conflict error when the network is poor #34066",
          "Fix the issue that TiKV panics and destroys peers unexpectedly when the target Region to be merged is invalid #12232",
          "Fix a bug that stale messages cause TiKV to panic #12023",
          "Fix the issue of intermittent packet loss and out of memory (OOM) caused by the overflow of memory metrics #12160",
          "Fix the potential panic issue that occurs when TiKV performs profiling on Ubuntu 18.04 #9765",
          "Fix the issue that tikv-ctl returns an incorrect result due to its wrong string match #12329",
          "Fix a bug that replica reads might violate the linearizability #12109",
          "Fix the TiKV panic issue that occurs when the target peer is replaced with the peer that is destroyed without being initialized when merging a Region #12048",
          "Fix a bug that TiKV might panic if it has been running for 2 years or more #11940",
          "PD\nFix the PD panic that occurs when a hot region has no leader #5005\nFix the issue that scheduling cannot start immediately after the PD leader transfer #4769\nFix the issue that a removed tombstone store appears again after the PD leader transfer #4941\nFix a bug of TSO fallback in some corner cases #4884\nFix the issue that when there exists a Store with large capacity (2T for example), fully allocated small Stores cannot be detected, which results in no balance operator being generated #4805\nFix the issue that schedulers do not work when SchedulerMaxWaitingOperator is set to 1 #4946\nFix the issue that the label distribution has residual labels in the metrics #4825",
          "Fix the PD panic that occurs when a hot region has no leader #5005",
          "Fix the issue that scheduling cannot start immediately after the PD leader transfer #4769",
          "Fix the issue that a removed tombstone store appears again after the PD leader transfer #4941",
          "Fix a bug of TSO fallback in some corner cases #4884",
          "Fix the issue that when there exists a Store with large capacity (2T for example), fully allocated small Stores cannot be detected, which results in no balance operator being generated #4805",
          "Fix the issue that schedulers do not work when SchedulerMaxWaitingOperator is set to 1 #4946",
          "Fix the issue that the label distribution has residual labels in the metrics #4825",
          "TiFlash\nFix the bug that invalid storage directory configurations lead to unexpected behaviors #4093\nFix TiFlash_schema_error reported when NOT NULL columns are added #4596\nFix repeated crashes caused by the commit state jump backward errors #2576\nFix potential data inconsistency after a lot of INSERT and DELETE operations #4956\nFix a bug that canceled MPP queries might cause tasks to hang forever when the local tunnel is enabled #4229\nFix false reports of inconsistent TiFlash versions when TiFlash uses remote read #3713\nFix a bug that an MPP query might fail due to random gRPC keepalive timeout #4662\nFix a bug that an MPP query might hang forever if there are retries in the exchange receiver #3444\nFix the wrong result that occurs when casting DATETIME to DECIMAL #4151\nFix the overflow that occurs when casting FLOAT to DECIMAL #3998\nFix the potential index out of bounds error if calling json_length with empty string #2705\nFix wrong decimal comparison results in corner cases #4512\nFix bug that MPP query may hang forever if query failed in join build stage #4195\nFix possible wrong results when a query contains the where <string> clause #3447\nFix the issue that the CastStringAsReal behavior is inconsistent in TiFlash and in TiDB or TiKV #3475\nFix incorrect microsecond when casting string to datetime #3556\nFix potential errors when querying on a table with many delete operations #4747\nFix a bug that TiFlash reports many \"Keepalive watchdog fired\" errors randomly #4192\nFix a bug that data not matching any region range remains on a TiFlash node #4414\nFix a bug that MPP tasks might leak threads forever #4238\nFix a bug that empty segments cannot be merged after GC #4511\nFix the panic issue that occurs when TLS is enabled #4196\nFix the issue that expired data is recycled slowly #4146\nFix the bug that invalid storage directory configurations lead to unexpected behaviors #4093\nFix the bug that some exceptions are not handled properly #4101\nFix the potential query error after adding columns under heavy read workload #3967\nFix the bug that the STR_TO_DATE() function incorrectly handles leading zeros when parsing microseconds #3557\nFix the issue that TiFlash might return the EstablishMPPConnection error after it is restarted #3615",
          "Fix the bug that invalid storage directory configurations lead to unexpected behaviors #4093",
          "Fix TiFlash_schema_error reported when NOT NULL columns are added #4596",
          "Fix repeated crashes caused by the commit state jump backward errors #2576",
          "Fix potential data inconsistency after a lot of INSERT and DELETE operations #4956",
          "Fix a bug that canceled MPP queries might cause tasks to hang forever when the local tunnel is enabled #4229",
          "Fix false reports of inconsistent TiFlash versions when TiFlash uses remote read #3713",
          "Fix a bug that an MPP query might fail due to random gRPC keepalive timeout #4662",
          "Fix a bug that an MPP query might hang forever if there are retries in the exchange receiver #3444",
          "Fix the wrong result that occurs when casting DATETIME to DECIMAL #4151",
          "Fix the overflow that occurs when casting FLOAT to DECIMAL #3998",
          "Fix the potential index out of bounds error if calling json_length with empty string #2705",
          "Fix wrong decimal comparison results in corner cases #4512",
          "Fix bug that MPP query may hang forever if query failed in join build stage #4195",
          "Fix possible wrong results when a query contains the where <string> clause #3447",
          "Fix the issue that the CastStringAsReal behavior is inconsistent in TiFlash and in TiDB or TiKV #3475",
          "Fix incorrect microsecond when casting string to datetime #3556",
          "Fix potential errors when querying on a table with many delete operations #4747",
          "Fix a bug that TiFlash reports many \"Keepalive watchdog fired\" errors randomly #4192",
          "Fix a bug that data not matching any region range remains on a TiFlash node #4414",
          "Fix a bug that MPP tasks might leak threads forever #4238",
          "Fix a bug that empty segments cannot be merged after GC #4511",
          "Fix the panic issue that occurs when TLS is enabled #4196",
          "Fix the issue that expired data is recycled slowly #4146",
          "Fix the bug that invalid storage directory configurations lead to unexpected behaviors #4093",
          "Fix the bug that some exceptions are not handled properly #4101",
          "Fix the potential query error after adding columns under heavy read workload #3967",
          "Fix the bug that the STR_TO_DATE() function incorrectly handles leading zeros when parsing microseconds #3557",
          "Fix the issue that TiFlash might return the EstablishMPPConnection error after it is restarted #3615",
          "Tools\nBackup & Restore (BR)\nFix duplicate primary keys when inserting a record into a table after incremental restoration #33596\nFix the issue that schedulers do not resume after BR or TiDB Lightning exits abnormally #33546\nFix a bug that BR incremental restore returns errors mistakenly due to DDL jobs with empty query #33322\nFix the issue that BR does not retry enough times when Regions are not consistent during restoration #33419\nFix a bug that BR gets stuck when the restore operation meets some unrecoverable errors #33200\nFix the issue that BR fails to back up RawKV #32607\nFix the issue that BR cannot handle S3 internal errors #34350\nTiCDC\nFix incorrect metrics caused by owner changes #4774\nFix the bug that the redo log manager flushes logs before writing logs #5486\nFix the bug that the resolved ts moves too fast when some tables are not maintained by the redo writer #5486\nAdd the UUID suffix to the redo log file name to fix the issue that file name conflicts may cause data loss #5486\nFix the bug that MySQL Sink may save a wrong checkpointTs #5107\nFix the issue that TiCDC clusters may panic after upgrade #5266\nFix the issue that changefeed gets stuck when tables are repeatedly scheduled in the same node #4464\nFix the issue that TiCDC fails to start when the first PD set in --pd is not available after TLS is enabled #4777\nFix a bug that querying status through open API may be blocked when the PD node is abnormal #4778\nFix a stability problem in workerpool used by Unified Sorter #4447\nFix a bug that sequence is incorrectly replicated in some cases #4552\nTiDB Data Migration (DM)\nFix the issue that DM occupies more disk space after the task automatically resumes #3734 #5344\nFix an issue that the uppercase table cannot be replicated when case-sensitive: true is not set #5255\nFix the issue that in some cases manually executing the filtered DDL in the downstream might cause task resumption failure #5272\nFix the DM worker panic issue that occurs when the primary key is not first in the index returned by the SHOW CREATE TABLE statement #5159\nFix the issue that CPU usage may increase and a large amount of log is printed when GTID is enabled or when the task is automatically resumed #5063\nFix the issue that the relay log may be disabled after the DM-master reboots #4803\nTiDB Lightning\nFix the issue of Local-backend import failure caused by out-of-bounds data in the auto_increment column #27937\nFix the issue that the precheck does not check local disk resources and cluster availability #34213\nFix the checksum error \"GC life time is shorter than transaction duration\" #32733",
          "Backup & Restore (BR)\nFix duplicate primary keys when inserting a record into a table after incremental restoration #33596\nFix the issue that schedulers do not resume after BR or TiDB Lightning exits abnormally #33546\nFix a bug that BR incremental restore returns errors mistakenly due to DDL jobs with empty query #33322\nFix the issue that BR does not retry enough times when Regions are not consistent during restoration #33419\nFix a bug that BR gets stuck when the restore operation meets some unrecoverable errors #33200\nFix the issue that BR fails to back up RawKV #32607\nFix the issue that BR cannot handle S3 internal errors #34350",
          "Fix duplicate primary keys when inserting a record into a table after incremental restoration #33596",
          "Fix the issue that schedulers do not resume after BR or TiDB Lightning exits abnormally #33546",
          "Fix a bug that BR incremental restore returns errors mistakenly due to DDL jobs with empty query #33322",
          "Fix the issue that BR does not retry enough times when Regions are not consistent during restoration #33419",
          "Fix a bug that BR gets stuck when the restore operation meets some unrecoverable errors #33200",
          "Fix the issue that BR fails to back up RawKV #32607",
          "Fix the issue that BR cannot handle S3 internal errors #34350",
          "TiCDC\nFix incorrect metrics caused by owner changes #4774\nFix the bug that the redo log manager flushes logs before writing logs #5486\nFix the bug that the resolved ts moves too fast when some tables are not maintained by the redo writer #5486\nAdd the UUID suffix to the redo log file name to fix the issue that file name conflicts may cause data loss #5486\nFix the bug that MySQL Sink may save a wrong checkpointTs #5107\nFix the issue that TiCDC clusters may panic after upgrade #5266\nFix the issue that changefeed gets stuck when tables are repeatedly scheduled in the same node #4464\nFix the issue that TiCDC fails to start when the first PD set in --pd is not available after TLS is enabled #4777\nFix a bug that querying status through open API may be blocked when the PD node is abnormal #4778\nFix a stability problem in workerpool used by Unified Sorter #4447\nFix a bug that sequence is incorrectly replicated in some cases #4552",
          "Fix incorrect metrics caused by owner changes #4774",
          "Fix the bug that the redo log manager flushes logs before writing logs #5486",
          "Fix the bug that the resolved ts moves too fast when some tables are not maintained by the redo writer #5486",
          "Add the UUID suffix to the redo log file name to fix the issue that file name conflicts may cause data loss #5486",
          "Fix the bug that MySQL Sink may save a wrong checkpointTs #5107",
          "Fix the issue that TiCDC clusters may panic after upgrade #5266",
          "Fix the issue that changefeed gets stuck when tables are repeatedly scheduled in the same node #4464",
          "Fix the issue that TiCDC fails to start when the first PD set in --pd is not available after TLS is enabled #4777",
          "Fix a bug that querying status through open API may be blocked when the PD node is abnormal #4778",
          "Fix a stability problem in workerpool used by Unified Sorter #4447",
          "Fix a bug that sequence is incorrectly replicated in some cases #4552",
          "TiDB Data Migration (DM)\nFix the issue that DM occupies more disk space after the task automatically resumes #3734 #5344\nFix an issue that the uppercase table cannot be replicated when case-sensitive: true is not set #5255\nFix the issue that in some cases manually executing the filtered DDL in the downstream might cause task resumption failure #5272\nFix the DM worker panic issue that occurs when the primary key is not first in the index returned by the SHOW CREATE TABLE statement #5159\nFix the issue that CPU usage may increase and a large amount of log is printed when GTID is enabled or when the task is automatically resumed #5063\nFix the issue that the relay log may be disabled after the DM-master reboots #4803",
          "Fix the issue that DM occupies more disk space after the task automatically resumes #3734 #5344",
          "Fix an issue that the uppercase table cannot be replicated when case-sensitive: true is not set #5255",
          "Fix the issue that in some cases manually executing the filtered DDL in the downstream might cause task resumption failure #5272",
          "Fix the DM worker panic issue that occurs when the primary key is not first in the index returned by the SHOW CREATE TABLE statement #5159",
          "Fix the issue that CPU usage may increase and a large amount of log is printed when GTID is enabled or when the task is automatically resumed #5063",
          "Fix the issue that the relay log may be disabled after the DM-master reboots #4803",
          "TiDB Lightning\nFix the issue of Local-backend import failure caused by out-of-bounds data in the auto_increment column #27937\nFix the issue that the precheck does not check local disk resources and cluster availability #34213\nFix the checksum error \"GC life time is shorter than transaction duration\" #32733",
          "Fix the issue of Local-backend import failure caused by out-of-bounds data in the auto_increment column #27937",
          "Fix the issue that the precheck does not check local disk resources and cluster availability #34213",
          "Fix the checksum error \"GC life time is shorter than transaction duration\" #32733"
        ]
      },
      {
        "version": "5.3.1",
        "date": "2022-03-03",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.3.1/",
        "changes": [
          "TiDB\nOptimize the mapping logic of user login mode to make the logging more MySQL-compatible #32648",
          "Optimize the mapping logic of user login mode to make the logging more MySQL-compatible #32648",
          "TiKV\nReduce the TiCDC recovery time by reducing the number of the Regions that require the Resolve Locks step #11993\nSpeed up the Garbage Collection (GC) process by increasing the write batch size when performing GC to Raft logs #11404\nUpdate the proc filesystem (procfs) to v0.12.0 #11702",
          "Reduce the TiCDC recovery time by reducing the number of the Regions that require the Resolve Locks step #11993",
          "Speed up the Garbage Collection (GC) process by increasing the write batch size when performing GC to Raft logs #11404",
          "Update the proc filesystem (procfs) to v0.12.0 #11702",
          "PD\nOptimize the content format of the DR_STATE file #4341",
          "Optimize the content format of the DR_STATE file #4341",
          "Tools\nTiCDC\nExpose configuration parameters of the Kafka producer to make them configurable in TiCDC #4385\nAdd a pre-cleanup process upon TiCDC startup if S3 is used as backend storage #3878\nThe TiCDC client works when no certificate name is specified #3627\nManage sink checkpoints per table to avoid unexpected advance of checkpoint timestamps #3545\nAdd the exponential backoff mechanism for restarting a changefeed. #3329\nChange the default value of Kafka Sink partition-num to 3 so that TiCDC distributes messages across Kafka partitions more evenly #3337\nReduce the count of \"EventFeed retry rate limited\" logs #4006\nSet the default value of max-message-bytes to 10M #4041\nAdd more Prometheus and Grafana monitoring metrics and alerts, including no owner alert, mounter row, table sink total row, and buffer sink total row #4054 #1606\nReduce the time for the KV client to recover when a TiKV store is down #3191\nTiDB Lightning\nRefine the output message of the precheck to make it more user-friendly when the local disk space check fails #30395",
          "TiCDC\nExpose configuration parameters of the Kafka producer to make them configurable in TiCDC #4385\nAdd a pre-cleanup process upon TiCDC startup if S3 is used as backend storage #3878\nThe TiCDC client works when no certificate name is specified #3627\nManage sink checkpoints per table to avoid unexpected advance of checkpoint timestamps #3545\nAdd the exponential backoff mechanism for restarting a changefeed. #3329\nChange the default value of Kafka Sink partition-num to 3 so that TiCDC distributes messages across Kafka partitions more evenly #3337\nReduce the count of \"EventFeed retry rate limited\" logs #4006\nSet the default value of max-message-bytes to 10M #4041\nAdd more Prometheus and Grafana monitoring metrics and alerts, including no owner alert, mounter row, table sink total row, and buffer sink total row #4054 #1606\nReduce the time for the KV client to recover when a TiKV store is down #3191",
          "Expose configuration parameters of the Kafka producer to make them configurable in TiCDC #4385",
          "Add a pre-cleanup process upon TiCDC startup if S3 is used as backend storage #3878",
          "The TiCDC client works when no certificate name is specified #3627",
          "Manage sink checkpoints per table to avoid unexpected advance of checkpoint timestamps #3545",
          "Add the exponential backoff mechanism for restarting a changefeed. #3329",
          "Change the default value of Kafka Sink partition-num to 3 so that TiCDC distributes messages across Kafka partitions more evenly #3337",
          "Reduce the count of \"EventFeed retry rate limited\" logs #4006",
          "Set the default value of max-message-bytes to 10M #4041",
          "Add more Prometheus and Grafana monitoring metrics and alerts, including no owner alert, mounter row, table sink total row, and buffer sink total row #4054 #1606",
          "Reduce the time for the KV client to recover when a TiKV store is down #3191",
          "TiDB Lightning\nRefine the output message of the precheck to make it more user-friendly when the local disk space check fails #30395",
          "Refine the output message of the precheck to make it more user-friendly when the local disk space check fails #30395",
          "TiDB\nFix the issue that date_format in TiDB handles '\\n' in a MySQL-incompatible way #32232\nFix the issue that alter column set default wrongly updates the table schema #31074\nFix a bug that tidb_super_read_only is not automatically enabled when tidb_restricted_read_only is enabled #31745\nFix the issue that the greatest or least function with collation gets a wrong result #31789\nFix the MPP task list empty error when executing a query #31636\nFix wrong results of index join caused by an innerWorker panic #31494\nFix wrong query results after changing the column type from FLOAT to DOUBLE #31372\nFix the invalid transaction error when executing a query using index lookup join #30468\nFix wrong query results due to the optimization of Order By #30271\nFix the issue that the configurations of MaxDays and MaxBackups do not take effect on the slow log #25716\nFix the issue that executing the INSERT ... SELECT ... ON DUPLICATE KEY UPDATE statement gets panic #28078",
          "Fix the issue that date_format in TiDB handles '\\n' in a MySQL-incompatible way #32232",
          "Fix the issue that alter column set default wrongly updates the table schema #31074",
          "Fix a bug that tidb_super_read_only is not automatically enabled when tidb_restricted_read_only is enabled #31745",
          "Fix the issue that the greatest or least function with collation gets a wrong result #31789",
          "Fix the MPP task list empty error when executing a query #31636",
          "Fix wrong results of index join caused by an innerWorker panic #31494",
          "Fix wrong query results after changing the column type from FLOAT to DOUBLE #31372",
          "Fix the invalid transaction error when executing a query using index lookup join #30468",
          "Fix wrong query results due to the optimization of Order By #30271",
          "Fix the issue that the configurations of MaxDays and MaxBackups do not take effect on the slow log #25716",
          "Fix the issue that executing the INSERT ... SELECT ... ON DUPLICATE KEY UPDATE statement gets panic #28078",
          "TiKV\nFix the panic issue caused by deleting snapshot files when the peer status is Applying #11746\nFix the issue of QPS drop when flow control is enabled and level0_slowdown_trigger is set explicitly #11424\nFix the panic issue that occurs when the cgroup controller is not mounted #11569\nFix the issue that the latency of Resolved TS increases after TiKV stops operating #11351\nFix a bug that TiKV cannot delete a range of data (unsafe_destroy_range cannot be executed) when the GC worker is busy #11903\nFix the issue that destroying a peer might cause high latency #10210\nFix a bug that the any_value function returns a wrong result when regions are empty #11735\nFix the issue that deleting an uninitialized replica might cause an old replica to be recreated #10533\nFix the metadata corruption issue when Prepare Merge is triggered after a new election is finished but the isolated peer is not informed #11526\nFix the deadlock issue that happens occasionally when coroutines run too fast #11549\nFix the issue that a down TiKV node causes the resolved timestamp to lag #11351\nFix the issue that batch messages are too large in Raft client implementation #9714\nFix a panic issue that occurs when Region merge, ConfChange, and Snapshot happen at the same time in extreme conditions #11475\nFix the issue that TiKV cannot detect the memory lock when TiKV performs a reverse table scan #11440\nFix the issue that RocksDB flush or compaction causes panic when the disk capacity is full #11224\nFix a bug that tikv-ctl cannot return the correct Region-related information #11393\nFix the issue that the average latency of the by-instance gRPC requests is inaccurate in TiKV metrics #11299",
          "Fix the panic issue caused by deleting snapshot files when the peer status is Applying #11746",
          "Fix the issue of QPS drop when flow control is enabled and level0_slowdown_trigger is set explicitly #11424",
          "Fix the panic issue that occurs when the cgroup controller is not mounted #11569",
          "Fix the issue that the latency of Resolved TS increases after TiKV stops operating #11351",
          "Fix a bug that TiKV cannot delete a range of data (unsafe_destroy_range cannot be executed) when the GC worker is busy #11903",
          "Fix the issue that destroying a peer might cause high latency #10210",
          "Fix a bug that the any_value function returns a wrong result when regions are empty #11735",
          "Fix the issue that deleting an uninitialized replica might cause an old replica to be recreated #10533",
          "Fix the metadata corruption issue when Prepare Merge is triggered after a new election is finished but the isolated peer is not informed #11526",
          "Fix the deadlock issue that happens occasionally when coroutines run too fast #11549",
          "Fix the issue that a down TiKV node causes the resolved timestamp to lag #11351",
          "Fix the issue that batch messages are too large in Raft client implementation #9714",
          "Fix a panic issue that occurs when Region merge, ConfChange, and Snapshot happen at the same time in extreme conditions #11475",
          "Fix the issue that TiKV cannot detect the memory lock when TiKV performs a reverse table scan #11440",
          "Fix the issue that RocksDB flush or compaction causes panic when the disk capacity is full #11224",
          "Fix a bug that tikv-ctl cannot return the correct Region-related information #11393",
          "Fix the issue that the average latency of the by-instance gRPC requests is inaccurate in TiKV metrics #11299",
          "PD\nFix a bug that the scheduling process has the unnecessary JointConsensus steps in certain cases #4362\nFix a bug that the scheduling cannot be executed when demoting a voter directly #4444\nFix a data race issue that occurs when updating the configuration of the replication mode of replicas #4325\nFix a bug that the Read lock is not released in certain cases #4354\nFix the issue that the cold hotspot data cannot be deleted from the hotspot statistics #4390",
          "Fix a bug that the scheduling process has the unnecessary JointConsensus steps in certain cases #4362",
          "Fix a bug that the scheduling cannot be executed when demoting a voter directly #4444",
          "Fix a data race issue that occurs when updating the configuration of the replication mode of replicas #4325",
          "Fix a bug that the Read lock is not released in certain cases #4354",
          "Fix the issue that the cold hotspot data cannot be deleted from the hotspot statistics #4390",
          "TiFlash\nFix the issue that cast(arg as decimal(x,y)) returns a wrong result when the input argument arg overflows the range of decimal(x,y)\nFix the TiFlash crash issue that occurs when max_memory_usage and max_memory_usage_for_all_queries are enabled\nFix the issue that cast(string as real) returns a wrong result\nFix the issue that cast(string as decimal) returns a wrong result\nFix potential data inconsistency after altering a primary key column to a larger int data type\nFix the bug that when in has multiple arguments in the statements like select (arg0, arg1) in (x,y), in returns a wrong result\nFix the issue that TiFlash might panic when an MPP query is stopped\nFix the issue that str_to_date returns a wrong result when the input argument has leading zeros\nFix the issue that the query returns a wrong result when the filter is in the where <string> format\nFix the issue that cast(string as datetime) returns a wrong result when the input argument string is in the %Y-%m-%d\\n%H:%i:%s format",
          "Fix the issue that cast(arg as decimal(x,y)) returns a wrong result when the input argument arg overflows the range of decimal(x,y)",
          "Fix the TiFlash crash issue that occurs when max_memory_usage and max_memory_usage_for_all_queries are enabled",
          "Fix the issue that cast(string as real) returns a wrong result",
          "Fix the issue that cast(string as decimal) returns a wrong result",
          "Fix potential data inconsistency after altering a primary key column to a larger int data type",
          "Fix the bug that when in has multiple arguments in the statements like select (arg0, arg1) in (x,y), in returns a wrong result",
          "Fix the issue that TiFlash might panic when an MPP query is stopped",
          "Fix the issue that str_to_date returns a wrong result when the input argument has leading zeros",
          "Fix the issue that the query returns a wrong result when the filter is in the where <string> format",
          "Fix the issue that cast(string as datetime) returns a wrong result when the input argument string is in the %Y-%m-%d\\n%H:%i:%s format",
          "Tools\nBackup & Restore (BR)\nFix the potential issue that Regions might be unevenly distributed after a restore operation is finished #31034\nTiCDC\nFix a bug that long varchars report an error Column length too big #4637\nFix a bug that a TiCDC node exits abnormally when a PD leader is killed #4248\nFix the issue that execution errors of the update statement in safemode may cause the DM-worker panic #4317\nFix the issue that cached region metric of the TiKV client may be negative #4300\nFix the bug that HTTP API panics when the required processor information does not exist #3840\nFix a bug that redo logs are not cleaned up when removing a paused changefeed #4740\nFix OOM in container environments #1798\nFix a bug that stopping a loading task results in unexpected transfer of the task #3771\nFix the issue that wrong progress is returned for the query-status command on loader #3252\nFix the issue that HTTP API fails to work if there are TiCDC nodes of different versions in a cluster #3483\nFix the issue that TiCDC exits abnormally when the S3 storage is configured with TiCDC Redo Log #3523\nFix the issue that default values cannot be replicated #3793\nFix a bug that MySQL sink generates duplicated replace SQL statements if batch-replace-enable is disabled #4501\nFix the issue that syncer metrics are updated only when querying the status #4281\nFix the issue that mq sink write row does not have monitoring data #3431\nFix the issue that replication cannot be performed when min.insync.replicas is smaller than replication-factor #3994\nFix the issue that mq sink write row does not have monitoring data #3431\nFix the potential panic issue that occurs when a replication task is removed #3128\nFix the potential issue that the deadlock causes a replication task to get stuck #4055\nFix the TiCDC panic issue that occurs when manually cleaning the task status in etcd #2980\nFix the issue that special comments in DDL statements cause the replication task to stop #3755\nFix the issue of replication stop caused by the incorrect configuration of config.Metadata.Timeout #3352\nFix the issue that the service cannot be started because of a timezone issue in some RHEL releases #3584\nFix the issue that stopped changefeeds resume automatically after a cluster upgrade #3473\nFix the issue that default values cannot be replicated #3793\nFix the issue of overly frequent warnings caused by MySQL sink deadlock #2706\nFix the bug that the enable-old-value configuration item is not automatically set to true on the Canal protocol #3676\nFix the issue that Avro sink does not support parsing JSON type columns #3624\nFix the negative value error in the changefeed checkpoint lag #3010\nTiDB Data Migration (DM)\nFix a bug that the relay status in the DM-master is wrong after restarting the DM-master and DM-worker in a particular order #3478\nFix a bug that the DM-worker fails to boot up after a restart #3344\nFix a bug that a DM task fails if running a PARTITION DDL takes too long time #3854\nFix a bug that DM may report invalid sequence when upstream is MySQL 8.0 #3847\nFix a bug of data loss when DM does finer grained retry #3487\nFix the issue that the CREATE VIEW statement interrupts data replication #4173\nFix the issue the schema needs to be reset after a DDL statement is skipped #4177\nTiDB Lightning\nFix the bug that TiDB Lightning may not delete the metadata schema when some import tasks do not contain source files #28144\nFix the bug that TiDB Lightning returns an error if the storage URL prefix is \"gs://xxx\", instead of \"gcs://xxx\" #32742\nFix the issue that setting --log-file=\"-\" does not print any log to stdout #29876\nFix the issue that TiDB Lightning does not report errors when the S3 storage path does not exist #30709",
          "Backup & Restore (BR)\nFix the potential issue that Regions might be unevenly distributed after a restore operation is finished #31034",
          "Fix the potential issue that Regions might be unevenly distributed after a restore operation is finished #31034",
          "TiCDC\nFix a bug that long varchars report an error Column length too big #4637\nFix a bug that a TiCDC node exits abnormally when a PD leader is killed #4248\nFix the issue that execution errors of the update statement in safemode may cause the DM-worker panic #4317\nFix the issue that cached region metric of the TiKV client may be negative #4300\nFix the bug that HTTP API panics when the required processor information does not exist #3840\nFix a bug that redo logs are not cleaned up when removing a paused changefeed #4740\nFix OOM in container environments #1798\nFix a bug that stopping a loading task results in unexpected transfer of the task #3771\nFix the issue that wrong progress is returned for the query-status command on loader #3252\nFix the issue that HTTP API fails to work if there are TiCDC nodes of different versions in a cluster #3483\nFix the issue that TiCDC exits abnormally when the S3 storage is configured with TiCDC Redo Log #3523\nFix the issue that default values cannot be replicated #3793\nFix a bug that MySQL sink generates duplicated replace SQL statements if batch-replace-enable is disabled #4501\nFix the issue that syncer metrics are updated only when querying the status #4281\nFix the issue that mq sink write row does not have monitoring data #3431\nFix the issue that replication cannot be performed when min.insync.replicas is smaller than replication-factor #3994\nFix the issue that mq sink write row does not have monitoring data #3431\nFix the potential panic issue that occurs when a replication task is removed #3128\nFix the potential issue that the deadlock causes a replication task to get stuck #4055\nFix the TiCDC panic issue that occurs when manually cleaning the task status in etcd #2980\nFix the issue that special comments in DDL statements cause the replication task to stop #3755\nFix the issue of replication stop caused by the incorrect configuration of config.Metadata.Timeout #3352\nFix the issue that the service cannot be started because of a timezone issue in some RHEL releases #3584\nFix the issue that stopped changefeeds resume automatically after a cluster upgrade #3473\nFix the issue that default values cannot be replicated #3793\nFix the issue of overly frequent warnings caused by MySQL sink deadlock #2706\nFix the bug that the enable-old-value configuration item is not automatically set to true on the Canal protocol #3676\nFix the issue that Avro sink does not support parsing JSON type columns #3624\nFix the negative value error in the changefeed checkpoint lag #3010",
          "Fix a bug that long varchars report an error Column length too big #4637",
          "Fix a bug that a TiCDC node exits abnormally when a PD leader is killed #4248",
          "Fix the issue that execution errors of the update statement in safemode may cause the DM-worker panic #4317",
          "Fix the issue that cached region metric of the TiKV client may be negative #4300",
          "Fix the bug that HTTP API panics when the required processor information does not exist #3840",
          "Fix a bug that redo logs are not cleaned up when removing a paused changefeed #4740",
          "Fix OOM in container environments #1798",
          "Fix a bug that stopping a loading task results in unexpected transfer of the task #3771",
          "Fix the issue that wrong progress is returned for the query-status command on loader #3252",
          "Fix the issue that HTTP API fails to work if there are TiCDC nodes of different versions in a cluster #3483",
          "Fix the issue that TiCDC exits abnormally when the S3 storage is configured with TiCDC Redo Log #3523",
          "Fix the issue that default values cannot be replicated #3793",
          "Fix a bug that MySQL sink generates duplicated replace SQL statements if batch-replace-enable is disabled #4501",
          "Fix the issue that syncer metrics are updated only when querying the status #4281",
          "Fix the issue that mq sink write row does not have monitoring data #3431",
          "Fix the issue that replication cannot be performed when min.insync.replicas is smaller than replication-factor #3994",
          "Fix the issue that mq sink write row does not have monitoring data #3431",
          "Fix the potential panic issue that occurs when a replication task is removed #3128",
          "Fix the potential issue that the deadlock causes a replication task to get stuck #4055",
          "Fix the TiCDC panic issue that occurs when manually cleaning the task status in etcd #2980",
          "Fix the issue that special comments in DDL statements cause the replication task to stop #3755",
          "Fix the issue of replication stop caused by the incorrect configuration of config.Metadata.Timeout #3352",
          "Fix the issue that the service cannot be started because of a timezone issue in some RHEL releases #3584",
          "Fix the issue that stopped changefeeds resume automatically after a cluster upgrade #3473",
          "Fix the issue that default values cannot be replicated #3793",
          "Fix the issue of overly frequent warnings caused by MySQL sink deadlock #2706",
          "Fix the bug that the enable-old-value configuration item is not automatically set to true on the Canal protocol #3676",
          "Fix the issue that Avro sink does not support parsing JSON type columns #3624",
          "Fix the negative value error in the changefeed checkpoint lag #3010",
          "TiDB Data Migration (DM)\nFix a bug that the relay status in the DM-master is wrong after restarting the DM-master and DM-worker in a particular order #3478\nFix a bug that the DM-worker fails to boot up after a restart #3344\nFix a bug that a DM task fails if running a PARTITION DDL takes too long time #3854\nFix a bug that DM may report invalid sequence when upstream is MySQL 8.0 #3847\nFix a bug of data loss when DM does finer grained retry #3487\nFix the issue that the CREATE VIEW statement interrupts data replication #4173\nFix the issue the schema needs to be reset after a DDL statement is skipped #4177",
          "Fix a bug that the relay status in the DM-master is wrong after restarting the DM-master and DM-worker in a particular order #3478",
          "Fix a bug that the DM-worker fails to boot up after a restart #3344",
          "Fix a bug that a DM task fails if running a PARTITION DDL takes too long time #3854",
          "Fix a bug that DM may report invalid sequence when upstream is MySQL 8.0 #3847",
          "Fix a bug of data loss when DM does finer grained retry #3487",
          "Fix the issue that the CREATE VIEW statement interrupts data replication #4173",
          "Fix the issue the schema needs to be reset after a DDL statement is skipped #4177",
          "TiDB Lightning\nFix the bug that TiDB Lightning may not delete the metadata schema when some import tasks do not contain source files #28144\nFix the bug that TiDB Lightning returns an error if the storage URL prefix is \"gs://xxx\", instead of \"gcs://xxx\" #32742\nFix the issue that setting --log-file=\"-\" does not print any log to stdout #29876\nFix the issue that TiDB Lightning does not report errors when the S3 storage path does not exist #30709",
          "Fix the bug that TiDB Lightning may not delete the metadata schema when some import tasks do not contain source files #28144",
          "Fix the bug that TiDB Lightning returns an error if the storage URL prefix is \"gs://xxx\", instead of \"gcs://xxx\" #32742",
          "Fix the issue that setting --log-file=\"-\" does not print any log to stdout #29876",
          "Fix the issue that TiDB Lightning does not report errors when the S3 storage path does not exist #30709"
        ]
      },
      {
        "version": "5.3.0",
        "date": "2021-11-30",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.3.0/",
        "changes": [
          "Use SQL interface to set placement rules for data (experimental feature)\nSupport the [CREATE | ALTER] PLACEMENT POLICY syntax that provides a SQL interface to set placement rules for data. Using this feature, you can specify tables and partitions to be scheduled to specific regions, data centers, racks, hosts, or replica count rules. This meets your application demands for lower cost and higher flexibility. The typical user scenarios are as follows:\nMerge multiple databases of different applications to reduce the cost on database maintenance, and achieve application resource isolation through the rule configuration\nIncrease replica count for important data to improve the application availability and data reliability\nStore new data into SSDs and store old data into HHDs to lower the cost on data archiving and storage\nSchedule the leaders of hotspot data to high-performance TiKV instances\nSeparate cold data to lower-cost storage mediums to improve cost efficiency\nUser document, #18030",
          "Merge multiple databases of different applications to reduce the cost on database maintenance, and achieve application resource isolation through the rule configuration",
          "Increase replica count for important data to improve the application availability and data reliability",
          "Store new data into SSDs and store old data into HHDs to lower the cost on data archiving and storage",
          "Schedule the leaders of hotspot data to high-performance TiKV instances",
          "Separate cold data to lower-cost storage mediums to improve cost efficiency\nUser document, #18030",
          "Temporary tables\nSupport the CREATE [GLOBAL] TEMPORARY TABLE statement to create temporary tables. Using this feature, you can easily manage the temporary data generated in the calculation process of an application. Temporary data is stored in memory and you can use the tidb_tmp_table_max_size variable to limit the size of a temporary table. TiDB supports the following types of temporary tables:\nGlobal temporary tables\nVisible to all sessions in the cluster, and table schemas are persistent.\nProvides transaction-level data isolation. The temporary data is effective only in the transaction. After the transaction finishes, the data is automatically dropped.\nLocal temporary tables\nVisible only to the current session, and tables schemas are not persistent.\nSupports duplicated table names. You do not need to design complicated naming rules for your application.\nProvides session-level data isolation, which enables you to design a simpler application logic. After the transaction finishes, the temporary tables are dropped.\nUser document, #24169",
          "Global temporary tables\nVisible to all sessions in the cluster, and table schemas are persistent.\nProvides transaction-level data isolation. The temporary data is effective only in the transaction. After the transaction finishes, the data is automatically dropped.",
          "Visible to all sessions in the cluster, and table schemas are persistent.",
          "Provides transaction-level data isolation. The temporary data is effective only in the transaction. After the transaction finishes, the data is automatically dropped.",
          "Local temporary tables\nVisible only to the current session, and tables schemas are not persistent.\nSupports duplicated table names. You do not need to design complicated naming rules for your application.\nProvides session-level data isolation, which enables you to design a simpler application logic. After the transaction finishes, the temporary tables are dropped.\nUser document, #24169",
          "Visible only to the current session, and tables schemas are not persistent.",
          "Supports duplicated table names. You do not need to design complicated naming rules for your application.",
          "Provides session-level data isolation, which enables you to design a simpler application logic. After the transaction finishes, the temporary tables are dropped.\nUser document, #24169",
          "Support the FOR UPDATE OF TABLES syntax\nFor a SQL statement that joins multiple tables, TiDB supports acquiring pessimistic locks on the rows correlated to the tables that are included in OF TABLES.\nUser document, #28689",
          "Table attributes\nSupport the ALTER TABLE [PARTITION] ATTRIBUTES statement that allows you to set attributes for a table or partition. Currently, TiDB only supports setting the merge_option attribute. By adding this attribute, you can explicitly control the Region merge behavior.\nUser scenarios: When you perform the SPLIT TABLE operation, if no data is inserted after a certain period of time (controlled by the PD parameter split-merge-interval), the empty Regions are automatically merged by default. In this case, you can set the table attribute to merge_option=deny to avoid the automatic merging of Regions.\nUser document, #3839",
          "TiDB\nShow the affected SQL statements in the debug log when the coprocessor encounters a lock, which is helpful in diagnosing problems #27718\nSupport showing the size of the backup and restore data when backing up and restoring data in the SQL logical layer #27247\nImprove the default collection logic of ANALYZE when tidb_analyze_version is 2, which accelerates collection and reduces resource overhead\nIntroduce the ANALYZE TABLE table_name COLUMNS col_1, col_2, ... , col_n syntax. The syntax allows collecting statistics only on a portion of the columns in wide tables, which improves the speed of statistics collection",
          "Show the affected SQL statements in the debug log when the coprocessor encounters a lock, which is helpful in diagnosing problems #27718",
          "Support showing the size of the backup and restore data when backing up and restoring data in the SQL logical layer #27247",
          "Improve the default collection logic of ANALYZE when tidb_analyze_version is 2, which accelerates collection and reduces resource overhead",
          "Introduce the ANALYZE TABLE table_name COLUMNS col_1, col_2, ... , col_n syntax. The syntax allows collecting statistics only on a portion of the columns in wide tables, which improves the speed of statistics collection",
          "TiKV\nEnhance disk space protection to improve storage stability\nTo solve the issue that TiKV might panic in case of a disk fully-written error, TiKV introduces a two-level threshold defense mechanism to protect the disk remaining space from being exhausted by excess traffic. Additionally, the mechanism provides the ability to reclaim space when the threshold is triggered. When the remaining space threshold is triggered, some write operations will fail and TiKV will return a disk full error as well as a list of disk full nodes. In this case, to recover the space and restore the service, you can execute Drop/Truncate Table or scale out the nodes.\nSimplify the algorithm of L0 flow control #10879\nImprove the error log report in the raft client module #10944\nImprove logging threads to avoid them becoming a performance bottleneck #10841\nAdd more statistics types of write queries #10507\nReduce the write latency by separating I/O operations from Raftstore thread pool (disabled by default). For more information about tuning, see Tune TiKV Thread Pool Performance #10540",
          "Enhance disk space protection to improve storage stability\nTo solve the issue that TiKV might panic in case of a disk fully-written error, TiKV introduces a two-level threshold defense mechanism to protect the disk remaining space from being exhausted by excess traffic. Additionally, the mechanism provides the ability to reclaim space when the threshold is triggered. When the remaining space threshold is triggered, some write operations will fail and TiKV will return a disk full error as well as a list of disk full nodes. In this case, to recover the space and restore the service, you can execute Drop/Truncate Table or scale out the nodes.",
          "Simplify the algorithm of L0 flow control #10879",
          "Improve the error log report in the raft client module #10944",
          "Improve logging threads to avoid them becoming a performance bottleneck #10841",
          "Add more statistics types of write queries #10507",
          "Reduce the write latency by separating I/O operations from Raftstore thread pool (disabled by default). For more information about tuning, see Tune TiKV Thread Pool Performance #10540",
          "PD\nAdd more types of write queries to QPS dimensions in the hotspot scheduler #3869\nSupport dynamically adjusting the retry limit of the Balance Region scheduler to improve the performance of the scheduler #3744\nUpdate TiDB Dashboard to v2021.10.08.1 #4070\nSupport that the evict leader scheduler can schedule Regions with unhealthy peers #4093\nSpeed up the exit process of schedulers #4146",
          "Add more types of write queries to QPS dimensions in the hotspot scheduler #3869",
          "Support dynamically adjusting the retry limit of the Balance Region scheduler to improve the performance of the scheduler #3744",
          "Update TiDB Dashboard to v2021.10.08.1 #4070",
          "Support that the evict leader scheduler can schedule Regions with unhealthy peers #4093",
          "Speed up the exit process of schedulers #4146",
          "TiFlash\nImprove the execution efficiency of the TableScan operator greatly\nImprove the execution efficiency of the Exchange operator\nReduce write amplification and memory usage during GC of the storage engine (experimental feature)\nImprove the stability and availability of TiFlash when TiFlash restarts, which reduces possible query failures following the restart\nSupport pushing down multiple new String and Time functions to the MPP engine\nString functions: LIKE pattern, FORMAT(), LOWER(), LTRIM(), RTRIM(), SUBSTRING_INDEX(), TRIM(), UCASE(), UPPER()\nMathematical functions: ROUND (decimal, int)\nDate and time functions: HOUR(), MICROSECOND(), MINUTE(), SECOND(), SYSDATE()\nType conversion function: CAST(time, real)\nAggregation functions: GROUP_CONCAT(), SUM(enum)\nSupport 512-bit SIMD\nEnhance the cleanup algorithm for outdated data to reduce disk usage and read files more efficiently\nFix the issue that dashboard does not display memory or CPU information in some non-Linux systems\nUnify the naming style of TiFlash log files (keep the naming style consistent with that of TiKV) and support dynamic modification of logger.count and logger.size\nImprove the data validation capability of column-based files (checksums, experimental feature)",
          "Improve the execution efficiency of the TableScan operator greatly",
          "Improve the execution efficiency of the Exchange operator",
          "Reduce write amplification and memory usage during GC of the storage engine (experimental feature)",
          "Improve the stability and availability of TiFlash when TiFlash restarts, which reduces possible query failures following the restart",
          "Support pushing down multiple new String and Time functions to the MPP engine\nString functions: LIKE pattern, FORMAT(), LOWER(), LTRIM(), RTRIM(), SUBSTRING_INDEX(), TRIM(), UCASE(), UPPER()\nMathematical functions: ROUND (decimal, int)\nDate and time functions: HOUR(), MICROSECOND(), MINUTE(), SECOND(), SYSDATE()\nType conversion function: CAST(time, real)\nAggregation functions: GROUP_CONCAT(), SUM(enum)",
          "String functions: LIKE pattern, FORMAT(), LOWER(), LTRIM(), RTRIM(), SUBSTRING_INDEX(), TRIM(), UCASE(), UPPER()",
          "Mathematical functions: ROUND (decimal, int)",
          "Date and time functions: HOUR(), MICROSECOND(), MINUTE(), SECOND(), SYSDATE()",
          "Type conversion function: CAST(time, real)",
          "Aggregation functions: GROUP_CONCAT(), SUM(enum)",
          "Support 512-bit SIMD",
          "Enhance the cleanup algorithm for outdated data to reduce disk usage and read files more efficiently",
          "Fix the issue that dashboard does not display memory or CPU information in some non-Linux systems",
          "Unify the naming style of TiFlash log files (keep the naming style consistent with that of TiKV) and support dynamic modification of logger.count and logger.size",
          "Improve the data validation capability of column-based files (checksums, experimental feature)",
          "Tools\nTiCDC\nReduce the default value of the Kafka sink configuration item MaxMessageBytes from 64 MB to 1 MB to fix the issue that large messages are rejected by the Kafka Broker #3104\nReduce memory usage in the replication pipeline #2553 #3037 #2726\nOptimize monitoring items and alert rules to improve observability of synchronous links, memory GC, and stock data scanning processes #2735 #1606 #3000 #2985 #2156\nWhen the sync task status is normal, no more historical error messages are displayed to avoid misleading users #2242",
          "TiCDC\nReduce the default value of the Kafka sink configuration item MaxMessageBytes from 64 MB to 1 MB to fix the issue that large messages are rejected by the Kafka Broker #3104\nReduce memory usage in the replication pipeline #2553 #3037 #2726\nOptimize monitoring items and alert rules to improve observability of synchronous links, memory GC, and stock data scanning processes #2735 #1606 #3000 #2985 #2156\nWhen the sync task status is normal, no more historical error messages are displayed to avoid misleading users #2242",
          "Reduce the default value of the Kafka sink configuration item MaxMessageBytes from 64 MB to 1 MB to fix the issue that large messages are rejected by the Kafka Broker #3104",
          "Reduce memory usage in the replication pipeline #2553 #3037 #2726",
          "Optimize monitoring items and alert rules to improve observability of synchronous links, memory GC, and stock data scanning processes #2735 #1606 #3000 #2985 #2156",
          "When the sync task status is normal, no more historical error messages are displayed to avoid misleading users #2242",
          "TiDB\nFix an error that occurs during execution caused by the wrong execution plan. The wrong execution plan is caused by the shallow copy of schema columns when pushing down the aggregation operators on partitioned tables #27797 #26554\nFix the issue that plan cache cannot detect changes of unsigned flags #28254\nFix the wrong partition pruning when the partition function is out of range #28233\nFix the issue that planner might cache invalid plans for join in some cases #28087\nFix wrong IndexLookUpJoin when hash column type is enum #27893\nFix a batch client bug that recycling idle connection might block sending requests in some rare cases #27688\nFix the TiDB Lightning panic issue when it fails to perform checksum on a target cluster #27686\nFix wrong results of the date_add and date_sub functions in some cases #27232\nFix wrong results of the hour function in vectorized expression #28643\nFix the authenticating issue when connecting to MySQL 5.1 or an older client version #27855\nFix the issue that auto analyze might be triggered out of the specified time when a new index is added #28698\nFix a bug that setting any session variable invalidates tidb_snapshot #28683\nFix a bug that BR is not working for clusters with many missing-peer Regions #27534\nFix the unexpected error like tidb_cast to Int32 is not supported when the unsupported cast is pushed down to TiFlash #23907\nFix the issue that DECIMAL overflow is missing in the %s value is out of range in '%s'error message #27964\nFix a bug that the availability detection of MPP node does not work in some corner cases #3118\nFix the DATA RACE issue when assigning MPP task ID #27952\nFix the INDEX OUT OF RANGE error for a MPP query after deleting an empty dual table #28250\nFix the issue of false positive error log invalid cop task execution summaries length for MPP queries #1791\nFix the issue of error log cannot found column in Schema column for MPP queries #28149\nFix the issue that TiDB might panic when TiFlash is shutting down #28096\nRemove the support for insecure 3DES (Triple Data Encryption Algorithm) based TLS cipher suites #27859\nFix the issue that Lightning connects to offline TiKV nodes during pre-check and causes import failures #27826\nFix the issue that pre-check cost too much time when importing many files to tables #27605\nFix the issue that rewriting expressions makes between infer wrong collation #27146\nFix the issue that group_concat function did not consider the collation #27429\nFix the result wrong that occurs when the argument of the extract function is a negative duration #27236\nFix the issue that creating partition fails if NO_UNSIGNED_SUBTRACTION is set #26765\nAvoid expressions with side effects in column pruning and aggregation pushdown #27106\nRemove useless gRPC logs #24190\nLimit the valid decimal length to fix precision-related issues #3091\nFix the issue of a wrong way to check for overflow in plus expression #26977\nFix the issue of data too long error when dumping statistics from the table with new collation data #27024\nFix the issue that the retried transactions' statements are not included in TIDB_TRX #28670\nFix the wrong default value of the plugin_dir configuration #28084\nFix the issue that the CONVERT_TZ function returns NULL when it is given a named timezone and a UTC offset #8311\nFix the issue that CREATE SCHEMA does not use the character set specified by character_set_server and collation_server for new schemas if none are provided as part of the statement #27214",
          "Fix an error that occurs during execution caused by the wrong execution plan. The wrong execution plan is caused by the shallow copy of schema columns when pushing down the aggregation operators on partitioned tables #27797 #26554",
          "Fix the issue that plan cache cannot detect changes of unsigned flags #28254",
          "Fix the wrong partition pruning when the partition function is out of range #28233",
          "Fix the issue that planner might cache invalid plans for join in some cases #28087",
          "Fix wrong IndexLookUpJoin when hash column type is enum #27893",
          "Fix a batch client bug that recycling idle connection might block sending requests in some rare cases #27688",
          "Fix the TiDB Lightning panic issue when it fails to perform checksum on a target cluster #27686",
          "Fix wrong results of the date_add and date_sub functions in some cases #27232",
          "Fix wrong results of the hour function in vectorized expression #28643",
          "Fix the authenticating issue when connecting to MySQL 5.1 or an older client version #27855",
          "Fix the issue that auto analyze might be triggered out of the specified time when a new index is added #28698",
          "Fix a bug that setting any session variable invalidates tidb_snapshot #28683",
          "Fix a bug that BR is not working for clusters with many missing-peer Regions #27534",
          "Fix the unexpected error like tidb_cast to Int32 is not supported when the unsupported cast is pushed down to TiFlash #23907",
          "Fix the issue that DECIMAL overflow is missing in the %s value is out of range in '%s'error message #27964",
          "Fix a bug that the availability detection of MPP node does not work in some corner cases #3118",
          "Fix the DATA RACE issue when assigning MPP task ID #27952",
          "Fix the INDEX OUT OF RANGE error for a MPP query after deleting an empty dual table #28250",
          "Fix the issue of false positive error log invalid cop task execution summaries length for MPP queries #1791",
          "Fix the issue of error log cannot found column in Schema column for MPP queries #28149",
          "Fix the issue that TiDB might panic when TiFlash is shutting down #28096",
          "Remove the support for insecure 3DES (Triple Data Encryption Algorithm) based TLS cipher suites #27859",
          "Fix the issue that Lightning connects to offline TiKV nodes during pre-check and causes import failures #27826",
          "Fix the issue that pre-check cost too much time when importing many files to tables #27605",
          "Fix the issue that rewriting expressions makes between infer wrong collation #27146",
          "Fix the issue that group_concat function did not consider the collation #27429",
          "Fix the result wrong that occurs when the argument of the extract function is a negative duration #27236",
          "Fix the issue that creating partition fails if NO_UNSIGNED_SUBTRACTION is set #26765",
          "Avoid expressions with side effects in column pruning and aggregation pushdown #27106",
          "Remove useless gRPC logs #24190",
          "Limit the valid decimal length to fix precision-related issues #3091",
          "Fix the issue of a wrong way to check for overflow in plus expression #26977",
          "Fix the issue of data too long error when dumping statistics from the table with new collation data #27024",
          "Fix the issue that the retried transactions' statements are not included in TIDB_TRX #28670",
          "Fix the wrong default value of the plugin_dir configuration #28084",
          "Fix the issue that the CONVERT_TZ function returns NULL when it is given a named timezone and a UTC offset #8311",
          "Fix the issue that CREATE SCHEMA does not use the character set specified by character_set_server and collation_server for new schemas if none are provided as part of the statement #27214",
          "TiKV\nFix the issue of unavailable TiKV caused by Raftstore deadlock when migrating Regions. The workaround is to disable the scheduling and restart the unavailable TiKV #10909\nFix the issue that CDC adds scan retries frequently due to the Congest error #11082\nFix the issue that the Raft connection is broken when the channel is full #11047\nFix the issue that batch messages are too large in Raft client implementation #9714\nFix the issue that some coroutines leak in resolved_ts #10965\nFix a panic issue that occurs to the coprocessor when the size of response exceeds 4 GiB #9012\nFix the issue that snapshot Garbage Collection (GC) misses GC snapshot files when snapshot files cannot be garbage collected #10813\nFix a panic issue caused by timeout when processing Coprocessor requests #10852\nFix a memory leak caused by monitoring data of statistics threads #11195\nFix a panic issue caused by getting the cgroup information from some platforms #10980\nFix the issue of poor scan performance because MVCC Deletion versions are not dropped by compaction filter GC #11248",
          "Fix the issue of unavailable TiKV caused by Raftstore deadlock when migrating Regions. The workaround is to disable the scheduling and restart the unavailable TiKV #10909",
          "Fix the issue that CDC adds scan retries frequently due to the Congest error #11082",
          "Fix the issue that the Raft connection is broken when the channel is full #11047",
          "Fix the issue that batch messages are too large in Raft client implementation #9714",
          "Fix the issue that some coroutines leak in resolved_ts #10965",
          "Fix a panic issue that occurs to the coprocessor when the size of response exceeds 4 GiB #9012",
          "Fix the issue that snapshot Garbage Collection (GC) misses GC snapshot files when snapshot files cannot be garbage collected #10813",
          "Fix a panic issue caused by timeout when processing Coprocessor requests #10852",
          "Fix a memory leak caused by monitoring data of statistics threads #11195",
          "Fix a panic issue caused by getting the cgroup information from some platforms #10980",
          "Fix the issue of poor scan performance because MVCC Deletion versions are not dropped by compaction filter GC #11248",
          "PD\nFix the issue that PD incorrectly delete the peers with data and in pending status because the number of peers exceeds the number of configured peers #4045\nFix the issue that PD does not fix down peers in time #4077\nFix the issue that the scatter range scheduler cannot schedule empty Regions #4118\nFix the issue that the key manager cost too much CPU #4071\nFix the data race issue that might occur when setting configurations of hot Region scheduler #4159\nFix slow leader election caused by stuck Region syncer #3936",
          "Fix the issue that PD incorrectly delete the peers with data and in pending status because the number of peers exceeds the number of configured peers #4045",
          "Fix the issue that PD does not fix down peers in time #4077",
          "Fix the issue that the scatter range scheduler cannot schedule empty Regions #4118",
          "Fix the issue that the key manager cost too much CPU #4071",
          "Fix the data race issue that might occur when setting configurations of hot Region scheduler #4159",
          "Fix slow leader election caused by stuck Region syncer #3936",
          "TiFlash\nFix the issue of inaccurate TiFlash Store Size statistics\nFix the issue that TiFlash fails to start up on some platforms due to the absence of library nsl\nBlock the infinite wait of wait index when writing pressure is heavy (a default timeout of 5 minutes is added), which prevents TiFlash from waiting too long for data replication to provide services\nFix the slow and no result issues of the log search when the log volume is large\nFix the issue that only the most recent logs can be searched when searching old historical logs\nFix the possible wrong result when a new collation is enabled\nFix the possible parsing errors when an SQL statement contains extremely long nested expressions\nFix the possible Block schema mismatch error of the Exchange operator\nFix the possible Can't compare error when comparing Decimal types\nFix the 3rd arguments of function substringUTF8 must be constants error of the left/substring function",
          "Fix the issue of inaccurate TiFlash Store Size statistics",
          "Fix the issue that TiFlash fails to start up on some platforms due to the absence of library nsl",
          "Block the infinite wait of wait index when writing pressure is heavy (a default timeout of 5 minutes is added), which prevents TiFlash from waiting too long for data replication to provide services",
          "Fix the slow and no result issues of the log search when the log volume is large",
          "Fix the issue that only the most recent logs can be searched when searching old historical logs",
          "Fix the possible wrong result when a new collation is enabled",
          "Fix the possible parsing errors when an SQL statement contains extremely long nested expressions",
          "Fix the possible Block schema mismatch error of the Exchange operator",
          "Fix the possible Can't compare error when comparing Decimal types",
          "Fix the 3rd arguments of function substringUTF8 must be constants error of the left/substring function",
          "Tools\nTiCDC\nFix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061\nFix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386\nFix unnecessary CPU consumption when verifying downstream TiDB/MySQL availability #3073\nFix the issue that the volume of Kafka messages generated by TiCDC is not constrained by max-message-size #2962\nFix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978\nFix the issue that some partitioned tables without valid indexes might be ignored when force-replicate is enabled #2834\nFix the issue that scanning stock data might fail due to TiKV performing GC when scanning stock data takes too long #2470\nFix a possible panic issue when encoding some types of columns into Open Protocol format #2758\nFix a possible panic issue when encoding some types of columns into Avro format #2648\nTiDB Binlog\nFix the issue that when most tables are filtered out, checkpoint cannot be updated under some special load #1075",
          "TiCDC\nFix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061\nFix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386\nFix unnecessary CPU consumption when verifying downstream TiDB/MySQL availability #3073\nFix the issue that the volume of Kafka messages generated by TiCDC is not constrained by max-message-size #2962\nFix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978\nFix the issue that some partitioned tables without valid indexes might be ignored when force-replicate is enabled #2834\nFix the issue that scanning stock data might fail due to TiKV performing GC when scanning stock data takes too long #2470\nFix a possible panic issue when encoding some types of columns into Open Protocol format #2758\nFix a possible panic issue when encoding some types of columns into Avro format #2648",
          "Fix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061",
          "Fix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386",
          "Fix unnecessary CPU consumption when verifying downstream TiDB/MySQL availability #3073",
          "Fix the issue that the volume of Kafka messages generated by TiCDC is not constrained by max-message-size #2962",
          "Fix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978",
          "Fix the issue that some partitioned tables without valid indexes might be ignored when force-replicate is enabled #2834",
          "Fix the issue that scanning stock data might fail due to TiKV performing GC when scanning stock data takes too long #2470",
          "Fix a possible panic issue when encoding some types of columns into Open Protocol format #2758",
          "Fix a possible panic issue when encoding some types of columns into Avro format #2648",
          "TiDB Binlog\nFix the issue that when most tables are filtered out, checkpoint cannot be updated under some special load #1075",
          "Fix the issue that when most tables are filtered out, checkpoint cannot be updated under some special load #1075"
        ]
      }
    ]
  },
  {
    "major_version": "5.2",
    "patches": [
      {
        "version": "5.2.4",
        "date": "2022-04-26",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.2.4/",
        "changes": [
          "TiKV\nTransfer the leadership to CDC observer to reduce latency jitter #12111\nReduce the TiCDC recovery time by reducing the number of the Regions that require the Resolve Locks step #11993\nUpdate the proc filesystem (procfs) to v0.12.0 #11702\nSpeed up the Garbage Collection (GC) process by increasing the write batch size when performing GC to Raft logs #11404\nIncrease the speed of inserting SST files by moving the verification process to the Import thread pool from the Apply thread pool #11239",
          "Transfer the leadership to CDC observer to reduce latency jitter #12111",
          "Reduce the TiCDC recovery time by reducing the number of the Regions that require the Resolve Locks step #11993",
          "Update the proc filesystem (procfs) to v0.12.0 #11702",
          "Speed up the Garbage Collection (GC) process by increasing the write batch size when performing GC to Raft logs #11404",
          "Increase the speed of inserting SST files by moving the verification process to the Import thread pool from the Apply thread pool #11239",
          "Tools\nTiCDC\nChange the default value of Kafka Sink partition-num to 3 so that TiCDC distributes messages across Kafka partitions more evenly #3337\nReduce the time for the KV client to recover when a TiKV store is down #3191\nAdd a Lag analyze panel in Grafana #4891\nExpose configuration parameters of the Kafka producer to make them configurable in TiCDC #4385\nAdd the exponential backoff mechanism for restarting a changefeed #3329\nReduce the count of \"EventFeed retry rate limited\" logs #4006\nSet the default value of max-message-bytes to 10M #4041\nAdd more Prometheus and Grafana monitoring metrics and alerts, including no owner alert, mounter row, table sink total row, and buffer sink total row #4054 #1606\nSupport multiple Kubernetes clusters in Grafana dashboards #4665\nAdd catch-up ETA (Estimated Time of Arrival) to the changefeed checkpoint monitoring metric #5232",
          "TiCDC\nChange the default value of Kafka Sink partition-num to 3 so that TiCDC distributes messages across Kafka partitions more evenly #3337\nReduce the time for the KV client to recover when a TiKV store is down #3191\nAdd a Lag analyze panel in Grafana #4891\nExpose configuration parameters of the Kafka producer to make them configurable in TiCDC #4385\nAdd the exponential backoff mechanism for restarting a changefeed #3329\nReduce the count of \"EventFeed retry rate limited\" logs #4006\nSet the default value of max-message-bytes to 10M #4041\nAdd more Prometheus and Grafana monitoring metrics and alerts, including no owner alert, mounter row, table sink total row, and buffer sink total row #4054 #1606\nSupport multiple Kubernetes clusters in Grafana dashboards #4665\nAdd catch-up ETA (Estimated Time of Arrival) to the changefeed checkpoint monitoring metric #5232",
          "Change the default value of Kafka Sink partition-num to 3 so that TiCDC distributes messages across Kafka partitions more evenly #3337",
          "Reduce the time for the KV client to recover when a TiKV store is down #3191",
          "Add a Lag analyze panel in Grafana #4891",
          "Expose configuration parameters of the Kafka producer to make them configurable in TiCDC #4385",
          "Add the exponential backoff mechanism for restarting a changefeed #3329",
          "Reduce the count of \"EventFeed retry rate limited\" logs #4006",
          "Set the default value of max-message-bytes to 10M #4041",
          "Add more Prometheus and Grafana monitoring metrics and alerts, including no owner alert, mounter row, table sink total row, and buffer sink total row #4054 #1606",
          "Support multiple Kubernetes clusters in Grafana dashboards #4665",
          "Add catch-up ETA (Estimated Time of Arrival) to the changefeed checkpoint monitoring metric #5232",
          "TiDB\nFix wrong range calculation results for Nulleq function on Enum values #32428\nFix the issue that INDEX HASH JOIN returns the send on closed channel error #31129\nFix the issue that concurrent column type change causes inconsistency between the schema and the data #31048\nFix the issue of potential data index inconsistency in optimistic transaction mode #30410\nFix the issue that a SQL operation is canceled when its JSON type column joins its CHAR type column #29401\nFix the issue that window functions might return different results when using a transaction or not #29947\nFix the issue that the Column 'col_name' in field list is ambiguous error is reported unexpectedly when a SQL statement contains natural join #25041\nFix the issue that the length information is wrong when casting Decimal to String #29417\nFix the issue that the GREATEST function returns inconsistent results due to different values of tidb_enable_vectorized_expression (set to on or off) #29434\nFix wrong results of deleting data of multiple tables using left join #31321\nFix a bug that TiDB may dispatch duplicate tasks to TiFlash #32814\nFix the MPP task list empty error when executing a query #31636\nFix wrong results of index join caused by an innerWorker panic #31494\nFix the issue that executing the INSERT ... SELECT ... ON DUPLICATE KEY UPDATE statement gets panic #28078\nFix wrong query results due to the optimization of Order By #30271\nFix the wrong result that might occur when performing JOIN on ENUM type columns #27831\nFix the panic when using the CASE WHEN function on the ENUM data type #29357\nFix wrong results of the microsecond function in vectorized expressions #29244\nFix the issue that the window function causes TiDB to panic instead of reporting an error #30326\nFix the issue that the Merge Join operator gets wrong results in certain cases #33042\nFix the issue that TiDB gets a wrong result when a correlated subquery returns a constant #32089\nFix the issue that TiDB writes wrong data due to the wrong encoding of the ENUM or SET column #32302\nFix the issue that the MAX or MIN function on the ENUM or SET column returns a wrong result when the new collation is enabled in TiDB #31638\nFix the issue that the IndexHashJoin operator does not exit successfully #31062\nFix the issue that TiDB might read wrong data when a table has a virtual column #30965\nFix the issue that the setting of the log level does not take effect on the slow query log #30309\nFix the issue that partitioned tables cannot fully use indexes to scan data in some cases #33966\nFix the issue that the background HTTP service of TiDB might not exit successfully and makes the cluster in an abnormal state #30571\nFix the issue that TiDB might unexpectedly output many logs of failed authentication #29709\nFix the issue that the system variable max_allowed_packet does not take effect #31422\nFix the issue that the REPLACE statement incorrectly changes other rows when the auto ID is out of range #29483\nFix the issue that the slow query log cannot output log normally and might consume too much memory #32656\nFix the issue that the result of NATURAL JOIN might include unexpected columns #29481\nFix the issue that using ORDER BY and LIMIT together in one statement might output wrong results if a prefix-column index is used to query data #29711\nFix the issue that the DOUBLE type auto-increment column might be changed when the optimistic transaction retries #29892\nFix the issue that the STR_TO_DATE function cannot handle the preceding zero of the microsecond part correctly #30078\nFix the issue that TiDB gets the wrong result when using TiFlash to scan tables with empty range although TiFlash does not support reading tables with empty range yet #33083",
          "Fix wrong range calculation results for Nulleq function on Enum values #32428",
          "Fix the issue that INDEX HASH JOIN returns the send on closed channel error #31129",
          "Fix the issue that concurrent column type change causes inconsistency between the schema and the data #31048",
          "Fix the issue of potential data index inconsistency in optimistic transaction mode #30410",
          "Fix the issue that a SQL operation is canceled when its JSON type column joins its CHAR type column #29401",
          "Fix the issue that window functions might return different results when using a transaction or not #29947",
          "Fix the issue that the Column 'col_name' in field list is ambiguous error is reported unexpectedly when a SQL statement contains natural join #25041",
          "Fix the issue that the length information is wrong when casting Decimal to String #29417",
          "Fix the issue that the GREATEST function returns inconsistent results due to different values of tidb_enable_vectorized_expression (set to on or off) #29434",
          "Fix wrong results of deleting data of multiple tables using left join #31321",
          "Fix a bug that TiDB may dispatch duplicate tasks to TiFlash #32814",
          "Fix the MPP task list empty error when executing a query #31636",
          "Fix wrong results of index join caused by an innerWorker panic #31494",
          "Fix the issue that executing the INSERT ... SELECT ... ON DUPLICATE KEY UPDATE statement gets panic #28078",
          "Fix wrong query results due to the optimization of Order By #30271",
          "Fix the wrong result that might occur when performing JOIN on ENUM type columns #27831",
          "Fix the panic when using the CASE WHEN function on the ENUM data type #29357",
          "Fix wrong results of the microsecond function in vectorized expressions #29244",
          "Fix the issue that the window function causes TiDB to panic instead of reporting an error #30326",
          "Fix the issue that the Merge Join operator gets wrong results in certain cases #33042",
          "Fix the issue that TiDB gets a wrong result when a correlated subquery returns a constant #32089",
          "Fix the issue that TiDB writes wrong data due to the wrong encoding of the ENUM or SET column #32302",
          "Fix the issue that the MAX or MIN function on the ENUM or SET column returns a wrong result when the new collation is enabled in TiDB #31638",
          "Fix the issue that the IndexHashJoin operator does not exit successfully #31062",
          "Fix the issue that TiDB might read wrong data when a table has a virtual column #30965",
          "Fix the issue that the setting of the log level does not take effect on the slow query log #30309",
          "Fix the issue that partitioned tables cannot fully use indexes to scan data in some cases #33966",
          "Fix the issue that the background HTTP service of TiDB might not exit successfully and makes the cluster in an abnormal state #30571",
          "Fix the issue that TiDB might unexpectedly output many logs of failed authentication #29709",
          "Fix the issue that the system variable max_allowed_packet does not take effect #31422",
          "Fix the issue that the REPLACE statement incorrectly changes other rows when the auto ID is out of range #29483",
          "Fix the issue that the slow query log cannot output log normally and might consume too much memory #32656",
          "Fix the issue that the result of NATURAL JOIN might include unexpected columns #29481",
          "Fix the issue that using ORDER BY and LIMIT together in one statement might output wrong results if a prefix-column index is used to query data #29711",
          "Fix the issue that the DOUBLE type auto-increment column might be changed when the optimistic transaction retries #29892",
          "Fix the issue that the STR_TO_DATE function cannot handle the preceding zero of the microsecond part correctly #30078",
          "Fix the issue that TiDB gets the wrong result when using TiFlash to scan tables with empty range although TiFlash does not support reading tables with empty range yet #33083",
          "TiKV\nFix a bug that stale messages cause TiKV to panic #12023\nFix the issue of intermittent packet loss and out of memory (OOM) caused by the overflow of memory metrics #12160\nFix the potential panic issue that occurs when TiKV performs profiling on Ubuntu 18.04 #9765\nFix the issue that tikv-ctl returns an incorrect result due to its wrong string match #12329\nFix a bug that replica reads might violate the linearizability #12109\nFix a bug that TiKV might panic if it has been running for 2 years or more #11940\nFix the issue of QPS drop when flow control is enabled and level0_slowdown_trigger is set explicitly #11424\nFix the panic issue that occurs when the cgroup controller is not mounted #11569\nFix possible metadata corruption caused by Region merge on a lagging Region peer #11526\nFix the issue that the latency of Resolved TS increases after TiKV stops operating #11351\nFix a panic issue that occurs when Region merge, ConfChange, and Snapshot happen at the same time in extreme conditions #11475\nFix a bug that tikv-ctl cannot return the correct Region-related information #11393\nFix the issue of negative sign when the decimal divide result is zero #29586\nFix the issue that retrying prewrite requests in the pessimistic transaction mode might cause the risk of data inconsistency in rare cases #11187\nFix a memory leak caused by monitoring data of statistics threads #11195\nFix the issue that the average latency of the by-instance gRPC requests is inaccurate in TiKV metrics #11299\nFix the panic issue caused by deleting snapshot files when the peer status is Applying #11746\nFix a bug that TiKV cannot delete a range of data (which means the internal command unsafe_destroy_range is executed) when the GC worker is busy #11903\nFix the issue that deleting an uninitialized replica might cause an old replica to be recreated #10533\nFix the issue that TiKV cannot detect the memory lock when TiKV performs a reverse table scan #11440\nFix the deadlock issue that happens occasionally when coroutines run too fast #11549\nFix the issue that destroying a peer might cause high latency #10210\nFix the issue that TiKV panics and destroys peers unexpectedly because the target Region to be merged is invalid #12232\nFix the TiKV panic issue that occurs when the target peer is replaced with the peer that is destroyed without being initialized when merging a Region #12048\nFix the TiKV panic issue that occurs when applying snapshot is aborted #11618\nFix a bug that TiKV cannot correctly calculate the number of snapshots being sent when the operator execution fails #11341",
          "Fix a bug that stale messages cause TiKV to panic #12023",
          "Fix the issue of intermittent packet loss and out of memory (OOM) caused by the overflow of memory metrics #12160",
          "Fix the potential panic issue that occurs when TiKV performs profiling on Ubuntu 18.04 #9765",
          "Fix the issue that tikv-ctl returns an incorrect result due to its wrong string match #12329",
          "Fix a bug that replica reads might violate the linearizability #12109",
          "Fix a bug that TiKV might panic if it has been running for 2 years or more #11940",
          "Fix the issue of QPS drop when flow control is enabled and level0_slowdown_trigger is set explicitly #11424",
          "Fix the panic issue that occurs when the cgroup controller is not mounted #11569",
          "Fix possible metadata corruption caused by Region merge on a lagging Region peer #11526",
          "Fix the issue that the latency of Resolved TS increases after TiKV stops operating #11351",
          "Fix a panic issue that occurs when Region merge, ConfChange, and Snapshot happen at the same time in extreme conditions #11475",
          "Fix a bug that tikv-ctl cannot return the correct Region-related information #11393",
          "Fix the issue of negative sign when the decimal divide result is zero #29586",
          "Fix the issue that retrying prewrite requests in the pessimistic transaction mode might cause the risk of data inconsistency in rare cases #11187",
          "Fix a memory leak caused by monitoring data of statistics threads #11195",
          "Fix the issue that the average latency of the by-instance gRPC requests is inaccurate in TiKV metrics #11299",
          "Fix the panic issue caused by deleting snapshot files when the peer status is Applying #11746",
          "Fix a bug that TiKV cannot delete a range of data (which means the internal command unsafe_destroy_range is executed) when the GC worker is busy #11903",
          "Fix the issue that deleting an uninitialized replica might cause an old replica to be recreated #10533",
          "Fix the issue that TiKV cannot detect the memory lock when TiKV performs a reverse table scan #11440",
          "Fix the deadlock issue that happens occasionally when coroutines run too fast #11549",
          "Fix the issue that destroying a peer might cause high latency #10210",
          "Fix the issue that TiKV panics and destroys peers unexpectedly because the target Region to be merged is invalid #12232",
          "Fix the TiKV panic issue that occurs when the target peer is replaced with the peer that is destroyed without being initialized when merging a Region #12048",
          "Fix the TiKV panic issue that occurs when applying snapshot is aborted #11618",
          "Fix a bug that TiKV cannot correctly calculate the number of snapshots being sent when the operator execution fails #11341",
          "PD\nFix the issue that the Region scatterer scheduling lost some peers #4565\nFix the issue that the cold hotspot data cannot be deleted from the hotspot statistics #4390",
          "Fix the issue that the Region scatterer scheduling lost some peers #4565",
          "Fix the issue that the cold hotspot data cannot be deleted from the hotspot statistics #4390",
          "TiFlash\nFix a bug that MPP tasks might leak threads forever #4238\nFix the issue that the result of IN is incorrect in multi-value expressions #4016\nFix the issue that the date format identifies '\\n' as an invalid separator #4036\nFix the potential query error after adding columns under heavy read workload #3967\nFix the bug that invalid storage directory configurations lead to unexpected behaviors #4093\nFix the bug that some exceptions are not handled properly #4101\nFix the bug that the STR_TO_DATE() function incorrectly handles leading zeros when parsing microseconds #3557\nFix the issue that casting INT to DECIMAL might cause overflow #3920\nFix the wrong result that occurs when casting DATETIME to DECIMAL #4151\nFix the overflow that occurs when casting FLOAT to DECIMAL #3998\nFix the issue that the CastStringAsReal behavior is inconsistent in TiFlash and in TiDB or TiKV #3475\nFix the issue that the CastStringAsDecimal behavior is inconsistent in TiFlash and in TiDB or TiKV #3619\nFix the issue that TiFlash might return the EstablishMPPConnection error after it is restarted #3615\nFix the issue that obsolete data cannot be reclaimed after setting the number of TiFlash replicas to 0 #3659\nFix potential data inconsistency when widening the primary key column with the primary key being handle #3569\nFix possible parsing errors when an SQL statement contains extremely long nested expressions #3354\nFix possible wrong results when a query contains the where <string> clause #3447\nFix possible wrong results when new_collations_enabled_on_first_bootstrap is enabled #3388, #3391\nFix the panic issue that occurs when TLS is enabled #4196\nFix the panic issue that occurs when the memory limit is enabled #3902\nFix the issue that TiFlash crashes occasionally when an MPP query is stopped #3401\nFix the unexpected error of Unexpected type of column: Nullable(Nothing) #3351\nFix possible metadata corruption caused by Region merge on a lagging Region peer #4437\nFix the issue that a query containing JOIN might be hung if an error occurs #4195\nFix possible wrong results returned for MPP queries due to incorrect execution plans #3389",
          "Fix a bug that MPP tasks might leak threads forever #4238",
          "Fix the issue that the result of IN is incorrect in multi-value expressions #4016",
          "Fix the issue that the date format identifies '\\n' as an invalid separator #4036",
          "Fix the potential query error after adding columns under heavy read workload #3967",
          "Fix the bug that invalid storage directory configurations lead to unexpected behaviors #4093",
          "Fix the bug that some exceptions are not handled properly #4101",
          "Fix the bug that the STR_TO_DATE() function incorrectly handles leading zeros when parsing microseconds #3557",
          "Fix the issue that casting INT to DECIMAL might cause overflow #3920",
          "Fix the wrong result that occurs when casting DATETIME to DECIMAL #4151",
          "Fix the overflow that occurs when casting FLOAT to DECIMAL #3998",
          "Fix the issue that the CastStringAsReal behavior is inconsistent in TiFlash and in TiDB or TiKV #3475",
          "Fix the issue that the CastStringAsDecimal behavior is inconsistent in TiFlash and in TiDB or TiKV #3619",
          "Fix the issue that TiFlash might return the EstablishMPPConnection error after it is restarted #3615",
          "Fix the issue that obsolete data cannot be reclaimed after setting the number of TiFlash replicas to 0 #3659",
          "Fix potential data inconsistency when widening the primary key column with the primary key being handle #3569",
          "Fix possible parsing errors when an SQL statement contains extremely long nested expressions #3354",
          "Fix possible wrong results when a query contains the where <string> clause #3447",
          "Fix possible wrong results when new_collations_enabled_on_first_bootstrap is enabled #3388, #3391",
          "Fix the panic issue that occurs when TLS is enabled #4196",
          "Fix the panic issue that occurs when the memory limit is enabled #3902",
          "Fix the issue that TiFlash crashes occasionally when an MPP query is stopped #3401",
          "Fix the unexpected error of Unexpected type of column: Nullable(Nothing) #3351",
          "Fix possible metadata corruption caused by Region merge on a lagging Region peer #4437",
          "Fix the issue that a query containing JOIN might be hung if an error occurs #4195",
          "Fix possible wrong results returned for MPP queries due to incorrect execution plans #3389",
          "Tools\nBackup & Restore (BR)\nFix the issue that BR fails to back up RawKV #32607\nTiCDC\nFix the issue that default values cannot be replicated #3793\nFix a bug that sequence is incorrectly replicated in some cases #4552\nFix a bug that a TiCDC node exits abnormally when a PD leader is killed #4248\nFix a bug that MySQL sink generates duplicated replace SQL statements when batch-replace-enable is disabled #4501\nFix the issue of panic and data inconsistency that occurs when outputting the default column value #3929\nFix the issue that mq sink write row does not have monitoring data #3431\nFix the issue that replication cannot be performed when min.insync.replicas is smaller than replication-factor #3994\nFix the potential panic issue that occurs when a replication task is removed #3128\nFix the bug that HTTP API panics when the required processor information does not exist #3840\nFix the issue of potential data loss caused by inaccurate checkpoint #3545\nFix the potential issue that the deadlock causes a replication task to get stuck #4055\nFix the TiCDC panic issue that occurs when manually cleaning the task status in etcd #2980\nFix the issue that special comments in DDL statements cause the replication task to stop #3755\nFix the issue of replication stop caused by the incorrect configuration of config.Metadata.Timeout #3352\nFix the issue that the service cannot be started because of a timezone issue in the RHEL release #3584\nFix the issue that stopped changefeeds resume automatically after a cluster upgrade #3473\nFix the issue of overly frequent warnings caused by MySQL sink deadlock #2706\nFix the bug that the enable-old-value configuration item is not automatically set to true on the Canal protocol #3676\nFix the issue that Avro sink does not support parsing JSON type columns #3624\nFix the negative value error in the changefeed checkpoint lag #3010\nFix the OOM issue in the container environment #1798\nFix the memory leak issue after processing DDLs #3174\nFix the issue that changefeed gets stuck when tables are repeatedly scheduled in the same node #4464\nFix a bug that querying status through open API may be blocked when the PD node is abnormal #4778\nFix incorrect metrics caused by owner changes #4774\nFix a stability problem in workerpool used by Unified Sorter #4447\nFix the issue that the cached region monitoring metric is negative #4300\nTiDB Lightning\nFix the issue of wrong import result that occurs when TiDB Lightning does not have the privilege to access the mysql.tidb table #31088\nFix the checksum error \"GC life time is shorter than transaction duration\" #32733\nFix a bug that TiDB Lightning may not delete the metadata schema when some import tasks do not contain source files #28144\nFix the issue that TiDB Lightning does not report errors when the S3 storage path does not exist #28031 #30709\nFix an error that occurs when iterating more than 1000 keys on GCS #30377",
          "Backup & Restore (BR)\nFix the issue that BR fails to back up RawKV #32607",
          "Fix the issue that BR fails to back up RawKV #32607",
          "TiCDC\nFix the issue that default values cannot be replicated #3793\nFix a bug that sequence is incorrectly replicated in some cases #4552\nFix a bug that a TiCDC node exits abnormally when a PD leader is killed #4248\nFix a bug that MySQL sink generates duplicated replace SQL statements when batch-replace-enable is disabled #4501\nFix the issue of panic and data inconsistency that occurs when outputting the default column value #3929\nFix the issue that mq sink write row does not have monitoring data #3431\nFix the issue that replication cannot be performed when min.insync.replicas is smaller than replication-factor #3994\nFix the potential panic issue that occurs when a replication task is removed #3128\nFix the bug that HTTP API panics when the required processor information does not exist #3840\nFix the issue of potential data loss caused by inaccurate checkpoint #3545\nFix the potential issue that the deadlock causes a replication task to get stuck #4055\nFix the TiCDC panic issue that occurs when manually cleaning the task status in etcd #2980\nFix the issue that special comments in DDL statements cause the replication task to stop #3755\nFix the issue of replication stop caused by the incorrect configuration of config.Metadata.Timeout #3352\nFix the issue that the service cannot be started because of a timezone issue in the RHEL release #3584\nFix the issue that stopped changefeeds resume automatically after a cluster upgrade #3473\nFix the issue of overly frequent warnings caused by MySQL sink deadlock #2706\nFix the bug that the enable-old-value configuration item is not automatically set to true on the Canal protocol #3676\nFix the issue that Avro sink does not support parsing JSON type columns #3624\nFix the negative value error in the changefeed checkpoint lag #3010\nFix the OOM issue in the container environment #1798\nFix the memory leak issue after processing DDLs #3174\nFix the issue that changefeed gets stuck when tables are repeatedly scheduled in the same node #4464\nFix a bug that querying status through open API may be blocked when the PD node is abnormal #4778\nFix incorrect metrics caused by owner changes #4774\nFix a stability problem in workerpool used by Unified Sorter #4447\nFix the issue that the cached region monitoring metric is negative #4300",
          "Fix the issue that default values cannot be replicated #3793",
          "Fix a bug that sequence is incorrectly replicated in some cases #4552",
          "Fix a bug that a TiCDC node exits abnormally when a PD leader is killed #4248",
          "Fix a bug that MySQL sink generates duplicated replace SQL statements when batch-replace-enable is disabled #4501",
          "Fix the issue of panic and data inconsistency that occurs when outputting the default column value #3929",
          "Fix the issue that mq sink write row does not have monitoring data #3431",
          "Fix the issue that replication cannot be performed when min.insync.replicas is smaller than replication-factor #3994",
          "Fix the potential panic issue that occurs when a replication task is removed #3128",
          "Fix the bug that HTTP API panics when the required processor information does not exist #3840",
          "Fix the issue of potential data loss caused by inaccurate checkpoint #3545",
          "Fix the potential issue that the deadlock causes a replication task to get stuck #4055",
          "Fix the TiCDC panic issue that occurs when manually cleaning the task status in etcd #2980",
          "Fix the issue that special comments in DDL statements cause the replication task to stop #3755",
          "Fix the issue of replication stop caused by the incorrect configuration of config.Metadata.Timeout #3352",
          "Fix the issue that the service cannot be started because of a timezone issue in the RHEL release #3584",
          "Fix the issue that stopped changefeeds resume automatically after a cluster upgrade #3473",
          "Fix the issue of overly frequent warnings caused by MySQL sink deadlock #2706",
          "Fix the bug that the enable-old-value configuration item is not automatically set to true on the Canal protocol #3676",
          "Fix the issue that Avro sink does not support parsing JSON type columns #3624",
          "Fix the negative value error in the changefeed checkpoint lag #3010",
          "Fix the OOM issue in the container environment #1798",
          "Fix the memory leak issue after processing DDLs #3174",
          "Fix the issue that changefeed gets stuck when tables are repeatedly scheduled in the same node #4464",
          "Fix a bug that querying status through open API may be blocked when the PD node is abnormal #4778",
          "Fix incorrect metrics caused by owner changes #4774",
          "Fix a stability problem in workerpool used by Unified Sorter #4447",
          "Fix the issue that the cached region monitoring metric is negative #4300",
          "TiDB Lightning\nFix the issue of wrong import result that occurs when TiDB Lightning does not have the privilege to access the mysql.tidb table #31088\nFix the checksum error \"GC life time is shorter than transaction duration\" #32733\nFix a bug that TiDB Lightning may not delete the metadata schema when some import tasks do not contain source files #28144\nFix the issue that TiDB Lightning does not report errors when the S3 storage path does not exist #28031 #30709\nFix an error that occurs when iterating more than 1000 keys on GCS #30377",
          "Fix the issue of wrong import result that occurs when TiDB Lightning does not have the privilege to access the mysql.tidb table #31088",
          "Fix the checksum error \"GC life time is shorter than transaction duration\" #32733",
          "Fix a bug that TiDB Lightning may not delete the metadata schema when some import tasks do not contain source files #28144",
          "Fix the issue that TiDB Lightning does not report errors when the S3 storage path does not exist #28031 #30709",
          "Fix an error that occurs when iterating more than 1000 keys on GCS #30377"
        ]
      },
      {
        "version": "5.2.3",
        "date": "2021-12-03",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.2.3/",
        "changes": [
          "TiKV\nFix the issue that the GcKeys task does not work when it is called by multiple keys. Caused by this issue, compaction filter GC might not drop the MVCC deletion information. #11217",
          "Fix the issue that the GcKeys task does not work when it is called by multiple keys. Caused by this issue, compaction filter GC might not drop the MVCC deletion information. #11217"
        ]
      },
      {
        "version": "5.2.2",
        "date": "2021-10-29",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.2.2/",
        "changes": [
          "TiDB\nShow the affected SQL statements in the debug log when the coprocessor encounters a lock, which is helpful in diagnosing problems #27718\nSupport showing the size of the backup and restore data when backing up and restoring data in the SQL logical layer #27247",
          "Show the affected SQL statements in the debug log when the coprocessor encounters a lock, which is helpful in diagnosing problems #27718",
          "Support showing the size of the backup and restore data when backing up and restoring data in the SQL logical layer #27247",
          "TiKV\nSimplify the algorithm of L0 flow control #10879\nImprove the error log report in the raft client module #10983\nImprove logging threads to avoid them becoming a performance bottleneck #10841\nAdd more statistics types of write queries #10507",
          "Simplify the algorithm of L0 flow control #10879",
          "Improve the error log report in the raft client module #10983",
          "Improve logging threads to avoid them becoming a performance bottleneck #10841",
          "Add more statistics types of write queries #10507",
          "PD\nAdd more types of write queries to QPS dimensions in the hotspot scheduler #3869\nSupport dynamically adjusting the retry limit of the balance region scheduler to improve the performance of the scheduler #3744\nUpdate TiDB Dashboard to v2021.10.08.1 #4070\nSupport that the evict leader scheduler can schedule regions with unhealthy peers #4093\nSpeed up the exit process of schedulers #4146",
          "Add more types of write queries to QPS dimensions in the hotspot scheduler #3869",
          "Support dynamically adjusting the retry limit of the balance region scheduler to improve the performance of the scheduler #3744",
          "Update TiDB Dashboard to v2021.10.08.1 #4070",
          "Support that the evict leader scheduler can schedule regions with unhealthy peers #4093",
          "Speed up the exit process of schedulers #4146",
          "Tools\nTiCDC\nReduce the default value of the Kafka sink configuration item MaxMessageBytes from 64 MB to 1 MB to fix the issue that large messages are rejected by the Kafka Broker #3104\nReduce memory usage in the relpication pipeline #2553 #3037 #2726\nOptimize monitoring items and alert rules to improve observability of synchronous links, memory GC, and stock data scanning processes #2735 #1606 #3000 #2985 #2156\nWhen the sync task status is normal, no more historical error messages are displayed to avoid misleading users #2242",
          "TiCDC\nReduce the default value of the Kafka sink configuration item MaxMessageBytes from 64 MB to 1 MB to fix the issue that large messages are rejected by the Kafka Broker #3104\nReduce memory usage in the relpication pipeline #2553 #3037 #2726\nOptimize monitoring items and alert rules to improve observability of synchronous links, memory GC, and stock data scanning processes #2735 #1606 #3000 #2985 #2156\nWhen the sync task status is normal, no more historical error messages are displayed to avoid misleading users #2242",
          "Reduce the default value of the Kafka sink configuration item MaxMessageBytes from 64 MB to 1 MB to fix the issue that large messages are rejected by the Kafka Broker #3104",
          "Reduce memory usage in the relpication pipeline #2553 #3037 #2726",
          "Optimize monitoring items and alert rules to improve observability of synchronous links, memory GC, and stock data scanning processes #2735 #1606 #3000 #2985 #2156",
          "When the sync task status is normal, no more historical error messages are displayed to avoid misleading users #2242",
          "TiDB\nFix the issue that plan-cache cannot detect changes of unsigned flags #28254\nFix the wrong partition pruning when the partition function is out of range #28233\nFix the issue that planner might cache invalid plans for join in some cases #28087\nFix wrong index hash join when hash column type is enum #27893\nFix a batch client bug that recycling idle connection might block sending requests in some rare cases #27688\nFix the TiDB Lightning panic issue when it fails to perform checksum on a target cluster #27686\nFix wrong results of the date_add and date_sub functions in some cases #27232\nFix wrong results of the hour function in vectorized expression #28643\nFix the authenticating issue when connecting to MySQL 5.1 or an older client version #27855\nFix the issue that auto analyze might be triggered out of the specified time when a new index is added #28698\nFix a bug that setting any session variable invalidates tidb_snapshot #28683\nFix a bug that BR is not working for clusters with many missing-peer regions #27534\nFix the unexpected error like tidb_cast to Int32 is not supported when the unsupported cast is pushed down to TiFlash #23907\nFix the issue that DECIMAL overflow is missing in the %s value is out of range in '%s'error message #27964\nFix a bug that the availability detection of MPP node does not work in some corner cases #3118\nFix the DATA RACE issue when assigning MPP task ID #27952\nFix the INDEX OUT OF RANGE error for a MPP query after deleting an empty dual table. #28250\nFix the issue of false positive error log invalid cop task execution summaries length for MPP queries #1791\nFix the issue of error log cannot found column in Schema column for MPP queries #28149\nFix the issue that TiDB might panic when TiFlash is shutting down #28096\nRemove the support for insecure 3DES (Triple Data Encryption Algorithm) based TLS cipher suites #27859\nFix the issue that Lightning connects to offline TiKV nodes during pre-check and causes import failures #27826\nFix the issue that pre-check cost too much time when importing many files to tables #27605\nFix the issue that rewriting expressions makes between infer wrong collation #27146\nFix the issue that group_concat function did not consider the collation #27429\nFix the result wrong that occurs when the argument of the extract function is a negative duration #27236\nFix the issue that creating partition fails if NO_UNSIGNED_SUBTRACTION is set #26765\nAvoid expressions with side effects in column pruning and aggregation pushdown #27106\nRemove useless gRPC logs #24190\nLimit the valid decimal length to fix precision-related issues #3091\nFix the issue of a wrong way to check for overflow in plus expression #26977\nFix the issue of data too long error when dumping statistics from the table with new collation data #27024\nFix the issue that the retried transactions' statements are not included in TIDB_TRX #28670",
          "Fix the issue that plan-cache cannot detect changes of unsigned flags #28254",
          "Fix the wrong partition pruning when the partition function is out of range #28233",
          "Fix the issue that planner might cache invalid plans for join in some cases #28087",
          "Fix wrong index hash join when hash column type is enum #27893",
          "Fix a batch client bug that recycling idle connection might block sending requests in some rare cases #27688",
          "Fix the TiDB Lightning panic issue when it fails to perform checksum on a target cluster #27686",
          "Fix wrong results of the date_add and date_sub functions in some cases #27232",
          "Fix wrong results of the hour function in vectorized expression #28643",
          "Fix the authenticating issue when connecting to MySQL 5.1 or an older client version #27855",
          "Fix the issue that auto analyze might be triggered out of the specified time when a new index is added #28698",
          "Fix a bug that setting any session variable invalidates tidb_snapshot #28683",
          "Fix a bug that BR is not working for clusters with many missing-peer regions #27534",
          "Fix the unexpected error like tidb_cast to Int32 is not supported when the unsupported cast is pushed down to TiFlash #23907",
          "Fix the issue that DECIMAL overflow is missing in the %s value is out of range in '%s'error message #27964",
          "Fix a bug that the availability detection of MPP node does not work in some corner cases #3118",
          "Fix the DATA RACE issue when assigning MPP task ID #27952",
          "Fix the INDEX OUT OF RANGE error for a MPP query after deleting an empty dual table. #28250",
          "Fix the issue of false positive error log invalid cop task execution summaries length for MPP queries #1791",
          "Fix the issue of error log cannot found column in Schema column for MPP queries #28149",
          "Fix the issue that TiDB might panic when TiFlash is shutting down #28096",
          "Remove the support for insecure 3DES (Triple Data Encryption Algorithm) based TLS cipher suites #27859",
          "Fix the issue that Lightning connects to offline TiKV nodes during pre-check and causes import failures #27826",
          "Fix the issue that pre-check cost too much time when importing many files to tables #27605",
          "Fix the issue that rewriting expressions makes between infer wrong collation #27146",
          "Fix the issue that group_concat function did not consider the collation #27429",
          "Fix the result wrong that occurs when the argument of the extract function is a negative duration #27236",
          "Fix the issue that creating partition fails if NO_UNSIGNED_SUBTRACTION is set #26765",
          "Avoid expressions with side effects in column pruning and aggregation pushdown #27106",
          "Remove useless gRPC logs #24190",
          "Limit the valid decimal length to fix precision-related issues #3091",
          "Fix the issue of a wrong way to check for overflow in plus expression #26977",
          "Fix the issue of data too long error when dumping statistics from the table with new collation data #27024",
          "Fix the issue that the retried transactions' statements are not included in TIDB_TRX #28670",
          "TiKV\nFix the issue that CDC adds scan retries frequently due to the Congest error #11082\nFix the issue that the raft connection is broken when the channel is full #11047\nFix the issue that batch messages are too large in Raft client implementation #9714\nFix the issue that some coroutines leak in resolved_ts #10965\nFix a panic issue that occurs to the coprocessor when the size of response exceeds 4 GiB #9012\nFix the issue that snapshot Garbage Collection (GC) misses GC snapshot files when snapshot files cannot be garbage collected #10813\nFix a panic issue caused by timeout when processing Coprocessor requests #10852",
          "Fix the issue that CDC adds scan retries frequently due to the Congest error #11082",
          "Fix the issue that the raft connection is broken when the channel is full #11047",
          "Fix the issue that batch messages are too large in Raft client implementation #9714",
          "Fix the issue that some coroutines leak in resolved_ts #10965",
          "Fix a panic issue that occurs to the coprocessor when the size of response exceeds 4 GiB #9012",
          "Fix the issue that snapshot Garbage Collection (GC) misses GC snapshot files when snapshot files cannot be garbage collected #10813",
          "Fix a panic issue caused by timeout when processing Coprocessor requests #10852",
          "PD\nFix the issue that PD incorrectly delete the peers with data and in pending status because the number of peers exceeds the number of configured peers #4045\nFix the issue that PD does not fix down peers in time #4077\nFix the issue that the scatter range scheduler cannot schedule empty regions #4118\nFix the issue that the key manager cost too much CPU #4071\nFix the data race issue that might occur when setting configurations of hot region scheduler #4159\nFix slow leader election caused by stuck region syncer #3936",
          "Fix the issue that PD incorrectly delete the peers with data and in pending status because the number of peers exceeds the number of configured peers #4045",
          "Fix the issue that PD does not fix down peers in time #4077",
          "Fix the issue that the scatter range scheduler cannot schedule empty regions #4118",
          "Fix the issue that the key manager cost too much CPU #4071",
          "Fix the data race issue that might occur when setting configurations of hot region scheduler #4159",
          "Fix slow leader election caused by stuck region syncer #3936",
          "TiFlash\nFix the issue that TiFlash fails to start up on some platforms due to the absence of library nsl",
          "Fix the issue that TiFlash fails to start up on some platforms due to the absence of library nsl",
          "Tools\nTiCDC\nFix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061\nFix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386\nFix unnecessary CPU consumption when verifying downstream TiDB/MySQL availability #3073\nFix the issue that the volume of Kafka messages generated by TiCDC is not constrained by max-message-size #2962\nFix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978\nFix the issue that some partitioned tables without valid indexes might be ignored when force-replicate is enabled #2834\nFix the issue that scanning stock data might fail due to TiKV performing GC when scanning stock data takes too long #2470\nFix a possible panic issue when encoding some types of columns into Open Protocol format #2758\nFix a possible panic issue when encoding some types of columns into Avro format #2648\nTiDB Binlog\nFix the issue that when most tables are filtered out, checkpoint cannot be updated under some special load #1075",
          "TiCDC\nFix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061\nFix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386\nFix unnecessary CPU consumption when verifying downstream TiDB/MySQL availability #3073\nFix the issue that the volume of Kafka messages generated by TiCDC is not constrained by max-message-size #2962\nFix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978\nFix the issue that some partitioned tables without valid indexes might be ignored when force-replicate is enabled #2834\nFix the issue that scanning stock data might fail due to TiKV performing GC when scanning stock data takes too long #2470\nFix a possible panic issue when encoding some types of columns into Open Protocol format #2758\nFix a possible panic issue when encoding some types of columns into Avro format #2648",
          "Fix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061",
          "Fix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386",
          "Fix unnecessary CPU consumption when verifying downstream TiDB/MySQL availability #3073",
          "Fix the issue that the volume of Kafka messages generated by TiCDC is not constrained by max-message-size #2962",
          "Fix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978",
          "Fix the issue that some partitioned tables without valid indexes might be ignored when force-replicate is enabled #2834",
          "Fix the issue that scanning stock data might fail due to TiKV performing GC when scanning stock data takes too long #2470",
          "Fix a possible panic issue when encoding some types of columns into Open Protocol format #2758",
          "Fix a possible panic issue when encoding some types of columns into Avro format #2648",
          "TiDB Binlog\nFix the issue that when most tables are filtered out, checkpoint cannot be updated under some special load #1075",
          "Fix the issue that when most tables are filtered out, checkpoint cannot be updated under some special load #1075"
        ]
      },
      {
        "version": "5.2.1",
        "date": "2021-09-09",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.2.1/",
        "changes": [
          "TiDB\nFix an error that occurs during execution caused by the wrong execution plan. The wrong execution plan is caused by the shallow copy of schema columns when pushing down the aggregation operators on partitioned tables. #27797 #26554",
          "Fix an error that occurs during execution caused by the wrong execution plan. The wrong execution plan is caused by the shallow copy of schema columns when pushing down the aggregation operators on partitioned tables. #27797 #26554",
          "TiKV\nFix the issue of unavailable TiKV caused by Raftstore deadlock when migrating Regions. The workaround is to disable the scheduling and restart the unavailable TiKV. #10909",
          "Fix the issue of unavailable TiKV caused by Raftstore deadlock when migrating Regions. The workaround is to disable the scheduling and restart the unavailable TiKV. #10909"
        ]
      },
      {
        "version": "5.2.0",
        "date": "2021-08-27",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.2.0/",
        "changes": [
          "Support using several functions in expression indexes\nThe expression index is a type of special index that can be created on an expression. After an expression index is created, TiDB supports expression-based queries, which greatly improves query performance.\nUser document, #25150",
          "Support the translate function in Oracle\nThe translate function replaces all occurrences of characters by other characters in a string. In TiDB, this function does not treat empty strings as NULL as Oracle does.\nUser document",
          "Support spilling HashAgg\nSupport spilling HashAgg into disk. When a SQL statement that includes an HashAgg operator causes out of memory (OOM), you can try to set the concurrency of this operator to 1 to trigger disk spill, which alleviates memory stress.\nUser document, #25882",
          "Improve the accuracy of optimizer cardinality estimation\nImprove the accuracy of TiDB's estimation of TopN/Limit. For example, for pagination queries on a large table that contain the order by col limit x condition, TiDB can more easily select the right index and reduce query response time.\nImprove the accuracy of out-of-range estimation. For example, even if the statistics for a day have not been updated, TiDB can accurately select the corresponding index for a query that contains where date=Now().\nIntroduce the tidb_opt_limit_push_down_threshold variable to control the optimizer's behavior of pushing down Limit/TopN, which resolves the issue that Limit/TopN cannot be pushed down in some situations due to wrong estimation.\nUser document, #26085",
          "Improve the accuracy of TiDB's estimation of TopN/Limit. For example, for pagination queries on a large table that contain the order by col limit x condition, TiDB can more easily select the right index and reduce query response time.",
          "Improve the accuracy of out-of-range estimation. For example, even if the statistics for a day have not been updated, TiDB can accurately select the corresponding index for a query that contains where date=Now().",
          "Introduce the tidb_opt_limit_push_down_threshold variable to control the optimizer's behavior of pushing down Limit/TopN, which resolves the issue that Limit/TopN cannot be pushed down in some situations due to wrong estimation.\nUser document, #26085",
          "Improve index selection of the optimizer\nAdd pruning rules for index selection. Before using the statistics for comparison, TiDB uses these rules to narrow down the scope of possible indexes to be selected, which reduces the possibility of selecting non-optimal indexes.\nUser document",
          "TiDB\nSupport pushing down the built-in function json_unquote() to TiKV #24415\nSupport removing the union branch from the dual table #25614\nOptimize the aggregate operator's cost factor #25241\nAllow the MPP outer join to choose the build table based on the table row count #25142\nSupport balancing the MPP query workload among different TiFlash nodes based on Regions #24724\nSupport invalidating stale Regions in the cache after the MPP query is executed #24432\nImprove the MySQL compatibility of the built-in functionstr_to_date for the format specifiers %b/%M/%r/%T #25767\nFix the issue that inconsistent binding caches might be created in multiple TiDB after recreating different bindings for the same query #26015\nFix the issue that the existing bindings cannot be loaded into cache after upgrade #23295\nSupport ordering the result of SHOW BINDINGS by (original_sql, update_time) #26139\nImprove the logic of query optimization when bindings exist, and reduce optimization times of a query #26141\nSupport completing the garbage collection automatically for the bindings in the \"deleted\" status #26206\nSupport showing whether a binding is used for query optimization in the result of EXPLAIN VERBOSE #26930\nAdd a new status variation last_plan_binding_update_time to view the timestamp corresponding to the binding cache in the current TiDB instance #26340\nSupport reporting an error when starting binding evolution or running admin evolve bindings to ban the baseline evolution (currently disabled in the TiDB Self-Managed version because it is an experimental feature) affecting other features #26333",
          "Support pushing down the built-in function json_unquote() to TiKV #24415",
          "Support removing the union branch from the dual table #25614",
          "Optimize the aggregate operator's cost factor #25241",
          "Allow the MPP outer join to choose the build table based on the table row count #25142",
          "Support balancing the MPP query workload among different TiFlash nodes based on Regions #24724",
          "Support invalidating stale Regions in the cache after the MPP query is executed #24432",
          "Improve the MySQL compatibility of the built-in functionstr_to_date for the format specifiers %b/%M/%r/%T #25767",
          "Fix the issue that inconsistent binding caches might be created in multiple TiDB after recreating different bindings for the same query #26015",
          "Fix the issue that the existing bindings cannot be loaded into cache after upgrade #23295",
          "Support ordering the result of SHOW BINDINGS by (original_sql, update_time) #26139",
          "Improve the logic of query optimization when bindings exist, and reduce optimization times of a query #26141",
          "Support completing the garbage collection automatically for the bindings in the \"deleted\" status #26206",
          "Support showing whether a binding is used for query optimization in the result of EXPLAIN VERBOSE #26930",
          "Add a new status variation last_plan_binding_update_time to view the timestamp corresponding to the binding cache in the current TiDB instance #26340",
          "Support reporting an error when starting binding evolution or running admin evolve bindings to ban the baseline evolution (currently disabled in the TiDB Self-Managed version because it is an experimental feature) affecting other features #26333",
          "PD\nAdd more QPS dimensions for hot Region scheduling, and support adjusting the priority of the scheduling #3869\nSupport hot Region balance scheduling for the write hotspot of TiFlash #3900",
          "Add more QPS dimensions for hot Region scheduling, and support adjusting the priority of the scheduling #3869",
          "Support hot Region balance scheduling for the write hotspot of TiFlash #3900",
          "TiFlash\nAdd operators: MOD / %, LIKE\nAdd string functions: ASCII(), COALESCE(), LENGTH(), POSITION(), TRIM()\nAdd mathematical functions: CONV(), CRC32(), DEGREES(), EXP(), LN(), LOG(), LOG10(), LOG2(), POW(), RADIANS(), ROUND(decimal), SIN(), MOD()\nAdd date functions: ADDDATE(string, real), DATE_ADD(string, real), DATE()\nAdd other functions: INET_NTOA(), INET_ATON(), INET6_ATON, INET6_NTOA()\nSupport Shuffled Hash Join calculation and Shuffled Hash Aggregation calculation in the MPP mode when a new collation is enabled\nOptimize basic code to improve MPP performance\nSupport casting the STRING type to the DOUBLE type\nOptimize the non-joined data in right outer join using multiple threads\nSupport automatically invalidating stale Regions in MPP queries",
          "Add operators: MOD / %, LIKE",
          "Add string functions: ASCII(), COALESCE(), LENGTH(), POSITION(), TRIM()",
          "Add mathematical functions: CONV(), CRC32(), DEGREES(), EXP(), LN(), LOG(), LOG10(), LOG2(), POW(), RADIANS(), ROUND(decimal), SIN(), MOD()",
          "Add date functions: ADDDATE(string, real), DATE_ADD(string, real), DATE()",
          "Add other functions: INET_NTOA(), INET_ATON(), INET6_ATON, INET6_NTOA()",
          "Support Shuffled Hash Join calculation and Shuffled Hash Aggregation calculation in the MPP mode when a new collation is enabled",
          "Optimize basic code to improve MPP performance",
          "Support casting the STRING type to the DOUBLE type",
          "Optimize the non-joined data in right outer join using multiple threads",
          "Support automatically invalidating stale Regions in MPP queries",
          "Tools\nTiCDC\nAdd the concurrency limit to the incremental scan of kv client #1899\nTiCDC can always pull the old value internally #2271\nTiCDC can fail and exit fast when unrecoverable DML errors occur #1928\nresolve lock cannot be run immediately after a Region is initialized #2235\nOptimize workerpool to reduce the number of goroutines under high concurrency #2201\nDumpling\nSupport always splitting TiDB v3.x tables through tidb_rowid to save TiDB memory #301\nReduce access of Dumpling to the information_schema to improve stability #305",
          "TiCDC\nAdd the concurrency limit to the incremental scan of kv client #1899\nTiCDC can always pull the old value internally #2271\nTiCDC can fail and exit fast when unrecoverable DML errors occur #1928\nresolve lock cannot be run immediately after a Region is initialized #2235\nOptimize workerpool to reduce the number of goroutines under high concurrency #2201",
          "Add the concurrency limit to the incremental scan of kv client #1899",
          "TiCDC can always pull the old value internally #2271",
          "TiCDC can fail and exit fast when unrecoverable DML errors occur #1928",
          "resolve lock cannot be run immediately after a Region is initialized #2235",
          "Optimize workerpool to reduce the number of goroutines under high concurrency #2201",
          "Dumpling\nSupport always splitting TiDB v3.x tables through tidb_rowid to save TiDB memory #301\nReduce access of Dumpling to the information_schema to improve stability #305",
          "Support always splitting TiDB v3.x tables through tidb_rowid to save TiDB memory #301",
          "Reduce access of Dumpling to the information_schema to improve stability #305",
          "TiDB\nFix the issue that an incorrect result is returned when using merge join on the SET type column #25669\nFix the data corruption issue in the IN expression's arguments #25591\nAvoid the sessions of GC being affected by global variables #24976\nFix the panic issue that occurs when using limit in the window function queries #25344\nFix the wrong value returned when querying a partitioned table using Limit #24636\nFix the issue that IFNULL does not correctly take effect on the ENUM or SET type column #24944\nFix the wrong results caused by changing the count in the join subqueries to first_row #24865\nFix the query hang issue that occurs when ParallelApply is used under the TopN operator #24930\nFix the issue that more results than expected are returned when executing SQL statements using multi-column prefix indexes #24356\nFix the issue that the <=> operator cannot correctly take effect #24477\nFix the data race issue of the parallel Apply operator #23280\nFix the issue that the index out of range error is reported when sorting the IndexMerge results of the PartitionUnion operator #23919\nFix the issue that setting the tidb_snapshot variable to an unexpectedly large value might damage the transaction isolation #25680\nFix the issue that the ODBC-styled constant (for example, {d '2020-01-01'}) cannot be used as the expression #25531\nFix the issue that SELECT DISTINCT converted to Batch Get causes incorrect results #25320\nFix the issue that backing off queries from TiFlash to TiKV cannot be triggered #23665 #24421\nFix the index-out-of-range error that occurs when checking only_full_group_by #23839)\nFix the issue that the result of index join in correlated subqueries is wrong #25799",
          "Fix the issue that an incorrect result is returned when using merge join on the SET type column #25669",
          "Fix the data corruption issue in the IN expression's arguments #25591",
          "Avoid the sessions of GC being affected by global variables #24976",
          "Fix the panic issue that occurs when using limit in the window function queries #25344",
          "Fix the wrong value returned when querying a partitioned table using Limit #24636",
          "Fix the issue that IFNULL does not correctly take effect on the ENUM or SET type column #24944",
          "Fix the wrong results caused by changing the count in the join subqueries to first_row #24865",
          "Fix the query hang issue that occurs when ParallelApply is used under the TopN operator #24930",
          "Fix the issue that more results than expected are returned when executing SQL statements using multi-column prefix indexes #24356",
          "Fix the issue that the <=> operator cannot correctly take effect #24477",
          "Fix the data race issue of the parallel Apply operator #23280",
          "Fix the issue that the index out of range error is reported when sorting the IndexMerge results of the PartitionUnion operator #23919",
          "Fix the issue that setting the tidb_snapshot variable to an unexpectedly large value might damage the transaction isolation #25680",
          "Fix the issue that the ODBC-styled constant (for example, {d '2020-01-01'}) cannot be used as the expression #25531",
          "Fix the issue that SELECT DISTINCT converted to Batch Get causes incorrect results #25320",
          "Fix the issue that backing off queries from TiFlash to TiKV cannot be triggered #23665 #24421",
          "Fix the index-out-of-range error that occurs when checking only_full_group_by #23839)",
          "Fix the issue that the result of index join in correlated subqueries is wrong #25799",
          "TiKV\nFix the wrong tikv_raftstore_hibernated_peer_state metric #10330\nFix the wrong arguments type of the json_unquote() function in the coprocessor #10176\nSkip clearing callback during graceful shutdown to avoid breaking ACID in some cases #10353 #10307\nFix a bug that the read index is shared for replica reads on a Leader #10347\nFix the wrong function that casts DOUBLE to DOUBLE #25200",
          "Fix the wrong tikv_raftstore_hibernated_peer_state metric #10330",
          "Fix the wrong arguments type of the json_unquote() function in the coprocessor #10176",
          "Skip clearing callback during graceful shutdown to avoid breaking ACID in some cases #10353 #10307",
          "Fix a bug that the read index is shared for replica reads on a Leader #10347",
          "Fix the wrong function that casts DOUBLE to DOUBLE #25200",
          "PD\nFix the issue that the expected scheduling cannot be generated due to scheduling conflicts among multiple schedulers #3807 #3778",
          "Fix the issue that the expected scheduling cannot be generated due to scheduling conflicts among multiple schedulers #3807 #3778",
          "TiFlash\nFix the issue that TiFlash keeps restarting because of the split failure\nFix the potential issue that TiFlash cannot delete the delta data\nFix a bug that TiFlash adds wrong padding for non-binary characters in the CAST function\nFix the issue of incorrect results when handling aggregation queries with complex GROUP BY columns\nFix the TiFlash panic issue that occurs under heavy write pressure\nFix the panic that occurs when the right jon key is not nullable and the left join key is nullable\nFix the potential issue that the read-index requests take a long time\nFix the panic issue that occurs when the read load is heavy\nFix the panic issue that might occur when the Date_Format function is called with the STRING type argument and NULL values",
          "Fix the issue that TiFlash keeps restarting because of the split failure",
          "Fix the potential issue that TiFlash cannot delete the delta data",
          "Fix a bug that TiFlash adds wrong padding for non-binary characters in the CAST function",
          "Fix the issue of incorrect results when handling aggregation queries with complex GROUP BY columns",
          "Fix the TiFlash panic issue that occurs under heavy write pressure",
          "Fix the panic that occurs when the right jon key is not nullable and the left join key is nullable",
          "Fix the potential issue that the read-index requests take a long time",
          "Fix the panic issue that occurs when the read load is heavy",
          "Fix the panic issue that might occur when the Date_Format function is called with the STRING type argument and NULL values",
          "Tools\nTiCDC\nFix a bug that TiCDC owner exits abnormally when refreshing the checkpoint #1902\nFix a bug that changefeed fails immediately after its successful creation #2113\nFix a bug that changefeed fails due to the invalid format of rules filter #1625\nFix the potential DDL loss issue when the TiCDC owner panics #1260\nFix the CLI compatibility issue with 4.0.x clusters on the default sort-engine option #2373\nFix a bug that changefeed might be reset unexpectedly when TiCDC gets the ErrSchemaStorageTableMiss error #2422\nFix a bug that changefeed cannot be removed when TiCDC gets the ErrGCTTLExceeded error #2391\nFix a bug that TiCDC fails to synchronize large tables to cdclog #1259 #2424\nFix a bug that multiple processors might write data to the same table when TiCDC is rescheduling the table #2230\nBackup & Restore (BR)\nFix a bug that BR skips restoring all system tables during the restore #1197 #1201\nFix a bug that BR misses DDL operations when restoring cdclog #870\nTiDB Lightning\nFix a bug that TiDB Lightning fails to parse the DECIMAL data type in Parquet file #1272\nFix a bug that TiDB Lightning reports the \"Error 9007: Write conflict\" error when restoring table schemas #1290\nFix a bug that TiDB Lightning fails to import data due to the overflow of int handle #1291\nFix a bug that TiDB Lightning might get a checksum mismatching error due to data loss in the local backend mode #1403\nFix the Lightning incompatibility issue with clustered index when TiDB Lightning is restoring table schemas #1362\nDumpling\nFix a bug that the data export fails because the Dumpling GC safepoint is set too late #290\nFix the Dumpling getting stuck issue when exporting table names from the upstream database in certain MySQL versions #322",
          "TiCDC\nFix a bug that TiCDC owner exits abnormally when refreshing the checkpoint #1902\nFix a bug that changefeed fails immediately after its successful creation #2113\nFix a bug that changefeed fails due to the invalid format of rules filter #1625\nFix the potential DDL loss issue when the TiCDC owner panics #1260\nFix the CLI compatibility issue with 4.0.x clusters on the default sort-engine option #2373\nFix a bug that changefeed might be reset unexpectedly when TiCDC gets the ErrSchemaStorageTableMiss error #2422\nFix a bug that changefeed cannot be removed when TiCDC gets the ErrGCTTLExceeded error #2391\nFix a bug that TiCDC fails to synchronize large tables to cdclog #1259 #2424\nFix a bug that multiple processors might write data to the same table when TiCDC is rescheduling the table #2230",
          "Fix a bug that TiCDC owner exits abnormally when refreshing the checkpoint #1902",
          "Fix a bug that changefeed fails immediately after its successful creation #2113",
          "Fix a bug that changefeed fails due to the invalid format of rules filter #1625",
          "Fix the potential DDL loss issue when the TiCDC owner panics #1260",
          "Fix the CLI compatibility issue with 4.0.x clusters on the default sort-engine option #2373",
          "Fix a bug that changefeed might be reset unexpectedly when TiCDC gets the ErrSchemaStorageTableMiss error #2422",
          "Fix a bug that changefeed cannot be removed when TiCDC gets the ErrGCTTLExceeded error #2391",
          "Fix a bug that TiCDC fails to synchronize large tables to cdclog #1259 #2424",
          "Fix a bug that multiple processors might write data to the same table when TiCDC is rescheduling the table #2230",
          "Backup & Restore (BR)\nFix a bug that BR skips restoring all system tables during the restore #1197 #1201\nFix a bug that BR misses DDL operations when restoring cdclog #870",
          "Fix a bug that BR skips restoring all system tables during the restore #1197 #1201",
          "Fix a bug that BR misses DDL operations when restoring cdclog #870",
          "TiDB Lightning\nFix a bug that TiDB Lightning fails to parse the DECIMAL data type in Parquet file #1272\nFix a bug that TiDB Lightning reports the \"Error 9007: Write conflict\" error when restoring table schemas #1290\nFix a bug that TiDB Lightning fails to import data due to the overflow of int handle #1291\nFix a bug that TiDB Lightning might get a checksum mismatching error due to data loss in the local backend mode #1403\nFix the Lightning incompatibility issue with clustered index when TiDB Lightning is restoring table schemas #1362",
          "Fix a bug that TiDB Lightning fails to parse the DECIMAL data type in Parquet file #1272",
          "Fix a bug that TiDB Lightning reports the \"Error 9007: Write conflict\" error when restoring table schemas #1290",
          "Fix a bug that TiDB Lightning fails to import data due to the overflow of int handle #1291",
          "Fix a bug that TiDB Lightning might get a checksum mismatching error due to data loss in the local backend mode #1403",
          "Fix the Lightning incompatibility issue with clustered index when TiDB Lightning is restoring table schemas #1362",
          "Dumpling\nFix a bug that the data export fails because the Dumpling GC safepoint is set too late #290\nFix the Dumpling getting stuck issue when exporting table names from the upstream database in certain MySQL versions #322",
          "Fix a bug that the data export fails because the Dumpling GC safepoint is set too late #290",
          "Fix the Dumpling getting stuck issue when exporting table names from the upstream database in certain MySQL versions #322"
        ]
      }
    ]
  },
  {
    "major_version": "5.1",
    "patches": [
      {
        "version": "5.1.5",
        "date": "2022-12-28",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.1.5/",
        "changes": [
          "TiDB\nFix the issue that the window function causes TiDB to panic instead of reporting an error #30326\nFix the wrong result that occurs when enabling dynamic mode in partitioned tables for TiFlash #37254\nFix wrong results of GREATEST and LEAST when passing in unsigned BIGINT arguments #30101\nFix wrong results of deleting data of multiple tables using left join #31321\nFix the issue that the result of concat(ifnull(time(3))) in TiDB is different from that in MySQL #29498\nFix the issue that the SQL statements that contain cast(integer as char) union string return wrong results #29513\nFix the issue that INL_HASH_JOIN might hang when used with LIMIT #35638\nFix the wrong ANY_VALUE result that occurs when a Region returns empty data #30923\nFix wrong results of index join caused by an innerWorker panic #31494\nFix the issue that a SQL operation is canceled when its JSON type column joins its CHAR type column #29401\nFix the issue that the background HTTP service of TiDB might not exit successfully and makes the cluster in an abnormal state #30571\nFix the issue that concurrent column type change causes inconsistency between the schema and the data #31048\nFix the issue that KILL TIDB cannot take effect immediately on idle connections #24031\nFix the bug that setting any session variable will make tidb_snapshot fail to work #35515\nFix the issue that the Region cache is not cleaned up in time when the Region is merged #37141\nFix the panic issue caused by the connection array race in the KV client #33773\nFix the issue that when TiDB Binlog is enabled, executing the ALTER SEQUENCE statement might cause a wrong metadata version and cause Drainer to exit #36276\nFix the bug that TiDB may panic when querying statement summary tables #35340\nFix the issue that TiDB gets the wrong result when using TiFlash to scan tables with empty range although TiFlash does not support reading tables with empty range yet #33083\nFix the issue that the avg() function returns ERROR 1105 (HY000): other error for mpp stream: Could not convert to the target type - -value is out of range. when queried from TiFlash #29952\nFix the issue that ERROR 1105 (HY000): close of nil channel is returned when using HashJoinExec #30289\nFix the issue that TiKV and TiFlash return different results when querying logical operations #37258\nFix the issue that the EXECUTE statement might throw an unexpected error in specific scenarios #37187\nFix the planner wrong behaviors that occur when tidb_opt_agg_push_down and tidb_enforce_mpp are enabled #34465\nFix a bug that TiDB might send coprocessor requests when executing the SHOW COLUMNS statement #36496\nAdd warnings for lock tables and unlock tables when the enable-table-lock flag is not enabled #28967\nFix the issue that range partitions allow multiple MAXVALUE partitions #36329",
          "Fix the issue that the window function causes TiDB to panic instead of reporting an error #30326",
          "Fix the wrong result that occurs when enabling dynamic mode in partitioned tables for TiFlash #37254",
          "Fix wrong results of GREATEST and LEAST when passing in unsigned BIGINT arguments #30101",
          "Fix wrong results of deleting data of multiple tables using left join #31321",
          "Fix the issue that the result of concat(ifnull(time(3))) in TiDB is different from that in MySQL #29498",
          "Fix the issue that the SQL statements that contain cast(integer as char) union string return wrong results #29513",
          "Fix the issue that INL_HASH_JOIN might hang when used with LIMIT #35638",
          "Fix the wrong ANY_VALUE result that occurs when a Region returns empty data #30923",
          "Fix wrong results of index join caused by an innerWorker panic #31494",
          "Fix the issue that a SQL operation is canceled when its JSON type column joins its CHAR type column #29401",
          "Fix the issue that the background HTTP service of TiDB might not exit successfully and makes the cluster in an abnormal state #30571",
          "Fix the issue that concurrent column type change causes inconsistency between the schema and the data #31048",
          "Fix the issue that KILL TIDB cannot take effect immediately on idle connections #24031",
          "Fix the bug that setting any session variable will make tidb_snapshot fail to work #35515",
          "Fix the issue that the Region cache is not cleaned up in time when the Region is merged #37141",
          "Fix the panic issue caused by the connection array race in the KV client #33773",
          "Fix the issue that when TiDB Binlog is enabled, executing the ALTER SEQUENCE statement might cause a wrong metadata version and cause Drainer to exit #36276",
          "Fix the bug that TiDB may panic when querying statement summary tables #35340",
          "Fix the issue that TiDB gets the wrong result when using TiFlash to scan tables with empty range although TiFlash does not support reading tables with empty range yet #33083",
          "Fix the issue that the avg() function returns ERROR 1105 (HY000): other error for mpp stream: Could not convert to the target type - -value is out of range. when queried from TiFlash #29952",
          "Fix the issue that ERROR 1105 (HY000): close of nil channel is returned when using HashJoinExec #30289",
          "Fix the issue that TiKV and TiFlash return different results when querying logical operations #37258",
          "Fix the issue that the EXECUTE statement might throw an unexpected error in specific scenarios #37187",
          "Fix the planner wrong behaviors that occur when tidb_opt_agg_push_down and tidb_enforce_mpp are enabled #34465",
          "Fix a bug that TiDB might send coprocessor requests when executing the SHOW COLUMNS statement #36496",
          "Add warnings for lock tables and unlock tables when the enable-table-lock flag is not enabled #28967",
          "Fix the issue that range partitions allow multiple MAXVALUE partitions #36329",
          "TiKV\nFix the issue of time parsing error that occurs when the DATETIME values contain a fraction and Z #12739\nFix a bug that replica reads might violate the linearizability #12109\nFix a bug that Regions might be overlapped if Raftstore is busy #13160\nFix the TiKV panic issue that occurs when applying snapshot is aborted #11618\nFix a bug that TiKV might panic if it has been running for 2 years or more #11940\nFix the panic issue that might occur when the source peer catches up logs by snapshot in the Region merge process #12663\nFix the issue that TiKV panics when performing type conversion for an empty string #12673\nFix a bug that stale messages cause TiKV to panic #12023\nFix the panic issue that might occur when a peer is being split and destroyed at the same time #12825\nFix the TiKV panic issue that occurs when the target peer is replaced with the peer that is destroyed without being initialized when merging a Region #12048\nFix the issue that TiKV reports the invalid store ID 0 error when using Follower Read #12478\nFix the possible duplicate commit records in pessimistic transactions when async commit is enabled #12615\nSupport configuring the unreachable_backoff item to avoid Raftstore broadcasting too many messages after one peer becomes unreachable #13054\nFix the issue that successfully committed optimistic transactions may report the Write Conflict error when the network is poor #34066\nFix the wrong expression of Unified Read Pool CPU in dashboard #13086",
          "Fix the issue of time parsing error that occurs when the DATETIME values contain a fraction and Z #12739",
          "Fix a bug that replica reads might violate the linearizability #12109",
          "Fix a bug that Regions might be overlapped if Raftstore is busy #13160",
          "Fix the TiKV panic issue that occurs when applying snapshot is aborted #11618",
          "Fix a bug that TiKV might panic if it has been running for 2 years or more #11940",
          "Fix the panic issue that might occur when the source peer catches up logs by snapshot in the Region merge process #12663",
          "Fix the issue that TiKV panics when performing type conversion for an empty string #12673",
          "Fix a bug that stale messages cause TiKV to panic #12023",
          "Fix the panic issue that might occur when a peer is being split and destroyed at the same time #12825",
          "Fix the TiKV panic issue that occurs when the target peer is replaced with the peer that is destroyed without being initialized when merging a Region #12048",
          "Fix the issue that TiKV reports the invalid store ID 0 error when using Follower Read #12478",
          "Fix the possible duplicate commit records in pessimistic transactions when async commit is enabled #12615",
          "Support configuring the unreachable_backoff item to avoid Raftstore broadcasting too many messages after one peer becomes unreachable #13054",
          "Fix the issue that successfully committed optimistic transactions may report the Write Conflict error when the network is poor #34066",
          "Fix the wrong expression of Unified Read Pool CPU in dashboard #13086",
          "PD\nFix the issue that a removed tombstone store appears again after the PD leader transfer #4941\nFix the issue that scheduling cannot start immediately after the PD leader transfer #4769\nFix the wrong status code of not leader #4797\nFix the issue that PD cannot correctly handle dashboard proxy requests #5321\nFix a bug of TSO fallback in some corner cases #4884\nFix the issue that the TiFlash learner replica might not be created in specific scenarios #5401\nFix the issue that the label distribution has residual labels in the metrics #4825\nFix the issue that when there exists a Store with large capacity (2T for example), fully allocated small Stores cannot be detected, which results in no balance operator being generated #4805\nFix the issue that schedulers do not work when SchedulerMaxWaitingOperator is set to 1 #4946",
          "Fix the issue that a removed tombstone store appears again after the PD leader transfer #4941",
          "Fix the issue that scheduling cannot start immediately after the PD leader transfer #4769",
          "Fix the wrong status code of not leader #4797",
          "Fix the issue that PD cannot correctly handle dashboard proxy requests #5321",
          "Fix a bug of TSO fallback in some corner cases #4884",
          "Fix the issue that the TiFlash learner replica might not be created in specific scenarios #5401",
          "Fix the issue that the label distribution has residual labels in the metrics #4825",
          "Fix the issue that when there exists a Store with large capacity (2T for example), fully allocated small Stores cannot be detected, which results in no balance operator being generated #4805",
          "Fix the issue that schedulers do not work when SchedulerMaxWaitingOperator is set to 1 #4946",
          "TiFlash\nFix incorrect microsecond when casting string to datetime #3556\nFix the panic issue that occurs when TLS is enabled #4196\nFix a bug that TiFlash might crash due to an error in parallel aggregation #5356\nFix the issue that a query containing JOIN might be hung if an error occurs #4195\nFix the issue that the function OR returns wrong results #5849\nFix the bug that invalid storage directory configurations lead to unexpected behaviors #4093\nFix potential data inconsistency after a lot of INSERT and DELETE operations #4956\nFix a bug that data not matching any region range remains on a TiFlash node #4414\nFix the potential query error after adding columns under heavy read workload #3967\nFix repeated crashes caused by the commit state jump backward errors #2576\nFix potential errors when querying on a table with many delete operations #4747\nFix the issue that the date format identifies '' as an invalid separator #4036\nFix the wrong result that occurs when casting DATETIME to DECIMAL #4151\nFix the bug that some exceptions are not handled properly #4101\nFix the issue that Prepare Merge might damage the metadata of the raft store and cause TiFlash to restart #3435\nFix a bug that an MPP query might fail due to random gRPC keepalive timeout #4662\nFix the issue that the result of IN is incorrect in multi-value expressions #4016\nFix a bug that MPP tasks might leak threads forever #4238\nFix the issue that expired data is recycled slowly #4146\nFix the overflow that occurs when casting FLOAT to DECIMAL #3998\nFix the issue that logical operators return wrong results when the argument type is UInt8 #6127\nFix the potential index out of bounds error if calling json_length with empty string #2705\nFix wrong decimal comparison results in corner cases #4512\nFix TiFlash_schema_error reported when NOT NULL columns are added #4596\nFix the issue that TiFlash bootstrap fails when 0.0 is used as the default value for integers, for example, `i` int(11) NOT NULL DEFAULT '0.0' #3157",
          "Fix incorrect microsecond when casting string to datetime #3556",
          "Fix the panic issue that occurs when TLS is enabled #4196",
          "Fix a bug that TiFlash might crash due to an error in parallel aggregation #5356",
          "Fix the issue that a query containing JOIN might be hung if an error occurs #4195",
          "Fix the issue that the function OR returns wrong results #5849",
          "Fix the bug that invalid storage directory configurations lead to unexpected behaviors #4093",
          "Fix potential data inconsistency after a lot of INSERT and DELETE operations #4956",
          "Fix a bug that data not matching any region range remains on a TiFlash node #4414",
          "Fix the potential query error after adding columns under heavy read workload #3967",
          "Fix repeated crashes caused by the commit state jump backward errors #2576",
          "Fix potential errors when querying on a table with many delete operations #4747",
          "Fix the issue that the date format identifies '' as an invalid separator #4036",
          "Fix the wrong result that occurs when casting DATETIME to DECIMAL #4151",
          "Fix the bug that some exceptions are not handled properly #4101",
          "Fix the issue that Prepare Merge might damage the metadata of the raft store and cause TiFlash to restart #3435",
          "Fix a bug that an MPP query might fail due to random gRPC keepalive timeout #4662",
          "Fix the issue that the result of IN is incorrect in multi-value expressions #4016",
          "Fix a bug that MPP tasks might leak threads forever #4238",
          "Fix the issue that expired data is recycled slowly #4146",
          "Fix the overflow that occurs when casting FLOAT to DECIMAL #3998",
          "Fix the issue that logical operators return wrong results when the argument type is UInt8 #6127",
          "Fix the potential index out of bounds error if calling json_length with empty string #2705",
          "Fix wrong decimal comparison results in corner cases #4512",
          "Fix TiFlash_schema_error reported when NOT NULL columns are added #4596",
          "Fix the issue that TiFlash bootstrap fails when 0.0 is used as the default value for integers, for example, `i` int(11) NOT NULL DEFAULT '0.0' #3157",
          "Tools\nTiDB Binlog\nFix the issue that Drainer cannot send requests to Pump correctly when compressor is set to zip #1152\nBackup & Restore (BR)\nFix the issue that system tables cannot be restored because concurrently backing up system tables makes the table name fail to update #29710\nTiCDC\nFix data loss that occurs in special incremental scanning scenarios #5468\nFix the issue that there are no sorter metrics #5690\nFix excessive memory usage by optimizing the way DDL schemas are buffered #1386",
          "TiDB Binlog\nFix the issue that Drainer cannot send requests to Pump correctly when compressor is set to zip #1152",
          "Fix the issue that Drainer cannot send requests to Pump correctly when compressor is set to zip #1152",
          "Backup & Restore (BR)\nFix the issue that system tables cannot be restored because concurrently backing up system tables makes the table name fail to update #29710",
          "Fix the issue that system tables cannot be restored because concurrently backing up system tables makes the table name fail to update #29710",
          "TiCDC\nFix data loss that occurs in special incremental scanning scenarios #5468\nFix the issue that there are no sorter metrics #5690\nFix excessive memory usage by optimizing the way DDL schemas are buffered #1386",
          "Fix data loss that occurs in special incremental scanning scenarios #5468",
          "Fix the issue that there are no sorter metrics #5690",
          "Fix excessive memory usage by optimizing the way DDL schemas are buffered #1386"
        ]
      },
      {
        "version": "5.1.4",
        "date": "2022-02-22",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.1.4/",
        "changes": [
          "TiDB\nSupport partition pruning for the built-in IN expression in Range partition tables #26739\nImprove the accuracy of tracking memory usage when IndexJoin is executed #28650",
          "Support partition pruning for the built-in IN expression in Range partition tables #26739",
          "Improve the accuracy of tracking memory usage when IndexJoin is executed #28650",
          "TiKV\nUpdate the proc filesystem (procfs) to v0.12.0 #11702\nImprove the error log report in the Raft client #11959\nIncrease the speed of inserting SST files by moving the verification process to the Import thread pool from the Apply thread pool #11239",
          "Update the proc filesystem (procfs) to v0.12.0 #11702",
          "Improve the error log report in the Raft client #11959",
          "Increase the speed of inserting SST files by moving the verification process to the Import thread pool from the Apply thread pool #11239",
          "PD\nSpeed up the exit process of schedulers #4146",
          "Speed up the exit process of schedulers #4146",
          "TiFlash\nSupport pushing down ADDDATE() and DATE_ADD() to TiFlash\nSupport pushing down INET6_ATON() and INET6_NTOA() to TiFlash\nSupport pushing down INET_ATON() and INET_NTOA() to TiFlash\nIncrease the max supported depth of an expression or a plan tree in a DAG request from 100 to 200",
          "Support pushing down ADDDATE() and DATE_ADD() to TiFlash",
          "Support pushing down INET6_ATON() and INET6_NTOA() to TiFlash",
          "Support pushing down INET_ATON() and INET_NTOA() to TiFlash",
          "Increase the max supported depth of an expression or a plan tree in a DAG request from 100 to 200",
          "Tools\nTiCDC\nAdd the exponential backoff mechanism for restarting a changefeed. #3329\nReduce the replication latency when replicating many tables #3900\nAdd metrics for observing the remaining time of incremental scan #2985\nReduce the count of \"EventFeed retry rate limited\" logs #4006\nAdd more Prometheus and Grafana monitoring metrics and alerts, including no owner alert, mounter row, table sink total row, and buffer sink total row #4054 #1606\nOptimize rate limiting control on TiKV reloads to reduce gPRC congestion during changefeed initialization #3110\nReduce the time for the KV client to recover when a TiKV store is down #3191",
          "TiCDC\nAdd the exponential backoff mechanism for restarting a changefeed. #3329\nReduce the replication latency when replicating many tables #3900\nAdd metrics for observing the remaining time of incremental scan #2985\nReduce the count of \"EventFeed retry rate limited\" logs #4006\nAdd more Prometheus and Grafana monitoring metrics and alerts, including no owner alert, mounter row, table sink total row, and buffer sink total row #4054 #1606\nOptimize rate limiting control on TiKV reloads to reduce gPRC congestion during changefeed initialization #3110\nReduce the time for the KV client to recover when a TiKV store is down #3191",
          "Add the exponential backoff mechanism for restarting a changefeed. #3329",
          "Reduce the replication latency when replicating many tables #3900",
          "Add metrics for observing the remaining time of incremental scan #2985",
          "Reduce the count of \"EventFeed retry rate limited\" logs #4006",
          "Add more Prometheus and Grafana monitoring metrics and alerts, including no owner alert, mounter row, table sink total row, and buffer sink total row #4054 #1606",
          "Optimize rate limiting control on TiKV reloads to reduce gPRC congestion during changefeed initialization #3110",
          "Reduce the time for the KV client to recover when a TiKV store is down #3191",
          "TiDB\nFix a memory leak bug that occurs when the system variable tidb_analyze_version is set to 2 #32499\nFix the issue that the MaxDays and MaxBackups configurations do not take effect for the slow log #25716\nFix the issue that executing the INSERT ... SELECT ... ON DUPLICATE KEY UPDATE statement gets panic #28078\nFix the wrong result that might occur when performing JOIN on ENUM type columns #27831\nFix the issue that INDEX HASH JOIN returns the send on closed channel error #31129\nFix the issue that using the BatchCommands API might block sending TiDB requests to TiKV in some rare cases #32500\nFix the issue of potential data index inconsistency in optimistic transaction mode #30410\nFix the issue that window functions might return different results when using a transaction or not #29947\nFix the issue that the length information is wrong when casting Decimal to String #29417\nFix the issue that the GREATEST function returns incorrect result that occurs when setting the tidb_enable_vectorized_expression vectorized expression to off #29434\nFix the issue that the optimizer might cache invalid plans for join in some cases #28087\nFix wrong results of the microsecond and hour functions in vectorized expressions #29244 #28643\nFix the TiDB panic when executing the ALTER TABLE.. ADD INDEX statement in some cases #27687\nFix a bug that the availability detection of MPP node does not work in some corner cases #3118\nFix the DATA RACE issue when assigning MPP task ID #27952\nFix the INDEX OUT OF RANGE error for a MPP query after deleting an empty dual table #28250\nFix the issue of false positive error log invalid cop task execution summaries length for MPP queries #1791\nFix the issue that SET GLOBAL tidb_skip_isolation_level_check=1 doesn't affect new session settings #27897\nFix the index out of range issue that occurs when tiup bench runs for a long time #26832",
          "Fix a memory leak bug that occurs when the system variable tidb_analyze_version is set to 2 #32499",
          "Fix the issue that the MaxDays and MaxBackups configurations do not take effect for the slow log #25716",
          "Fix the issue that executing the INSERT ... SELECT ... ON DUPLICATE KEY UPDATE statement gets panic #28078",
          "Fix the wrong result that might occur when performing JOIN on ENUM type columns #27831",
          "Fix the issue that INDEX HASH JOIN returns the send on closed channel error #31129",
          "Fix the issue that using the BatchCommands API might block sending TiDB requests to TiKV in some rare cases #32500",
          "Fix the issue of potential data index inconsistency in optimistic transaction mode #30410",
          "Fix the issue that window functions might return different results when using a transaction or not #29947",
          "Fix the issue that the length information is wrong when casting Decimal to String #29417",
          "Fix the issue that the GREATEST function returns incorrect result that occurs when setting the tidb_enable_vectorized_expression vectorized expression to off #29434",
          "Fix the issue that the optimizer might cache invalid plans for join in some cases #28087",
          "Fix wrong results of the microsecond and hour functions in vectorized expressions #29244 #28643",
          "Fix the TiDB panic when executing the ALTER TABLE.. ADD INDEX statement in some cases #27687",
          "Fix a bug that the availability detection of MPP node does not work in some corner cases #3118",
          "Fix the DATA RACE issue when assigning MPP task ID #27952",
          "Fix the INDEX OUT OF RANGE error for a MPP query after deleting an empty dual table #28250",
          "Fix the issue of false positive error log invalid cop task execution summaries length for MPP queries #1791",
          "Fix the issue that SET GLOBAL tidb_skip_isolation_level_check=1 doesn't affect new session settings #27897",
          "Fix the index out of range issue that occurs when tiup bench runs for a long time #26832",
          "TiKV\nFix a bug that TiKV cannot delete a range of data (unsafe_destroy_range cannot be executed) when the GC worker is busy #11903\nFix the issue that destroying a peer might cause high latency #10210\nFix a bug that the any_value function returns a wrong result when regions are empty #11735\nFix the issue that deleting an uninitialized replica might cause an old replica to be recreated #10533\nFix the metadata corruption issue when Prepare Merge is triggered after a new election is finished but the isolated peer is not informed #11526\nFix the deadlock issue that happens occasionally when coroutines run too fast #11549\nFix the potential deadlock and memory leak issues when profiling flame graphs #11108\nFix the rare data inconsistency issue when retrying a prewrite request in pessimistic transactions #11187\nFix a bug that the configuration resource-metering.enabled does not work #11235\nFix the issue that some coroutines leak in resolved_ts #10965\nFix the issue of reporting false \"GC can not work\" alert under low write flow #9910\nFix a bug that tikv-ctl cannot return the correct Region-related information #11393\nFix the issue that a down TiKV node causes the resolved timestamp to lag #11351\nFix a panic issue that occurs when Region merge, ConfChange, and Snapshot happen at the same time in extreme conditions #11475\nFix the issue that TiKV cannot detect the memory lock when TiKV performs a reverse table scan #11440\nFix the issue of negative sign when the decimal divide result is zero #29586\nFix a memory leak caused by the monitoring data of statistics threads #11195\nFix the issue of TiCDC panic that occurs when the downstream database is missing #11123\nFix the issue that TiCDC adds scan retries frequently due to the Congest error #11082\nFix the issue that batch messages are too large in Raft client implementation #9714\nCollapse some uncommon storage-related metrics in Grafana dashboard #11681",
          "Fix a bug that TiKV cannot delete a range of data (unsafe_destroy_range cannot be executed) when the GC worker is busy #11903",
          "Fix the issue that destroying a peer might cause high latency #10210",
          "Fix a bug that the any_value function returns a wrong result when regions are empty #11735",
          "Fix the issue that deleting an uninitialized replica might cause an old replica to be recreated #10533",
          "Fix the metadata corruption issue when Prepare Merge is triggered after a new election is finished but the isolated peer is not informed #11526",
          "Fix the deadlock issue that happens occasionally when coroutines run too fast #11549",
          "Fix the potential deadlock and memory leak issues when profiling flame graphs #11108",
          "Fix the rare data inconsistency issue when retrying a prewrite request in pessimistic transactions #11187",
          "Fix a bug that the configuration resource-metering.enabled does not work #11235",
          "Fix the issue that some coroutines leak in resolved_ts #10965",
          "Fix the issue of reporting false \"GC can not work\" alert under low write flow #9910",
          "Fix a bug that tikv-ctl cannot return the correct Region-related information #11393",
          "Fix the issue that a down TiKV node causes the resolved timestamp to lag #11351",
          "Fix a panic issue that occurs when Region merge, ConfChange, and Snapshot happen at the same time in extreme conditions #11475",
          "Fix the issue that TiKV cannot detect the memory lock when TiKV performs a reverse table scan #11440",
          "Fix the issue of negative sign when the decimal divide result is zero #29586",
          "Fix a memory leak caused by the monitoring data of statistics threads #11195",
          "Fix the issue of TiCDC panic that occurs when the downstream database is missing #11123",
          "Fix the issue that TiCDC adds scan retries frequently due to the Congest error #11082",
          "Fix the issue that batch messages are too large in Raft client implementation #9714",
          "Collapse some uncommon storage-related metrics in Grafana dashboard #11681",
          "PD\nFix a bug that the schedule generated by the region scatterer might decrease the number of peers #4565\nFix the issue that Region statistics are not affected by flow-round-by-digit #4295\nFix slow leader election caused by stuck region syncer #3936\nSupport that the evict leader scheduler can schedule regions with unhealthy peers #4093\nFix the issue that the cold hotspot data cannot be deleted from the hotspot statistics #4390\nFix a panic issue that occurs after the TiKV node is removed #4344\nFix the issue that the scheduling operator cannot fail fast because the target store is down #3353",
          "Fix a bug that the schedule generated by the region scatterer might decrease the number of peers #4565",
          "Fix the issue that Region statistics are not affected by flow-round-by-digit #4295",
          "Fix slow leader election caused by stuck region syncer #3936",
          "Support that the evict leader scheduler can schedule regions with unhealthy peers #4093",
          "Fix the issue that the cold hotspot data cannot be deleted from the hotspot statistics #4390",
          "Fix a panic issue that occurs after the TiKV node is removed #4344",
          "Fix the issue that the scheduling operator cannot fail fast because the target store is down #3353",
          "TiFlash\nFix the issue that the str_to_date() function incorrectly handles leading zeros when parsing microseconds\nFix the TiFlash crash problem when the memory limit is enabled\nFix the issue that when an input time is earlier than 1970-01-01 00:00:01 UTC, the behavior of unix_timestamp is inconsistent with that of TiDB or MySQL\nFix the potential data inconsistency caused by widening the primary key column when the primary key is handle\nFix the overflow bug and the issue of reporting Can't compare error when comparing data in the DECIMAL data type\nFix the unexpected error of 3rd arguments of function substringUTF8 must be constants.\nFix the issue that TiFlash fails to start on platforms without the nsl library\nFix the overflow bug when casting data to the DECIMAL data type\nFix the issue that the castStringAsReal behavior is inconsistent in TiFlash and in TiDB/TiKV\nFix the issue that TiFlash might return the EstablishMPPConnection error after it is restarted\nFix the issue that obsolete data cannot be reclaimed after setting the number of TiFlash replicas to 0\nFix the issue that the CastStringAsDecimal behavior is inconsistent in TiFlash and in TiDB/TiKV\nFix the issue that queries with the where <string> clause return wrong results\nFix the issue that TiFlash might panic when an MPP query is stopped\nFix the unexpected error of Unexpected type of column: Nullable(Nothing)",
          "Fix the issue that the str_to_date() function incorrectly handles leading zeros when parsing microseconds",
          "Fix the TiFlash crash problem when the memory limit is enabled",
          "Fix the issue that when an input time is earlier than 1970-01-01 00:00:01 UTC, the behavior of unix_timestamp is inconsistent with that of TiDB or MySQL",
          "Fix the potential data inconsistency caused by widening the primary key column when the primary key is handle",
          "Fix the overflow bug and the issue of reporting Can't compare error when comparing data in the DECIMAL data type",
          "Fix the unexpected error of 3rd arguments of function substringUTF8 must be constants.",
          "Fix the issue that TiFlash fails to start on platforms without the nsl library",
          "Fix the overflow bug when casting data to the DECIMAL data type",
          "Fix the issue that the castStringAsReal behavior is inconsistent in TiFlash and in TiDB/TiKV",
          "Fix the issue that TiFlash might return the EstablishMPPConnection error after it is restarted",
          "Fix the issue that obsolete data cannot be reclaimed after setting the number of TiFlash replicas to 0",
          "Fix the issue that the CastStringAsDecimal behavior is inconsistent in TiFlash and in TiDB/TiKV",
          "Fix the issue that queries with the where <string> clause return wrong results",
          "Fix the issue that TiFlash might panic when an MPP query is stopped",
          "Fix the unexpected error of Unexpected type of column: Nullable(Nothing)",
          "Tools\nTiCDC\nFix a bug that MySQL sink generates duplicated replace SQL statements if batch-replace-enable is disabled #4501\nFix the issue that the cached region monitoring metric is negative #4300\nFix the issue that replication cannot be performed when min.insync.replicas is smaller than replication-factor #3994\nFix the potential panic issue that occurs when a replication task is removed #3128\nFix the issue of potential data loss caused by inaccurate checkpoint #3545\nFix the potential issue that the deadlock causes a replication task to get stuck #4055\nFix the issue that special comments in DDL statements cause the replication task to stop #3755\nFix a bug that EtcdWorker might hang the owner and processor #3750\nFix the issue that stopped changefeeds resume automatically after a cluster upgrade #3473\nFix the issue that default values cannot be replicated #3793\nFix data inconsistency caused by TiCDC default value padding exceptions #3918 #3929\nFix a bug that an owner gets stuck when a PD leader shuts down and transfers to a new node #3615\nFix the TiCDC panic issue that occurs when manually cleaning the task status in etcd #2980\nFix the issue that the service cannot be started because of a timezone issue in the RHEL release #3584\nFix the issue of overly frequent warnings caused by MySQL sink deadlock #2706\nFix the bug that the enable-old-value configuration item is not automatically set to true on the Canal protocol #3676\nFix the issue that Avro sink does not support parsing JSON type columns #3624\nFix the negative value error in the changefeed checkpoint lag #3010\nFix the OOM issue in the container environment #1798\nFix the TiCDC replication interruption issue when multiple TiKVs crash or during a forced restart #3288\nFix the memory leak issue after processing DDLs #3174\nFix the issue that changefeed does not fail fast enough when the ErrGCTTLExceeded error occurs #3111\nFix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061\nFix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386\nFix the issue that Kafka may send excessively large messages by setting the default value of max-message-bytes to 10M #3081\nFix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978\nBackup & Restore (BR)\nFix the potential issue that Regions might be unevenly distributed after a restore operation is finished #30425 #31034\nTiDB Binlog\nFix the issue that DBaaS importing CSV fails with InvalidRange if CSV file size is about 256MB and strict-format is true #27763\nTiDB Lightning\nFix the issue that TiDB Lightning does not report errors when the S3 storage path does not exist #28031 #30709",
          "TiCDC\nFix a bug that MySQL sink generates duplicated replace SQL statements if batch-replace-enable is disabled #4501\nFix the issue that the cached region monitoring metric is negative #4300\nFix the issue that replication cannot be performed when min.insync.replicas is smaller than replication-factor #3994\nFix the potential panic issue that occurs when a replication task is removed #3128\nFix the issue of potential data loss caused by inaccurate checkpoint #3545\nFix the potential issue that the deadlock causes a replication task to get stuck #4055\nFix the issue that special comments in DDL statements cause the replication task to stop #3755\nFix a bug that EtcdWorker might hang the owner and processor #3750\nFix the issue that stopped changefeeds resume automatically after a cluster upgrade #3473\nFix the issue that default values cannot be replicated #3793\nFix data inconsistency caused by TiCDC default value padding exceptions #3918 #3929\nFix a bug that an owner gets stuck when a PD leader shuts down and transfers to a new node #3615\nFix the TiCDC panic issue that occurs when manually cleaning the task status in etcd #2980\nFix the issue that the service cannot be started because of a timezone issue in the RHEL release #3584\nFix the issue of overly frequent warnings caused by MySQL sink deadlock #2706\nFix the bug that the enable-old-value configuration item is not automatically set to true on the Canal protocol #3676\nFix the issue that Avro sink does not support parsing JSON type columns #3624\nFix the negative value error in the changefeed checkpoint lag #3010\nFix the OOM issue in the container environment #1798\nFix the TiCDC replication interruption issue when multiple TiKVs crash or during a forced restart #3288\nFix the memory leak issue after processing DDLs #3174\nFix the issue that changefeed does not fail fast enough when the ErrGCTTLExceeded error occurs #3111\nFix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061\nFix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386\nFix the issue that Kafka may send excessively large messages by setting the default value of max-message-bytes to 10M #3081\nFix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978",
          "Fix a bug that MySQL sink generates duplicated replace SQL statements if batch-replace-enable is disabled #4501",
          "Fix the issue that the cached region monitoring metric is negative #4300",
          "Fix the issue that replication cannot be performed when min.insync.replicas is smaller than replication-factor #3994",
          "Fix the potential panic issue that occurs when a replication task is removed #3128",
          "Fix the issue of potential data loss caused by inaccurate checkpoint #3545",
          "Fix the potential issue that the deadlock causes a replication task to get stuck #4055",
          "Fix the issue that special comments in DDL statements cause the replication task to stop #3755",
          "Fix a bug that EtcdWorker might hang the owner and processor #3750",
          "Fix the issue that stopped changefeeds resume automatically after a cluster upgrade #3473",
          "Fix the issue that default values cannot be replicated #3793",
          "Fix data inconsistency caused by TiCDC default value padding exceptions #3918 #3929",
          "Fix a bug that an owner gets stuck when a PD leader shuts down and transfers to a new node #3615",
          "Fix the TiCDC panic issue that occurs when manually cleaning the task status in etcd #2980",
          "Fix the issue that the service cannot be started because of a timezone issue in the RHEL release #3584",
          "Fix the issue of overly frequent warnings caused by MySQL sink deadlock #2706",
          "Fix the bug that the enable-old-value configuration item is not automatically set to true on the Canal protocol #3676",
          "Fix the issue that Avro sink does not support parsing JSON type columns #3624",
          "Fix the negative value error in the changefeed checkpoint lag #3010",
          "Fix the OOM issue in the container environment #1798",
          "Fix the TiCDC replication interruption issue when multiple TiKVs crash or during a forced restart #3288",
          "Fix the memory leak issue after processing DDLs #3174",
          "Fix the issue that changefeed does not fail fast enough when the ErrGCTTLExceeded error occurs #3111",
          "Fix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061",
          "Fix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386",
          "Fix the issue that Kafka may send excessively large messages by setting the default value of max-message-bytes to 10M #3081",
          "Fix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978",
          "Backup & Restore (BR)\nFix the potential issue that Regions might be unevenly distributed after a restore operation is finished #30425 #31034",
          "Fix the potential issue that Regions might be unevenly distributed after a restore operation is finished #30425 #31034",
          "TiDB Binlog\nFix the issue that DBaaS importing CSV fails with InvalidRange if CSV file size is about 256MB and strict-format is true #27763",
          "Fix the issue that DBaaS importing CSV fails with InvalidRange if CSV file size is about 256MB and strict-format is true #27763",
          "TiDB Lightning\nFix the issue that TiDB Lightning does not report errors when the S3 storage path does not exist #28031 #30709",
          "Fix the issue that TiDB Lightning does not report errors when the S3 storage path does not exist #28031 #30709"
        ]
      },
      {
        "version": "5.1.3",
        "date": "2021-12-03",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.1.3/",
        "changes": [
          "TiKV\nFix the issue that the GcKeys task does not work when it is called by multiple keys. Caused by this issue, compaction filter GC might not drop the MVCC deletion information. #11217",
          "Fix the issue that the GcKeys task does not work when it is called by multiple keys. Caused by this issue, compaction filter GC might not drop the MVCC deletion information. #11217"
        ]
      },
      {
        "version": "5.1.2",
        "date": "2021-09-27",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.1.2/",
        "changes": [
          "TiDB\nTrigger auto-analyze by histogram row count and increase the accuracy of this trigger action #24237",
          "Trigger auto-analyze by histogram row count and increase the accuracy of this trigger action #24237",
          "TiKV\nSupport dynamically modifying TiCDC configurations #10645\nReduce the size of Resolved TS message to save network bandwidth #2448\nLimit the counts of peer stats in the heartbeat message reported by a single store #10621",
          "Support dynamically modifying TiCDC configurations #10645",
          "Reduce the size of Resolved TS message to save network bandwidth #2448",
          "Limit the counts of peer stats in the heartbeat message reported by a single store #10621",
          "PD\nAllow empty Regions to be scheduled and use a separate tolerance configuration in scatter range scheduler #4117\nImprove the performance of synchronizing Region information between PDs #3933\nSupport dynamically adjusting the retry limit of a store based on the generated operator #3744",
          "Allow empty Regions to be scheduled and use a separate tolerance configuration in scatter range scheduler #4117",
          "Improve the performance of synchronizing Region information between PDs #3933",
          "Support dynamically adjusting the retry limit of a store based on the generated operator #3744",
          "TiFlash\nSupport the DATE() function\nAdd Grafana panels for write throughput per instance\nOptimize the performance of the leader-read process\nAccelerate the process of canceling MPP tasks",
          "Support the DATE() function",
          "Add Grafana panels for write throughput per instance",
          "Optimize the performance of the leader-read process",
          "Accelerate the process of canceling MPP tasks",
          "Tools\nTiCDC\nOptimize memory management when the Unified Sorter is using memory to sort data #2553\nOptimize workerpool for fewer goroutines when concurrency is high #2211\nReduce goroutine usage when a table's Region transfer away from a TiKV node #2284\nAdd a global gRPC connection pool and share gRPC connections among KV clients #2534\nProhibit operating TiCDC clusters across major and minor versions #2599\nDumpling\nSupport backing up MySQL-compatible databases that do not support START TRANSACTION ... WITH CONSISTENT SNAPSHOT and SHOW CREATE TABLE #309",
          "TiCDC\nOptimize memory management when the Unified Sorter is using memory to sort data #2553\nOptimize workerpool for fewer goroutines when concurrency is high #2211\nReduce goroutine usage when a table's Region transfer away from a TiKV node #2284\nAdd a global gRPC connection pool and share gRPC connections among KV clients #2534\nProhibit operating TiCDC clusters across major and minor versions #2599",
          "Optimize memory management when the Unified Sorter is using memory to sort data #2553",
          "Optimize workerpool for fewer goroutines when concurrency is high #2211",
          "Reduce goroutine usage when a table's Region transfer away from a TiKV node #2284",
          "Add a global gRPC connection pool and share gRPC connections among KV clients #2534",
          "Prohibit operating TiCDC clusters across major and minor versions #2599",
          "Dumpling\nSupport backing up MySQL-compatible databases that do not support START TRANSACTION ... WITH CONSISTENT SNAPSHOT and SHOW CREATE TABLE #309",
          "Support backing up MySQL-compatible databases that do not support START TRANSACTION ... WITH CONSISTENT SNAPSHOT and SHOW CREATE TABLE #309",
          "TiDB\nFix the potential wrong results of index hash join when the hash column is the ENUM type #27893\nFix a batch client bug that recycle idle connection might block sending requests in some rare cases #27678\nFix the issue that the overflow check of the FLOAT64 type is different with that of MySQL #23897\nFix the issue that TiDB returns an unknow error while it should return the pd is timeout error #26147\nFix the wrong character set and collation for the case when expression #26662\nFix the potential can not found column in Schema column error for MPP queries #28148\nFix a bug that TiDB might panic when TiFlash is shutting down #28096\nFix the issue of wrong range caused by using enum like 'x%' #27130\nFix the Common Table Expression (CTE) dead lock issue when used with IndexLookupJoin #27410\nFix a bug that retryable deadlocks are incorrectly recorded into the INFORMATION_SCHEMA.DEADLOCKS table #27400\nFix the issue that the TABLESAMPLE query result from partitioned tables is not sorted as expected #27349\nRemove the unused /debug/sub-optimal-plan HTTP API #27265\nFix a bug that the query might return wrong results when the hash partitioned table deals with unsigned data #26569\nFix a bug that creating partition fails if NO_UNSIGNED_SUBTRACTION is set #26765\nFix the issue that the distinct flag is missing when Apply is converted to Join #26958\nSet a block duration for the newly recovered TiFlash node to avoid blocking queries during this time #26897\nFix a bug that might occur when the CTE is referenced more than once #26212\nFix a CTE bug when MergeJoin is used #25474\nFix a bug that the SELECT FOR UPDATE statement does not correctly lock the data when a normal table joins a partitioned table #26251\nFix the issue that the SELECT FOR UPDATE statement returns an error when a normal table joins a partitioned table #26250\nFix the issue that PointGet does not use the lite version of resolving lock #26562",
          "Fix the potential wrong results of index hash join when the hash column is the ENUM type #27893",
          "Fix a batch client bug that recycle idle connection might block sending requests in some rare cases #27678",
          "Fix the issue that the overflow check of the FLOAT64 type is different with that of MySQL #23897",
          "Fix the issue that TiDB returns an unknow error while it should return the pd is timeout error #26147",
          "Fix the wrong character set and collation for the case when expression #26662",
          "Fix the potential can not found column in Schema column error for MPP queries #28148",
          "Fix a bug that TiDB might panic when TiFlash is shutting down #28096",
          "Fix the issue of wrong range caused by using enum like 'x%' #27130",
          "Fix the Common Table Expression (CTE) dead lock issue when used with IndexLookupJoin #27410",
          "Fix a bug that retryable deadlocks are incorrectly recorded into the INFORMATION_SCHEMA.DEADLOCKS table #27400",
          "Fix the issue that the TABLESAMPLE query result from partitioned tables is not sorted as expected #27349",
          "Remove the unused /debug/sub-optimal-plan HTTP API #27265",
          "Fix a bug that the query might return wrong results when the hash partitioned table deals with unsigned data #26569",
          "Fix a bug that creating partition fails if NO_UNSIGNED_SUBTRACTION is set #26765",
          "Fix the issue that the distinct flag is missing when Apply is converted to Join #26958",
          "Set a block duration for the newly recovered TiFlash node to avoid blocking queries during this time #26897",
          "Fix a bug that might occur when the CTE is referenced more than once #26212",
          "Fix a CTE bug when MergeJoin is used #25474",
          "Fix a bug that the SELECT FOR UPDATE statement does not correctly lock the data when a normal table joins a partitioned table #26251",
          "Fix the issue that the SELECT FOR UPDATE statement returns an error when a normal table joins a partitioned table #26250",
          "Fix the issue that PointGet does not use the lite version of resolving lock #26562",
          "TiKV\nFix a panic issue that occurs after TiKV is upgraded from v3.x to later versions #10902\nFix the potential disk full issue caused by corrupted snapshot files #10813\nMake the slow log of TiKV coprocessor only consider the time spent on processing requests #10841\nDrop log instead of blocking threads when the slogger thread is overloaded and the queue is filled up #10841\nFix a panic issue that occurs when processing Coprocessor requests times out #10852\nFix the TiKV panic issue that occurs when upgrading from a pre-5.0 version with Titan enabled #10842\nFix the issue that TiKV of a newer version cannot be rolled back to v5.0.x #10842\nFix the issue that TiKV might delete files before ingesting data to RocksDB #10438\nFix the parsing failure caused by the left pessimistic locks #26404",
          "Fix a panic issue that occurs after TiKV is upgraded from v3.x to later versions #10902",
          "Fix the potential disk full issue caused by corrupted snapshot files #10813",
          "Make the slow log of TiKV coprocessor only consider the time spent on processing requests #10841",
          "Drop log instead of blocking threads when the slogger thread is overloaded and the queue is filled up #10841",
          "Fix a panic issue that occurs when processing Coprocessor requests times out #10852",
          "Fix the TiKV panic issue that occurs when upgrading from a pre-5.0 version with Titan enabled #10842",
          "Fix the issue that TiKV of a newer version cannot be rolled back to v5.0.x #10842",
          "Fix the issue that TiKV might delete files before ingesting data to RocksDB #10438",
          "Fix the parsing failure caused by the left pessimistic locks #26404",
          "PD\nFix the issue that PD does not fix the down peers in time #4077\nFix the issue that the replica count of the default placement rules stays constant after replication.max-replicas is updated #3886\nFix a bug that PD might panic when scaling out TiKV #3868\nFix a bug that the hot Region scheduler cannot work when the cluster has the evict leader scheduler #3697",
          "Fix the issue that PD does not fix the down peers in time #4077",
          "Fix the issue that the replica count of the default placement rules stays constant after replication.max-replicas is updated #3886",
          "Fix a bug that PD might panic when scaling out TiKV #3868",
          "Fix a bug that the hot Region scheduler cannot work when the cluster has the evict leader scheduler #3697",
          "TiFlash\nFix the issue of unexpected results when TiFlash fails to establish MPP connections\nFix the potential issue of data inconsistency that occurs when TiFlash is deployed on multiple disks\nFix a bug that MPP queries get wrong results when TiFlash server is under high load\nFix a potential bug that MPP queries hang forever\nFix the panic issue when operating store initialization and DDL simultaneously\nFix a bug of incorrect results that occurs when queries contain filters like CONSTANT, <, <=, >, >=, or COLUMN\nFix the potential panic issue when Snapshot is applied simultaneously with multiple DDL operations\nFix the issue that the store size in metrics is inaccurate under heavy writing\nFix the potential issue that TiFlash cannot garbage-collect the delta data after running for a long time\nFix the issue of wrong results when the new collation is enabled\nFix the potential panic issue that occurs when resolving locks\nFix a potential bug that metrics display wrong values",
          "Fix the issue of unexpected results when TiFlash fails to establish MPP connections",
          "Fix the potential issue of data inconsistency that occurs when TiFlash is deployed on multiple disks",
          "Fix a bug that MPP queries get wrong results when TiFlash server is under high load",
          "Fix a potential bug that MPP queries hang forever",
          "Fix the panic issue when operating store initialization and DDL simultaneously",
          "Fix a bug of incorrect results that occurs when queries contain filters like CONSTANT, <, <=, >, >=, or COLUMN",
          "Fix the potential panic issue when Snapshot is applied simultaneously with multiple DDL operations",
          "Fix the issue that the store size in metrics is inaccurate under heavy writing",
          "Fix the potential issue that TiFlash cannot garbage-collect the delta data after running for a long time",
          "Fix the issue of wrong results when the new collation is enabled",
          "Fix the potential panic issue that occurs when resolving locks",
          "Fix a potential bug that metrics display wrong values",
          "Tools\nBackup & Restore (BR)\nFix the issue that the average speed is not accurate during data backup and restore #1405\nDumpling\nFix the issue that Dumpling is pending when show table status returns incorrect results in some MySQL versions (8.0.3 and 8.0.23) #322\nFix the CLI compatibility issue with 4.0.x clusters on the default sort-engine option #2373\nTiCDC\nFix a bug that the JSON encoding might cause panic when processing a string type value that is string or []byte #2758\nReduce gRPC window size to avoid OOM #2673\nFix a gRPC keepalive error under high memory pressure #2202\nFix a bug that an unsigned tinyint causes TiCDC to panic #2648\nFix an empty value issue in TiCDC Open Protocol. An empty value is no longer output when there is no change in one transaction. #2612\nFix a bug in DDL handling during manual restarts #2603\nFix the issue that EtcdWorker's snapshot isolation might be wrongly violated when managing the metadata #2559\nFix a bug that multiple processors might write data to the same table when TiCDC is rescheduling the table #2230\nFix a bug that changefeed might be reset unexpectedly when TiCDC gets the ErrSchemaStorageTableMiss error #2422\nFix a bug that changefeed cannot be removed when TiCDC gets the ErrGCTTLExceeded error #2391\nFix a bug that TiCDC fails to synchronize large tables to cdclog #1259 #2424",
          "Backup & Restore (BR)\nFix the issue that the average speed is not accurate during data backup and restore #1405",
          "Fix the issue that the average speed is not accurate during data backup and restore #1405",
          "Dumpling\nFix the issue that Dumpling is pending when show table status returns incorrect results in some MySQL versions (8.0.3 and 8.0.23) #322\nFix the CLI compatibility issue with 4.0.x clusters on the default sort-engine option #2373",
          "Fix the issue that Dumpling is pending when show table status returns incorrect results in some MySQL versions (8.0.3 and 8.0.23) #322",
          "Fix the CLI compatibility issue with 4.0.x clusters on the default sort-engine option #2373",
          "TiCDC\nFix a bug that the JSON encoding might cause panic when processing a string type value that is string or []byte #2758\nReduce gRPC window size to avoid OOM #2673\nFix a gRPC keepalive error under high memory pressure #2202\nFix a bug that an unsigned tinyint causes TiCDC to panic #2648\nFix an empty value issue in TiCDC Open Protocol. An empty value is no longer output when there is no change in one transaction. #2612\nFix a bug in DDL handling during manual restarts #2603\nFix the issue that EtcdWorker's snapshot isolation might be wrongly violated when managing the metadata #2559\nFix a bug that multiple processors might write data to the same table when TiCDC is rescheduling the table #2230\nFix a bug that changefeed might be reset unexpectedly when TiCDC gets the ErrSchemaStorageTableMiss error #2422\nFix a bug that changefeed cannot be removed when TiCDC gets the ErrGCTTLExceeded error #2391\nFix a bug that TiCDC fails to synchronize large tables to cdclog #1259 #2424",
          "Fix a bug that the JSON encoding might cause panic when processing a string type value that is string or []byte #2758",
          "Reduce gRPC window size to avoid OOM #2673",
          "Fix a gRPC keepalive error under high memory pressure #2202",
          "Fix a bug that an unsigned tinyint causes TiCDC to panic #2648",
          "Fix an empty value issue in TiCDC Open Protocol. An empty value is no longer output when there is no change in one transaction. #2612",
          "Fix a bug in DDL handling during manual restarts #2603",
          "Fix the issue that EtcdWorker's snapshot isolation might be wrongly violated when managing the metadata #2559",
          "Fix a bug that multiple processors might write data to the same table when TiCDC is rescheduling the table #2230",
          "Fix a bug that changefeed might be reset unexpectedly when TiCDC gets the ErrSchemaStorageTableMiss error #2422",
          "Fix a bug that changefeed cannot be removed when TiCDC gets the ErrGCTTLExceeded error #2391",
          "Fix a bug that TiCDC fails to synchronize large tables to cdclog #1259 #2424"
        ]
      },
      {
        "version": "5.1.1",
        "date": "2021-07-30",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.1.1/",
        "changes": [
          "TiDB\nAnnounce the general availability (GA) of the Stale Read feature\nAvoid allocation for paramMarker to speed up data insertion #26076\nSupport the stable result mode to make the query results more stable #25995\nSupport pushing down the built-in function json_unquote() to TiKV #26265\nSupport retrying MPP queries #26480\nChange the LOCK record into the PUT record for the index keys using point get or batch point get for UPDATE reads #26225\nForbid creating views from stale queries #26200\nThoroughly push down the COUNT(DISTINCT) aggregation function in the MPP mode #26194\nCheck the availability of TiFlash before launching MPP queries #26192\nDo not allow setting the read timestamp to a future time #25763\nPrint log warnings when aggregation functions cannot be pushed down in EXPLAIN statements #25737\nAdd the statements_summary_evicted table to record the evicted count information of a cluster #25587\nImprove the MySQL compatibility of the built-in function str_to_date for the format specifiers %b/%M/%r/%T #25768",
          "Announce the general availability (GA) of the Stale Read feature",
          "Avoid allocation for paramMarker to speed up data insertion #26076",
          "Support the stable result mode to make the query results more stable #25995",
          "Support pushing down the built-in function json_unquote() to TiKV #26265",
          "Support retrying MPP queries #26480",
          "Change the LOCK record into the PUT record for the index keys using point get or batch point get for UPDATE reads #26225",
          "Forbid creating views from stale queries #26200",
          "Thoroughly push down the COUNT(DISTINCT) aggregation function in the MPP mode #26194",
          "Check the availability of TiFlash before launching MPP queries #26192",
          "Do not allow setting the read timestamp to a future time #25763",
          "Print log warnings when aggregation functions cannot be pushed down in EXPLAIN statements #25737",
          "Add the statements_summary_evicted table to record the evicted count information of a cluster #25587",
          "Improve the MySQL compatibility of the built-in function str_to_date for the format specifiers %b/%M/%r/%T #25768",
          "TiKV\nMake the prewrite requests as idempotent as possible to reduce the chance of undetermined errors #10586\nPrevent the risk of stack overflow when handling many expired commands #10502\nAvoid excessive commit request retrying by not using the Stale Read request's start_ts to update max_ts #10451\nHandle read ready and write ready separately to reduce read latency #10592\nReduce the impact on data import speed when the I/O rate limiting is enabled #10390\nImprove the load balance between Raft gRPC connections #10495",
          "Make the prewrite requests as idempotent as possible to reduce the chance of undetermined errors #10586",
          "Prevent the risk of stack overflow when handling many expired commands #10502",
          "Avoid excessive commit request retrying by not using the Stale Read request's start_ts to update max_ts #10451",
          "Handle read ready and write ready separately to reduce read latency #10592",
          "Reduce the impact on data import speed when the I/O rate limiting is enabled #10390",
          "Improve the load balance between Raft gRPC connections #10495",
          "Tools\nTiCDC\nRemove file sorter #2327\nImprove the error message returned when a PD endpoint misses the certificate #1973\nTiDB Lightning\nAdd a retry mechanism for restoring schemas #1294\nDumpling\nAlways split tables using _tidb_rowid when the upstream is a TiDB v3.x cluster, which helps reduce TiDB's memory usage #295\nReduce the frequency of accessing the database metadata to improve Dumpling's performance and stability #315",
          "TiCDC\nRemove file sorter #2327\nImprove the error message returned when a PD endpoint misses the certificate #1973",
          "Remove file sorter #2327",
          "Improve the error message returned when a PD endpoint misses the certificate #1973",
          "TiDB Lightning\nAdd a retry mechanism for restoring schemas #1294",
          "Add a retry mechanism for restoring schemas #1294",
          "Dumpling\nAlways split tables using _tidb_rowid when the upstream is a TiDB v3.x cluster, which helps reduce TiDB's memory usage #295\nReduce the frequency of accessing the database metadata to improve Dumpling's performance and stability #315",
          "Always split tables using _tidb_rowid when the upstream is a TiDB v3.x cluster, which helps reduce TiDB's memory usage #295",
          "Reduce the frequency of accessing the database metadata to improve Dumpling's performance and stability #315",
          "TiDB\nFix the data loss issue that might occur when changing the column type with tidb_enable_amend_pessimistic_txn=on #26203\nFix the issue that the behavior of the last_day function is incompatible in the SQL mode #26001\nFix the panic issue that might occur when LIMIT is on top of window functions #25344\nFix the issue that committing pessimistic transactions might cause write conflict #25964\nFix the issue that the result of index join in correlated subqueries is wrong #25799\nFix a bug that the successfully committed optimistic transactions might report commit errors #10468\nFix the issue that an incorrect result is returned when using merge join on the SET type column #25669\nFix a bug that the index keys in a pessimistic transaction might be repeatedly committed #26359\nFix the risk of integer overflow when the optimizer is locating partitions #26227\nFix the issue that invalid values might be written when casting DATE to timestamp #26292\nFix the issue that the Coprocessor Cache metrics are not displayed on Grafana #26338\nFix the issue of annoying logs caused by telemetry #25760 #25785\nFix a bug on the query range of prefix index #26029\nFix the issue that concurrently truncating the same partition hangs DDL executions #26229\nFix the issue of duplicate ENUM items #25955\nFix a bug that the CTE iterator is not correctly closed #26112\nFix the issue that the LOAD DATA statement might abnormally import non-utf8 data #25979\nFix the panic issue that might occur when using the window function on the unsigned integer columns #25956\nFix the issue that TiDB might panic when resolving async commit locks #25778\nFix the issue that Stale Read is not fully compatible with the PREPARE statements #25800\nFix the issue that the ODBC-styled constant (for example, {d '2020-01-01'}) cannot be used as the expression #25531\nFix an error that occurs when running TiDB alone #25555",
          "Fix the data loss issue that might occur when changing the column type with tidb_enable_amend_pessimistic_txn=on #26203",
          "Fix the issue that the behavior of the last_day function is incompatible in the SQL mode #26001",
          "Fix the panic issue that might occur when LIMIT is on top of window functions #25344",
          "Fix the issue that committing pessimistic transactions might cause write conflict #25964",
          "Fix the issue that the result of index join in correlated subqueries is wrong #25799",
          "Fix a bug that the successfully committed optimistic transactions might report commit errors #10468",
          "Fix the issue that an incorrect result is returned when using merge join on the SET type column #25669",
          "Fix a bug that the index keys in a pessimistic transaction might be repeatedly committed #26359",
          "Fix the risk of integer overflow when the optimizer is locating partitions #26227",
          "Fix the issue that invalid values might be written when casting DATE to timestamp #26292",
          "Fix the issue that the Coprocessor Cache metrics are not displayed on Grafana #26338",
          "Fix the issue of annoying logs caused by telemetry #25760 #25785",
          "Fix a bug on the query range of prefix index #26029",
          "Fix the issue that concurrently truncating the same partition hangs DDL executions #26229",
          "Fix the issue of duplicate ENUM items #25955",
          "Fix a bug that the CTE iterator is not correctly closed #26112",
          "Fix the issue that the LOAD DATA statement might abnormally import non-utf8 data #25979",
          "Fix the panic issue that might occur when using the window function on the unsigned integer columns #25956",
          "Fix the issue that TiDB might panic when resolving async commit locks #25778",
          "Fix the issue that Stale Read is not fully compatible with the PREPARE statements #25800",
          "Fix the issue that the ODBC-styled constant (for example, {d '2020-01-01'}) cannot be used as the expression #25531",
          "Fix an error that occurs when running TiDB alone #25555",
          "TiKV\nFix the issue that the duration calculation might panic on certain platforms #10569\nFix the issue that Load Base Split mistakenly uses the unencoded keys of batch_get_command #10542\nFix the issue that changing the resolved-ts.advance-ts-interval configuration dynamically cannot take effect immediately #10426\nFix the issue of follower metadata corruption in rare cases with more than 4 replicas #10225\nFix the panic issue that occurs when building a snapshot twice if encryption is enabled #9786 #10407\nFix the wrong tikv_raftstore_hibernated_peer_state metric #10330\nFix the wrong arguments type of the json_unquote() function in the coprocessor #10176\nFix a bug that the index keys in a pessimistic transaction might be repeatedly committed #10468\nFix the issue that the ReadIndex request returns stale result right after the leader is transferred #9351",
          "Fix the issue that the duration calculation might panic on certain platforms #10569",
          "Fix the issue that Load Base Split mistakenly uses the unencoded keys of batch_get_command #10542",
          "Fix the issue that changing the resolved-ts.advance-ts-interval configuration dynamically cannot take effect immediately #10426",
          "Fix the issue of follower metadata corruption in rare cases with more than 4 replicas #10225",
          "Fix the panic issue that occurs when building a snapshot twice if encryption is enabled #9786 #10407",
          "Fix the wrong tikv_raftstore_hibernated_peer_state metric #10330",
          "Fix the wrong arguments type of the json_unquote() function in the coprocessor #10176",
          "Fix a bug that the index keys in a pessimistic transaction might be repeatedly committed #10468",
          "Fix the issue that the ReadIndex request returns stale result right after the leader is transferred #9351",
          "PD\nFix the issue the expected scheduling cannot be generated when the conflict occurs due to multiple schedulers running at the same time #3807 #3778\nFix the issue that the scheduler might appear again even if the scheduler is already deleted #2572",
          "Fix the issue the expected scheduling cannot be generated when the conflict occurs due to multiple schedulers running at the same time #3807 #3778",
          "Fix the issue that the scheduler might appear again even if the scheduler is already deleted #2572",
          "TiFlash\nFix the potential panic issue that occurs when running table scan tasks\nFix a bug that TiFlash raises the error about duplicated region when handling DAQ requests\nFix the panic issue that occurs when the read load is heavy\nFix the potential panic issue that occurs when executing the DateFormat function\nFix the potential memory leak issue that occurs when executing MPP tasks\nFix the issue of unexpected results when executing the aggregation functions COUNT or COUNT DISTINCT\nFix a potential bug that TiFlash cannot restore data when deployed on multiple disks\nFix the issue that TiDB Dashboard cannot display the disk information of TiFlash correctly\nFix the potential panic issue that occurs when deconstructing SharedQueryBlockInputStream\nFix the potential panic issue that occurs when deconstructing MPPTask\nFix the potential issue of data inconsistency after synchronizing data via snapshot",
          "Fix the potential panic issue that occurs when running table scan tasks",
          "Fix a bug that TiFlash raises the error about duplicated region when handling DAQ requests",
          "Fix the panic issue that occurs when the read load is heavy",
          "Fix the potential panic issue that occurs when executing the DateFormat function",
          "Fix the potential memory leak issue that occurs when executing MPP tasks",
          "Fix the issue of unexpected results when executing the aggregation functions COUNT or COUNT DISTINCT",
          "Fix a potential bug that TiFlash cannot restore data when deployed on multiple disks",
          "Fix the issue that TiDB Dashboard cannot display the disk information of TiFlash correctly",
          "Fix the potential panic issue that occurs when deconstructing SharedQueryBlockInputStream",
          "Fix the potential panic issue that occurs when deconstructing MPPTask",
          "Fix the potential issue of data inconsistency after synchronizing data via snapshot",
          "Tools\nTiCDC\nFix the support for the new collation feature #2301\nFix the issue that an unsynchronized access to a shared map at runtime might cause panic #2300\nFix the potential DDL loss issue that occurs when the owner crashes while executing the DDL statement #2290\nFix the issue of trying to resolve locks in TiDB prematurely #2188\nFix a bug that might cause data loss if a TiCDC node is killed immediately after a table migration #2033\nFix the handling logic of changefeed update on --sort-dir and --start-ts #1921\nBackup & Restore (BR)\nFix the issue that the size of the data to restore is incorrectly calculated #1270\nFix the issue of missed DDL events that occurs when restoring from cdclog #870\nTiDB Lightning\nFix the issue that TiDB fails to parse the DECIMAL type data in Parquet files #1275\nFix the issue of integer overflow when calculating key intervals #1291 #1290",
          "TiCDC\nFix the support for the new collation feature #2301\nFix the issue that an unsynchronized access to a shared map at runtime might cause panic #2300\nFix the potential DDL loss issue that occurs when the owner crashes while executing the DDL statement #2290\nFix the issue of trying to resolve locks in TiDB prematurely #2188\nFix a bug that might cause data loss if a TiCDC node is killed immediately after a table migration #2033\nFix the handling logic of changefeed update on --sort-dir and --start-ts #1921",
          "Fix the support for the new collation feature #2301",
          "Fix the issue that an unsynchronized access to a shared map at runtime might cause panic #2300",
          "Fix the potential DDL loss issue that occurs when the owner crashes while executing the DDL statement #2290",
          "Fix the issue of trying to resolve locks in TiDB prematurely #2188",
          "Fix a bug that might cause data loss if a TiCDC node is killed immediately after a table migration #2033",
          "Fix the handling logic of changefeed update on --sort-dir and --start-ts #1921",
          "Backup & Restore (BR)\nFix the issue that the size of the data to restore is incorrectly calculated #1270\nFix the issue of missed DDL events that occurs when restoring from cdclog #870",
          "Fix the issue that the size of the data to restore is incorrectly calculated #1270",
          "Fix the issue of missed DDL events that occurs when restoring from cdclog #870",
          "TiDB Lightning\nFix the issue that TiDB fails to parse the DECIMAL type data in Parquet files #1275\nFix the issue of integer overflow when calculating key intervals #1291 #1290",
          "Fix the issue that TiDB fails to parse the DECIMAL type data in Parquet files #1275",
          "Fix the issue of integer overflow when calculating key intervals #1291 #1290"
        ]
      },
      {
        "version": "5.1.0",
        "date": "2021-06-24",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.1.0/",
        "changes": [
          "Support the Common Table Expression (CTE) feature of MySQL 8.0.\nThis feature empowers TiDB with the capability of querying hierarchical data recursively or non-recursively and meets the needs of using tree queries to implement application logics in multiple sectors such as human resources, manufacturing, financial markets, and education.\nIn TiDB, you can apply the WITH statement to use Common Table Expressions. User document, #17472",
          "Support the dynamic privilege feature of MySQL 8.0.\nDynamic privileges are used to limit the SUPER privilege and provide TiDB with more flexible privilege configuration for more fine-grained access control. For example, you can use dynamic privileges to create a user account that can only perform BACKUP and RESTORE operations.\nThe supported dynamic privileges are as follows:\nBACKUP_ADMIN\nRESTORE_ADMIN\nROLE_ADMIN\nCONNECTION_ADMIN\nSYSTEM_VARIABLES_ADMIN\nYou can also use plugins to add new privileges. To check out all supported privileges, execute the SHOW PRIVILEGES statement. User document",
          "BACKUP_ADMIN",
          "RESTORE_ADMIN",
          "ROLE_ADMIN",
          "CONNECTION_ADMIN",
          "SYSTEM_VARIABLES_ADMIN\nYou can also use plugins to add new privileges. To check out all supported privileges, execute the SHOW PRIVILEGES statement. User document",
          "Add a new configuration item for the Security Enhanced Mode (SEM), which divides the TiDB administrator privileges in a finer-grained way.\nThe Security Enhanced Mode is disabled by default. To enable it, see the user document.",
          "Enhance the capability of changing column types online. Support changing the column type online using the ALTER TABLE statement, including but not limited to:\nChanging VARCHAR to BIGINT\nModifying the DECIMAL precision\nCompressing the length of VARCHAR(10) to VARCHAR(5)\nUser document",
          "Changing VARCHAR to BIGINT",
          "Modifying the DECIMAL precision",
          "Compressing the length of VARCHAR(10) to VARCHAR(5)\nUser document",
          "Introduce a new SQL syntax AS OF TIMESTAMP to perform Stale Read, a new experimental feature used to read historical data from a specified point in time or from a specified time range.\nUser document, #21094\nThe examples of AS OF TIMESTAMP are as follows:\nSELECT * FROM t AS OF TIMESTAMP  '2020-09-06 00:00:00';\nSTART TRANSACTION READ ONLY AS OF TIMESTAMP '2020-09-06 00:00:00';\nSET TRANSACTION READ ONLY as of timestamp '2020-09-06 00:00:00';",
          "Introduce a new statistics type tidb_analyze_version = 2 (Experimental).\ntidb_analyze_version is set to 2 by default, which avoids the large errors that might occur in the large data volume caused by hash conflicts in Version 1 and maintains the estimation accuracy in most scenarios.\nUser document",
          "TiDB\nSupport the built-in function VITESS_HASH() #23915\nSupport pushing down data of the enumerated type to TiKV to improve performance when using enumerated types in WHERE clauses #23619\nSupport the RENAME USER syntax #23648\nOptimize the calculation of Window Function to solve TiDB OOM problems when paging data with ROW_NUMBER() #23807\nOptimize the calculation of UNION ALL to solve the TiDB OOM problems when using UNION ALL to join a large number of SELECT statements #21441\nOptimize the dynamic pruning mode of partitioned tables to improve performance and stability #24150\nFix the Region is Unavailable issue that occurs in multiple scenarios project#62\nFix multiple Region is Unavailable issues that might occur in frequent scheduling situations\nFix Region is Unavailable issue that might occur in some high stress write situations\nAvoid frequently reading the mysql.stats_histograms table if the cached statistics is up-to-date to avoid high CPU usage #24317",
          "Support the built-in function VITESS_HASH() #23915",
          "Support pushing down data of the enumerated type to TiKV to improve performance when using enumerated types in WHERE clauses #23619",
          "Support the RENAME USER syntax #23648",
          "Optimize the calculation of Window Function to solve TiDB OOM problems when paging data with ROW_NUMBER() #23807",
          "Optimize the calculation of UNION ALL to solve the TiDB OOM problems when using UNION ALL to join a large number of SELECT statements #21441",
          "Optimize the dynamic pruning mode of partitioned tables to improve performance and stability #24150",
          "Fix the Region is Unavailable issue that occurs in multiple scenarios project#62",
          "Fix multiple Region is Unavailable issues that might occur in frequent scheduling situations",
          "Fix Region is Unavailable issue that might occur in some high stress write situations",
          "Avoid frequently reading the mysql.stats_histograms table if the cached statistics is up-to-date to avoid high CPU usage #24317",
          "TiKV\nUse zstd to compress Region snapshots, preventing large space differences between nodes in case of heavy scheduling or scaling #10005\nSolve OOM issues in multiple cases #10183\nAdd memory usage tracking for each module\nSolve the OOM issue caused by oversized Raft entries cache\nSolve the OOM issue caused by stacked GC tasks\nSolve the OOM issue caused by fetching too many Raft entries from the Raft log to memory at one time\nSplit Regions more evenly to mitigate the issue that the growth of Region size exceeds the splitting speed when there are hotspot writes #9785",
          "Use zstd to compress Region snapshots, preventing large space differences between nodes in case of heavy scheduling or scaling #10005",
          "Solve OOM issues in multiple cases #10183\nAdd memory usage tracking for each module\nSolve the OOM issue caused by oversized Raft entries cache\nSolve the OOM issue caused by stacked GC tasks\nSolve the OOM issue caused by fetching too many Raft entries from the Raft log to memory at one time",
          "Add memory usage tracking for each module",
          "Solve the OOM issue caused by oversized Raft entries cache",
          "Solve the OOM issue caused by stacked GC tasks",
          "Solve the OOM issue caused by fetching too many Raft entries from the Raft log to memory at one time",
          "Split Regions more evenly to mitigate the issue that the growth of Region size exceeds the splitting speed when there are hotspot writes #9785",
          "TiFlash\nSupport Union All, TopN, and Limit functions\nSupport the Cartesian product including left outer join and semi anti join in MPP mode\nOptimize lock operations to avoid that running DDL statements and read operations are blocked by each other\nOptimize cleanup of expired data by TiFlash\nSupport further filtering of query filters on timestamp columns at the TiFlash storage level\nImprove the startup and scalability speed of TiFlash when a large number of tables are in a cluster\nImprove TiFlash compatibility when running on unknown CPUs",
          "Support Union All, TopN, and Limit functions",
          "Support the Cartesian product including left outer join and semi anti join in MPP mode",
          "Optimize lock operations to avoid that running DDL statements and read operations are blocked by each other",
          "Optimize cleanup of expired data by TiFlash",
          "Support further filtering of query filters on timestamp columns at the TiFlash storage level",
          "Improve the startup and scalability speed of TiFlash when a large number of tables are in a cluster",
          "Improve TiFlash compatibility when running on unknown CPUs",
          "PD\nAvoid unexpected statistics after adding the scatter region scheduler #3602\nSolve multiple scheduling issues in the scaling process\nOptimize the generation process of replica snapshots to solve slow scheduling issues during scaling #3563 #10059 #10001\nSolve slow scheduling issues caused by heartbeat pressure due to traffic changes #3693 #3739 #3728 #3751\nReduce the space discrepancies of large clusters due to scheduling, and optimize the scheduling formula to prevent the bursting issue (which is similar to heterogeneous space clusters) caused by large compression rate discrepancies #3592 #10005",
          "Avoid unexpected statistics after adding the scatter region scheduler #3602",
          "Solve multiple scheduling issues in the scaling process\nOptimize the generation process of replica snapshots to solve slow scheduling issues during scaling #3563 #10059 #10001\nSolve slow scheduling issues caused by heartbeat pressure due to traffic changes #3693 #3739 #3728 #3751\nReduce the space discrepancies of large clusters due to scheduling, and optimize the scheduling formula to prevent the bursting issue (which is similar to heterogeneous space clusters) caused by large compression rate discrepancies #3592 #10005",
          "Optimize the generation process of replica snapshots to solve slow scheduling issues during scaling #3563 #10059 #10001",
          "Solve slow scheduling issues caused by heartbeat pressure due to traffic changes #3693 #3739 #3728 #3751",
          "Reduce the space discrepancies of large clusters due to scheduling, and optimize the scheduling formula to prevent the bursting issue (which is similar to heterogeneous space clusters) caused by large compression rate discrepancies #3592 #10005",
          "Tools\nBackup & Restore (BR)\nSupport backing up and restoring system tables in the mysql schema #1143 #1078\nSupport the S3-compatible storage that is based on the virtual-host addressing mode #10243\nOptimize the format of backupmeta to reduce memory usage #1171\nTiCDC\nImprove the descriptions of some log messages to be clearer and more useful for diagnosing problems #1759\nSupport the back pressure feature to allow the TiCDC scanning speed to sense the downstream processing capacity #10151\nReduce memory usage when TiCDC performs the initial scan #10133\nImprove the cache hit rate for the TiCDC Old Value in pessimistic transactions #10089\nDumpling\nImprove the logic of exporting data from TiDB v4.0 to avoid TiDB becoming out of memory (OOM) #273\nFix the issue that no error is output when a backup operation fails #280\nTiDB Lightning\nImprove data importing speed. The optimization results show that the speed of importing TPC-C data is increased by 30%, and the speed of importing large tables (2TB+) with more indexes (5 indexes) is increased by more than 50%. #753\nAdd a pre-check on the data to be imported and also on the target cluster before importing, and report errors to reject the import process if it does not meet the import requirements #999\nOptimize the timing of checkpoint updates on the Local backend to improve performance of restarting from breakpoints #1080",
          "Backup & Restore (BR)\nSupport backing up and restoring system tables in the mysql schema #1143 #1078\nSupport the S3-compatible storage that is based on the virtual-host addressing mode #10243\nOptimize the format of backupmeta to reduce memory usage #1171",
          "Support backing up and restoring system tables in the mysql schema #1143 #1078",
          "Support the S3-compatible storage that is based on the virtual-host addressing mode #10243",
          "Optimize the format of backupmeta to reduce memory usage #1171",
          "TiCDC\nImprove the descriptions of some log messages to be clearer and more useful for diagnosing problems #1759\nSupport the back pressure feature to allow the TiCDC scanning speed to sense the downstream processing capacity #10151\nReduce memory usage when TiCDC performs the initial scan #10133\nImprove the cache hit rate for the TiCDC Old Value in pessimistic transactions #10089",
          "Improve the descriptions of some log messages to be clearer and more useful for diagnosing problems #1759",
          "Support the back pressure feature to allow the TiCDC scanning speed to sense the downstream processing capacity #10151",
          "Reduce memory usage when TiCDC performs the initial scan #10133",
          "Improve the cache hit rate for the TiCDC Old Value in pessimistic transactions #10089",
          "Dumpling\nImprove the logic of exporting data from TiDB v4.0 to avoid TiDB becoming out of memory (OOM) #273\nFix the issue that no error is output when a backup operation fails #280",
          "Improve the logic of exporting data from TiDB v4.0 to avoid TiDB becoming out of memory (OOM) #273",
          "Fix the issue that no error is output when a backup operation fails #280",
          "TiDB Lightning\nImprove data importing speed. The optimization results show that the speed of importing TPC-C data is increased by 30%, and the speed of importing large tables (2TB+) with more indexes (5 indexes) is increased by more than 50%. #753\nAdd a pre-check on the data to be imported and also on the target cluster before importing, and report errors to reject the import process if it does not meet the import requirements #999\nOptimize the timing of checkpoint updates on the Local backend to improve performance of restarting from breakpoints #1080",
          "Improve data importing speed. The optimization results show that the speed of importing TPC-C data is increased by 30%, and the speed of importing large tables (2TB+) with more indexes (5 indexes) is increased by more than 50%. #753",
          "Add a pre-check on the data to be imported and also on the target cluster before importing, and report errors to reject the import process if it does not meet the import requirements #999",
          "Optimize the timing of checkpoint updates on the Local backend to improve performance of restarting from breakpoints #1080",
          "TiDB\nFix the issue that the execution result of project elimination might be wrong when the projection result is empty #23887\nFix the issue of wrong query results when a column contains NULL values in some cases #23891\nForbid generating MPP plans when the scan contains virtual columns #23886\nFix the wrong reuse of PointGet and TableDual in Plan Cache #23187 #23144 #23304 #23290\nFix the error that occurs when the optimizer builds the IndexMerge plan for clustered indexes #23906\nFix the type inference of the BIT-type errors #23832\nFix the issue that some optimizer hints do not take effect when the PointGet operator exists #23570\nFix the issue that DDL operations might fail when rolling back due to an error #23893\nFix the issue that the index range of the binary literal constant is incorrectly built #23672\nFix the potential wrong results of the IN clause in some cases #23889\nFix the wrong results of some string functions #23759\nUsers now need both INSERT and DELETE privileges on a table to perform REPLACE operations #23909\nUsers now need both INSERT and DELETE privileges on a table to perform REPLACE operations #24070\nFix the wrong TableDual plans caused by incorrectly comparing binaries and bytes #23846\nFix the panic issue caused by using the prefix index and index join in some cases #24547 #24716 #24717\nFix the issue that the prepared plan cache of point get is incorrectly used by the point get statement in the transaction #24741\nFix the issue of writing the wrong prefix index value when the collation is ascii_bin or latin1_bin #24569\nFix the issue that the ongoing transaction might be interrupted by the GC worker #24591\nFix a bug that the point query might get wrong on the clustered index when new-collation is enabled but new-row-format is disabled #24541\nRefactor the conversion of partition keys for shuffle hash join #24490\nFix the panic issue that occurs when building the plan for queries that contain the HAVING clause #24045\nFix the issue that the column pruning improvement causes the Apply and Join operators' results to go wrong #23887\nFix a bug that the primary lock fallen back from async commit cannot be resolved #24384\nFix a GC issue of statistics that might cause duplicated fm-sketch records #24357\nAvoid unnecessary pessimistic rollback when the pessimistic locking receives the ErrKeyExists error #23799\nFix the issue that numeric literals cannot be recognized when the sql_mode contains ANSI_QUOTES #24429\nForbid statements such as INSERT INTO table PARTITION (<partitions>) ... ON DUPLICATE KEY UPDATE to read data from non-listed partitions #24746\nFix the potential index out of range error when a SQL statement contains both GROUP BY and UNION #24281\nFix the issue that the CONCAT function incorrectly handles the collation #24296\nFix the issue that the collation_server global variable does not take effect in new sessions #24156",
          "Fix the issue that the execution result of project elimination might be wrong when the projection result is empty #23887",
          "Fix the issue of wrong query results when a column contains NULL values in some cases #23891",
          "Forbid generating MPP plans when the scan contains virtual columns #23886",
          "Fix the wrong reuse of PointGet and TableDual in Plan Cache #23187 #23144 #23304 #23290",
          "Fix the error that occurs when the optimizer builds the IndexMerge plan for clustered indexes #23906",
          "Fix the type inference of the BIT-type errors #23832",
          "Fix the issue that some optimizer hints do not take effect when the PointGet operator exists #23570",
          "Fix the issue that DDL operations might fail when rolling back due to an error #23893",
          "Fix the issue that the index range of the binary literal constant is incorrectly built #23672",
          "Fix the potential wrong results of the IN clause in some cases #23889",
          "Fix the wrong results of some string functions #23759",
          "Users now need both INSERT and DELETE privileges on a table to perform REPLACE operations #23909",
          "Users now need both INSERT and DELETE privileges on a table to perform REPLACE operations #24070",
          "Fix the wrong TableDual plans caused by incorrectly comparing binaries and bytes #23846",
          "Fix the panic issue caused by using the prefix index and index join in some cases #24547 #24716 #24717",
          "Fix the issue that the prepared plan cache of point get is incorrectly used by the point get statement in the transaction #24741",
          "Fix the issue of writing the wrong prefix index value when the collation is ascii_bin or latin1_bin #24569",
          "Fix the issue that the ongoing transaction might be interrupted by the GC worker #24591",
          "Fix a bug that the point query might get wrong on the clustered index when new-collation is enabled but new-row-format is disabled #24541",
          "Refactor the conversion of partition keys for shuffle hash join #24490",
          "Fix the panic issue that occurs when building the plan for queries that contain the HAVING clause #24045",
          "Fix the issue that the column pruning improvement causes the Apply and Join operators' results to go wrong #23887",
          "Fix a bug that the primary lock fallen back from async commit cannot be resolved #24384",
          "Fix a GC issue of statistics that might cause duplicated fm-sketch records #24357",
          "Avoid unnecessary pessimistic rollback when the pessimistic locking receives the ErrKeyExists error #23799",
          "Fix the issue that numeric literals cannot be recognized when the sql_mode contains ANSI_QUOTES #24429",
          "Forbid statements such as INSERT INTO table PARTITION (<partitions>) ... ON DUPLICATE KEY UPDATE to read data from non-listed partitions #24746",
          "Fix the potential index out of range error when a SQL statement contains both GROUP BY and UNION #24281",
          "Fix the issue that the CONCAT function incorrectly handles the collation #24296",
          "Fix the issue that the collation_server global variable does not take effect in new sessions #24156",
          "TiKV\nFix the issue that the coprocessor fails to properly handle the signed or unsigned integer types in the IN expression #9821\nFix the issue of many empty Regions after batch ingesting SST files #964\nFix a bug that TiKV cannot start up after the file dictionary file is damaged #9886\nFix a TiCDC OOM issue caused by reading old values #9996 #9981\nFix the issue of empty value in the secondary index for the clustered primary key column when collation is latin1_bin #24548\nAdd the abort-on-panic configuration, which allows TiKV to generate the core dump file when panic occurs. Users still need to correctly configure the environment to enable core dump #10216\nFix the performance regression issue of point get queries that occurs when TiKV is not busy #10046",
          "Fix the issue that the coprocessor fails to properly handle the signed or unsigned integer types in the IN expression #9821",
          "Fix the issue of many empty Regions after batch ingesting SST files #964",
          "Fix a bug that TiKV cannot start up after the file dictionary file is damaged #9886",
          "Fix a TiCDC OOM issue caused by reading old values #9996 #9981",
          "Fix the issue of empty value in the secondary index for the clustered primary key column when collation is latin1_bin #24548",
          "Add the abort-on-panic configuration, which allows TiKV to generate the core dump file when panic occurs. Users still need to correctly configure the environment to enable core dump #10216",
          "Fix the performance regression issue of point get queries that occurs when TiKV is not busy #10046",
          "PD\nFix the issue that the PD Leader re-election is slow when there are many stores #3697\nFix the panic issue that occurs when removing the evict leader scheduler from a non-existent store #3660\nFix the issue that the statistics are not updated after offline peers are merged #3611",
          "Fix the issue that the PD Leader re-election is slow when there are many stores #3697",
          "Fix the panic issue that occurs when removing the evict leader scheduler from a non-existent store #3660",
          "Fix the issue that the statistics are not updated after offline peers are merged #3611",
          "TiFlash\nFix the issue of incorrect results when casting the time type to the integer type\nFix a bug that the receiver cannot find corresponding tasks within 10 seconds\nFix the issue that there might be invalid iterators in cancelMPPQuery\nFix a bug that the behavior of the bitwise operator is different from that of TiDB\nFix the alert issue caused by overlapping ranges when using the prefix key\nFix the issue of incorrect results when casting the string type to the integer type\nFix the issue that consecutive and fast writes might make TiFlash out of memory\nFix the potential issue that the exception of null pointer might be raised during the table GC\nFix the TiFlash panic issue that occurs when writing data to dropped tables\nFix the issue that TiFlash might panic during BR restore\nFix the issue of incorrect results when cloning shared delta index concurrently\nFix the potential panic that occurs when the Compaction Filter feature is enabled\nFix the issue that TiFlash cannot resolve the lock fallen back from async commit\nFix the issue of incorrect results returned when the casted result of the TIMEZONE type contains the TIMESTAMP type\nFix the TiFlash panic issue that occurs during Segment Split",
          "Fix the issue of incorrect results when casting the time type to the integer type",
          "Fix a bug that the receiver cannot find corresponding tasks within 10 seconds",
          "Fix the issue that there might be invalid iterators in cancelMPPQuery",
          "Fix a bug that the behavior of the bitwise operator is different from that of TiDB",
          "Fix the alert issue caused by overlapping ranges when using the prefix key",
          "Fix the issue of incorrect results when casting the string type to the integer type",
          "Fix the issue that consecutive and fast writes might make TiFlash out of memory",
          "Fix the potential issue that the exception of null pointer might be raised during the table GC",
          "Fix the TiFlash panic issue that occurs when writing data to dropped tables",
          "Fix the issue that TiFlash might panic during BR restore",
          "Fix the issue of incorrect results when cloning shared delta index concurrently",
          "Fix the potential panic that occurs when the Compaction Filter feature is enabled",
          "Fix the issue that TiFlash cannot resolve the lock fallen back from async commit",
          "Fix the issue of incorrect results returned when the casted result of the TIMEZONE type contains the TIMESTAMP type",
          "Fix the TiFlash panic issue that occurs during Segment Split",
          "Tools\nTiDB Lightning\nFix the issue of TiDB Lightning panic that occurs when generating KV data #1127\nFix a bug that the batch split Region fails due to the total key size exceeding the raft entry limit during the data import #969\nFix the issue that when importing CSV files, if the last line of the file does not contain line break characters (\\r\\n), an error will be reported #1133\nFix the issue that if a table to be imported includes an auto-increment column of the double type, the auto_increment value becomes abnormal #1178\nBackup & Restore (BR)\nFix the issue of backup interruption caused by the failure of a few TiKV nodes #980\nTiCDC\nFix the concurrency issue in Unified Sorter and filter the unhelpful error messages #1678\nFix a bug that the creation of redundant directories might interrupt the replication with MinIO #1463\nSet the default value of the explicit_defaults_for_timestamp session variable to ON to make the MySQL 5.7 downstream keep the same behavior with the upstream TiDB #1585\nFix the issue that the incorrect handling of io.EOF might cause replication interruption #1633\nCorrect the TiKV CDC endpoint CPU metric in the TiCDC dashboard #1645\nIncrease defaultBufferChanSize to avoid replication blocking in some cases #1259\nFix the issue that the time zone information is lost in the Avro output #1712\nSupport cleaning up stale temporary files in Unified Sorter and forbid sharing the sort-dir directory #1742\nFix a deadlock bug in the KV client that occurs when many stale Regions exist #1599\nFix the wrong help information in the --cert-allowed-cn flag #1697\nRevert the update for explicit_defaults_for_timestamp which requires the SUPER privilege when replicating data to MySQL #1750\nSupport the sink flow control to reduce the risk of memory overflow #1840\nFix a bug that the replication task might stop when moving a table #1828\nFix the issue that the TiKV GC safe point is blocked due to the stagnation of TiCDC changefeed checkpoint #1759",
          "TiDB Lightning\nFix the issue of TiDB Lightning panic that occurs when generating KV data #1127\nFix a bug that the batch split Region fails due to the total key size exceeding the raft entry limit during the data import #969\nFix the issue that when importing CSV files, if the last line of the file does not contain line break characters (\\r\\n), an error will be reported #1133\nFix the issue that if a table to be imported includes an auto-increment column of the double type, the auto_increment value becomes abnormal #1178",
          "Fix the issue of TiDB Lightning panic that occurs when generating KV data #1127",
          "Fix a bug that the batch split Region fails due to the total key size exceeding the raft entry limit during the data import #969",
          "Fix the issue that when importing CSV files, if the last line of the file does not contain line break characters (\\r\\n), an error will be reported #1133",
          "Fix the issue that if a table to be imported includes an auto-increment column of the double type, the auto_increment value becomes abnormal #1178",
          "Backup & Restore (BR)\nFix the issue of backup interruption caused by the failure of a few TiKV nodes #980",
          "Fix the issue of backup interruption caused by the failure of a few TiKV nodes #980",
          "TiCDC\nFix the concurrency issue in Unified Sorter and filter the unhelpful error messages #1678\nFix a bug that the creation of redundant directories might interrupt the replication with MinIO #1463\nSet the default value of the explicit_defaults_for_timestamp session variable to ON to make the MySQL 5.7 downstream keep the same behavior with the upstream TiDB #1585\nFix the issue that the incorrect handling of io.EOF might cause replication interruption #1633\nCorrect the TiKV CDC endpoint CPU metric in the TiCDC dashboard #1645\nIncrease defaultBufferChanSize to avoid replication blocking in some cases #1259\nFix the issue that the time zone information is lost in the Avro output #1712\nSupport cleaning up stale temporary files in Unified Sorter and forbid sharing the sort-dir directory #1742\nFix a deadlock bug in the KV client that occurs when many stale Regions exist #1599\nFix the wrong help information in the --cert-allowed-cn flag #1697\nRevert the update for explicit_defaults_for_timestamp which requires the SUPER privilege when replicating data to MySQL #1750\nSupport the sink flow control to reduce the risk of memory overflow #1840\nFix a bug that the replication task might stop when moving a table #1828\nFix the issue that the TiKV GC safe point is blocked due to the stagnation of TiCDC changefeed checkpoint #1759",
          "Fix the concurrency issue in Unified Sorter and filter the unhelpful error messages #1678",
          "Fix a bug that the creation of redundant directories might interrupt the replication with MinIO #1463",
          "Set the default value of the explicit_defaults_for_timestamp session variable to ON to make the MySQL 5.7 downstream keep the same behavior with the upstream TiDB #1585",
          "Fix the issue that the incorrect handling of io.EOF might cause replication interruption #1633",
          "Correct the TiKV CDC endpoint CPU metric in the TiCDC dashboard #1645",
          "Increase defaultBufferChanSize to avoid replication blocking in some cases #1259",
          "Fix the issue that the time zone information is lost in the Avro output #1712",
          "Support cleaning up stale temporary files in Unified Sorter and forbid sharing the sort-dir directory #1742",
          "Fix a deadlock bug in the KV client that occurs when many stale Regions exist #1599",
          "Fix the wrong help information in the --cert-allowed-cn flag #1697",
          "Revert the update for explicit_defaults_for_timestamp which requires the SUPER privilege when replicating data to MySQL #1750",
          "Support the sink flow control to reduce the risk of memory overflow #1840",
          "Fix a bug that the replication task might stop when moving a table #1828",
          "Fix the issue that the TiKV GC safe point is blocked due to the stagnation of TiCDC changefeed checkpoint #1759"
        ]
      }
    ]
  },
  {
    "major_version": "5.0",
    "patches": [
      {
        "version": "5.0.6",
        "date": "2021-12-31",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.0.6/",
        "changes": [
          "TiDB\nShow the affected SQL statements in the debug log when the coprocessor encounters a lock, which is helpful in diagnosing problems #27718",
          "Show the affected SQL statements in the debug log when the coprocessor encounters a lock, which is helpful in diagnosing problems #27718",
          "TiKV\nIncrease the speed of inserting SST files by moving the verification process to the Import thread pool from the Apply thread pool #11239\nAdd more metrics for the garbage collection module of Raft logs to locate performance problems in the module #11374\nCollapse some uncommon storage-related metrics in Grafana dashboard #11681",
          "Increase the speed of inserting SST files by moving the verification process to the Import thread pool from the Apply thread pool #11239",
          "Add more metrics for the garbage collection module of Raft logs to locate performance problems in the module #11374",
          "Collapse some uncommon storage-related metrics in Grafana dashboard #11681",
          "PD\nSpeed up the exit process of schedulers #4146\nMake the scheduling results of the scatter-range-scheduler scheduler more even by allowing the scheduler to schedule empty Regions and fix the configurations of the scheduler #4497\nSupport that the evict leader scheduler can schedule Regions with unhealthy peers #4093",
          "Speed up the exit process of schedulers #4146",
          "Make the scheduling results of the scatter-range-scheduler scheduler more even by allowing the scheduler to schedule empty Regions and fix the configurations of the scheduler #4497",
          "Support that the evict leader scheduler can schedule Regions with unhealthy peers #4093",
          "Tools\nTiCDC\nOptimize rate limiting control on TiKV reloads to reduce gPRC congestion during changefeed initialization #3110\nAdd a tick frequency limit to EtcdWorker to prevent frequent etcd writes from affecting PD services #3112\nAdd the default configuration for config.Metadata.Timeout in Kafka sink #3352\nSet the default value of max-message-bytes to 10M, to reduce the probability that Kafka messages cannot be sent #3081\nAdd more Prometheus and Grafana monitoring metrics and alerts, including no owner alert, mounter row, table sink total row, and buffer sink total row #4054 #1606\nBackup & Restore (BR)\nRetry BR tasks when encountering the PD request error or the TiKV I/O timeout error #27787\nImprove the robustness of restoring #27421\nTiDB Lightning\nSupport importing data into tables that have expression index or the index that depends on virtual generated columns #1404",
          "TiCDC\nOptimize rate limiting control on TiKV reloads to reduce gPRC congestion during changefeed initialization #3110\nAdd a tick frequency limit to EtcdWorker to prevent frequent etcd writes from affecting PD services #3112\nAdd the default configuration for config.Metadata.Timeout in Kafka sink #3352\nSet the default value of max-message-bytes to 10M, to reduce the probability that Kafka messages cannot be sent #3081\nAdd more Prometheus and Grafana monitoring metrics and alerts, including no owner alert, mounter row, table sink total row, and buffer sink total row #4054 #1606",
          "Optimize rate limiting control on TiKV reloads to reduce gPRC congestion during changefeed initialization #3110",
          "Add a tick frequency limit to EtcdWorker to prevent frequent etcd writes from affecting PD services #3112",
          "Add the default configuration for config.Metadata.Timeout in Kafka sink #3352",
          "Set the default value of max-message-bytes to 10M, to reduce the probability that Kafka messages cannot be sent #3081",
          "Add more Prometheus and Grafana monitoring metrics and alerts, including no owner alert, mounter row, table sink total row, and buffer sink total row #4054 #1606",
          "Backup & Restore (BR)\nRetry BR tasks when encountering the PD request error or the TiKV I/O timeout error #27787\nImprove the robustness of restoring #27421",
          "Retry BR tasks when encountering the PD request error or the TiKV I/O timeout error #27787",
          "Improve the robustness of restoring #27421",
          "TiDB Lightning\nSupport importing data into tables that have expression index or the index that depends on virtual generated columns #1404",
          "Support importing data into tables that have expression index or the index that depends on virtual generated columns #1404",
          "TiDB\nFix the issue that optimistic transaction conflicts might cause transactions to block each other #11148\nFix the issue of false positive error log invalid cop task execution summaries length for MPP queries #1791\nFix the panic that might occur when DML and DDL statements are executed concurrently #30940\nFix the privilege check fail error when performing the grant and revoke operations to grant and revoke global level privileges #29675\nFix the TiDB panic when executing the ALTER TABLE.. ADD INDEX statement in some cases #27687\nFix the issue that the enforce-mpp configuration does not take effect in v5.0.4 #29252\nFix the panic when using the CASE WHEN function on the ENUM data type #29357\nFix wrong results of the microsecond function in vectorized expressions #29244\nFix the issue of incomplete log information from the auto analyze result #29188\nFix wrong results of the hour function in vectorized expression #28643\nFix the unexpected error like tidb_cast to Int32 is not supported when the unsupported cast is pushed down to TiFlash #23907\nFix a bug that the availability detection of MPP node does not work in some corner cases #3118\nFix the DATA RACE issue when assigning MPP task ID #27952\nFix the INDEX OUT OF RANGE error for a MPP query after deleting an empty dual table #28250\nFix the TiDB panic when inserting invalid date values concurrently #25393\nFix the unexpected can not found column in Schema column error for queries in the MPP mode #30980\nFix the issue that TiDB might panic when TiFlash is shutting down #28096\nFix the unexpected index out of range error when the planner is doing join reorder #24095\nFix wrong results of the control functions (such as IF and CASE WHEN) when using the ENUM type data as parameters of such functions #23114\nFix the wrong result of CONCAT(IFNULL(TIME(3)) #29498\nFix wrong results of GREATEST and LEAST when passing in unsigned BIGINT arguments #30101\nFix the issue that a SQL operation is canceled when its JSON type column joins its CHAR type column #29401\nFix the data inconsistency issue caused by incorrect usage of lazy existence check and untouched key optimization #30410\nFix the issue that window functions might return different results when using a transaction or not #29947\nFix the issue that the SQL statements that contain cast(integer as char) union string return wrong results #29513\nFix the issue that the length information is wrong when casting Decimal to String #29417\nFix the issue that the Column 'col_name' in field list is ambiguous error is reported unexpectedly when a SQL statement contains natural join #25041\nFix the issue that the GREATEST function returns inconsistent results due to different values of tidb_enable_vectorized_expression (set to on or off) #29434\nFix the issue that the planner might cache invalid plans for join in some cases #28087\nFix the issue that the index out of range [1] with length 1 error is reported when a SQL statement evaluates an aggregation result on the result of join in some cases #1978",
          "Fix the issue that optimistic transaction conflicts might cause transactions to block each other #11148",
          "Fix the issue of false positive error log invalid cop task execution summaries length for MPP queries #1791",
          "Fix the panic that might occur when DML and DDL statements are executed concurrently #30940",
          "Fix the privilege check fail error when performing the grant and revoke operations to grant and revoke global level privileges #29675",
          "Fix the TiDB panic when executing the ALTER TABLE.. ADD INDEX statement in some cases #27687",
          "Fix the issue that the enforce-mpp configuration does not take effect in v5.0.4 #29252",
          "Fix the panic when using the CASE WHEN function on the ENUM data type #29357",
          "Fix wrong results of the microsecond function in vectorized expressions #29244",
          "Fix the issue of incomplete log information from the auto analyze result #29188",
          "Fix wrong results of the hour function in vectorized expression #28643",
          "Fix the unexpected error like tidb_cast to Int32 is not supported when the unsupported cast is pushed down to TiFlash #23907",
          "Fix a bug that the availability detection of MPP node does not work in some corner cases #3118",
          "Fix the DATA RACE issue when assigning MPP task ID #27952",
          "Fix the INDEX OUT OF RANGE error for a MPP query after deleting an empty dual table #28250",
          "Fix the TiDB panic when inserting invalid date values concurrently #25393",
          "Fix the unexpected can not found column in Schema column error for queries in the MPP mode #30980",
          "Fix the issue that TiDB might panic when TiFlash is shutting down #28096",
          "Fix the unexpected index out of range error when the planner is doing join reorder #24095",
          "Fix wrong results of the control functions (such as IF and CASE WHEN) when using the ENUM type data as parameters of such functions #23114",
          "Fix the wrong result of CONCAT(IFNULL(TIME(3)) #29498",
          "Fix wrong results of GREATEST and LEAST when passing in unsigned BIGINT arguments #30101",
          "Fix the issue that a SQL operation is canceled when its JSON type column joins its CHAR type column #29401",
          "Fix the data inconsistency issue caused by incorrect usage of lazy existence check and untouched key optimization #30410",
          "Fix the issue that window functions might return different results when using a transaction or not #29947",
          "Fix the issue that the SQL statements that contain cast(integer as char) union string return wrong results #29513",
          "Fix the issue that the length information is wrong when casting Decimal to String #29417",
          "Fix the issue that the Column 'col_name' in field list is ambiguous error is reported unexpectedly when a SQL statement contains natural join #25041",
          "Fix the issue that the GREATEST function returns inconsistent results due to different values of tidb_enable_vectorized_expression (set to on or off) #29434",
          "Fix the issue that the planner might cache invalid plans for join in some cases #28087",
          "Fix the issue that the index out of range [1] with length 1 error is reported when a SQL statement evaluates an aggregation result on the result of join in some cases #1978",
          "TiKV\nFix the issue that a down TiKV node causes the resolved timestamp to lag #11351\nFix the issue that batch messages are too large in Raft client implementation #9714\nFix a panic issue that occurs when Region merge, ConfChange, and Snapshot happen at the same time in extreme conditions #11475\nFix the issue that TiKV cannot detect the memory lock when TiKV perform a reverse table scan #11440\nFix the issue of negative sign when the decimal divide result is zero #29586\nFix the issue that the accumulation of GC tasks might cause TiKV to be OOM (out of memory) #11410\nFix the issue that the average latency of the by-instance gRPC requests is inaccurate in TiKV metrics #11299\nFix a memory leak caused by monitoring data of statistics threads #11195\nFix the issue of TiCDC panic that occurs when the downstream database is missing #11123\nFix the issue that TiCDC adds scan retries frequently due to the Congest error #11082\nFix the issue that the Raft connection is broken when the channel is full #11047\nFix the issue of TiKV panic that occurs when the files do not exist when TiDB Lightning imports data #10438\nFix the issue that TiDB cannot correctly identify whether the Int64 types in Max/Min functions are a signed integer or not, which causes the wrong calculation result of Max/Min #10158\nFix the issue that the node of a TiKV replica is down after the node gets snapshots because TiKV cannot modify the metadata accurately #10225\nFix the leak issue of the backup thread pool #10287\nFix the issue of casting invalid strings into floating-point numbers #23322",
          "Fix the issue that a down TiKV node causes the resolved timestamp to lag #11351",
          "Fix the issue that batch messages are too large in Raft client implementation #9714",
          "Fix a panic issue that occurs when Region merge, ConfChange, and Snapshot happen at the same time in extreme conditions #11475",
          "Fix the issue that TiKV cannot detect the memory lock when TiKV perform a reverse table scan #11440",
          "Fix the issue of negative sign when the decimal divide result is zero #29586",
          "Fix the issue that the accumulation of GC tasks might cause TiKV to be OOM (out of memory) #11410",
          "Fix the issue that the average latency of the by-instance gRPC requests is inaccurate in TiKV metrics #11299",
          "Fix a memory leak caused by monitoring data of statistics threads #11195",
          "Fix the issue of TiCDC panic that occurs when the downstream database is missing #11123",
          "Fix the issue that TiCDC adds scan retries frequently due to the Congest error #11082",
          "Fix the issue that the Raft connection is broken when the channel is full #11047",
          "Fix the issue of TiKV panic that occurs when the files do not exist when TiDB Lightning imports data #10438",
          "Fix the issue that TiDB cannot correctly identify whether the Int64 types in Max/Min functions are a signed integer or not, which causes the wrong calculation result of Max/Min #10158",
          "Fix the issue that the node of a TiKV replica is down after the node gets snapshots because TiKV cannot modify the metadata accurately #10225",
          "Fix the leak issue of the backup thread pool #10287",
          "Fix the issue of casting invalid strings into floating-point numbers #23322",
          "PD\nFix a panic issue that occurs after the TiKV node is removed #4344\nFix the issue that operator can get blocked due to down store #3353\nFix slow leader election caused by stuck Region syncer #3936\nFix the issue that the speed of removing peers is limited when repairing the down nodes #4090\nFix the issue that the hotspot cache cannot be cleared when the Region heartbeat is less than 60 seconds #4390",
          "Fix a panic issue that occurs after the TiKV node is removed #4344",
          "Fix the issue that operator can get blocked due to down store #3353",
          "Fix slow leader election caused by stuck Region syncer #3936",
          "Fix the issue that the speed of removing peers is limited when repairing the down nodes #4090",
          "Fix the issue that the hotspot cache cannot be cleared when the Region heartbeat is less than 60 seconds #4390",
          "TiFlash\nFix potential data inconsistency after altering a primary key column to a larger int data type\nFix the issue that TiFlash fails to start up on some platforms, such as ARM, due to the absence of the libnsl.so library\nFix the issue that the Store size metric does not match the actual data size on a disk\nFix the issue that TiFlash crashes due to a Cannot open file error\nFix occasional crashes of TiFlash when an MPP query is killed\nFix the unexpected error 3rd arguments of function substringUTF8 must be constants\nFix query failures caused by excessive OR conditions\nFix the bug that results of where <string> are wrong\nFix inconsistent behaviors of CastStringAsDecimal between TiFlash and TiDB/TiKV\nFix query failures caused by the error different types: expected Nullable(Int64), got Int64\nFix query failures caused by the error Unexpected type of column: Nullable(Nothing)\nFix query failures caused by overflow when comparing data in the DECIMAL data type",
          "Fix potential data inconsistency after altering a primary key column to a larger int data type",
          "Fix the issue that TiFlash fails to start up on some platforms, such as ARM, due to the absence of the libnsl.so library",
          "Fix the issue that the Store size metric does not match the actual data size on a disk",
          "Fix the issue that TiFlash crashes due to a Cannot open file error",
          "Fix occasional crashes of TiFlash when an MPP query is killed",
          "Fix the unexpected error 3rd arguments of function substringUTF8 must be constants",
          "Fix query failures caused by excessive OR conditions",
          "Fix the bug that results of where <string> are wrong",
          "Fix inconsistent behaviors of CastStringAsDecimal between TiFlash and TiDB/TiKV",
          "Fix query failures caused by the error different types: expected Nullable(Int64), got Int64",
          "Fix query failures caused by the error Unexpected type of column: Nullable(Nothing)",
          "Fix query failures caused by overflow when comparing data in the DECIMAL data type",
          "Tools\nTiCDC\nFix the issue that some partitioned tables without valid indexes might be ignored when force-replicate is enabled #2834\nFix the issue that cdc cli silently truncates user parameters when receiving unexpected parameters, causing the user input parameters to be lost #2303\nFix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978\nFix a possible panic issue when encoding some types of columns into Open Protocol format #2758\nFix the issue that Kafka may send excessively large messages by setting the default value of max-message-bytes to 10M #3081\nFix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061\nFix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386\nFix the TiCDC replication interruption issue when multiple TiKVs crash or during a forced restart #3288\nFix the negative value error in the changefeed checkpoint lag #3010\nFix the issue of overly frequent warnings caused by MySQL sink deadlock #2706\nFix the issue that Avro sink does not support parsing JSON type columns #3624\nFix the bug that TiCDC reads the incorrect schema snapshot from TiKV when the TiKV owner restarts #2603\nFix the memory leak issue after processing DDLs #3174\nFix the bug that the enable-old-value configuration item is not automatically set to true on the Canal protocol #3676\nFix the timezone error that occurs when the cdc server command runs on some Red Hat Enterprise Linux releases (such as 6.8 and 6.9) #3584\nFix the issue of the inaccurate txn_batch_size monitoring metric for Kafka sink #3431\nFix the issue that tikv_cdc_min_resolved_ts_no_change_for_1m keeps alerting when there is no changefeed #11017\nFix the TiCDC panic issue that occurs when manually cleaning the task status in etcd #2980\nFix the issue that changefeed does not fail fast enough when the ErrGCTTLExceeded error occurs #3111\nFix the issue that scanning stock data might fail due to TiKV performing GC when scanning stock data takes too long #2470\nFix OOM in container environments #1798\nBackup & Restore (BR)\nFix a bug that the average speed is inaccurately calculated for backup and restore #1405\nDumpling\nFix the bug that Dumpling becomes very slow when dumping tables with the composite primary key or unique key #29386",
          "TiCDC\nFix the issue that some partitioned tables without valid indexes might be ignored when force-replicate is enabled #2834\nFix the issue that cdc cli silently truncates user parameters when receiving unexpected parameters, causing the user input parameters to be lost #2303\nFix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978\nFix a possible panic issue when encoding some types of columns into Open Protocol format #2758\nFix the issue that Kafka may send excessively large messages by setting the default value of max-message-bytes to 10M #3081\nFix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061\nFix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386\nFix the TiCDC replication interruption issue when multiple TiKVs crash or during a forced restart #3288\nFix the negative value error in the changefeed checkpoint lag #3010\nFix the issue of overly frequent warnings caused by MySQL sink deadlock #2706\nFix the issue that Avro sink does not support parsing JSON type columns #3624\nFix the bug that TiCDC reads the incorrect schema snapshot from TiKV when the TiKV owner restarts #2603\nFix the memory leak issue after processing DDLs #3174\nFix the bug that the enable-old-value configuration item is not automatically set to true on the Canal protocol #3676\nFix the timezone error that occurs when the cdc server command runs on some Red Hat Enterprise Linux releases (such as 6.8 and 6.9) #3584\nFix the issue of the inaccurate txn_batch_size monitoring metric for Kafka sink #3431\nFix the issue that tikv_cdc_min_resolved_ts_no_change_for_1m keeps alerting when there is no changefeed #11017\nFix the TiCDC panic issue that occurs when manually cleaning the task status in etcd #2980\nFix the issue that changefeed does not fail fast enough when the ErrGCTTLExceeded error occurs #3111\nFix the issue that scanning stock data might fail due to TiKV performing GC when scanning stock data takes too long #2470\nFix OOM in container environments #1798",
          "Fix the issue that some partitioned tables without valid indexes might be ignored when force-replicate is enabled #2834",
          "Fix the issue that cdc cli silently truncates user parameters when receiving unexpected parameters, causing the user input parameters to be lost #2303",
          "Fix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978",
          "Fix a possible panic issue when encoding some types of columns into Open Protocol format #2758",
          "Fix the issue that Kafka may send excessively large messages by setting the default value of max-message-bytes to 10M #3081",
          "Fix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061",
          "Fix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386",
          "Fix the TiCDC replication interruption issue when multiple TiKVs crash or during a forced restart #3288",
          "Fix the negative value error in the changefeed checkpoint lag #3010",
          "Fix the issue of overly frequent warnings caused by MySQL sink deadlock #2706",
          "Fix the issue that Avro sink does not support parsing JSON type columns #3624",
          "Fix the bug that TiCDC reads the incorrect schema snapshot from TiKV when the TiKV owner restarts #2603",
          "Fix the memory leak issue after processing DDLs #3174",
          "Fix the bug that the enable-old-value configuration item is not automatically set to true on the Canal protocol #3676",
          "Fix the timezone error that occurs when the cdc server command runs on some Red Hat Enterprise Linux releases (such as 6.8 and 6.9) #3584",
          "Fix the issue of the inaccurate txn_batch_size monitoring metric for Kafka sink #3431",
          "Fix the issue that tikv_cdc_min_resolved_ts_no_change_for_1m keeps alerting when there is no changefeed #11017",
          "Fix the TiCDC panic issue that occurs when manually cleaning the task status in etcd #2980",
          "Fix the issue that changefeed does not fail fast enough when the ErrGCTTLExceeded error occurs #3111",
          "Fix the issue that scanning stock data might fail due to TiKV performing GC when scanning stock data takes too long #2470",
          "Fix OOM in container environments #1798",
          "Backup & Restore (BR)\nFix a bug that the average speed is inaccurately calculated for backup and restore #1405",
          "Fix a bug that the average speed is inaccurately calculated for backup and restore #1405",
          "Dumpling\nFix the bug that Dumpling becomes very slow when dumping tables with the composite primary key or unique key #29386",
          "Fix the bug that Dumpling becomes very slow when dumping tables with the composite primary key or unique key #29386"
        ]
      },
      {
        "version": "5.0.5",
        "date": "2021-12-03",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.0.5/",
        "changes": [
          "TiKV\nFix the issue that the GcKeys task does not work when it is called by multiple keys. Caused by this issue, compaction filter GC might not drop the MVCC deletion information. #11217",
          "Fix the issue that the GcKeys task does not work when it is called by multiple keys. Caused by this issue, compaction filter GC might not drop the MVCC deletion information. #11217"
        ]
      },
      {
        "version": "5.0.4",
        "date": "2021-09-27",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.0.4/",
        "changes": [
          "TiDB\nTrigger auto-analyze based on the histogram row count #24237\nStop sending requests to a TiFlash node for a period if the node has failed and restarted before #26757\nIncrease the split region upper limit to make split table and presplit more stable #26657\nSupport retry for MPP queries #26483\nCheck the availability of TiFlash before launching MPP queries #1807\nSupport the stable result mode to make the query result more stable #26084\nSupport the MySQL system variable init_connect and its associated features #18894\nThoroughly push down the COUNT(DISTINCT) aggregation function in the MPP mode #25861\nPrint log warnings when the aggregation function cannot be pushed down in EXPLAIN statements #25736\nAdd error labels for TiFlashQueryTotalCounter in Grafana dashboard #25327\nSupport getting the MVCC data of a clustered index table through a secondary index by HTTP API #24209\nOptimize the memory allocation of prepared statement in parser #24371",
          "Trigger auto-analyze based on the histogram row count #24237",
          "Stop sending requests to a TiFlash node for a period if the node has failed and restarted before #26757",
          "Increase the split region upper limit to make split table and presplit more stable #26657",
          "Support retry for MPP queries #26483",
          "Check the availability of TiFlash before launching MPP queries #1807",
          "Support the stable result mode to make the query result more stable #26084",
          "Support the MySQL system variable init_connect and its associated features #18894",
          "Thoroughly push down the COUNT(DISTINCT) aggregation function in the MPP mode #25861",
          "Print log warnings when the aggregation function cannot be pushed down in EXPLAIN statements #25736",
          "Add error labels for TiFlashQueryTotalCounter in Grafana dashboard #25327",
          "Support getting the MVCC data of a clustered index table through a secondary index by HTTP API #24209",
          "Optimize the memory allocation of prepared statement in parser #24371",
          "TiKV\nHandle read ready and write ready separately to reduce read latency #10475\nReduce the size of Resolved TS messages to save network bandwidth #2448\nDrop log instead of blocking threads when the slogger thread is overloaded and the queue is filled up #10841\nMake the slow log of TiKV coprocessor only consider the time spent on processing requests #10841\nMake prewrite as idempotent as possible to reduce the chance of undetermined errors #10587\nAvoid the false \"GC can not work\" alert under low write flow #10662\nMake the database to be restored always match the original cluster size during backup. #10643\nEnsure that the panic output is flushed to the log #9955",
          "Handle read ready and write ready separately to reduce read latency #10475",
          "Reduce the size of Resolved TS messages to save network bandwidth #2448",
          "Drop log instead of blocking threads when the slogger thread is overloaded and the queue is filled up #10841",
          "Make the slow log of TiKV coprocessor only consider the time spent on processing requests #10841",
          "Make prewrite as idempotent as possible to reduce the chance of undetermined errors #10587",
          "Avoid the false \"GC can not work\" alert under low write flow #10662",
          "Make the database to be restored always match the original cluster size during backup. #10643",
          "Ensure that the panic output is flushed to the log #9955",
          "PD\nImprove the performance of synchronizing Region information between PDs #3993",
          "Improve the performance of synchronizing Region information between PDs #3993",
          "Tools\nDumpling\nSupport backing up MySQL-compatible databases that do not support the START TRANSACTION ... WITH CONSISTENT SNAPSHOT or the SHOW CREATE TABLE syntax #309\nTiCDC\nOptimize memory management when Unified Sorter is using memory to sort #2553\nProhibit operating TiCDC clusters across major or minor versions #2598\nReduce the goroutine usage when a table's Regions are all transferred away from a TiKV node #2284\nRemove file sorter #2326\nAlways pull the old values from TiKV and the output is adjusted according to enable-old-value #2301\nImprove the error message returned when a PD endpoint misses the certificate #1973\nOptimize workerpool for fewer goroutines when concurrency is high #2211\nAdd a global gRPC connection pool and share gRPC connections among KV clients #2533",
          "Dumpling\nSupport backing up MySQL-compatible databases that do not support the START TRANSACTION ... WITH CONSISTENT SNAPSHOT or the SHOW CREATE TABLE syntax #309",
          "Support backing up MySQL-compatible databases that do not support the START TRANSACTION ... WITH CONSISTENT SNAPSHOT or the SHOW CREATE TABLE syntax #309",
          "TiCDC\nOptimize memory management when Unified Sorter is using memory to sort #2553\nProhibit operating TiCDC clusters across major or minor versions #2598\nReduce the goroutine usage when a table's Regions are all transferred away from a TiKV node #2284\nRemove file sorter #2326\nAlways pull the old values from TiKV and the output is adjusted according to enable-old-value #2301\nImprove the error message returned when a PD endpoint misses the certificate #1973\nOptimize workerpool for fewer goroutines when concurrency is high #2211\nAdd a global gRPC connection pool and share gRPC connections among KV clients #2533",
          "Optimize memory management when Unified Sorter is using memory to sort #2553",
          "Prohibit operating TiCDC clusters across major or minor versions #2598",
          "Reduce the goroutine usage when a table's Regions are all transferred away from a TiKV node #2284",
          "Remove file sorter #2326",
          "Always pull the old values from TiKV and the output is adjusted according to enable-old-value #2301",
          "Improve the error message returned when a PD endpoint misses the certificate #1973",
          "Optimize workerpool for fewer goroutines when concurrency is high #2211",
          "Add a global gRPC connection pool and share gRPC connections among KV clients #2533",
          "TiDB\nFix the issue that TiDB might panic when querying a partitioned table and the partition key has the IS NULL condition #23802\nFix the issue that the overflow check of the FLOAT64 type is different with that of MySQL #23897\nFix the wrong character set and collation for the case when expression #26662\nFix the issue that committing pessimistic transactions might cause write conflicts #25964\nFix a bug that the index keys in a pessimistic transaction might be repeatedly committed #26359 #10600\nFix the issue that TiDB might panic when resolving the async commit locks #25778\nFix a bug that a column might not be found when using INDEX MERGE #25045\nFix a bug that ALTER USER REQUIRE SSL clears users' authentication_string #25225\nFix a bug that the value of the tidb_gc_scan_lock_mode global variable on a new cluster shows \"PHYSICAL\" instead of the actual default mode \"LEGACY\" #25100\nFix the bug that the TIKV_REGION_PEERS system table does not show the correct DOWN status #24879\nFix the issue of memory leaks that occurs when HTTP API is used #24649\nFix the issue that views do not support DEFINER #24414\nFix the issue that tidb-server --help exits with the code 2 #24046\nFix the issue that setting the global variable dml_batch_size does not take effect #24709\nFix the issue that using read_from_storage and partitioned table at the same time causes an error #20372\nFix the issue that TiDB panics when executing the projection operator #24264\nFix the issue that statistics might cause queries to panic #24061\nFix the issue that using the approx_percentile function on a BIT column might panic #23662\nFix the issue that the metrics on the Coprocessor Cache panel in Grafana are wrong #26338\nFix the issue that concurrently truncating the same partition causes DDL statements to stuck #26229\nFix the issue of wrong query results that occurs when the session variable is used as the GROUP BY item #27106\nFix the wrong implicit conversion between VARCHAR and timestamp when joining tables #25902\nFix the wrong results in associated subquery statements #27233",
          "Fix the issue that TiDB might panic when querying a partitioned table and the partition key has the IS NULL condition #23802",
          "Fix the issue that the overflow check of the FLOAT64 type is different with that of MySQL #23897",
          "Fix the wrong character set and collation for the case when expression #26662",
          "Fix the issue that committing pessimistic transactions might cause write conflicts #25964",
          "Fix a bug that the index keys in a pessimistic transaction might be repeatedly committed #26359 #10600",
          "Fix the issue that TiDB might panic when resolving the async commit locks #25778",
          "Fix a bug that a column might not be found when using INDEX MERGE #25045",
          "Fix a bug that ALTER USER REQUIRE SSL clears users' authentication_string #25225",
          "Fix a bug that the value of the tidb_gc_scan_lock_mode global variable on a new cluster shows \"PHYSICAL\" instead of the actual default mode \"LEGACY\" #25100",
          "Fix the bug that the TIKV_REGION_PEERS system table does not show the correct DOWN status #24879",
          "Fix the issue of memory leaks that occurs when HTTP API is used #24649",
          "Fix the issue that views do not support DEFINER #24414",
          "Fix the issue that tidb-server --help exits with the code 2 #24046",
          "Fix the issue that setting the global variable dml_batch_size does not take effect #24709",
          "Fix the issue that using read_from_storage and partitioned table at the same time causes an error #20372",
          "Fix the issue that TiDB panics when executing the projection operator #24264",
          "Fix the issue that statistics might cause queries to panic #24061",
          "Fix the issue that using the approx_percentile function on a BIT column might panic #23662",
          "Fix the issue that the metrics on the Coprocessor Cache panel in Grafana are wrong #26338",
          "Fix the issue that concurrently truncating the same partition causes DDL statements to stuck #26229",
          "Fix the issue of wrong query results that occurs when the session variable is used as the GROUP BY item #27106",
          "Fix the wrong implicit conversion between VARCHAR and timestamp when joining tables #25902",
          "Fix the wrong results in associated subquery statements #27233",
          "TiKV\nFix the potential disk full issue caused by corrupted snapshot files #10813\nFix the TiKV panic issue that occurs when upgrading from a pre-5.0 version with Titan enabled #10843\nFix the issue that TiKV of a newer version cannot be rolled back to v5.0.x #10843\nFix the TiKV panic issue that occurs when upgrading from a pre-5.0 version to a 5.0 version or later. If a cluster was upgraded from TiKV v3.x with Titan enabled before the upgrade, this cluster might encounter the issue. #10774\nFix the parsing failure caused by the left pessimistic locks #26404\nFix the panic that occurs when calculating duration on certain platforms #10571\nFix the issue that the keys of batch_get_command in Load Base Split are unencoded #10542",
          "Fix the potential disk full issue caused by corrupted snapshot files #10813",
          "Fix the TiKV panic issue that occurs when upgrading from a pre-5.0 version with Titan enabled #10843",
          "Fix the issue that TiKV of a newer version cannot be rolled back to v5.0.x #10843",
          "Fix the TiKV panic issue that occurs when upgrading from a pre-5.0 version to a 5.0 version or later. If a cluster was upgraded from TiKV v3.x with Titan enabled before the upgrade, this cluster might encounter the issue. #10774",
          "Fix the parsing failure caused by the left pessimistic locks #26404",
          "Fix the panic that occurs when calculating duration on certain platforms #10571",
          "Fix the issue that the keys of batch_get_command in Load Base Split are unencoded #10542",
          "PD\nFix the issue that PD does not fix the down peers in time #4077\nFix the issue that the replica count of the default placement rules stays constant after replication.max-replicas is updated #3886\nFix a bug that PD might panic when scaling out TiKV #3868\nFix the scheduling conflict issue that occurs when multiple schedulers are running at same time #3807\nFix the issue that the scheduler might appear again even if it has been deleted #2572",
          "Fix the issue that PD does not fix the down peers in time #4077",
          "Fix the issue that the replica count of the default placement rules stays constant after replication.max-replicas is updated #3886",
          "Fix a bug that PD might panic when scaling out TiKV #3868",
          "Fix the scheduling conflict issue that occurs when multiple schedulers are running at same time #3807",
          "Fix the issue that the scheduler might appear again even if it has been deleted #2572",
          "TiFlash\nFix the potential panic issue that occurs when running table scan tasks\nFix the potential memory leak issue that occurs when executing MPP tasks\nFix a bug that TiFlash raises the duplicated region error when handling DAQ requests\nFix the issue of unexpected results when executing the aggregation functions COUNT or COUNT DISTINCT\nFix the potential panic issue that occurs when executing MPP tasks\nFix a potential bug that TiFlash cannot restore data when deployed on multiple disks\nFix the potential panic issue that occurs when deconstructing SharedQueryBlockInputStream\nFix the potential panic issue that occurs when deconstructing MPPTask\nFix the issue of unexpected results when TiFlash fails to establish MPP connections\nFix the potential panic issue that occurs when resolving locks\nFix the issue that the store size in metrics is inaccurate under heavy writing\nFix a bug of incorrect results that occurs when queries contain filters like CONSTANT, <, <=, >, >=, or COLUMN\nFix the potential issue that TiFlash cannot garbage-collect the delta data after running for a long time\nFix a potential bug that metrics display wrong values\nFix the potential issue of data inconsistency that occurs when TiFlash is deployed on multiple disks",
          "Fix the potential panic issue that occurs when running table scan tasks",
          "Fix the potential memory leak issue that occurs when executing MPP tasks",
          "Fix a bug that TiFlash raises the duplicated region error when handling DAQ requests",
          "Fix the issue of unexpected results when executing the aggregation functions COUNT or COUNT DISTINCT",
          "Fix the potential panic issue that occurs when executing MPP tasks",
          "Fix a potential bug that TiFlash cannot restore data when deployed on multiple disks",
          "Fix the potential panic issue that occurs when deconstructing SharedQueryBlockInputStream",
          "Fix the potential panic issue that occurs when deconstructing MPPTask",
          "Fix the issue of unexpected results when TiFlash fails to establish MPP connections",
          "Fix the potential panic issue that occurs when resolving locks",
          "Fix the issue that the store size in metrics is inaccurate under heavy writing",
          "Fix a bug of incorrect results that occurs when queries contain filters like CONSTANT, <, <=, >, >=, or COLUMN",
          "Fix the potential issue that TiFlash cannot garbage-collect the delta data after running for a long time",
          "Fix a potential bug that metrics display wrong values",
          "Fix the potential issue of data inconsistency that occurs when TiFlash is deployed on multiple disks",
          "Tools\nDumpling\nFix the issue that the execution of show table status is stuck in MySQL 8.0.3 or a later version #322\nTiCDC\nFix the issue of process panic that occurs when encoding the data types such as mysql.TypeString, mysql.TypeVarString, mysql.TypeVarchar into JSON #2758\nFix a data inconsistency issue that occurs because multiple processors might write data to the same table when this table is being re-scheduled #2417\nDecrease the gRPC window size to avoid the OOM that occurs when TiCDC captures too many Regions #2724\nFix the error that the gRPC connection is frequently broken when the memory pressure is high #2202\nFix a bug that causes TiCDC to panic on the unsigned TINYINT type #2648\nFix the issue that TiCDC Open Protocol outputs an empty value when inserting a transaction and deleting data of the same row in the upstream #2612\nFix a bug that DDL handling fails when a changefeed starts at the finish TS of a schema change #2603\nFix the issue that irresponsive downstreams interrupt the replication task in old owner until the task times out #2295\nFix a bug in metadata management #2558\nFix the issue of data inconsistency that occurs after the TiCDC owner switch #2230\nFix the issue that outdated capture might appear in the output of the capture list command #2388\nFix the ErrSchemaStorageTableMiss error that occurs when the DDL Job duplication is encountered in the integrated test #2422\nFix the bug that a changefeed cannot be removed if the ErrGCTTLExceeded error occurs #2391\nFix a bug that replicating large tables to cdclog fails #1259 #2424\nFix the CLI backward compatibility issue #2373\nFix the issue of insecure concurrent access to the map in SinkManager #2299\nFix the issue of potential DDL loss when the owner crashes when executing DDL statements #1260\nFix the issue that the lock is resolved immediately after a Region is initialized #2188\nFix the issue of extra partition dispatching that occurs when adding a new partitioned table #2263\nFix the issue that TiCDC keeps warning on removed changefeeds #2156",
          "Dumpling\nFix the issue that the execution of show table status is stuck in MySQL 8.0.3 or a later version #322",
          "Fix the issue that the execution of show table status is stuck in MySQL 8.0.3 or a later version #322",
          "TiCDC\nFix the issue of process panic that occurs when encoding the data types such as mysql.TypeString, mysql.TypeVarString, mysql.TypeVarchar into JSON #2758\nFix a data inconsistency issue that occurs because multiple processors might write data to the same table when this table is being re-scheduled #2417\nDecrease the gRPC window size to avoid the OOM that occurs when TiCDC captures too many Regions #2724\nFix the error that the gRPC connection is frequently broken when the memory pressure is high #2202\nFix a bug that causes TiCDC to panic on the unsigned TINYINT type #2648\nFix the issue that TiCDC Open Protocol outputs an empty value when inserting a transaction and deleting data of the same row in the upstream #2612\nFix a bug that DDL handling fails when a changefeed starts at the finish TS of a schema change #2603\nFix the issue that irresponsive downstreams interrupt the replication task in old owner until the task times out #2295\nFix a bug in metadata management #2558\nFix the issue of data inconsistency that occurs after the TiCDC owner switch #2230\nFix the issue that outdated capture might appear in the output of the capture list command #2388\nFix the ErrSchemaStorageTableMiss error that occurs when the DDL Job duplication is encountered in the integrated test #2422\nFix the bug that a changefeed cannot be removed if the ErrGCTTLExceeded error occurs #2391\nFix a bug that replicating large tables to cdclog fails #1259 #2424\nFix the CLI backward compatibility issue #2373\nFix the issue of insecure concurrent access to the map in SinkManager #2299\nFix the issue of potential DDL loss when the owner crashes when executing DDL statements #1260\nFix the issue that the lock is resolved immediately after a Region is initialized #2188\nFix the issue of extra partition dispatching that occurs when adding a new partitioned table #2263\nFix the issue that TiCDC keeps warning on removed changefeeds #2156",
          "Fix the issue of process panic that occurs when encoding the data types such as mysql.TypeString, mysql.TypeVarString, mysql.TypeVarchar into JSON #2758",
          "Fix a data inconsistency issue that occurs because multiple processors might write data to the same table when this table is being re-scheduled #2417",
          "Decrease the gRPC window size to avoid the OOM that occurs when TiCDC captures too many Regions #2724",
          "Fix the error that the gRPC connection is frequently broken when the memory pressure is high #2202",
          "Fix a bug that causes TiCDC to panic on the unsigned TINYINT type #2648",
          "Fix the issue that TiCDC Open Protocol outputs an empty value when inserting a transaction and deleting data of the same row in the upstream #2612",
          "Fix a bug that DDL handling fails when a changefeed starts at the finish TS of a schema change #2603",
          "Fix the issue that irresponsive downstreams interrupt the replication task in old owner until the task times out #2295",
          "Fix a bug in metadata management #2558",
          "Fix the issue of data inconsistency that occurs after the TiCDC owner switch #2230",
          "Fix the issue that outdated capture might appear in the output of the capture list command #2388",
          "Fix the ErrSchemaStorageTableMiss error that occurs when the DDL Job duplication is encountered in the integrated test #2422",
          "Fix the bug that a changefeed cannot be removed if the ErrGCTTLExceeded error occurs #2391",
          "Fix a bug that replicating large tables to cdclog fails #1259 #2424",
          "Fix the CLI backward compatibility issue #2373",
          "Fix the issue of insecure concurrent access to the map in SinkManager #2299",
          "Fix the issue of potential DDL loss when the owner crashes when executing DDL statements #1260",
          "Fix the issue that the lock is resolved immediately after a Region is initialized #2188",
          "Fix the issue of extra partition dispatching that occurs when adding a new partitioned table #2263",
          "Fix the issue that TiCDC keeps warning on removed changefeeds #2156"
        ]
      },
      {
        "version": "5.0.3",
        "date": "2021-07-02",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.0.3/",
        "changes": [
          "TiDB\nSupport pushing down the TopN operator to TiFlash #25162\nSupport pushing down the built-in function json_unquote() to TiKV #24415\nSupport removing the union branch from the dual table #25614\nSupport pushing down the built-in function replace() to TiFlash #25565\nSupport pushing down the built-in functions unix_timestamp(), concat(), year(), day(), datediff(), datesub(), and concat_ws() to TiFlash #25564\nOptimize the aggregate operator's cost factor #25241\nSupport pushing down the Limit operator to TiFlash #25159\nSupport pushing down the built-in function str_to_date to TiFlash #25148\nAllow the MPP outer join to choose the build table based on the table row count #25142\nSupport pushing down the built-in functions left(), right(), and abs() to TiFlash #25133\nSupport pushing down the Broadcast Cartesian join to TiFlash #25106\nSupport pushing down the Union All operator to TiFlash #25051\nSupport balancing the MPP query workload among different TiFlash nodes based on Regions #24724\nSupport invalidating stale Regions in the cache after the MPP query is executed #24432\nImprove the MySQL compatibility of the built-in function str_to_date for the format specifiers %b/%M/%r/%T #25767",
          "Support pushing down the TopN operator to TiFlash #25162",
          "Support pushing down the built-in function json_unquote() to TiKV #24415",
          "Support removing the union branch from the dual table #25614",
          "Support pushing down the built-in function replace() to TiFlash #25565",
          "Support pushing down the built-in functions unix_timestamp(), concat(), year(), day(), datediff(), datesub(), and concat_ws() to TiFlash #25564",
          "Optimize the aggregate operator's cost factor #25241",
          "Support pushing down the Limit operator to TiFlash #25159",
          "Support pushing down the built-in function str_to_date to TiFlash #25148",
          "Allow the MPP outer join to choose the build table based on the table row count #25142",
          "Support pushing down the built-in functions left(), right(), and abs() to TiFlash #25133",
          "Support pushing down the Broadcast Cartesian join to TiFlash #25106",
          "Support pushing down the Union All operator to TiFlash #25051",
          "Support balancing the MPP query workload among different TiFlash nodes based on Regions #24724",
          "Support invalidating stale Regions in the cache after the MPP query is executed #24432",
          "Improve the MySQL compatibility of the built-in function str_to_date for the format specifiers %b/%M/%r/%T #25767",
          "TiKV\nLimit the TiCDC sink's memory consumption #10305\nAdd the memory-bounded upper limit for the TiCDC old value cache #10313",
          "Limit the TiCDC sink's memory consumption #10305",
          "Add the memory-bounded upper limit for the TiCDC old value cache #10313",
          "PD\nUpdate TiDB Dashboard to v2021.06.15.1 #3798",
          "Update TiDB Dashboard to v2021.06.15.1 #3798",
          "TiFlash\nSupport casting the STRING type to the DOUBLE type\nSupport the STR_TO_DATE() function\nOptimize the non-joined data in right outer join using multiple threads\nSupport the Cartesian join\nSupport the LEFT() and RIGHT() functions\nSupport automatically invalidating stale Regions in MPP queries\nSupport the ABS() function",
          "Support casting the STRING type to the DOUBLE type",
          "Support the STR_TO_DATE() function",
          "Optimize the non-joined data in right outer join using multiple threads",
          "Support the Cartesian join",
          "Support the LEFT() and RIGHT() functions",
          "Support automatically invalidating stale Regions in MPP queries",
          "Support the ABS() function",
          "Tools\nTiCDC\nRefine gRPC's reconnection logic and increase the KV client's throughput #1586 #1501 #1682 #1393 #1847 #1905 #1904\nMake the sorter I/O errors more user-friendly",
          "TiCDC\nRefine gRPC's reconnection logic and increase the KV client's throughput #1586 #1501 #1682 #1393 #1847 #1905 #1904\nMake the sorter I/O errors more user-friendly",
          "Refine gRPC's reconnection logic and increase the KV client's throughput #1586 #1501 #1682 #1393 #1847 #1905 #1904",
          "Make the sorter I/O errors more user-friendly",
          "TiDB\nFix the issue that an incorrect result is returned when using merge join on the SET type column #25669\nFix the data corruption issue in the IN expression's arguments #25591\nAvoid the sessions of GC being affected by global variables #24976\nFix the panic issue that occurs when using limit in the window function queries #25344\nFix the wrong value returned when querying a partitioned table using Limit #24636\nFix the issue that IFNULL does not correctly take effect on the ENUM or SET type column #24944\nFix the wrong results caused by changing the count in the join subqueries to first_row #24865\nFix the query hang issue that occurs when ParallelApply is used under the TopN operator #24930\nFix the issue that more results than expected are returned when executing SQL statements using multi-column prefix indexes #24356\nFix the issue that the <=> operator cannot correctly take effect #24477\nFix the data race issue of the parallel Apply operator #23280\nFix the issue that the index out of range error is reported when sorting the IndexMerge results of the PartitionUnion operator #23919\nFix the issue that setting the tidb_snapshot variable to an unexpectedly large value might damage the transaction isolation #25680\nFix the issue that the ODBC-styled constant (for example, {d '2020-01-01'}) cannot be used as the expression #25531\nFix the issue that SELECT DISTINCT converted to Batch Get causes incorrect results #25320\nFix the issue that backing off queries from TiFlash to TiKV cannot be triggered #23665 #24421\nFix the index-out-of-range error that occurs when checking only_full_group_by #23839)\nFix the issue that the result of index join in correlated subqueries is wrong #25799",
          "Fix the issue that an incorrect result is returned when using merge join on the SET type column #25669",
          "Fix the data corruption issue in the IN expression's arguments #25591",
          "Avoid the sessions of GC being affected by global variables #24976",
          "Fix the panic issue that occurs when using limit in the window function queries #25344",
          "Fix the wrong value returned when querying a partitioned table using Limit #24636",
          "Fix the issue that IFNULL does not correctly take effect on the ENUM or SET type column #24944",
          "Fix the wrong results caused by changing the count in the join subqueries to first_row #24865",
          "Fix the query hang issue that occurs when ParallelApply is used under the TopN operator #24930",
          "Fix the issue that more results than expected are returned when executing SQL statements using multi-column prefix indexes #24356",
          "Fix the issue that the <=> operator cannot correctly take effect #24477",
          "Fix the data race issue of the parallel Apply operator #23280",
          "Fix the issue that the index out of range error is reported when sorting the IndexMerge results of the PartitionUnion operator #23919",
          "Fix the issue that setting the tidb_snapshot variable to an unexpectedly large value might damage the transaction isolation #25680",
          "Fix the issue that the ODBC-styled constant (for example, {d '2020-01-01'}) cannot be used as the expression #25531",
          "Fix the issue that SELECT DISTINCT converted to Batch Get causes incorrect results #25320",
          "Fix the issue that backing off queries from TiFlash to TiKV cannot be triggered #23665 #24421",
          "Fix the index-out-of-range error that occurs when checking only_full_group_by #23839)",
          "Fix the issue that the result of index join in correlated subqueries is wrong #25799",
          "TiKV\nFix the wrong tikv_raftstore_hibernated_peer_state metric #10330\nFix the wrong arguments type of the json_unquote() function in the coprocessor #10176\nSkip clearing callback during graceful shutdown to avoid breaking ACID in some cases #10353 #10307\nFix a bug that the read index is shared for replica reads on a Leader #10347\nFix the wrong function that casts DOUBLE to DOUBLE #25200",
          "Fix the wrong tikv_raftstore_hibernated_peer_state metric #10330",
          "Fix the wrong arguments type of the json_unquote() function in the coprocessor #10176",
          "Skip clearing callback during graceful shutdown to avoid breaking ACID in some cases #10353 #10307",
          "Fix a bug that the read index is shared for replica reads on a Leader #10347",
          "Fix the wrong function that casts DOUBLE to DOUBLE #25200",
          "PD\nFix the data race issue that occurs when loading TTL configurations after the scheduler is started #3771\nFix a bug that the is_learner field of the TIKV_REGION_PEERS table in TiDB is incorrect #3372 #24293\nFix the issue that when all TiKV nodes in a zone are offline or down, PD does not schedule replicas to other zones #3705\nFix the issue that PD might get panic after the scatter Region scheduler is added #3762",
          "Fix the data race issue that occurs when loading TTL configurations after the scheduler is started #3771",
          "Fix a bug that the is_learner field of the TIKV_REGION_PEERS table in TiDB is incorrect #3372 #24293",
          "Fix the issue that when all TiKV nodes in a zone are offline or down, PD does not schedule replicas to other zones #3705",
          "Fix the issue that PD might get panic after the scatter Region scheduler is added #3762",
          "TiFlash\nFix the issue that TiFlash keeps restarting because of the split failure\nFix the potential issue that TiFlash cannot delete the delta data\nFix a bug that TiFlash adds wrong padding for non-binary characters in the CAST function\nFix the issue of incorrect results when handling aggregation queries with complex GROUP BY columns\nFix the TiFlash panic issue that occurs under heavy write pressure\nFix the panic that occurs when the right jon key is not nullalbe and the left join key is nullable\nFix the potential issue that the read-index requests take a long time\nFix the panic issue that occurs when the read load is heavy\nFix the panic issue that might occur when the Date_Format function is called with the STRING type argument and NULL values",
          "Fix the issue that TiFlash keeps restarting because of the split failure",
          "Fix the potential issue that TiFlash cannot delete the delta data",
          "Fix a bug that TiFlash adds wrong padding for non-binary characters in the CAST function",
          "Fix the issue of incorrect results when handling aggregation queries with complex GROUP BY columns",
          "Fix the TiFlash panic issue that occurs under heavy write pressure",
          "Fix the panic that occurs when the right jon key is not nullalbe and the left join key is nullable",
          "Fix the potential issue that the read-index requests take a long time",
          "Fix the panic issue that occurs when the read load is heavy",
          "Fix the panic issue that might occur when the Date_Format function is called with the STRING type argument and NULL values",
          "Tools\nTiCDC\nFix the issue that TiCDC owner exits when refreshing the checkpoint #1902\nFix a bug that some MySQL connection might leak after MySQL sink meets the error and pauses #1946\nFix the panic issue that occurs when TiCDC fails to read /proc/meminfo #2024\nReduce TiCDC's runtime memory consumption #2012 #1958\nFix a bug that might cause TiCDC server panic due to the late calculation of resolved ts #1576\nFix the potential deadlock issue for the processor #2142\nBackup & Restore (BR)\nFix a bug that all system tables are filtered during restore #1197 #1201\nFix the issue that Backup & Restore reports the error of \"file already exists\" when TDE is enabled during the restore #1179\nTiDB Lightning\nFix the TiDB Lightning panic issue for some special data #1213\nFix the EOF error reported when TiDB Lightning splits the imported large CSV files #1133\nFix a bug that an excessively large base value is generated when TiDB Lightning imports tables with the auto_increment column of the FLOAT or DOUBLE type #1186\nFix the issue that TiDB fails to parse the DECIMAL type data in Parquet files #1277",
          "TiCDC\nFix the issue that TiCDC owner exits when refreshing the checkpoint #1902\nFix a bug that some MySQL connection might leak after MySQL sink meets the error and pauses #1946\nFix the panic issue that occurs when TiCDC fails to read /proc/meminfo #2024\nReduce TiCDC's runtime memory consumption #2012 #1958\nFix a bug that might cause TiCDC server panic due to the late calculation of resolved ts #1576\nFix the potential deadlock issue for the processor #2142",
          "Fix the issue that TiCDC owner exits when refreshing the checkpoint #1902",
          "Fix a bug that some MySQL connection might leak after MySQL sink meets the error and pauses #1946",
          "Fix the panic issue that occurs when TiCDC fails to read /proc/meminfo #2024",
          "Reduce TiCDC's runtime memory consumption #2012 #1958",
          "Fix a bug that might cause TiCDC server panic due to the late calculation of resolved ts #1576",
          "Fix the potential deadlock issue for the processor #2142",
          "Backup & Restore (BR)\nFix a bug that all system tables are filtered during restore #1197 #1201\nFix the issue that Backup & Restore reports the error of \"file already exists\" when TDE is enabled during the restore #1179",
          "Fix a bug that all system tables are filtered during restore #1197 #1201",
          "Fix the issue that Backup & Restore reports the error of \"file already exists\" when TDE is enabled during the restore #1179",
          "TiDB Lightning\nFix the TiDB Lightning panic issue for some special data #1213\nFix the EOF error reported when TiDB Lightning splits the imported large CSV files #1133\nFix a bug that an excessively large base value is generated when TiDB Lightning imports tables with the auto_increment column of the FLOAT or DOUBLE type #1186\nFix the issue that TiDB fails to parse the DECIMAL type data in Parquet files #1277",
          "Fix the TiDB Lightning panic issue for some special data #1213",
          "Fix the EOF error reported when TiDB Lightning splits the imported large CSV files #1133",
          "Fix a bug that an excessively large base value is generated when TiDB Lightning imports tables with the auto_increment column of the FLOAT or DOUBLE type #1186",
          "Fix the issue that TiDB fails to parse the DECIMAL type data in Parquet files #1277"
        ]
      },
      {
        "version": "5.0.2",
        "date": "2021-06-10",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.0.2/",
        "changes": [
          "TiKV\nEnable the Hibernate Region feature by default #10266",
          "Enable the Hibernate Region feature by default #10266",
          "TiDB\nAvoid frequently reading the mysql.stats_histograms table if the cached statistics is up-to-date to avoid high CPU usage #24317",
          "Avoid frequently reading the mysql.stats_histograms table if the cached statistics is up-to-date to avoid high CPU usage #24317",
          "TiKV\nBR now supports the S3-compatible storage using the virtual-host addressing mode #10243\nSupport the back pressure for TiCDC's scan speed #10151\nReduce the memory usage of TiCDC's initial scan #10133\nImprove the cache hit ratio of the TiCDC's Old Value feature in the pessimistic transaction #10089\nSplit Regions more evenly to mitigate the issue that the growth of Region size exceeds the splitting speed when there are hotspot writes #9785",
          "BR now supports the S3-compatible storage using the virtual-host addressing mode #10243",
          "Support the back pressure for TiCDC's scan speed #10151",
          "Reduce the memory usage of TiCDC's initial scan #10133",
          "Improve the cache hit ratio of the TiCDC's Old Value feature in the pessimistic transaction #10089",
          "Split Regions more evenly to mitigate the issue that the growth of Region size exceeds the splitting speed when there are hotspot writes #9785",
          "TiFlash\nOptimize the table lock to prevent DDL jobs and data reads from blocking each other\nSupport casting the INTEGER or REAL type to REAL type",
          "Optimize the table lock to prevent DDL jobs and data reads from blocking each other",
          "Support casting the INTEGER or REAL type to REAL type",
          "Tools\nTiCDC\nAdd monitoring metrics for the table memory consumption #1885\nOptimize the memory and CPU usages during the sorting stage #1863\nDelete some useless log information that might cause user confusion #1759\nBackup & Restore (BR)\nClarify some ambiguous error messages #1132\nSupport checking the cluster version of a backup #1091\nSupport backing up and restoring system tables in the mysql schema #1143 #1078\nDumpling\nFix the issue that no error is output when a backup operation fails #280",
          "TiCDC\nAdd monitoring metrics for the table memory consumption #1885\nOptimize the memory and CPU usages during the sorting stage #1863\nDelete some useless log information that might cause user confusion #1759",
          "Add monitoring metrics for the table memory consumption #1885",
          "Optimize the memory and CPU usages during the sorting stage #1863",
          "Delete some useless log information that might cause user confusion #1759",
          "Backup & Restore (BR)\nClarify some ambiguous error messages #1132\nSupport checking the cluster version of a backup #1091\nSupport backing up and restoring system tables in the mysql schema #1143 #1078",
          "Clarify some ambiguous error messages #1132",
          "Support checking the cluster version of a backup #1091",
          "Support backing up and restoring system tables in the mysql schema #1143 #1078",
          "Dumpling\nFix the issue that no error is output when a backup operation fails #280",
          "Fix the issue that no error is output when a backup operation fails #280",
          "TiDB\nFix the panic issue caused by using the prefix index and index join in some cases #24547 #24716 #24717\nFix the issue that the prepared plan cache of point get is incorrectly used by the point get statement in the transaction #24741\nFix the issue of writing the wrong prefix index value when the collation is ascii_bin or latin1_bin #24569\nFix the issue that the ongoing transaction might be interrupted by the GC worker #24591\nFix a bug that the point query might get wrong on the clustered index when new-collation is enabled but new-row-format is disabled #24541\nRefactor the conversion of partition keys for shuffle hash join #24490\nFix the panic issue that occurs when building the plan for queries that contain the HAVING clause #24045\nFix the issue that the column pruning improvement causes the Apply and Join operators' results to go wrong #23887\nFix a bug that the primary lock fallen back from async commit cannot be resolved #24384\nFix a GC issue of statistics that might cause duplicated fm-sketch records #24357\nAvoid unnecessary pessimistic rollback when the pessimistic locking receives the ErrKeyExists error #23799\nFix the issue that numeric literals cannot be recognized when the sql_mode contains ANSI_QUOTES #24429\nForbid statements such as INSERT INTO table PARTITION (<partitions>) ... ON DUPLICATE KEY UPDATE to read data from non-listed partitions #24746\nFix the potential index out of range error when a SQL statement contains both GROUP BY and UNION #24281\nFix the issue that the CONCAT function incorrectly handles the collation #24296\nFix the issue that the collation_server global variable does not take effect in new sessions #24156",
          "Fix the panic issue caused by using the prefix index and index join in some cases #24547 #24716 #24717",
          "Fix the issue that the prepared plan cache of point get is incorrectly used by the point get statement in the transaction #24741",
          "Fix the issue of writing the wrong prefix index value when the collation is ascii_bin or latin1_bin #24569",
          "Fix the issue that the ongoing transaction might be interrupted by the GC worker #24591",
          "Fix a bug that the point query might get wrong on the clustered index when new-collation is enabled but new-row-format is disabled #24541",
          "Refactor the conversion of partition keys for shuffle hash join #24490",
          "Fix the panic issue that occurs when building the plan for queries that contain the HAVING clause #24045",
          "Fix the issue that the column pruning improvement causes the Apply and Join operators' results to go wrong #23887",
          "Fix a bug that the primary lock fallen back from async commit cannot be resolved #24384",
          "Fix a GC issue of statistics that might cause duplicated fm-sketch records #24357",
          "Avoid unnecessary pessimistic rollback when the pessimistic locking receives the ErrKeyExists error #23799",
          "Fix the issue that numeric literals cannot be recognized when the sql_mode contains ANSI_QUOTES #24429",
          "Forbid statements such as INSERT INTO table PARTITION (<partitions>) ... ON DUPLICATE KEY UPDATE to read data from non-listed partitions #24746",
          "Fix the potential index out of range error when a SQL statement contains both GROUP BY and UNION #24281",
          "Fix the issue that the CONCAT function incorrectly handles the collation #24296",
          "Fix the issue that the collation_server global variable does not take effect in new sessions #24156",
          "TiKV\nFix a TiCDC OOM issue caused by reading old values #9996 #9981\nFix the issue of empty value in the secondary index for the clustered primary key column when collation is latin1_bin #24548\nAdd the abort-on-panic configuration, which allows TiKV to generate the core dump file when panic occurs. Users still need to correctly configure the environment to enable core dump #10216\nFix the performance regression issue of point get queries that occurs when TiKV is not busy #10046",
          "Fix a TiCDC OOM issue caused by reading old values #9996 #9981",
          "Fix the issue of empty value in the secondary index for the clustered primary key column when collation is latin1_bin #24548",
          "Add the abort-on-panic configuration, which allows TiKV to generate the core dump file when panic occurs. Users still need to correctly configure the environment to enable core dump #10216",
          "Fix the performance regression issue of point get queries that occurs when TiKV is not busy #10046",
          "PD\nFix the issue that the PD Leader re-election is slow when there are many stores #3697\nFix the panic issue that occurs when removing the evict leader scheduler from a non-existent store #3660\nFix the issue that the statistics are not updated after offline peers are merged #3611",
          "Fix the issue that the PD Leader re-election is slow when there are many stores #3697",
          "Fix the panic issue that occurs when removing the evict leader scheduler from a non-existent store #3660",
          "Fix the issue that the statistics are not updated after offline peers are merged #3611",
          "TiFlash\nFix the issue of incorrect results when cloning shared delta index concurrently\nFix the potential issue that TiFlash fails to restart with incomplete data\nFix the issue that old dm files are not removed automatically\nFix the potential panic that occurs when the Compaction Filter feature is enabled\nFix the potential issue that ExchangeSender sends duplicated data\nFix the issue that TiFlash cannot resolve the lock fallen back from async commit\nFix the issue of incorrect results returned when the casted result of the TIMEZONE type contains the TIMESTAMP type\nFix the TiFlash panic issue that occurs during Segment Split\nFix the issue that the execution information about the non-root MPP task is not accurate",
          "Fix the issue of incorrect results when cloning shared delta index concurrently",
          "Fix the potential issue that TiFlash fails to restart with incomplete data",
          "Fix the issue that old dm files are not removed automatically",
          "Fix the potential panic that occurs when the Compaction Filter feature is enabled",
          "Fix the potential issue that ExchangeSender sends duplicated data",
          "Fix the issue that TiFlash cannot resolve the lock fallen back from async commit",
          "Fix the issue of incorrect results returned when the casted result of the TIMEZONE type contains the TIMESTAMP type",
          "Fix the TiFlash panic issue that occurs during Segment Split",
          "Fix the issue that the execution information about the non-root MPP task is not accurate",
          "Tools\nTiCDC\nFix the issue that the time zone information is lost in the Avro output #1712\nSupport cleaning up stale temporary files in Unified Sorter and forbid sharing the sort-dir directory #1742\nFix a deadlock bug in the KV client that occurs when many stale Regions exist #1599\nFix the wrong help information in the --cert-allowed-cn flag #1697\nRevert the update for explicit_defaults_for_timestamp which requires the SUPER privilege when replicating data to MySQL #1750\nSupport the sink flow control to reduce the risk of memory overflow #1840\nFix a bug that the replication task might stop when moving a table #1828\nFix the issue that the TiKV GC safe point is blocked due to the stagnation of TiCDC changefeed checkpoint #1759\nBackup & Restore (BR)\nFix the issue that the DELETE events are lost during the log restore #1063\nFix a bug that causes BR to send too many useless RPC requests to TiKV #1037\nFix the issue that no error is output when a backup operation fails #1043\nTiDB Lightning\nFix the issue of TiDB Lightning panic that occurs when generating KV data #1127\nFix the issue that TiDB Lightning in the TiDB-backend mode cannot load any data when the autocommit is disabled #1104\nFix a bug that the batch split Region fails due to the total key size exceeding the raft entry limit during the data import #969",
          "TiCDC\nFix the issue that the time zone information is lost in the Avro output #1712\nSupport cleaning up stale temporary files in Unified Sorter and forbid sharing the sort-dir directory #1742\nFix a deadlock bug in the KV client that occurs when many stale Regions exist #1599\nFix the wrong help information in the --cert-allowed-cn flag #1697\nRevert the update for explicit_defaults_for_timestamp which requires the SUPER privilege when replicating data to MySQL #1750\nSupport the sink flow control to reduce the risk of memory overflow #1840\nFix a bug that the replication task might stop when moving a table #1828\nFix the issue that the TiKV GC safe point is blocked due to the stagnation of TiCDC changefeed checkpoint #1759",
          "Fix the issue that the time zone information is lost in the Avro output #1712",
          "Support cleaning up stale temporary files in Unified Sorter and forbid sharing the sort-dir directory #1742",
          "Fix a deadlock bug in the KV client that occurs when many stale Regions exist #1599",
          "Fix the wrong help information in the --cert-allowed-cn flag #1697",
          "Revert the update for explicit_defaults_for_timestamp which requires the SUPER privilege when replicating data to MySQL #1750",
          "Support the sink flow control to reduce the risk of memory overflow #1840",
          "Fix a bug that the replication task might stop when moving a table #1828",
          "Fix the issue that the TiKV GC safe point is blocked due to the stagnation of TiCDC changefeed checkpoint #1759",
          "Backup & Restore (BR)\nFix the issue that the DELETE events are lost during the log restore #1063\nFix a bug that causes BR to send too many useless RPC requests to TiKV #1037\nFix the issue that no error is output when a backup operation fails #1043",
          "Fix the issue that the DELETE events are lost during the log restore #1063",
          "Fix a bug that causes BR to send too many useless RPC requests to TiKV #1037",
          "Fix the issue that no error is output when a backup operation fails #1043",
          "TiDB Lightning\nFix the issue of TiDB Lightning panic that occurs when generating KV data #1127\nFix the issue that TiDB Lightning in the TiDB-backend mode cannot load any data when the autocommit is disabled #1104\nFix a bug that the batch split Region fails due to the total key size exceeding the raft entry limit during the data import #969",
          "Fix the issue of TiDB Lightning panic that occurs when generating KV data #1127",
          "Fix the issue that TiDB Lightning in the TiDB-backend mode cannot load any data when the autocommit is disabled #1104",
          "Fix a bug that the batch split Region fails due to the total key size exceeding the raft entry limit during the data import #969"
        ]
      },
      {
        "version": "5.0.1",
        "date": "2021-04-24",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.0.1/",
        "changes": [
          "TiDB\nSupport the built-in function VITESS_HASH() #23915",
          "Support the built-in function VITESS_HASH() #23915",
          "TiKV\nUse zstd to compress the Region snapshot #10005",
          "Use zstd to compress the Region snapshot #10005",
          "PD\nModify the Region score calculator to better satisfy isomerous stores #3605\nAvoid unexpected statistics after adding the scatter region scheduler #3602",
          "Modify the Region score calculator to better satisfy isomerous stores #3605",
          "Avoid unexpected statistics after adding the scatter region scheduler #3602",
          "Tools\nBackup & Restore (BR)\nRemove some misleading information from the summary log #1009",
          "Backup & Restore (BR)\nRemove some misleading information from the summary log #1009",
          "Remove some misleading information from the summary log #1009",
          "TiDB\nFix the issue that the execution result of project elimination might be wrong when the projection result is empty #24093\nFix the issue of wrong query results when a column contains NULL values in some cases #24063\nForbid generating MPP plans when the scan contains virtual columns #24058\nFix the wrong reuse of PointGet and TableDual in Plan Cache #24043\nFix the error that occurs when the optimizer builds the IndexMerge plan for clustered indexes #24042\nFix the type inference of the BIT-type errors #24027\nFix the issue that some optimizer hints do not take effect when the PointGet operator exists #23685\nFix the issue that DDL operations might fail when rolling back due to an error #24080\nFix the issue that the index range of the binary literal constant is incorrectly built #24041\nFix the potential wrong results of the IN clause in some cases #24023\nFix the wrong results of some string functions #23879\nUsers now need both INSERT and DELETE privileges on a table to perform REPLACE operations #23939\nFix the performance regression when executing the point query #24070\nFix the wrong TableDual plans caused by incorrectly comparing binaries and bytes #23918",
          "Fix the issue that the execution result of project elimination might be wrong when the projection result is empty #24093",
          "Fix the issue of wrong query results when a column contains NULL values in some cases #24063",
          "Forbid generating MPP plans when the scan contains virtual columns #24058",
          "Fix the wrong reuse of PointGet and TableDual in Plan Cache #24043",
          "Fix the error that occurs when the optimizer builds the IndexMerge plan for clustered indexes #24042",
          "Fix the type inference of the BIT-type errors #24027",
          "Fix the issue that some optimizer hints do not take effect when the PointGet operator exists #23685",
          "Fix the issue that DDL operations might fail when rolling back due to an error #24080",
          "Fix the issue that the index range of the binary literal constant is incorrectly built #24041",
          "Fix the potential wrong results of the IN clause in some cases #24023",
          "Fix the wrong results of some string functions #23879",
          "Users now need both INSERT and DELETE privileges on a table to perform REPLACE operations #23939",
          "Fix the performance regression when executing the point query #24070",
          "Fix the wrong TableDual plans caused by incorrectly comparing binaries and bytes #23918",
          "TiKV\nFix the issue that the coprocessor fails to properly handle the signed or unsigned integer types in the IN expression #10018\nFix the issue of many empty Regions after batch ingesting SST files #10015\nFix the potential panic that occurs when the input of cast_string_as_time is invalid UTF-8 bytes #9995\nFix a bug that TiKV cannot start up after the file dictionary file is damaged #9992",
          "Fix the issue that the coprocessor fails to properly handle the signed or unsigned integer types in the IN expression #10018",
          "Fix the issue of many empty Regions after batch ingesting SST files #10015",
          "Fix the potential panic that occurs when the input of cast_string_as_time is invalid UTF-8 bytes #9995",
          "Fix a bug that TiKV cannot start up after the file dictionary file is damaged #9992",
          "TiFlash\nFix the issue that the storage engine fails to remove the data of some ranges\nFix the issue of incorrect results when casting the time type to the integer type\nFix a bug that the receiver cannot find corresponding tasks within 10 seconds\nFix the issue that there might be invalid iterators in cancelMPPQuery\nFix a bug that the behavior of the bitwise operator is different from that of TiDB\nFix the alert issue caused by overlapping ranges when using the prefix key\nFix the issue of incorrect results when casting the string type to the integer type\nFix the issue that consecutive and fast writes might make TiFlash out of memory\nFix the issue that duplicated column names will make TiFlash raise errors\nFix the issue that TiFlash fails to parse MPP plans\nFix the potential issue that the exception of null pointer might be raised during the table GC\nFix the TiFlash panic issue that occurs when writing data to dropped tables\nFix the issue that TiFlash might panic during BR restore",
          "Fix the issue that the storage engine fails to remove the data of some ranges",
          "Fix the issue of incorrect results when casting the time type to the integer type",
          "Fix a bug that the receiver cannot find corresponding tasks within 10 seconds",
          "Fix the issue that there might be invalid iterators in cancelMPPQuery",
          "Fix a bug that the behavior of the bitwise operator is different from that of TiDB",
          "Fix the alert issue caused by overlapping ranges when using the prefix key",
          "Fix the issue of incorrect results when casting the string type to the integer type",
          "Fix the issue that consecutive and fast writes might make TiFlash out of memory",
          "Fix the issue that duplicated column names will make TiFlash raise errors",
          "Fix the issue that TiFlash fails to parse MPP plans",
          "Fix the potential issue that the exception of null pointer might be raised during the table GC",
          "Fix the TiFlash panic issue that occurs when writing data to dropped tables",
          "Fix the issue that TiFlash might panic during BR restore",
          "Tools\nTiDB Lightning\nFix the issue of the inaccurate table count in the progress log during the import #1005\nBackup & Restore (BR)\nFix a bug that the actual backup speed exceeds the --ratelimit limit #1026\nFix the issue of backup interruption caused by the failure of a few TiKV nodes #1019\nFix the issue of the inaccurate table count in the progress log during TiDB Lightning's import #1005\nTiCDC\nFix the concurrency issue in Unified Sorter and filter the unhelpful error messages #1678\nFix a bug that the creation of redundant directories might interrupt the replication with MinIO #1672\nSet the default value of the explicit_defaults_for_timestamp session variable to ON to make the MySQL 5.7 downstream keep the same behavior with the upstream TiDB #1659\nFix the issue that the incorrect handling of io.EOF might cause replication interruption #1648\nCorrect the TiKV CDC endpoint CPU metric in the TiCDC dashboard #1645\nIncrease defaultBufferChanSize to avoid replication blocking in some cases #1632",
          "TiDB Lightning\nFix the issue of the inaccurate table count in the progress log during the import #1005",
          "Fix the issue of the inaccurate table count in the progress log during the import #1005",
          "Backup & Restore (BR)\nFix a bug that the actual backup speed exceeds the --ratelimit limit #1026\nFix the issue of backup interruption caused by the failure of a few TiKV nodes #1019\nFix the issue of the inaccurate table count in the progress log during TiDB Lightning's import #1005",
          "Fix a bug that the actual backup speed exceeds the --ratelimit limit #1026",
          "Fix the issue of backup interruption caused by the failure of a few TiKV nodes #1019",
          "Fix the issue of the inaccurate table count in the progress log during TiDB Lightning's import #1005",
          "TiCDC\nFix the concurrency issue in Unified Sorter and filter the unhelpful error messages #1678\nFix a bug that the creation of redundant directories might interrupt the replication with MinIO #1672\nSet the default value of the explicit_defaults_for_timestamp session variable to ON to make the MySQL 5.7 downstream keep the same behavior with the upstream TiDB #1659\nFix the issue that the incorrect handling of io.EOF might cause replication interruption #1648\nCorrect the TiKV CDC endpoint CPU metric in the TiCDC dashboard #1645\nIncrease defaultBufferChanSize to avoid replication blocking in some cases #1632",
          "Fix the concurrency issue in Unified Sorter and filter the unhelpful error messages #1678",
          "Fix a bug that the creation of redundant directories might interrupt the replication with MinIO #1672",
          "Set the default value of the explicit_defaults_for_timestamp session variable to ON to make the MySQL 5.7 downstream keep the same behavior with the upstream TiDB #1659",
          "Fix the issue that the incorrect handling of io.EOF might cause replication interruption #1648",
          "Correct the TiKV CDC endpoint CPU metric in the TiCDC dashboard #1645",
          "Increase defaultBufferChanSize to avoid replication blocking in some cases #1632"
        ]
      },
      {
        "version": "5.0.0",
        "date": "2021-04-07",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.0.0/",
        "changes": [
          "The compatibility issue that occurs when TiDB Binlog executes Add Column operations",
          "The data inconsistency issue that occurs when using the feature together with the unique index",
          "The data inconsistency issue that occurs when using the feature together with the added index"
        ]
      },
      {
        "version": "5.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-5.0.0-rc/",
        "changes": [
          "User document",
          "Related issue: #8316"
        ]
      }
    ]
  },
  {
    "major_version": "4.0",
    "patches": [
      {
        "version": "4.0.16",
        "date": "2021-12-17",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.16/",
        "changes": [
          "TiDB\nUpgrade the Grafana version from 7.5.7 to 7.5.11",
          "Upgrade the Grafana version from 7.5.7 to 7.5.11",
          "TiKV\nReduce disk space consumption by adopting the zstd algorithm to compress SST files when restoring data using Backup & Restore or importing data using Local-backend of TiDB Lightning #11469",
          "Reduce disk space consumption by adopting the zstd algorithm to compress SST files when restoring data using Backup & Restore or importing data using Local-backend of TiDB Lightning #11469",
          "Tools\nBackup & Restore (BR)\nImprove the robustness of restoring #27421\nTiCDC\nAdd a tick frequency limit to EtcdWorker to prevent frequent etcd writes from affecting PD services #3112\nOptimize rate limiting control on TiKV reloads to reduce gPRC congestion during changefeed initialization #3110",
          "Backup & Restore (BR)\nImprove the robustness of restoring #27421",
          "Improve the robustness of restoring #27421",
          "TiCDC\nAdd a tick frequency limit to EtcdWorker to prevent frequent etcd writes from affecting PD services #3112\nOptimize rate limiting control on TiKV reloads to reduce gPRC congestion during changefeed initialization #3110",
          "Add a tick frequency limit to EtcdWorker to prevent frequent etcd writes from affecting PD services #3112",
          "Optimize rate limiting control on TiKV reloads to reduce gPRC congestion during changefeed initialization #3110",
          "TiDB\nFix the query panic caused by overflow in the statistics module when converting a range to points for cost estimation #23625\nFix wrong results of the control functions (such as IF and CASE WHEN) when using the ENUM type data as parameters of such functions #23114\nFix the issue that the GREATEST function returns inconsistent results due to different values of tidb_enable_vectorized_expression (on or off) #29434\nFix the panic when applying index join on prefix indexes in some cases #24547\nFix the issue that planner might cache invalid plans for join in some cases #28087\nFix a bug that TiDB cannot insert null into a non-null column when sql_mode is empty #11648\nFix the wrong result type of the GREATEST and LEAST functions #29019\nFix the privilege check fail error when performing the grant and revoke operations to grant and revoke global level privileges #29675\nFix the panic when using the CASE WHEN function on the ENUM data type #29357\nFix wrong results of the microsecond function in vectorized expressions #29244\nFix wrong results of the hour function in vectorized expression #28643\nFix the issue that optimistic transaction conflicts might cause transactions to block each other #11148\nFix the issue of incomplete log information from the auto analyze result #29188\nFix the issue that using an invalid default date does not report an error when the SQL_MODE is 'NO_ZERO_IN_DATE' #26766\nFix the issue that the Coprocessor Cache panel in Grafana does not display metrics. Now, Grafana displays the number of hits/miss/evict #26338\nFix the issue that concurrently truncating the same partition causes DDL statements to stuck #26229\nFix the issue that the length information is wrong when converting Decimal to String #29417\nFix the issue of an extra column in the query result when NATURAL JOIN is used to join multiple tables #29481\nFix the issue that TopN is wrongly pushed down to indexPlan when IndexScan uses a prefix index #29711\nFix the issue that retrying transactions with the auto-increment columns of DOUBLE type causes data corruption #29892",
          "Fix the query panic caused by overflow in the statistics module when converting a range to points for cost estimation #23625",
          "Fix wrong results of the control functions (such as IF and CASE WHEN) when using the ENUM type data as parameters of such functions #23114",
          "Fix the issue that the GREATEST function returns inconsistent results due to different values of tidb_enable_vectorized_expression (on or off) #29434",
          "Fix the panic when applying index join on prefix indexes in some cases #24547",
          "Fix the issue that planner might cache invalid plans for join in some cases #28087",
          "Fix a bug that TiDB cannot insert null into a non-null column when sql_mode is empty #11648",
          "Fix the wrong result type of the GREATEST and LEAST functions #29019",
          "Fix the privilege check fail error when performing the grant and revoke operations to grant and revoke global level privileges #29675",
          "Fix the panic when using the CASE WHEN function on the ENUM data type #29357",
          "Fix wrong results of the microsecond function in vectorized expressions #29244",
          "Fix wrong results of the hour function in vectorized expression #28643",
          "Fix the issue that optimistic transaction conflicts might cause transactions to block each other #11148",
          "Fix the issue of incomplete log information from the auto analyze result #29188",
          "Fix the issue that using an invalid default date does not report an error when the SQL_MODE is 'NO_ZERO_IN_DATE' #26766",
          "Fix the issue that the Coprocessor Cache panel in Grafana does not display metrics. Now, Grafana displays the number of hits/miss/evict #26338",
          "Fix the issue that concurrently truncating the same partition causes DDL statements to stuck #26229",
          "Fix the issue that the length information is wrong when converting Decimal to String #29417",
          "Fix the issue of an extra column in the query result when NATURAL JOIN is used to join multiple tables #29481",
          "Fix the issue that TopN is wrongly pushed down to indexPlan when IndexScan uses a prefix index #29711",
          "Fix the issue that retrying transactions with the auto-increment columns of DOUBLE type causes data corruption #29892",
          "TiKV\nFix a panic issue that occurs when Region merge, ConfChange, and Snapshot happen at the same time in extreme conditions #11475\nFix the issue of negative sign when the decimal divide result is zero #29586\nFix the issue that the average latency of the by-instance gRPC requests is inaccurate in TiKV metrics #11299\nFix the issue of TiCDC panic that occurs when the downstream database is missing #11123\nFix the issue that the Raft connection is broken when the channel is full #11047\nFix the issue that TiDB cannot correctly identify whether the Int64 types in Max/Min functions are a signed integer or not, which causes the wrong calculation result of Max/Min #10158\nFix the issue that CDC adds scan retries frequently due to the Congest error #11082",
          "Fix a panic issue that occurs when Region merge, ConfChange, and Snapshot happen at the same time in extreme conditions #11475",
          "Fix the issue of negative sign when the decimal divide result is zero #29586",
          "Fix the issue that the average latency of the by-instance gRPC requests is inaccurate in TiKV metrics #11299",
          "Fix the issue of TiCDC panic that occurs when the downstream database is missing #11123",
          "Fix the issue that the Raft connection is broken when the channel is full #11047",
          "Fix the issue that TiDB cannot correctly identify whether the Int64 types in Max/Min functions are a signed integer or not, which causes the wrong calculation result of Max/Min #10158",
          "Fix the issue that CDC adds scan retries frequently due to the Congest error #11082",
          "PD\nFix a panic issue that occurs after the TiKV node is removed #4344\nFix slow leader election caused by stuck region syncer #3936\nSupport that the evict leader scheduler can schedule regions with unhealthy peers #4093",
          "Fix a panic issue that occurs after the TiKV node is removed #4344",
          "Fix slow leader election caused by stuck region syncer #3936",
          "Support that the evict leader scheduler can schedule regions with unhealthy peers #4093",
          "TiFlash\nFix the issue that TiFlash fails to start up on some platforms due to the absence of library nsl",
          "Fix the issue that TiFlash fails to start up on some platforms due to the absence of library nsl",
          "Tools\nTiDB Binlog\nFix the bug that Drainer exits when transporting a transaction greater than 1 GB #28659\nTiCDC\nFix the negative value error in the changefeed checkpoint lag #3010\nFix OOM in container environments #1798\nFix the TiCDC replication interruption issue when multiple TiKVs crash or during a forced restart #3288\nFix the memory leak issue after processing DDLs #3174\nFix the issue that changefeed does not fail fast enough when the ErrGCTTLExceeded error occurs #3111\nFix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061\nFix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386\nFix the issue that the volume of Kafka messages generated by TiCDC is not constrained by max-message-size #2962\nFix the issue that tikv_cdc_min_resolved_ts_no_change_for_1m keeps alerting when there is no changefeed #11017\nFix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978\nFix the issue that some partitioned tables without valid indexes might be ignored when force-replicate is enabled #2834\nFix the memory leak issue when creating a new changefeed #2389\nFix the issue that might cause inconsistent data due to Sink components advancing resolved ts early #3503\nFix the issue that scanning stock data might fail due to TiKV performing GC when scanning stock data takes too long #2470\nFix the issue that the changefeed update command does not recognize global command line parameters #2803",
          "TiDB Binlog\nFix the bug that Drainer exits when transporting a transaction greater than 1 GB #28659",
          "Fix the bug that Drainer exits when transporting a transaction greater than 1 GB #28659",
          "TiCDC\nFix the negative value error in the changefeed checkpoint lag #3010\nFix OOM in container environments #1798\nFix the TiCDC replication interruption issue when multiple TiKVs crash or during a forced restart #3288\nFix the memory leak issue after processing DDLs #3174\nFix the issue that changefeed does not fail fast enough when the ErrGCTTLExceeded error occurs #3111\nFix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061\nFix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386\nFix the issue that the volume of Kafka messages generated by TiCDC is not constrained by max-message-size #2962\nFix the issue that tikv_cdc_min_resolved_ts_no_change_for_1m keeps alerting when there is no changefeed #11017\nFix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978\nFix the issue that some partitioned tables without valid indexes might be ignored when force-replicate is enabled #2834\nFix the memory leak issue when creating a new changefeed #2389\nFix the issue that might cause inconsistent data due to Sink components advancing resolved ts early #3503\nFix the issue that scanning stock data might fail due to TiKV performing GC when scanning stock data takes too long #2470\nFix the issue that the changefeed update command does not recognize global command line parameters #2803",
          "Fix the negative value error in the changefeed checkpoint lag #3010",
          "Fix OOM in container environments #1798",
          "Fix the TiCDC replication interruption issue when multiple TiKVs crash or during a forced restart #3288",
          "Fix the memory leak issue after processing DDLs #3174",
          "Fix the issue that changefeed does not fail fast enough when the ErrGCTTLExceeded error occurs #3111",
          "Fix the issue that TiCDC replication task might terminate when the upstream TiDB instance unexpectedly exits #3061",
          "Fix the issue that TiCDC process might panic when TiKV sends duplicate requests to the same Region #2386",
          "Fix the issue that the volume of Kafka messages generated by TiCDC is not constrained by max-message-size #2962",
          "Fix the issue that tikv_cdc_min_resolved_ts_no_change_for_1m keeps alerting when there is no changefeed #11017",
          "Fix the issue that TiCDC sync task might pause when an error occurs during writing a Kafka message #2978",
          "Fix the issue that some partitioned tables without valid indexes might be ignored when force-replicate is enabled #2834",
          "Fix the memory leak issue when creating a new changefeed #2389",
          "Fix the issue that might cause inconsistent data due to Sink components advancing resolved ts early #3503",
          "Fix the issue that scanning stock data might fail due to TiKV performing GC when scanning stock data takes too long #2470",
          "Fix the issue that the changefeed update command does not recognize global command line parameters #2803"
        ]
      },
      {
        "version": "4.0.15",
        "date": "2021-09-27",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.15/",
        "changes": [
          "TiDB\nTrigger auto-analyze based on the histogram row count #24237",
          "Trigger auto-analyze based on the histogram row count #24237",
          "TiKV\nHandle read ready and write ready separately to reduce read latency #10475\nThe slow log of TiKV coprocessor only considers the time spent on processing requests. #10841\nDrop log instead of blocking threads when the slogger thread is overloaded and the queue is filled up #10841\nReduce the size of Resolved TS messages to save network bandwidth #2448",
          "Handle read ready and write ready separately to reduce read latency #10475",
          "The slow log of TiKV coprocessor only considers the time spent on processing requests. #10841",
          "Drop log instead of blocking threads when the slogger thread is overloaded and the queue is filled up #10841",
          "Reduce the size of Resolved TS messages to save network bandwidth #2448",
          "PD\nImprove the performance of synchronizing Region information between PDs #3932",
          "Improve the performance of synchronizing Region information between PDs #3932",
          "Tools\nBackup & Restore (BR)\nSplit and scatter Regions concurrently to improve restore speed #1363\nRetry BR tasks when encountering the PD request error or the TiKV I/O timeout error #27787\nReduce empty Regions when restoring many small tables to avoid affecting cluster operations after the restore #1374\nPerform the rebase auto id operation while creating tables, which saves the separate rebase auto id DDL operation and speeds up restore #1424\nDumpling\nFilter the skipped databases before getting the table information to improve the filtering efficiency of SHOW TABLE STATUS #337\nUse SHOW FULL TABLES to get table information for tables to be exported, because SHOW TABLE STATUS cannot work properly in some MySQL versions #322\nSupport backing up MySQL-compatible databases that do not support the START TRANSACTION ... WITH CONSISTENT SNAPSHOT or the SHOW CREATE TABLE syntax #309\nRefine the Dumpling warning log to avoid the misleading information that a dump fails #340\nTiDB Lightning\nSupport importing data into tables that have expression index or the index that depends on virtual generated columns #1404\nTiCDC\nAlways pulls old values from TiKV internally to improve usability #2397\nReduce the goroutine usage when a table's Regions are all transferred away from a TiKV node #2284\nOptimize workerpool for fewer goroutines when concurrency is high #2211\nExecute DDL statements asynchronously to avoid affecting other changefeeds #2295\nAdd a global gRPC connection pool and share gRPC connections among KV clients #2531\nFail fast for unrecoverable DML errors #1724\nOptimize memory management when the Unified Sorter is using memory to sort data #2553\nAdd Prometheus metrics for DDL executions #2595 #2669\nProhibit operating TiCDC clusters across major or minor versions #2601\nRemove file sorter #2325\nClean up changefeed metrics when a changefeed is removed, and clean up processor metrics when a processor exits #2156\nOptimize the lock-resolving algorithm after a Region is initialized #2188",
          "Backup & Restore (BR)\nSplit and scatter Regions concurrently to improve restore speed #1363\nRetry BR tasks when encountering the PD request error or the TiKV I/O timeout error #27787\nReduce empty Regions when restoring many small tables to avoid affecting cluster operations after the restore #1374\nPerform the rebase auto id operation while creating tables, which saves the separate rebase auto id DDL operation and speeds up restore #1424",
          "Split and scatter Regions concurrently to improve restore speed #1363",
          "Retry BR tasks when encountering the PD request error or the TiKV I/O timeout error #27787",
          "Reduce empty Regions when restoring many small tables to avoid affecting cluster operations after the restore #1374",
          "Perform the rebase auto id operation while creating tables, which saves the separate rebase auto id DDL operation and speeds up restore #1424",
          "Dumpling\nFilter the skipped databases before getting the table information to improve the filtering efficiency of SHOW TABLE STATUS #337\nUse SHOW FULL TABLES to get table information for tables to be exported, because SHOW TABLE STATUS cannot work properly in some MySQL versions #322\nSupport backing up MySQL-compatible databases that do not support the START TRANSACTION ... WITH CONSISTENT SNAPSHOT or the SHOW CREATE TABLE syntax #309\nRefine the Dumpling warning log to avoid the misleading information that a dump fails #340",
          "Filter the skipped databases before getting the table information to improve the filtering efficiency of SHOW TABLE STATUS #337",
          "Use SHOW FULL TABLES to get table information for tables to be exported, because SHOW TABLE STATUS cannot work properly in some MySQL versions #322",
          "Support backing up MySQL-compatible databases that do not support the START TRANSACTION ... WITH CONSISTENT SNAPSHOT or the SHOW CREATE TABLE syntax #309",
          "Refine the Dumpling warning log to avoid the misleading information that a dump fails #340",
          "TiDB Lightning\nSupport importing data into tables that have expression index or the index that depends on virtual generated columns #1404",
          "Support importing data into tables that have expression index or the index that depends on virtual generated columns #1404",
          "TiCDC\nAlways pulls old values from TiKV internally to improve usability #2397\nReduce the goroutine usage when a table's Regions are all transferred away from a TiKV node #2284\nOptimize workerpool for fewer goroutines when concurrency is high #2211\nExecute DDL statements asynchronously to avoid affecting other changefeeds #2295\nAdd a global gRPC connection pool and share gRPC connections among KV clients #2531\nFail fast for unrecoverable DML errors #1724\nOptimize memory management when the Unified Sorter is using memory to sort data #2553\nAdd Prometheus metrics for DDL executions #2595 #2669\nProhibit operating TiCDC clusters across major or minor versions #2601\nRemove file sorter #2325\nClean up changefeed metrics when a changefeed is removed, and clean up processor metrics when a processor exits #2156\nOptimize the lock-resolving algorithm after a Region is initialized #2188",
          "Always pulls old values from TiKV internally to improve usability #2397",
          "Reduce the goroutine usage when a table's Regions are all transferred away from a TiKV node #2284",
          "Optimize workerpool for fewer goroutines when concurrency is high #2211",
          "Execute DDL statements asynchronously to avoid affecting other changefeeds #2295",
          "Add a global gRPC connection pool and share gRPC connections among KV clients #2531",
          "Fail fast for unrecoverable DML errors #1724",
          "Optimize memory management when the Unified Sorter is using memory to sort data #2553",
          "Add Prometheus metrics for DDL executions #2595 #2669",
          "Prohibit operating TiCDC clusters across major or minor versions #2601",
          "Remove file sorter #2325",
          "Clean up changefeed metrics when a changefeed is removed, and clean up processor metrics when a processor exits #2156",
          "Optimize the lock-resolving algorithm after a Region is initialized #2188",
          "TiDB\nFix a bug that collation is incorrectly set for binary literals when building ranges #23672\nFix the \"index out of range\" error that occurs when a query includes both GROUP BY and UNION #26553\nFix the issue that TiDB might fail to send requests if TiKV has tombstone stores #23676 #24648\nRemove the undocumented /debug/sub-optimal-plan HTTP API #27264\nFix the issue of wrong character set and collation for the case when expression #26662",
          "Fix a bug that collation is incorrectly set for binary literals when building ranges #23672",
          "Fix the \"index out of range\" error that occurs when a query includes both GROUP BY and UNION #26553",
          "Fix the issue that TiDB might fail to send requests if TiKV has tombstone stores #23676 #24648",
          "Remove the undocumented /debug/sub-optimal-plan HTTP API #27264",
          "Fix the issue of wrong character set and collation for the case when expression #26662",
          "TiKV\nFix the issue that BR reports the \"file already exists\" error when TDE is enabled during data restore #1179\nFix the potential disk full issue caused by corrupted snapshot files #10813\nFix the issue that TiKV deletes stale Regions too frequently #10680\nFix the issue that TiKV frequently reconnects the PD client #9690\nCheck stale file information from the encryption file dictionary #9115",
          "Fix the issue that BR reports the \"file already exists\" error when TDE is enabled during data restore #1179",
          "Fix the potential disk full issue caused by corrupted snapshot files #10813",
          "Fix the issue that TiKV deletes stale Regions too frequently #10680",
          "Fix the issue that TiKV frequently reconnects the PD client #9690",
          "Check stale file information from the encryption file dictionary #9115",
          "PD\nFix the issue that PD does not fix the down peers in time #4077\nFix a bug that PD might panic when scaling out TiKV #3868",
          "Fix the issue that PD does not fix the down peers in time #4077",
          "Fix a bug that PD might panic when scaling out TiKV #3868",
          "TiFlash\nFix the potential issue of data inconsistency that occurs when TiFlash is deployed on multiple disks\nFix a bug of incorrect results that occurs when queries contain filters like CONSTANT, <, <=, >, >=, or COLUMN\nFix the issue that the store size in metrics is inaccurate under heavy writing\nFix a potential bug that TiFlash cannot restore data when deployed on multiple disks\nFix the potential issue that TiFlash cannot garbage-collect the delta data after running for a long time",
          "Fix the potential issue of data inconsistency that occurs when TiFlash is deployed on multiple disks",
          "Fix a bug of incorrect results that occurs when queries contain filters like CONSTANT, <, <=, >, >=, or COLUMN",
          "Fix the issue that the store size in metrics is inaccurate under heavy writing",
          "Fix a potential bug that TiFlash cannot restore data when deployed on multiple disks",
          "Fix the potential issue that TiFlash cannot garbage-collect the delta data after running for a long time",
          "Tools\nBackup & Restore (BR)\nFix a bug that the average speed is inaccurately calculated for backup and restore #1405\nTiCDC\nFix the ErrSchemaStorageTableMiss error that occurs when the DDL Job duplication is encountered in the integrated test #2422\nFix a bug that a changefeed cannot be removed if the ErrGCTTLExceeded error occurs #2391\nFix the issue that outdated capture might appear in the output of the capture list command #2388\nFix the deadlock issue in the TiCDC processor #2017\nFix a data inconsistency issue that occurs because multiple processors might write data to the same table when this table is being re-scheduled #2230\nFix a bug that the EtcdWorker snapshot isolation is violated in metadata management #2557\nFix the issue that the changefeed cannot be stopped due to the DDL sink error #2552\nFix the issue of TiCDC Open Protocol: TiCDC outputs an empty value when there is no change in a transaction #2612\nFix a bug that causes TiCDC to panic on the unsigned TINYINT type #2648\nDecrease the gRPC window size to avoid the OOM that occurs when TiCDC captures too many Regions #2202\nFix the OOM issue that occurs when TiCDC captures too many Regions #2673\nFix the issue of process panic that occurs when encoding the data types such as mysql.TypeString, mysql.TypeVarString, mysql.TypeVarchar into JSON #2758\nFix the a memory leak issue that might occur when creating a new changefeed #2389\nFix a bug that DDL handling fails when a changefeed starts at the finish TS of a schema change #2603\nFix the issue of potential DDL loss when the owner crashes when executing DDL statements #1260\nFix the issue of insecure concurrent access to the map in SinkManager #2298",
          "Backup & Restore (BR)\nFix a bug that the average speed is inaccurately calculated for backup and restore #1405",
          "Fix a bug that the average speed is inaccurately calculated for backup and restore #1405",
          "TiCDC\nFix the ErrSchemaStorageTableMiss error that occurs when the DDL Job duplication is encountered in the integrated test #2422\nFix a bug that a changefeed cannot be removed if the ErrGCTTLExceeded error occurs #2391\nFix the issue that outdated capture might appear in the output of the capture list command #2388\nFix the deadlock issue in the TiCDC processor #2017\nFix a data inconsistency issue that occurs because multiple processors might write data to the same table when this table is being re-scheduled #2230\nFix a bug that the EtcdWorker snapshot isolation is violated in metadata management #2557\nFix the issue that the changefeed cannot be stopped due to the DDL sink error #2552\nFix the issue of TiCDC Open Protocol: TiCDC outputs an empty value when there is no change in a transaction #2612\nFix a bug that causes TiCDC to panic on the unsigned TINYINT type #2648\nDecrease the gRPC window size to avoid the OOM that occurs when TiCDC captures too many Regions #2202\nFix the OOM issue that occurs when TiCDC captures too many Regions #2673\nFix the issue of process panic that occurs when encoding the data types such as mysql.TypeString, mysql.TypeVarString, mysql.TypeVarchar into JSON #2758\nFix the a memory leak issue that might occur when creating a new changefeed #2389\nFix a bug that DDL handling fails when a changefeed starts at the finish TS of a schema change #2603\nFix the issue of potential DDL loss when the owner crashes when executing DDL statements #1260\nFix the issue of insecure concurrent access to the map in SinkManager #2298",
          "Fix the ErrSchemaStorageTableMiss error that occurs when the DDL Job duplication is encountered in the integrated test #2422",
          "Fix a bug that a changefeed cannot be removed if the ErrGCTTLExceeded error occurs #2391",
          "Fix the issue that outdated capture might appear in the output of the capture list command #2388",
          "Fix the deadlock issue in the TiCDC processor #2017",
          "Fix a data inconsistency issue that occurs because multiple processors might write data to the same table when this table is being re-scheduled #2230",
          "Fix a bug that the EtcdWorker snapshot isolation is violated in metadata management #2557",
          "Fix the issue that the changefeed cannot be stopped due to the DDL sink error #2552",
          "Fix the issue of TiCDC Open Protocol: TiCDC outputs an empty value when there is no change in a transaction #2612",
          "Fix a bug that causes TiCDC to panic on the unsigned TINYINT type #2648",
          "Decrease the gRPC window size to avoid the OOM that occurs when TiCDC captures too many Regions #2202",
          "Fix the OOM issue that occurs when TiCDC captures too many Regions #2673",
          "Fix the issue of process panic that occurs when encoding the data types such as mysql.TypeString, mysql.TypeVarString, mysql.TypeVarchar into JSON #2758",
          "Fix the a memory leak issue that might occur when creating a new changefeed #2389",
          "Fix a bug that DDL handling fails when a changefeed starts at the finish TS of a schema change #2603",
          "Fix the issue of potential DDL loss when the owner crashes when executing DDL statements #1260",
          "Fix the issue of insecure concurrent access to the map in SinkManager #2298"
        ]
      },
      {
        "version": "4.0.14",
        "date": "2021-07-27",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.14/",
        "changes": [
          "TiDB\nChange the LOCK record into the PUT record for the index keys using point get or batch point get for UPDATE reads #26223\nSupport the MySQL system variable init_connect and its associated features #26031\nSupport the stable result mode to make the query results more stable #26003\nSupport pushing down the built-in function json_unquote() to TiKV #25721\nMake the SQL Plan Management (SPM) not affected by the character set #23295",
          "Change the LOCK record into the PUT record for the index keys using point get or batch point get for UPDATE reads #26223",
          "Support the MySQL system variable init_connect and its associated features #26031",
          "Support the stable result mode to make the query results more stable #26003",
          "Support pushing down the built-in function json_unquote() to TiKV #25721",
          "Make the SQL Plan Management (SPM) not affected by the character set #23295",
          "TiKV\nShutdown the status server first to make sure that the client can correctly check the shutdown status #10504\nAlways respond to stale peers to make sure that these peers are cleared quicker #10400\nLimit the TiCDC sink's memory consumption #10147\nWhen a Region is too large, use the even split to speed up the split process #10275",
          "Shutdown the status server first to make sure that the client can correctly check the shutdown status #10504",
          "Always respond to stale peers to make sure that these peers are cleared quicker #10400",
          "Limit the TiCDC sink's memory consumption #10147",
          "When a Region is too large, use the even split to speed up the split process #10275",
          "PD\nReduce the conflicts among multiple schedulers that run at the same time #3858 #3854",
          "Reduce the conflicts among multiple schedulers that run at the same time #3858 #3854",
          "TiDB Dashboard\nUpdate TiDB Dashboard to v2021.07.17.1 #3882\nSupport sharing the current session as a read-only session to avoid further modification to it #960",
          "Update TiDB Dashboard to v2021.07.17.1 #3882",
          "Support sharing the current session as a read-only session to avoid further modification to it #960",
          "Tools\nBackup & Restore (BR)\nSpeed up restore by merging small backup files #655\nDumpling\nAlways split tables using _tidb_rowid when the upstream is a TiDB v3.x cluster, which helps reduce TiDB's memory usage #306\nTiCDC\nImprove the error message returned when a PD endpoint misses the certificate #1973\nMake the sorter I/O errors more user-friendly #1976\nAdd a concurrency limit on the Region incremental scan in the KV client to reduce the pressure of TiKV #1926\nAdd metrics for the table memory consumption #1884\nAdd capture-session-ttl to the TiCDC server configuration #2169",
          "Backup & Restore (BR)\nSpeed up restore by merging small backup files #655",
          "Speed up restore by merging small backup files #655",
          "Dumpling\nAlways split tables using _tidb_rowid when the upstream is a TiDB v3.x cluster, which helps reduce TiDB's memory usage #306",
          "Always split tables using _tidb_rowid when the upstream is a TiDB v3.x cluster, which helps reduce TiDB's memory usage #306",
          "TiCDC\nImprove the error message returned when a PD endpoint misses the certificate #1973\nMake the sorter I/O errors more user-friendly #1976\nAdd a concurrency limit on the Region incremental scan in the KV client to reduce the pressure of TiKV #1926\nAdd metrics for the table memory consumption #1884\nAdd capture-session-ttl to the TiCDC server configuration #2169",
          "Improve the error message returned when a PD endpoint misses the certificate #1973",
          "Make the sorter I/O errors more user-friendly #1976",
          "Add a concurrency limit on the Region incremental scan in the KV client to reduce the pressure of TiKV #1926",
          "Add metrics for the table memory consumption #1884",
          "Add capture-session-ttl to the TiCDC server configuration #2169",
          "TiDB\nFix the issue that the SELECT result is incompatible with MySQL when joining a subquery with a WHERE clause evaluated to false #24865\nFix the calculation error of the ifnull function that occurs when the argument is the ENUM or SET type #24944\nFix the wrong aggregate pruning in some cases #25202\nFix the incorrect result of the merge join operation that might occur when the column is the SET type #25669\nFix the issue that TiDB returns wrong results for cartesian join #25591\nFix the panic issue that occurs when SELECT ... FOR UPDATE works on a join operation and the join uses a partitioned table #20028\nFix the issue that the cached prepared plan is incorrectly used for point get #24741\nFix the issue that the LOAD DATA statement can abnormally import non-utf8 data #25979\nFix a potential memory leak issue that occurs when accessing the statistics via an HTTP API #24650\nFix a security issue that occurs when executing the ALTER USER statement #25225\nFix a bug that the TIKV_REGION_PEERS table cannot correctly handle the DOWN status #24879\nFix the issue that invalid strings are not truncated when parsing DateTime #22231\nFix the issue that the select into outfile statement might have no result when the column type is YEAR #22159\nFix the issue that the query result might be wrong when NULL is in the UNION subquery #26532\nFix the issue that the projection operator in execution might cause panic in some cases #26534",
          "Fix the issue that the SELECT result is incompatible with MySQL when joining a subquery with a WHERE clause evaluated to false #24865",
          "Fix the calculation error of the ifnull function that occurs when the argument is the ENUM or SET type #24944",
          "Fix the wrong aggregate pruning in some cases #25202",
          "Fix the incorrect result of the merge join operation that might occur when the column is the SET type #25669",
          "Fix the issue that TiDB returns wrong results for cartesian join #25591",
          "Fix the panic issue that occurs when SELECT ... FOR UPDATE works on a join operation and the join uses a partitioned table #20028",
          "Fix the issue that the cached prepared plan is incorrectly used for point get #24741",
          "Fix the issue that the LOAD DATA statement can abnormally import non-utf8 data #25979",
          "Fix a potential memory leak issue that occurs when accessing the statistics via an HTTP API #24650",
          "Fix a security issue that occurs when executing the ALTER USER statement #25225",
          "Fix a bug that the TIKV_REGION_PEERS table cannot correctly handle the DOWN status #24879",
          "Fix the issue that invalid strings are not truncated when parsing DateTime #22231",
          "Fix the issue that the select into outfile statement might have no result when the column type is YEAR #22159",
          "Fix the issue that the query result might be wrong when NULL is in the UNION subquery #26532",
          "Fix the issue that the projection operator in execution might cause panic in some cases #26534",
          "TiKV\nFix the issue that the duration calculation might panic on certain platforms #related-issue\nFix the wrong function that casts DOUBLE to DOUBLE #25200\nFix the issue that the panic log might be lost when using the async logger #8998\nFix the panic issue that occurs when building a snapshot twice if encryption is enabled #9786 #10407\nFix the wrong arguments type of the json_unquote() function in the coprocessor #10176\nFix the issues of suspicious warnings during shutdown and the non-deterministic response from Raftstore #10353 #10307\nFix the issue of backup threads leak #10287\nFix the issue that Region split might panic and corrupt the metadata if the split process is too slow and Region merge is on-going #8456 #8783\nFix the issue that the Region heartbeats prevent TiKV from splitting large Regions in some situations #10111\nFix the wrong statistics caused by the format inconsistency of CM Sketch between TiKV and TiDB #25638\nFix the wrong statistics of the apply wait duration metric #9893\nFix the \"Missing Blob\" error after using delete_files_in_range in Titan #10232",
          "Fix the issue that the duration calculation might panic on certain platforms #related-issue",
          "Fix the wrong function that casts DOUBLE to DOUBLE #25200",
          "Fix the issue that the panic log might be lost when using the async logger #8998",
          "Fix the panic issue that occurs when building a snapshot twice if encryption is enabled #9786 #10407",
          "Fix the wrong arguments type of the json_unquote() function in the coprocessor #10176",
          "Fix the issues of suspicious warnings during shutdown and the non-deterministic response from Raftstore #10353 #10307",
          "Fix the issue of backup threads leak #10287",
          "Fix the issue that Region split might panic and corrupt the metadata if the split process is too slow and Region merge is on-going #8456 #8783",
          "Fix the issue that the Region heartbeats prevent TiKV from splitting large Regions in some situations #10111",
          "Fix the wrong statistics caused by the format inconsistency of CM Sketch between TiKV and TiDB #25638",
          "Fix the wrong statistics of the apply wait duration metric #9893",
          "Fix the \"Missing Blob\" error after using delete_files_in_range in Titan #10232",
          "PD\nFix a bug that the scheduler might reappear after executing the delete operation #2572\nFix the data race issue that might occur when the scheduler is started before the temporary configuration is loaded #3771\nFix a PD panic issue that might occur during the Region scattering operation #3761\nFix the issue that the priority of some operators is not set correctly #3703\nFix a PD panic issue that might occur when deleting the evict-leader scheduler from a non-existent store #3660\nFix the issue that the PD Leader re-election is slow when there are many stores #3697",
          "Fix a bug that the scheduler might reappear after executing the delete operation #2572",
          "Fix the data race issue that might occur when the scheduler is started before the temporary configuration is loaded #3771",
          "Fix a PD panic issue that might occur during the Region scattering operation #3761",
          "Fix the issue that the priority of some operators is not set correctly #3703",
          "Fix a PD panic issue that might occur when deleting the evict-leader scheduler from a non-existent store #3660",
          "Fix the issue that the PD Leader re-election is slow when there are many stores #3697",
          "TiDB Dashboard\nFix the issue that the Profiling UI cannot profile all TiDB instances #944\nFix the issue that the Statements UI does not display \"Plan Count\" #939\nFix the issue that the Slow Query UI might display the \"unknown field\" error after cluster upgrade #902",
          "Fix the issue that the Profiling UI cannot profile all TiDB instances #944",
          "Fix the issue that the Statements UI does not display \"Plan Count\" #939",
          "Fix the issue that the Slow Query UI might display the \"unknown field\" error after cluster upgrade #902",
          "TiFlash\nFix the potential panic issue that occurs when compiling DAG requests\nFix the panic issue that occurs when the read load is heavy\nFix the issue that TiFlash keeps restarting because of the split failure in column storage\nFix a potential bug that TiFlash cannot delete the delta data\nFix the incorrect results that occur when cloning the shared delta index concurrently\nFix a bug that TiFlash fails to restart in the case of incomplete data\nFix the issue that the old dm files cannot be removed automatically\nFix the panic issue that occurs when executing the SUBSTRING function with specific arguments\nFix the issue of incorrect results when casting the INTEGER type to the TIME type",
          "Fix the potential panic issue that occurs when compiling DAG requests",
          "Fix the panic issue that occurs when the read load is heavy",
          "Fix the issue that TiFlash keeps restarting because of the split failure in column storage",
          "Fix a potential bug that TiFlash cannot delete the delta data",
          "Fix the incorrect results that occur when cloning the shared delta index concurrently",
          "Fix a bug that TiFlash fails to restart in the case of incomplete data",
          "Fix the issue that the old dm files cannot be removed automatically",
          "Fix the panic issue that occurs when executing the SUBSTRING function with specific arguments",
          "Fix the issue of incorrect results when casting the INTEGER type to the TIME type",
          "Tools\nBackup & Restore (BR)\nFix the issue that the data restore from the mysql schema might fail #1142\nTiDB Lightning\nFix the issue that TiDB Lightning fails to parse the DECIMAL type data in Parquet files #1276\nFix the EOF error reported when TiDB Lightning splits the imported large CSV files #1133\nFix a bug that an excessively large base value is generated when TiDB Lightning imports tables with the auto_increment column of the FLOAT or DOUBLE type #1185\nFix the issue of TiDB Lightning panic that occurs when generating KV data larger than 4 GB #1128\nDumpling\nWhen using Dumpling to export data to the S3 storage, the s3:ListBucket permission is no longer required on the entire bucket. The permission is required only on the data source prefix. #898\nTiCDC\nFix the issue of extra partition dispatching after adding new table partitions #2205\nFix the panic issue that occurs when TiCDC fails to read /proc/meminfo #2023\nReduce TiCDC's runtime memory consumption #2011 #1957\nFix a bug that some MySQL connection might leak after MySQL sink meets the error and pauses #1945\nFix the issue that TiCDC changefeed cannot be created when start TS is less than current TS minus GC TTL #1839\nReduce memory malloc in sort heap to avoid too much CPU overhead #1853\nFix a bug that the replication task might stop when moving a table #1827",
          "Backup & Restore (BR)\nFix the issue that the data restore from the mysql schema might fail #1142",
          "Fix the issue that the data restore from the mysql schema might fail #1142",
          "TiDB Lightning\nFix the issue that TiDB Lightning fails to parse the DECIMAL type data in Parquet files #1276\nFix the EOF error reported when TiDB Lightning splits the imported large CSV files #1133\nFix a bug that an excessively large base value is generated when TiDB Lightning imports tables with the auto_increment column of the FLOAT or DOUBLE type #1185\nFix the issue of TiDB Lightning panic that occurs when generating KV data larger than 4 GB #1128",
          "Fix the issue that TiDB Lightning fails to parse the DECIMAL type data in Parquet files #1276",
          "Fix the EOF error reported when TiDB Lightning splits the imported large CSV files #1133",
          "Fix a bug that an excessively large base value is generated when TiDB Lightning imports tables with the auto_increment column of the FLOAT or DOUBLE type #1185",
          "Fix the issue of TiDB Lightning panic that occurs when generating KV data larger than 4 GB #1128",
          "Dumpling\nWhen using Dumpling to export data to the S3 storage, the s3:ListBucket permission is no longer required on the entire bucket. The permission is required only on the data source prefix. #898",
          "When using Dumpling to export data to the S3 storage, the s3:ListBucket permission is no longer required on the entire bucket. The permission is required only on the data source prefix. #898",
          "TiCDC\nFix the issue of extra partition dispatching after adding new table partitions #2205\nFix the panic issue that occurs when TiCDC fails to read /proc/meminfo #2023\nReduce TiCDC's runtime memory consumption #2011 #1957\nFix a bug that some MySQL connection might leak after MySQL sink meets the error and pauses #1945\nFix the issue that TiCDC changefeed cannot be created when start TS is less than current TS minus GC TTL #1839\nReduce memory malloc in sort heap to avoid too much CPU overhead #1853\nFix a bug that the replication task might stop when moving a table #1827",
          "Fix the issue of extra partition dispatching after adding new table partitions #2205",
          "Fix the panic issue that occurs when TiCDC fails to read /proc/meminfo #2023",
          "Reduce TiCDC's runtime memory consumption #2011 #1957",
          "Fix a bug that some MySQL connection might leak after MySQL sink meets the error and pauses #1945",
          "Fix the issue that TiCDC changefeed cannot be created when start TS is less than current TS minus GC TTL #1839",
          "Reduce memory malloc in sort heap to avoid too much CPU overhead #1853",
          "Fix a bug that the replication task might stop when moving a table #1827"
        ]
      },
      {
        "version": "4.0.13",
        "date": "2021-05-28",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.13/",
        "changes": [
          "TiDB\nSupport changing an AUTO_INCREMENT column to an AUTO_RANDOM one #24608\nAdd the infoschema.client_errors_summary tables to help users keep track of the errors that have been returned to clients #23267",
          "Support changing an AUTO_INCREMENT column to an AUTO_RANDOM one #24608",
          "Add the infoschema.client_errors_summary tables to help users keep track of the errors that have been returned to clients #23267",
          "TiDB\nAvoid frequently reading the mysql.stats_histograms table if the cached statistics is up-to-date to avoid high CPU usage #24352",
          "Avoid frequently reading the mysql.stats_histograms table if the cached statistics is up-to-date to avoid high CPU usage #24352",
          "TiKV\nMake the calculation process of store used size more precise #9904\nSet more Regions in the EpochNotMatch message to reduce Region misses #9731\nSpeed up freeing the memory accumulated in the long-running cluster #10035",
          "Make the calculation process of store used size more precise #9904",
          "Set more Regions in the EpochNotMatch message to reduce Region misses #9731",
          "Speed up freeing the memory accumulated in the long-running cluster #10035",
          "PD\nOptimize the metrics of TSO processing time to help users determine whether the TSO processing time at the PD side is too long #3524\nUpdate the dashboard version to v2021.03.12.1 #3469",
          "Optimize the metrics of TSO processing time to help users determine whether the TSO processing time at the PD side is too long #3524",
          "Update the dashboard version to v2021.03.12.1 #3469",
          "TiFlash\nAutomatically clean archived data to free up disk space",
          "Automatically clean archived data to free up disk space",
          "Tools\nBackup & Restore (BR)\nSupport backing up user tables created in the mysql schema #1077\nUpdate checkVersion to check the cluster data and the backup data #1090\nTolerate a small number of TiKV node failures during backup #1062\nTiCDC\nImplement the processor flow control to avoid memory overflow (OOM) #1751\nSupport cleaning up stale temporary files in Unified Sorter and prevent multiple cdc server instances from sharing the same sort-dir directory #1741\nAdd the HTTP handler for the failpoint #1732",
          "Backup & Restore (BR)\nSupport backing up user tables created in the mysql schema #1077\nUpdate checkVersion to check the cluster data and the backup data #1090\nTolerate a small number of TiKV node failures during backup #1062",
          "Support backing up user tables created in the mysql schema #1077",
          "Update checkVersion to check the cluster data and the backup data #1090",
          "Tolerate a small number of TiKV node failures during backup #1062",
          "TiCDC\nImplement the processor flow control to avoid memory overflow (OOM) #1751\nSupport cleaning up stale temporary files in Unified Sorter and prevent multiple cdc server instances from sharing the same sort-dir directory #1741\nAdd the HTTP handler for the failpoint #1732",
          "Implement the processor flow control to avoid memory overflow (OOM) #1751",
          "Support cleaning up stale temporary files in Unified Sorter and prevent multiple cdc server instances from sharing the same sort-dir directory #1741",
          "Add the HTTP handler for the failpoint #1732",
          "TiDB\nFix the panic issue that occurs when the UPDATE statement with a subquery updates the generated column #24658\nFix the issue that causes duplicate query results when using the multi-column index for data reads #24634\nFix the issue that causes wrong query result when using the BIT type constant as the divisor in the DIV expression #24266\nFix the issue that the NO_ZERO_IN_DATE SQL mode does not take effect for the default column value set in DDL statements #24185\nFix an issue which causes wrong query results when using UNION between a BIT type column and an INTEGER type column #24026\nFix the issue that the TableDual plans are mistakenly created when comparing the BINARY type and the CHAR type #23917\nFix the issue that the insert ignore on duplicate statement might unexpectedly delete table records #23825\nFix the issue that the Audit plugin causes TiDB panic #23819\nFix the issue that the HashJoin operator incorrectly processes the collation #23812\nFix the issue of disconnection that occurs when batch_point_get incorrectly handles abnormal values in the pessimistic transaction #23778\nFix the issue of inconsistent indexes that occurs when the tidb_row_format_version configuration value is set to 1 and the enable_new_collation value is set to true #23772\nFix a bug that occurs when comparing the INTEGER type column with the STRING constant value #23705\nFix the error that occurs when the BIT type column is passed into the approx_percent function #23702\nFix a bug that causes TiDB to mistakenly report the TiKV server timeout error when executing TiFlash batch requests #23700\nFix the issue that the IndexJoin operator returns wrong results on the prefix column index #23691\nFix the issue which causes wrong query results because the collation on the BINARY type column is not properly handled #23598\nFix the issue of query panic that occurs when the UPDATE statement contains the join query with the HAVING clause #23575\nFix the issue that causes TiFlash to return wrong results when using the NULL constant in the comparison expression #23474\nFix the issue of wrong results when comparing the YEAR type column with the STRING constant #23335\nFix the issue that group_concat panics when session.group_concat_max_len is set too small #23257\nFix the issue of wrong query results that occurs when using the BETWEEN expression for the TIME type column #23233\nFix the issue of privilege check in the DELETE statements #23215\nFix the issue that no error is reported when inserting invalid strings to the DECIMAL type column #23196\nFix the issue of parsing error occurred when inserting data to the DECIMAL type columns #23152\nFix the issue that the USE_INDEX_MERGE hint does not take effect #22924\nFix a bug that the query returns wrong results when using ENUM or SET columns in the WHERE clause as an filter #22814\nFix a bug that the query returns wrong results when using the clustered index and the new collation at the same time #21408\nFix the panic that occurs when executing ANALYZE with enable_new_collation enabled #21299\nFix the issue that SQL views does not correctly handle the default roles associated with the SQL DEFINER #24531\nFix the issue that cancelling DDL jobs gets stuck #24445\nFix the issue that the concat function incorrectly handles the collation #24300\nFix a bug that the query returns wrong results when the SELECT field has an IN subquery and the subquery's outer side contains NULL tuples #24022\nFix a bug that TiFlash is chosen wrongly by the optimizer when TableScan is in descending order #23974\nFix a bug that the point_get plan returns the column name that is inconsistent with that of MySQL #23970\nFix the issue that executing the show table status statement on a database with a upper-cased name returns wrong results #23958\nFix a bug that the users who do not have the INSERT and DELETE privileges on a table at the same time can perform the REPLACE operation #23938\nFix the issue that the results of the concat/make_set/insert expressions are wrong because the collation is incorrectly handled #23878\nFix the panic that occurs when executing a query on the table that has RANGE partitions #23689\nFix the issue: In the cluster of an earlier version, if the tidb_enable_table_partition variable is set to false, the tables that contain partitions are handled as non-partitioned tables. Executing batch point get queries on this table, when the cluster is upgraded to a later version, causes connection panic. #23682\nFix the issue that when TiDB is configured to listen on TCP and UNIX sockets, the remote hosts over the TCP connection are not correctly validated for connection #23513\nFix a bug that the non-default collation causes wrong query results #22923\nFix a bug that the Coprocessor Cache panel of Grafana does not work #22617\nFix the error that occurs when the optimizer accesses the statistic cache #22565",
          "Fix the panic issue that occurs when the UPDATE statement with a subquery updates the generated column #24658",
          "Fix the issue that causes duplicate query results when using the multi-column index for data reads #24634",
          "Fix the issue that causes wrong query result when using the BIT type constant as the divisor in the DIV expression #24266",
          "Fix the issue that the NO_ZERO_IN_DATE SQL mode does not take effect for the default column value set in DDL statements #24185",
          "Fix an issue which causes wrong query results when using UNION between a BIT type column and an INTEGER type column #24026",
          "Fix the issue that the TableDual plans are mistakenly created when comparing the BINARY type and the CHAR type #23917",
          "Fix the issue that the insert ignore on duplicate statement might unexpectedly delete table records #23825",
          "Fix the issue that the Audit plugin causes TiDB panic #23819",
          "Fix the issue that the HashJoin operator incorrectly processes the collation #23812",
          "Fix the issue of disconnection that occurs when batch_point_get incorrectly handles abnormal values in the pessimistic transaction #23778",
          "Fix the issue of inconsistent indexes that occurs when the tidb_row_format_version configuration value is set to 1 and the enable_new_collation value is set to true #23772",
          "Fix a bug that occurs when comparing the INTEGER type column with the STRING constant value #23705",
          "Fix the error that occurs when the BIT type column is passed into the approx_percent function #23702",
          "Fix a bug that causes TiDB to mistakenly report the TiKV server timeout error when executing TiFlash batch requests #23700",
          "Fix the issue that the IndexJoin operator returns wrong results on the prefix column index #23691",
          "Fix the issue which causes wrong query results because the collation on the BINARY type column is not properly handled #23598",
          "Fix the issue of query panic that occurs when the UPDATE statement contains the join query with the HAVING clause #23575",
          "Fix the issue that causes TiFlash to return wrong results when using the NULL constant in the comparison expression #23474",
          "Fix the issue of wrong results when comparing the YEAR type column with the STRING constant #23335",
          "Fix the issue that group_concat panics when session.group_concat_max_len is set too small #23257",
          "Fix the issue of wrong query results that occurs when using the BETWEEN expression for the TIME type column #23233",
          "Fix the issue of privilege check in the DELETE statements #23215",
          "Fix the issue that no error is reported when inserting invalid strings to the DECIMAL type column #23196",
          "Fix the issue of parsing error occurred when inserting data to the DECIMAL type columns #23152",
          "Fix the issue that the USE_INDEX_MERGE hint does not take effect #22924",
          "Fix a bug that the query returns wrong results when using ENUM or SET columns in the WHERE clause as an filter #22814",
          "Fix a bug that the query returns wrong results when using the clustered index and the new collation at the same time #21408",
          "Fix the panic that occurs when executing ANALYZE with enable_new_collation enabled #21299",
          "Fix the issue that SQL views does not correctly handle the default roles associated with the SQL DEFINER #24531",
          "Fix the issue that cancelling DDL jobs gets stuck #24445",
          "Fix the issue that the concat function incorrectly handles the collation #24300",
          "Fix a bug that the query returns wrong results when the SELECT field has an IN subquery and the subquery's outer side contains NULL tuples #24022",
          "Fix a bug that TiFlash is chosen wrongly by the optimizer when TableScan is in descending order #23974",
          "Fix a bug that the point_get plan returns the column name that is inconsistent with that of MySQL #23970",
          "Fix the issue that executing the show table status statement on a database with a upper-cased name returns wrong results #23958",
          "Fix a bug that the users who do not have the INSERT and DELETE privileges on a table at the same time can perform the REPLACE operation #23938",
          "Fix the issue that the results of the concat/make_set/insert expressions are wrong because the collation is incorrectly handled #23878",
          "Fix the panic that occurs when executing a query on the table that has RANGE partitions #23689",
          "Fix the issue: In the cluster of an earlier version, if the tidb_enable_table_partition variable is set to false, the tables that contain partitions are handled as non-partitioned tables. Executing batch point get queries on this table, when the cluster is upgraded to a later version, causes connection panic. #23682",
          "Fix the issue that when TiDB is configured to listen on TCP and UNIX sockets, the remote hosts over the TCP connection are not correctly validated for connection #23513",
          "Fix a bug that the non-default collation causes wrong query results #22923",
          "Fix a bug that the Coprocessor Cache panel of Grafana does not work #22617",
          "Fix the error that occurs when the optimizer accesses the statistic cache #22565",
          "TiKV\nFix a bug that TiKV cannot start if the file_dict file is not fully written into the disk that has been full #9963\nLimit TiCDC's scan speed at 128MB/s by default #9983\nReduce the memory usage of TiCDC's initial scan #10133\nSupport the back pressure for TiCDC's scan speed #10142\nFix a potential OOM issue by avoiding unnecessary reads to get TiCDC old values #10031\nFix a TiCDC OOM issue caused by reading old values #10197\nAdd a timeout mechanism for S3 storages to avoid the client hanging without responses #10132",
          "Fix a bug that TiKV cannot start if the file_dict file is not fully written into the disk that has been full #9963",
          "Limit TiCDC's scan speed at 128MB/s by default #9983",
          "Reduce the memory usage of TiCDC's initial scan #10133",
          "Support the back pressure for TiCDC's scan speed #10142",
          "Fix a potential OOM issue by avoiding unnecessary reads to get TiCDC old values #10031",
          "Fix a TiCDC OOM issue caused by reading old values #10197",
          "Add a timeout mechanism for S3 storages to avoid the client hanging without responses #10132",
          "TiFlash\nFix the issue that number of delta-merge-tasks is not reported to Prometheus\nFix the TiFlash panic issue that occurs during Segment Split\nFix the issue that the Region write Duration (write blocks) panel in Grafana is shown in a wrong place\nFix the potential issue that the storage engine fails to remove data\nFix the issue of incorrect results when casting the TIME type to the INTEGER type\nFix a bug that the behavior of the bitwise operator is different from that of TiDB\nFix the issue of incorrect results when casting the STRING type to the INTEGER type\nFix the issue that consecutive and fast writes might make TiFlash out of memory\nFix the potential issue that the exception of null pointer might be raised during the table GC\nFix the TiFlash panic issue that occurs when writing data to dropped tables\nFix the TiFlash panic issue that occurs during BR restore\nFix a bug that the weights of some characters are wrong when using the general CI collation\nFix the potential issue that data will be lost in tombstoned tables\nFix the issue of incorrect results when comparing the string which contains zero bytes\nFix the issue that the logical function returns wrong results if the input column contains null constants\nFix the issue that the logical function only accepts the numeric type\nFix the issue of incorrect results that occurs when the timestamp value is 1970-01-01 and the timezone offset is negative\nFix the issue that hash value of Decimal256 is not stable",
          "Fix the issue that number of delta-merge-tasks is not reported to Prometheus",
          "Fix the TiFlash panic issue that occurs during Segment Split",
          "Fix the issue that the Region write Duration (write blocks) panel in Grafana is shown in a wrong place",
          "Fix the potential issue that the storage engine fails to remove data",
          "Fix the issue of incorrect results when casting the TIME type to the INTEGER type",
          "Fix a bug that the behavior of the bitwise operator is different from that of TiDB",
          "Fix the issue of incorrect results when casting the STRING type to the INTEGER type",
          "Fix the issue that consecutive and fast writes might make TiFlash out of memory",
          "Fix the potential issue that the exception of null pointer might be raised during the table GC",
          "Fix the TiFlash panic issue that occurs when writing data to dropped tables",
          "Fix the TiFlash panic issue that occurs during BR restore",
          "Fix a bug that the weights of some characters are wrong when using the general CI collation",
          "Fix the potential issue that data will be lost in tombstoned tables",
          "Fix the issue of incorrect results when comparing the string which contains zero bytes",
          "Fix the issue that the logical function returns wrong results if the input column contains null constants",
          "Fix the issue that the logical function only accepts the numeric type",
          "Fix the issue of incorrect results that occurs when the timestamp value is 1970-01-01 and the timezone offset is negative",
          "Fix the issue that hash value of Decimal256 is not stable",
          "Tools\nTiCDC\nFix the deadlock issue caused by the flow control when the sorter's input channel has been blocked #1779\nFix the issue that the TiKV GC safe point is blocked due to the stagnation of TiCDC changefeed checkpoint #1756\nRevert the update in explicit_defaults_for_timestamp which requires the SUPER privilege when replicating data to MySQL #1749\nTiDB Lightning\nFix a bug that TiDB Lightning's TiDB-backend cannot load any data when autocommit is disabled",
          "TiCDC\nFix the deadlock issue caused by the flow control when the sorter's input channel has been blocked #1779\nFix the issue that the TiKV GC safe point is blocked due to the stagnation of TiCDC changefeed checkpoint #1756\nRevert the update in explicit_defaults_for_timestamp which requires the SUPER privilege when replicating data to MySQL #1749",
          "Fix the deadlock issue caused by the flow control when the sorter's input channel has been blocked #1779",
          "Fix the issue that the TiKV GC safe point is blocked due to the stagnation of TiCDC changefeed checkpoint #1756",
          "Revert the update in explicit_defaults_for_timestamp which requires the SUPER privilege when replicating data to MySQL #1749",
          "TiDB Lightning\nFix a bug that TiDB Lightning's TiDB-backend cannot load any data when autocommit is disabled",
          "Fix a bug that TiDB Lightning's TiDB-backend cannot load any data when autocommit is disabled"
        ]
      },
      {
        "version": "4.0.12",
        "date": "2021-04-02",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.12/",
        "changes": [
          "TiFlash\nAdd tools to check the status of tiflash replica for online rolling updates",
          "Add tools to check the status of tiflash replica for online rolling updates",
          "TiDB\nRefine the output information of the EXPLAIN statement for the batch cop mode #23164\nAdd the warning information for expressions that cannot be pushed to the storage layer in the output of the EXPLAIN statement #23020\nMigrate a part of the DDL package code from Execute/ExecRestricted to the safe API (2) #22935\nMigrate a part of the DDL package code from Execute/ExecRestricted to the safe API (1) #22929\nAdd optimization-time and wait-TS-time into the slow log #22918\nSupport querying partition_id from the infoschema.partitions table #22489\nAdd last_plan_from_binding to help the users know whether a SQL statement's execution plan is matched with the hints in the binding #21430\nScatter truncated tables without the pre-split option #22872\nAdd three format specifiers for the str_to_date expression #22812\nRecord the PREPARE execution failure as Failed Query OPM in the metrics monitor #22672\nDo not report errors for the PREPARE execution if tidb_snapshot is set #22641",
          "Refine the output information of the EXPLAIN statement for the batch cop mode #23164",
          "Add the warning information for expressions that cannot be pushed to the storage layer in the output of the EXPLAIN statement #23020",
          "Migrate a part of the DDL package code from Execute/ExecRestricted to the safe API (2) #22935",
          "Migrate a part of the DDL package code from Execute/ExecRestricted to the safe API (1) #22929",
          "Add optimization-time and wait-TS-time into the slow log #22918",
          "Support querying partition_id from the infoschema.partitions table #22489",
          "Add last_plan_from_binding to help the users know whether a SQL statement's execution plan is matched with the hints in the binding #21430",
          "Scatter truncated tables without the pre-split option #22872",
          "Add three format specifiers for the str_to_date expression #22812",
          "Record the PREPARE execution failure as Failed Query OPM in the metrics monitor #22672",
          "Do not report errors for the PREPARE execution if tidb_snapshot is set #22641",
          "TiKV\nPrevent a large number of reconnections in a short period of time #9879\nOptimize the write operations and Batch Get in the scenarios of many tombstones #9729\nChange the default value of leader-transfer-max-log-lag to 128 to increase the success rate of leader transfer #9605",
          "Prevent a large number of reconnections in a short period of time #9879",
          "Optimize the write operations and Batch Get in the scenarios of many tombstones #9729",
          "Change the default value of leader-transfer-max-log-lag to 128 to increase the success rate of leader transfer #9605",
          "PD\nUpdate the Region cache only when pending-peers or down-peers changes, which reduces the pressure of updating heartbeats #3471\nPrevent the Regions in split-cache from becoming the target of merge #3459",
          "Update the Region cache only when pending-peers or down-peers changes, which reduces the pressure of updating heartbeats #3471",
          "Prevent the Regions in split-cache from becoming the target of merge #3459",
          "TiFlash\nOptimize the configuration file and remove useless items\nReduce the size of TiFlash binary files\nUse an adaptive aggressive GC strategy to reduce memory usage",
          "Optimize the configuration file and remove useless items",
          "Reduce the size of TiFlash binary files",
          "Use an adaptive aggressive GC strategy to reduce memory usage",
          "Tools\nTiCDC\nAdd a double confirmation when users create or resume the changefeed with the start-ts or checkpoint-ts 1 day before the current timestamp #1497\nAdd Grafana panels for the Old Value feature #1571\nBackup & Restore (BR)\nLog the HTTP_PROXY and HTTPS_PROXY environmental variables #827\nImprove the backup performance when there are many tables #745\nReport errors if the service safe point check fails #826\nAdd the cluster_version and br_version information in backupmeta #803\nAdd retry for external storage errors to increase the success rate of backup #851\nReduce memory usage during backup #886\nTiDB Lightning\nCheck the TiDB cluster version before running TiDB Lightning to avoid unexpected errors #787\nFail fast when TiDB Lightning meets the cancel error #867\nAdd tikv-importer.engine-mem-cache-size and tikv-importer.local-writer-mem-cache-size configuration items to balance between memory usage and performance #866\nRun batch split region in parallel for TiDB Lightning's Local-backend to increase the import speed #868\nWhen using TiDB Lightning to import data from a S3 storage, TiDB Lightning no longer requires the s3:ListBucket permission #919\nWhen resuming from a checkpoint, TiDB Lightning keeps using the original engine #924",
          "TiCDC\nAdd a double confirmation when users create or resume the changefeed with the start-ts or checkpoint-ts 1 day before the current timestamp #1497\nAdd Grafana panels for the Old Value feature #1571",
          "Add a double confirmation when users create or resume the changefeed with the start-ts or checkpoint-ts 1 day before the current timestamp #1497",
          "Add Grafana panels for the Old Value feature #1571",
          "Backup & Restore (BR)\nLog the HTTP_PROXY and HTTPS_PROXY environmental variables #827\nImprove the backup performance when there are many tables #745\nReport errors if the service safe point check fails #826\nAdd the cluster_version and br_version information in backupmeta #803\nAdd retry for external storage errors to increase the success rate of backup #851\nReduce memory usage during backup #886",
          "Log the HTTP_PROXY and HTTPS_PROXY environmental variables #827",
          "Improve the backup performance when there are many tables #745",
          "Report errors if the service safe point check fails #826",
          "Add the cluster_version and br_version information in backupmeta #803",
          "Add retry for external storage errors to increase the success rate of backup #851",
          "Reduce memory usage during backup #886",
          "TiDB Lightning\nCheck the TiDB cluster version before running TiDB Lightning to avoid unexpected errors #787\nFail fast when TiDB Lightning meets the cancel error #867\nAdd tikv-importer.engine-mem-cache-size and tikv-importer.local-writer-mem-cache-size configuration items to balance between memory usage and performance #866\nRun batch split region in parallel for TiDB Lightning's Local-backend to increase the import speed #868\nWhen using TiDB Lightning to import data from a S3 storage, TiDB Lightning no longer requires the s3:ListBucket permission #919\nWhen resuming from a checkpoint, TiDB Lightning keeps using the original engine #924",
          "Check the TiDB cluster version before running TiDB Lightning to avoid unexpected errors #787",
          "Fail fast when TiDB Lightning meets the cancel error #867",
          "Add tikv-importer.engine-mem-cache-size and tikv-importer.local-writer-mem-cache-size configuration items to balance between memory usage and performance #866",
          "Run batch split region in parallel for TiDB Lightning's Local-backend to increase the import speed #868",
          "When using TiDB Lightning to import data from a S3 storage, TiDB Lightning no longer requires the s3:ListBucket permission #919",
          "When resuming from a checkpoint, TiDB Lightning keeps using the original engine #924",
          "TiDB\nFix the issue that the get variable expression goes wrong when the session variable is hexadecimal literals#23372\nFix the issue that wrong collation is used when creating the fast execution plan for the Enum or Set type #23292\nFix the possible wrong result of the nullif expression when it is used with is-null #23279\nFix the issue that the auto-analysis is triggered outside its time range #23219\nFix the issue that the CAST function might ignore errors for the point get plan #23211\nFix a bug that prevents SPM from taking effect when CurrentDB is empty #23209\nFix the issue of possible wrong table filters for the IndexMerge plan #23165\nFix the issue of unexpected NotNullFlag in the returning types of the NULL constant #23135\nFix a bug that collation might not be handled by the text type #23092\nFix the issue that the range partition might incorrectly handle the IN expression #23074\nFix the issue that after marking a TiKV store as tombstone, starting new TiKV stores with different StoreIDs with the same IP address and port keeps returning the StoreNotMatch error #23071\nDo not adjust the INT type when it is NULL and compared with YEAR #22844\nFix the issue of lost connection when loading data on tables with the auto_random column #22736\nFix the issue of DDL hangover when the DDL operation meets panic in the cancelling path #23297\nFix the wrong key range of index scan when comparing the YEAR column with NULL #23104\nFix the issue that a successfully created view is failed to use #23083",
          "Fix the issue that the get variable expression goes wrong when the session variable is hexadecimal literals#23372",
          "Fix the issue that wrong collation is used when creating the fast execution plan for the Enum or Set type #23292",
          "Fix the possible wrong result of the nullif expression when it is used with is-null #23279",
          "Fix the issue that the auto-analysis is triggered outside its time range #23219",
          "Fix the issue that the CAST function might ignore errors for the point get plan #23211",
          "Fix a bug that prevents SPM from taking effect when CurrentDB is empty #23209",
          "Fix the issue of possible wrong table filters for the IndexMerge plan #23165",
          "Fix the issue of unexpected NotNullFlag in the returning types of the NULL constant #23135",
          "Fix a bug that collation might not be handled by the text type #23092",
          "Fix the issue that the range partition might incorrectly handle the IN expression #23074",
          "Fix the issue that after marking a TiKV store as tombstone, starting new TiKV stores with different StoreIDs with the same IP address and port keeps returning the StoreNotMatch error #23071",
          "Do not adjust the INT type when it is NULL and compared with YEAR #22844",
          "Fix the issue of lost connection when loading data on tables with the auto_random column #22736",
          "Fix the issue of DDL hangover when the DDL operation meets panic in the cancelling path #23297",
          "Fix the wrong key range of index scan when comparing the YEAR column with NULL #23104",
          "Fix the issue that a successfully created view is failed to use #23083",
          "TiKV\nFix the issue that the IN expression does not properly handle unsigned/signed integers #9850\nFix the issue that the ingest operation is not re-entrant #9779\nFix the issue that the space is missed when converting JSON to string in TiKV coprocessor #9666",
          "Fix the issue that the IN expression does not properly handle unsigned/signed integers #9850",
          "Fix the issue that the ingest operation is not re-entrant #9779",
          "Fix the issue that the space is missed when converting JSON to string in TiKV coprocessor #9666",
          "PD\nFix a bug that the isolation level is wrong when the store lacks the label #3474",
          "Fix a bug that the isolation level is wrong when the store lacks the label #3474",
          "TiFlash\nFix the issue of incorrect execution results when the default value of the binary type column contains leading or tailing zero bytes\nFix a bug that TiFlash fails to synchronize schema if the name of the database contains special characters\nFix the issue of incorrect results when handling the IN expression with decimal values\nFix a bug that the metric for the opened file count shown in Grafana is high\nFix a bug that TiFlash does not support the Timestamp literal\nFix the potential not responding issue while handling the FROM_UNIXTIME expression\nFix the issue of incorrect results when casting string as integer\nFix a bug that the like function might return wrong results",
          "Fix the issue of incorrect execution results when the default value of the binary type column contains leading or tailing zero bytes",
          "Fix a bug that TiFlash fails to synchronize schema if the name of the database contains special characters",
          "Fix the issue of incorrect results when handling the IN expression with decimal values",
          "Fix a bug that the metric for the opened file count shown in Grafana is high",
          "Fix a bug that TiFlash does not support the Timestamp literal",
          "Fix the potential not responding issue while handling the FROM_UNIXTIME expression",
          "Fix the issue of incorrect results when casting string as integer",
          "Fix a bug that the like function might return wrong results",
          "Tools\nTiCDC\nFix a disorder issue of the resolved ts event #1464\nFix a data loss issue caused by wrong table scheduling due to the network problem #1508\nFix a bug of untimely release of resources after a processor is stopped #1547\nFix a bug that the transaction counter is not correctly updated, which might cause database connection leak #1524\nFix the issue that multiple owners can co-exist when PD has jitter, which might lead to table missing #1540\nBackup & Restore (BR)\nFix a bug that WalkDir for the s3 storage returns nil if the target path is bucket name #733\nFix a bug that the status port is not served with TLS #839\nTiDB Lightning\nFix the error that TiKV Importer might ignore that the file has already existed #848\nFix a bug that the TiDB Lightning might use the wrong timestamp and read the wrong data #850\nFix a bug that TiDB Lightning's unexpected exit might cause damaged checkpoint file #889\nFix the issue of possible data error that occurs because the cancel error is ignored #874",
          "TiCDC\nFix a disorder issue of the resolved ts event #1464\nFix a data loss issue caused by wrong table scheduling due to the network problem #1508\nFix a bug of untimely release of resources after a processor is stopped #1547\nFix a bug that the transaction counter is not correctly updated, which might cause database connection leak #1524\nFix the issue that multiple owners can co-exist when PD has jitter, which might lead to table missing #1540",
          "Fix a disorder issue of the resolved ts event #1464",
          "Fix a data loss issue caused by wrong table scheduling due to the network problem #1508",
          "Fix a bug of untimely release of resources after a processor is stopped #1547",
          "Fix a bug that the transaction counter is not correctly updated, which might cause database connection leak #1524",
          "Fix the issue that multiple owners can co-exist when PD has jitter, which might lead to table missing #1540",
          "Backup & Restore (BR)\nFix a bug that WalkDir for the s3 storage returns nil if the target path is bucket name #733\nFix a bug that the status port is not served with TLS #839",
          "Fix a bug that WalkDir for the s3 storage returns nil if the target path is bucket name #733",
          "Fix a bug that the status port is not served with TLS #839",
          "TiDB Lightning\nFix the error that TiKV Importer might ignore that the file has already existed #848\nFix a bug that the TiDB Lightning might use the wrong timestamp and read the wrong data #850\nFix a bug that TiDB Lightning's unexpected exit might cause damaged checkpoint file #889\nFix the issue of possible data error that occurs because the cancel error is ignored #874",
          "Fix the error that TiKV Importer might ignore that the file has already existed #848",
          "Fix a bug that the TiDB Lightning might use the wrong timestamp and read the wrong data #850",
          "Fix a bug that TiDB Lightning's unexpected exit might cause damaged checkpoint file #889",
          "Fix the issue of possible data error that occurs because the cancel error is ignored #874"
        ]
      },
      {
        "version": "4.0.11",
        "date": "2021-02-26",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.11/",
        "changes": [
          "TiDB\nSupport the utf8_unicode_ci and utf8mb4_unicode_ci collations #22558",
          "Support the utf8_unicode_ci and utf8mb4_unicode_ci collations #22558",
          "TiKV\nSupport the utf8mb4_unicode_ci collation #9577\nSupport the cast_year_as_time collation #9299",
          "Support the utf8mb4_unicode_ci collation #9577",
          "Support the cast_year_as_time collation #9299",
          "TiFlash\nAdd a Coprocessor thread pool to queue Coprocessor requests for execution, which avoids out of memory (OOM) in some cases, and add the cop_pool_size and batch_cop_pool_size configuration items with the default values of NumOfPhysicalCores * 2",
          "Add a Coprocessor thread pool to queue Coprocessor requests for execution, which avoids out of memory (OOM) in some cases, and add the cop_pool_size and batch_cop_pool_size configuration items with the default values of NumOfPhysicalCores * 2",
          "TiDB\nReorder inner joins that are simplified from outer joins #22402\nSupport multiple clusters in Grafana dashboards #22534\nAdd a workaround for the issue of multiple statements #22468\nDivide the metrics of slow query into internal and general #22405\nAdd interface for utf8_unicode_ci and utf8mb4_unicode_ci collations #22099",
          "Reorder inner joins that are simplified from outer joins #22402",
          "Support multiple clusters in Grafana dashboards #22534",
          "Add a workaround for the issue of multiple statements #22468",
          "Divide the metrics of slow query into internal and general #22405",
          "Add interface for utf8_unicode_ci and utf8mb4_unicode_ci collations #22099",
          "TiKV\nAdd metrics of server information for DBaaS #9591\nSupport multiple clusters in Grafana dashboards #9572\nReport RocksDB metrics to TiDB #9316\nRecord the suspension time for Coprocessor tasks #9277\nAdd thresholds of key counts and key size for Load Base Split #9354\nCheck whether the file exists before data import #9544\nImprove Fast Tune panels #9180",
          "Add metrics of server information for DBaaS #9591",
          "Support multiple clusters in Grafana dashboards #9572",
          "Report RocksDB metrics to TiDB #9316",
          "Record the suspension time for Coprocessor tasks #9277",
          "Add thresholds of key counts and key size for Load Base Split #9354",
          "Check whether the file exists before data import #9544",
          "Improve Fast Tune panels #9180",
          "PD\nSupport multiple clusters in Grafana dashboards #3398",
          "Support multiple clusters in Grafana dashboards #3398",
          "TiFlash\nOptimize the performance of the date_format function\nOptimize the memory consumption of handling ingest SST\nOptimize the retrying logic in Batch Coprocessor to reduce the probability of Region error",
          "Optimize the performance of the date_format function",
          "Optimize the memory consumption of handling ingest SST",
          "Optimize the retrying logic in Batch Coprocessor to reduce the probability of Region error",
          "Tools\nTiCDC\nAdd the version information in the capture metadata and add the CLI version of a changefeed in the changefeed metadata #1342\nTiDB Lightning\nCreate tables in parallel to improve import performance #502\nSkip splitting Regions to improve import performance if the engine's total size is smaller than the Region size #524\nAdd a import progress bar and optimize the accuracy of restore progress #506",
          "TiCDC\nAdd the version information in the capture metadata and add the CLI version of a changefeed in the changefeed metadata #1342",
          "Add the version information in the capture metadata and add the CLI version of a changefeed in the changefeed metadata #1342",
          "TiDB Lightning\nCreate tables in parallel to improve import performance #502\nSkip splitting Regions to improve import performance if the engine's total size is smaller than the Region size #524\nAdd a import progress bar and optimize the accuracy of restore progress #506",
          "Create tables in parallel to improve import performance #502",
          "Skip splitting Regions to improve import performance if the engine's total size is smaller than the Region size #524",
          "Add a import progress bar and optimize the accuracy of restore progress #506",
          "TiDB\nFix the issue of abnormal unicode_ci constant propagation #22614\nFix the issue that might cause wrong collation and coercibility #22602\nFix the issue that might cause wrong collation results #22599\nFix the issue of constant substitution for different collations #22582\nFix a bug that the like function might return wrong result when using collation #22531\nFix the issue of incorrect duration type inference in least and greatest functions #22580\nFix a bug that occurs when the like function handles a single character wildcard (_) followed by a multiple character wildcard (%) #22575\nFix the type inference error of the TiDB's built-in functions (least and greatest) #22562\nFix a bug that makes the like function get the wrong result if the pattern string is a unicode string #22529\nFix a bug that the point get query does not get the snapshot data when the @@tidb_snapshot variable is set #22527\nFix the potential panic that occurs when generating hints from joins #22518\nFix the issue that strings are incorrectly converted to the BIT type #22420\nFix the index out of range error that occurs when inserting values to the tidb_rowid column #22359\nFix a bug that the cached plan is incorrectly used #22353\nFix the runtime panic in the WEIGHT_STRING function when the length of the binary/char string is too large #22332\nForbid using the generated column when the number of function parameters is invalid #22174\nCorrectly set the process information before building the execution plan #22148\nFix the issue of inaccurate runtime statistics of IndexLookUp #22136\nAdd cache for the memory usage information when the cluster is deployed in a container #22116\nFix the issue of the decoding plan errors #22022\nReport errors for using invalid window specifications #21976\nReport errors when the PREPARE statement is nested with EXECUTE, DEALLOCATE or PREPARE #21972\nFix the issue that no error is reported when the INSERT IGNORE statement is used on a non-existing partition #21971\nUnify the encoding of EXPLAIN results and slow log #21964\nFix the issue of unknown columns in join when using the aggregate operator #21957\nFix the wrong type inference in the ceiling function #21936\nFix the issue that the Double type column ignores its decimal #21916\nFix the issue that the correlated aggregation is calculated in subqueries #21877\nReport errors for the JSON object with key length >= 65536 #21870\nFix the issue that the dyname function is incompatible with MySQL #21850\nFix the issue that the to_base64 function returns NULL when the input data is too long #21813\nFix the failure of comparing multiple fields in the subquery #21808\nFix the issue that occurs when comparing the float type in JSON #21785\nFix the issue that occurs when comparing the types of JSON objects #21718\nFix the issue that the coercibility value of the cast function is incorrectly set #21714\nFix an unexpected panic when using the IF function #21711\nFix the issue that the NULL result returned from JSON search is incompatible with MySQL #21700\nFix the issue that occurs when checking the only_full_group_by mode using ORDER BY and HAVING #21697\nFix the issue that the units of Day and Time are incompatible with MySQL #21676\nFix the issue that the default values of LEAD and LAG cannot adapt to the field type #21665\nPerform a check to ensure that the LOAD DATA statement can only load data into base tables #21638\nFix the issue that occurs when addtime and subtime functions handle invalid arguments #21635\nChange the round rule for approximate values to \"round to the nearest even number\" #21628\nFix the issue that WEEK() does not recognize @@GLOBAL.default_week_format until it has been explicitly read #21623",
          "Fix the issue of abnormal unicode_ci constant propagation #22614",
          "Fix the issue that might cause wrong collation and coercibility #22602",
          "Fix the issue that might cause wrong collation results #22599",
          "Fix the issue of constant substitution for different collations #22582",
          "Fix a bug that the like function might return wrong result when using collation #22531",
          "Fix the issue of incorrect duration type inference in least and greatest functions #22580",
          "Fix a bug that occurs when the like function handles a single character wildcard (_) followed by a multiple character wildcard (%) #22575",
          "Fix the type inference error of the TiDB's built-in functions (least and greatest) #22562",
          "Fix a bug that makes the like function get the wrong result if the pattern string is a unicode string #22529",
          "Fix a bug that the point get query does not get the snapshot data when the @@tidb_snapshot variable is set #22527",
          "Fix the potential panic that occurs when generating hints from joins #22518",
          "Fix the issue that strings are incorrectly converted to the BIT type #22420",
          "Fix the index out of range error that occurs when inserting values to the tidb_rowid column #22359",
          "Fix a bug that the cached plan is incorrectly used #22353",
          "Fix the runtime panic in the WEIGHT_STRING function when the length of the binary/char string is too large #22332",
          "Forbid using the generated column when the number of function parameters is invalid #22174",
          "Correctly set the process information before building the execution plan #22148",
          "Fix the issue of inaccurate runtime statistics of IndexLookUp #22136",
          "Add cache for the memory usage information when the cluster is deployed in a container #22116",
          "Fix the issue of the decoding plan errors #22022",
          "Report errors for using invalid window specifications #21976",
          "Report errors when the PREPARE statement is nested with EXECUTE, DEALLOCATE or PREPARE #21972",
          "Fix the issue that no error is reported when the INSERT IGNORE statement is used on a non-existing partition #21971",
          "Unify the encoding of EXPLAIN results and slow log #21964",
          "Fix the issue of unknown columns in join when using the aggregate operator #21957",
          "Fix the wrong type inference in the ceiling function #21936",
          "Fix the issue that the Double type column ignores its decimal #21916",
          "Fix the issue that the correlated aggregation is calculated in subqueries #21877",
          "Report errors for the JSON object with key length >= 65536 #21870",
          "Fix the issue that the dyname function is incompatible with MySQL #21850",
          "Fix the issue that the to_base64 function returns NULL when the input data is too long #21813",
          "Fix the failure of comparing multiple fields in the subquery #21808",
          "Fix the issue that occurs when comparing the float type in JSON #21785",
          "Fix the issue that occurs when comparing the types of JSON objects #21718",
          "Fix the issue that the coercibility value of the cast function is incorrectly set #21714",
          "Fix an unexpected panic when using the IF function #21711",
          "Fix the issue that the NULL result returned from JSON search is incompatible with MySQL #21700",
          "Fix the issue that occurs when checking the only_full_group_by mode using ORDER BY and HAVING #21697",
          "Fix the issue that the units of Day and Time are incompatible with MySQL #21676",
          "Fix the issue that the default values of LEAD and LAG cannot adapt to the field type #21665",
          "Perform a check to ensure that the LOAD DATA statement can only load data into base tables #21638",
          "Fix the issue that occurs when addtime and subtime functions handle invalid arguments #21635",
          "Change the round rule for approximate values to \"round to the nearest even number\" #21628",
          "Fix the issue that WEEK() does not recognize @@GLOBAL.default_week_format until it has been explicitly read #21623",
          "TiKV\nFix the issue that TiKV is failed to build with PROST=1 #9604\nFix the unmatched memory diagnostics #9589\nFix the issue that the end key of a partial RawKV-restore range is inclusive #9583\nFix the issue of TiKV panic that occurs when loading the old value of a key of a rolled-back transaction during TiCDC's incremental scan #9569\nFix the configuration glitch of old values when changefeeds with different settings connect to one Region #9565\nFix a crash issue that occurs when running a TiKV cluster on a machine with a network interface that lacks the MAC address (introduced in v4.0.9) #9516\nFix the issue of TiKV OOM when backing up a huge Region #9448\nFix the issue that region-split-check-diff cannot be customized #9530\nFix the issue of TiKV panic when the system time goes back #9542",
          "Fix the issue that TiKV is failed to build with PROST=1 #9604",
          "Fix the unmatched memory diagnostics #9589",
          "Fix the issue that the end key of a partial RawKV-restore range is inclusive #9583",
          "Fix the issue of TiKV panic that occurs when loading the old value of a key of a rolled-back transaction during TiCDC's incremental scan #9569",
          "Fix the configuration glitch of old values when changefeeds with different settings connect to one Region #9565",
          "Fix a crash issue that occurs when running a TiKV cluster on a machine with a network interface that lacks the MAC address (introduced in v4.0.9) #9516",
          "Fix the issue of TiKV OOM when backing up a huge Region #9448",
          "Fix the issue that region-split-check-diff cannot be customized #9530",
          "Fix the issue of TiKV panic when the system time goes back #9542",
          "PD\nFix the issue that member health metrics are incorrectly displayed #3368\nForbid removing the tombstone store that still has peers #3352\nFix the issue that the store limit cannot be persisted #3403\nFix the limit constriction of the scatter range scheduler #3401",
          "Fix the issue that member health metrics are incorrectly displayed #3368",
          "Forbid removing the tombstone store that still has peers #3352",
          "Fix the issue that the store limit cannot be persisted #3403",
          "Fix the limit constriction of the scatter range scheduler #3401",
          "TiFlash\nFix a bug that the min/max result is wrong for the decimal type\nFix a bug that TiFlash might crash when reading data\nFix the issue that some data written after DDL operations might be lost after data compaction\nFix the issue that TiFlash incorrectly handles decimal constants in Coprocessor\nFix the potential crash during the learner read process\nFix the inconsistent behaviors of division by 0 or NULL between TiDB and TiFlash",
          "Fix a bug that the min/max result is wrong for the decimal type",
          "Fix a bug that TiFlash might crash when reading data",
          "Fix the issue that some data written after DDL operations might be lost after data compaction",
          "Fix the issue that TiFlash incorrectly handles decimal constants in Coprocessor",
          "Fix the potential crash during the learner read process",
          "Fix the inconsistent behaviors of division by 0 or NULL between TiDB and TiFlash",
          "Tools\nTiCDC\nFix a bug that the TiCDC service might unexpectedly exit when ErrTaskStatusNotExists and the closing of capture session occur at the same time #1240\nFix the old value switch issue that a changefeed might be affected by another changefeed #1347\nFix a bug that the TiCDC service might hang when processing a new changefeed with the invalid sort-engine parameter #1309\nFix the issue of panic that occurs when getting the debugging information on non-owner nodes #1349\nFix the issue that the ticdc_processor_num_of_tables and ticdc_processor_table_resolved_ts metrics are not properly updated when adding or removing tables #1351\nFix the issue of potential data loss if a processor crashes when adding a table #1363\nFix a bug that the owner might lead to abnormal TiCDC server exits during table migrations #1352\nFix a bug that TiCDC does not exit in time after the service GC safepoint is lost #1367\nFix a bug that the KV client might skip creating the event feed #1336\nFix a bug that the atomicity of transactions is broken when the transactions are replicated to the downstream #1375\nBackup & Restore (BR)\nFix the issue that TiKV might be caused to generate a big Region after BR restores the backup #702\nFix the issue that BR restores a table's Auto ID even if the table does not have Auto ID #720\nTiDB Lightning\nFix a bug that column count mismatch might be triggered when using the TiDB-backend #535\nFix a bug that TiDB-backend panics if the column count of the source file and the column count of the target table mismatch #528\nFix a bug that TiKV might unexpectedly panic during TiDB Lightning's data import #554",
          "TiCDC\nFix a bug that the TiCDC service might unexpectedly exit when ErrTaskStatusNotExists and the closing of capture session occur at the same time #1240\nFix the old value switch issue that a changefeed might be affected by another changefeed #1347\nFix a bug that the TiCDC service might hang when processing a new changefeed with the invalid sort-engine parameter #1309\nFix the issue of panic that occurs when getting the debugging information on non-owner nodes #1349\nFix the issue that the ticdc_processor_num_of_tables and ticdc_processor_table_resolved_ts metrics are not properly updated when adding or removing tables #1351\nFix the issue of potential data loss if a processor crashes when adding a table #1363\nFix a bug that the owner might lead to abnormal TiCDC server exits during table migrations #1352\nFix a bug that TiCDC does not exit in time after the service GC safepoint is lost #1367\nFix a bug that the KV client might skip creating the event feed #1336\nFix a bug that the atomicity of transactions is broken when the transactions are replicated to the downstream #1375",
          "Fix a bug that the TiCDC service might unexpectedly exit when ErrTaskStatusNotExists and the closing of capture session occur at the same time #1240",
          "Fix the old value switch issue that a changefeed might be affected by another changefeed #1347",
          "Fix a bug that the TiCDC service might hang when processing a new changefeed with the invalid sort-engine parameter #1309",
          "Fix the issue of panic that occurs when getting the debugging information on non-owner nodes #1349",
          "Fix the issue that the ticdc_processor_num_of_tables and ticdc_processor_table_resolved_ts metrics are not properly updated when adding or removing tables #1351",
          "Fix the issue of potential data loss if a processor crashes when adding a table #1363",
          "Fix a bug that the owner might lead to abnormal TiCDC server exits during table migrations #1352",
          "Fix a bug that TiCDC does not exit in time after the service GC safepoint is lost #1367",
          "Fix a bug that the KV client might skip creating the event feed #1336",
          "Fix a bug that the atomicity of transactions is broken when the transactions are replicated to the downstream #1375",
          "Backup & Restore (BR)\nFix the issue that TiKV might be caused to generate a big Region after BR restores the backup #702\nFix the issue that BR restores a table's Auto ID even if the table does not have Auto ID #720",
          "Fix the issue that TiKV might be caused to generate a big Region after BR restores the backup #702",
          "Fix the issue that BR restores a table's Auto ID even if the table does not have Auto ID #720",
          "TiDB Lightning\nFix a bug that column count mismatch might be triggered when using the TiDB-backend #535\nFix a bug that TiDB-backend panics if the column count of the source file and the column count of the target table mismatch #528\nFix a bug that TiKV might unexpectedly panic during TiDB Lightning's data import #554",
          "Fix a bug that column count mismatch might be triggered when using the TiDB-backend #535",
          "Fix a bug that TiDB-backend panics if the column count of the source file and the column count of the target table mismatch #528",
          "Fix a bug that TiKV might unexpectedly panic during TiDB Lightning's data import #554"
        ]
      },
      {
        "version": "4.0.10",
        "date": "2021-01-15",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.10/",
        "changes": [
          "PD\nAdd the enable-redact-log configuration item to redact user data from logs #3266",
          "Add the enable-redact-log configuration item to redact user data from logs #3266",
          "TiFlash\nAdd the security.redact_info_log configuration item to redact user data from logs",
          "Add the security.redact_info_log configuration item to redact user data from logs",
          "TiDB\nMake the size limit of a key-value entry in transaction configurable using txn-entry-size-limit #21843",
          "Make the size limit of a key-value entry in transaction configurable using txn-entry-size-limit #21843",
          "PD\nOptimize the store-state-filter metrics to show more information #3100\nUpgrade the go.etcd.io/bbolt dependency to v1.3.5 #3331",
          "Optimize the store-state-filter metrics to show more information #3100",
          "Upgrade the go.etcd.io/bbolt dependency to v1.3.5 #3331",
          "Tools\nTiCDC\nEnable the unified sorter feature by default #1230\nDumpling\nSupport checking unrecognized arguments and printing the current progress during dumping #228\nTiDB Lightning\nSupport retrying the error that occurs when reading from S3 #533",
          "TiCDC\nEnable the unified sorter feature by default #1230",
          "Enable the unified sorter feature by default #1230",
          "Dumpling\nSupport checking unrecognized arguments and printing the current progress during dumping #228",
          "Support checking unrecognized arguments and printing the current progress during dumping #228",
          "TiDB Lightning\nSupport retrying the error that occurs when reading from S3 #533",
          "Support retrying the error that occurs when reading from S3 #533",
          "TiDB\nFix a concurrency bug that might cause the batch client timeout #22336\nFix the issue of duplicate bindings caused by concurrent baseline capture #22295\nMake the baseline capture bound to the SQL statement work when the log level is 'debug' #22293\nCorrectly release GC locks when Region merge occurs #22267\nReturn correct values for user variables of the datetime type #22143\nFix the issue of using index merge when there are multiple table filters #22124\nFix the wrong precision issue in TiFlash caused by the prepare plan cache #21960\nFix the issue of incorrect results caused by schema change #21596\nAvoid unnecessary column flag changes in ALTER TABLE #21474\nSet the database name for table aliases of query blocks used in optimizer hints #21380\nGenerate the proper optimizer hint for IndexHashJoin and IndexMergeJoin #21020",
          "Fix a concurrency bug that might cause the batch client timeout #22336",
          "Fix the issue of duplicate bindings caused by concurrent baseline capture #22295",
          "Make the baseline capture bound to the SQL statement work when the log level is 'debug' #22293",
          "Correctly release GC locks when Region merge occurs #22267",
          "Return correct values for user variables of the datetime type #22143",
          "Fix the issue of using index merge when there are multiple table filters #22124",
          "Fix the wrong precision issue in TiFlash caused by the prepare plan cache #21960",
          "Fix the issue of incorrect results caused by schema change #21596",
          "Avoid unnecessary column flag changes in ALTER TABLE #21474",
          "Set the database name for table aliases of query blocks used in optimizer hints #21380",
          "Generate the proper optimizer hint for IndexHashJoin and IndexMergeJoin #21020",
          "TiKV\nFix the wrong mapping between ready and peer #9409\nFix the issue that some logs are not redacted when security.redact-info-log is set to true #9314",
          "Fix the wrong mapping between ready and peer #9409",
          "Fix the issue that some logs are not redacted when security.redact-info-log is set to true #9314",
          "PD\nFix the issue that the ID allocation is not monotonic #3308 #3323\nFix the issue that the PD client might be blocked in some cases #3285",
          "Fix the issue that the ID allocation is not monotonic #3308 #3323",
          "Fix the issue that the PD client might be blocked in some cases #3285",
          "TiFlash\nFix the issue that TiFlash fails to start because TiFlash fails to process the TiDB schema of an old version\nFix the issue that TiFlash fails to start due to incorrect handling of cpu_time on the RedHat system\nFix the issue that TiFlash fails to start when path_realtime_mode is set to true\nFix an issue of incorrect results when calling the substr function with three parameters\nFix the issue that TiFlash does not support changing the Enum type even if the change is lossless",
          "Fix the issue that TiFlash fails to start because TiFlash fails to process the TiDB schema of an old version",
          "Fix the issue that TiFlash fails to start due to incorrect handling of cpu_time on the RedHat system",
          "Fix the issue that TiFlash fails to start when path_realtime_mode is set to true",
          "Fix an issue of incorrect results when calling the substr function with three parameters",
          "Fix the issue that TiFlash does not support changing the Enum type even if the change is lossless",
          "Tools\nTiCDC\nFix a bug that outdated metadata might cause the newly created changefeed abnormal #1184\nFix the issue of creating the receiver on the closed notifier #1199\nFix a bug that the TiCDC owner might consume too much memory in the etcd watch client #1227\nFix the issue that max-batch-size does not take effect #1253\nFix the issue of cleaning up stale tasks before the capture information is constructed #1280\nFix the issue that the recycling of db conn is block because rollback is not called in MySQL sink #1285\nDumpling\nAvoid TiDB out of memory (OOM) by setting the default behavior of tidb_mem_quota_query #233\nBackup & Restore (BR)\nFix the issue that BR v4.0.9 cannot restore the files backed up using BR v4.0.8 on GCS #688\nFix the issue that BR panics when the GCS storage URL has no prefix #673\nDisable backup statistics by default to avoid BR OOM #693\nTiDB Binlog\nFix the issue that when the AMEND TRANSACTION feature is enabled, Drainer might choose the incorrect schema version to generate SQL statements #1033\nTiDB Lightning\nFix a bug that the Region is not split because the Region key is incorrectly encoded #531\nFix the issue that the failure of CREATE TABLE might be lost when multiple tables are created #530\nFix the issue of column count mismatch when using the TiDB-backend #535",
          "TiCDC\nFix a bug that outdated metadata might cause the newly created changefeed abnormal #1184\nFix the issue of creating the receiver on the closed notifier #1199\nFix a bug that the TiCDC owner might consume too much memory in the etcd watch client #1227\nFix the issue that max-batch-size does not take effect #1253\nFix the issue of cleaning up stale tasks before the capture information is constructed #1280\nFix the issue that the recycling of db conn is block because rollback is not called in MySQL sink #1285",
          "Fix a bug that outdated metadata might cause the newly created changefeed abnormal #1184",
          "Fix the issue of creating the receiver on the closed notifier #1199",
          "Fix a bug that the TiCDC owner might consume too much memory in the etcd watch client #1227",
          "Fix the issue that max-batch-size does not take effect #1253",
          "Fix the issue of cleaning up stale tasks before the capture information is constructed #1280",
          "Fix the issue that the recycling of db conn is block because rollback is not called in MySQL sink #1285",
          "Dumpling\nAvoid TiDB out of memory (OOM) by setting the default behavior of tidb_mem_quota_query #233",
          "Avoid TiDB out of memory (OOM) by setting the default behavior of tidb_mem_quota_query #233",
          "Backup & Restore (BR)\nFix the issue that BR v4.0.9 cannot restore the files backed up using BR v4.0.8 on GCS #688\nFix the issue that BR panics when the GCS storage URL has no prefix #673\nDisable backup statistics by default to avoid BR OOM #693",
          "Fix the issue that BR v4.0.9 cannot restore the files backed up using BR v4.0.8 on GCS #688",
          "Fix the issue that BR panics when the GCS storage URL has no prefix #673",
          "Disable backup statistics by default to avoid BR OOM #693",
          "TiDB Binlog\nFix the issue that when the AMEND TRANSACTION feature is enabled, Drainer might choose the incorrect schema version to generate SQL statements #1033",
          "Fix the issue that when the AMEND TRANSACTION feature is enabled, Drainer might choose the incorrect schema version to generate SQL statements #1033",
          "TiDB Lightning\nFix a bug that the Region is not split because the Region key is incorrectly encoded #531\nFix the issue that the failure of CREATE TABLE might be lost when multiple tables are created #530\nFix the issue of column count mismatch when using the TiDB-backend #535",
          "Fix a bug that the Region is not split because the Region key is incorrectly encoded #531",
          "Fix the issue that the failure of CREATE TABLE might be lost when multiple tables are created #530",
          "Fix the issue of column count mismatch when using the TiDB-backend #535"
        ]
      },
      {
        "version": "4.0.9",
        "date": "2020-12-21",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.9/",
        "changes": [
          "TiFlash\nSupport storing the latest data of the storage engine on multiple disks (experimental)",
          "Support storing the latest data of the storage engine on multiple disks (experimental)",
          "TiDB Dashboard\nSupport displaying and sorting by all fields in the SQL Statements page #749\nSupport zooming and panning the topology graph #772\nSupport displaying the disk usage information in the SQL Statements and Slow Queries pages #777\nSupport exporting list data in the SQL Statements and Slow Queries pages #778\nSupport customizing the Prometheus address #808\nAdd a page for cluster statistics #815\nAdd more time-related fields in the Slow Queries details #810",
          "Support displaying and sorting by all fields in the SQL Statements page #749",
          "Support zooming and panning the topology graph #772",
          "Support displaying the disk usage information in the SQL Statements and Slow Queries pages #777",
          "Support exporting list data in the SQL Statements and Slow Queries pages #778",
          "Support customizing the Prometheus address #808",
          "Add a page for cluster statistics #815",
          "Add more time-related fields in the Slow Queries details #810",
          "TiDB\nAvoid the (index) merge join in a heuristical way when converting equal conditions to other conditions #21146\nDifferentiate the types of user variables #21107\nSupport setting the GOGC variable in the configuration file #20922\nMake the dumped binary time (Timestamp and Datetime) more compatible with MySQL #21135\nProvide an error message for statements that use the LOCK IN SHARE MODE syntax #21005\nAvoid outputting unnecessary warnings or errors when folding constants in shortcut-able expressions #21040\nRaise an error when preparing the LOAD DATA statement #21199\nIgnore the attribute of the integer zero-fill size when changing the integer column types #20986\nAdd the executor-related runtime information of DML statements in the result of EXPLAIN ANALYZE #21066\nDisallow multiple updates on the primary key in a singe SQL statements #21113\nAdd a monitoring metric for the connection idle time #21301\nTemporarily enable the slow log when the runtime/trace tool is running #20578",
          "Avoid the (index) merge join in a heuristical way when converting equal conditions to other conditions #21146",
          "Differentiate the types of user variables #21107",
          "Support setting the GOGC variable in the configuration file #20922",
          "Make the dumped binary time (Timestamp and Datetime) more compatible with MySQL #21135",
          "Provide an error message for statements that use the LOCK IN SHARE MODE syntax #21005",
          "Avoid outputting unnecessary warnings or errors when folding constants in shortcut-able expressions #21040",
          "Raise an error when preparing the LOAD DATA statement #21199",
          "Ignore the attribute of the integer zero-fill size when changing the integer column types #20986",
          "Add the executor-related runtime information of DML statements in the result of EXPLAIN ANALYZE #21066",
          "Disallow multiple updates on the primary key in a singe SQL statements #21113",
          "Add a monitoring metric for the connection idle time #21301",
          "Temporarily enable the slow log when the runtime/trace tool is running #20578",
          "TiKV\nAdd the tag to trace the source of the split command #8936\nSupport dynamically changing the pessimistic-txn.pipelined configuration #9100\nReduce the impact on performance when running Backup & Restore and TiDB Lightning #9098\nAdd monitoring metrics for the ingesting SST errors #9096\nPrevent the leader from being hibernated when some peers still need to replicate logs #9093\nIncrease the success rate of the pipelined pessimistic locking #9086\nChange the default value of apply-max-batch-size and store-max-batch-size to 1024 #9020\nAdd the max-background-flushes configuration item #8947\nDisable force-consistency-checks by default to improve performance #9029\nOffload the queries on the Region size from pd heartbeat worker to split check worker #9185",
          "Add the tag to trace the source of the split command #8936",
          "Support dynamically changing the pessimistic-txn.pipelined configuration #9100",
          "Reduce the impact on performance when running Backup & Restore and TiDB Lightning #9098",
          "Add monitoring metrics for the ingesting SST errors #9096",
          "Prevent the leader from being hibernated when some peers still need to replicate logs #9093",
          "Increase the success rate of the pipelined pessimistic locking #9086",
          "Change the default value of apply-max-batch-size and store-max-batch-size to 1024 #9020",
          "Add the max-background-flushes configuration item #8947",
          "Disable force-consistency-checks by default to improve performance #9029",
          "Offload the queries on the Region size from pd heartbeat worker to split check worker #9185",
          "PD\nCheck the TiKV cluster version when a TiKV stores become Tombstone, which prevents users from enabling incompatible features during the process of downgrade or upgrade #3213\nDisallow the TiKV store of a lower version to change from Tombstone back to Up #3206",
          "Check the TiKV cluster version when a TiKV stores become Tombstone, which prevents users from enabling incompatible features during the process of downgrade or upgrade #3213",
          "Disallow the TiKV store of a lower version to change from Tombstone back to Up #3206",
          "TiDB Dashboard\nKeep expanding when \"Expand\" is clicked for SQL statements #775\nOpen detail pages in new windows for SQL Statements and Slow Queries #816\nImprove descriptions for time-related fields in Slow Queries details #817\nDisplay detailed error messages #794",
          "Keep expanding when \"Expand\" is clicked for SQL statements #775",
          "Open detail pages in new windows for SQL Statements and Slow Queries #816",
          "Improve descriptions for time-related fields in Slow Queries details #817",
          "Display detailed error messages #794",
          "TiFlash\nReduce the latency of replica reads\nRefine TiFlash's error messages\nLimit the memory usage of cache data when the data volume is huge\nAdd a monitoring metric for the number of coprocessor tasks being handled",
          "Reduce the latency of replica reads",
          "Refine TiFlash's error messages",
          "Limit the memory usage of cache data when the data volume is huge",
          "Add a monitoring metric for the number of coprocessor tasks being handled",
          "Tools\nBackup & Restore (BR)\nDisallow the ambiguous --checksum false argument in the command line, which does not correctly disable checksum. Only --checksum=false is accepted. #588\nSupport changing the PD configuration temporarily so that PD can recover the original configuration after BR accidentally exists #596\nSupport analyzing tables after restore #622\nRetry for the read index not ready and proposal in merging mode errors #626\nTiCDC\nAdd an alert for enabling TiKV's Hibernate Region feature #1120\nReduce memory usage in the schema storage #1127\nAdd the feature of unified sorter, which accelerates replication when the data size of the incremental scan is large (experimental) #1122\nSupport configuring the maximum message size and the maximum message batch in the TiCDC Open Protocol message (only for Kafka sink) #1079\nDumpling\nRetry dumping data on failed chunks #182\nSupport configuring both the -F and -r arguments at the same time #177\nExclude system databases in --filter by default #194\nSupport the --transactional-consistency parameter and support rebuilding MySQL connections during retry #199\nSupport using the -c,--compress parameter to specify the compression algorithm used by Dumpling. An empty string means no compression. #202\nTiDB Lightning\nFilter out all system schemas by default #459\nSupport setting a default value for the auto-random primary key for the Local-backend or Importer-backend #457\nUse range properties to make the range split more precise in Local-backend #422\nSupport a human-readable format (such as \"2.5 GiB\") in tikv-importer.region-split-size, mydumper.read-block-size, mydumper.batch-size, and mydumper.max-region-size #471\nTiDB Binlog\nExit the Drainer process with the non-zero code if the upstream PD is down or if applying DDL or DML statements to the downstream fails #1012",
          "Backup & Restore (BR)\nDisallow the ambiguous --checksum false argument in the command line, which does not correctly disable checksum. Only --checksum=false is accepted. #588\nSupport changing the PD configuration temporarily so that PD can recover the original configuration after BR accidentally exists #596\nSupport analyzing tables after restore #622\nRetry for the read index not ready and proposal in merging mode errors #626",
          "Disallow the ambiguous --checksum false argument in the command line, which does not correctly disable checksum. Only --checksum=false is accepted. #588",
          "Support changing the PD configuration temporarily so that PD can recover the original configuration after BR accidentally exists #596",
          "Support analyzing tables after restore #622",
          "Retry for the read index not ready and proposal in merging mode errors #626",
          "TiCDC\nAdd an alert for enabling TiKV's Hibernate Region feature #1120\nReduce memory usage in the schema storage #1127\nAdd the feature of unified sorter, which accelerates replication when the data size of the incremental scan is large (experimental) #1122\nSupport configuring the maximum message size and the maximum message batch in the TiCDC Open Protocol message (only for Kafka sink) #1079",
          "Add an alert for enabling TiKV's Hibernate Region feature #1120",
          "Reduce memory usage in the schema storage #1127",
          "Add the feature of unified sorter, which accelerates replication when the data size of the incremental scan is large (experimental) #1122",
          "Support configuring the maximum message size and the maximum message batch in the TiCDC Open Protocol message (only for Kafka sink) #1079",
          "Dumpling\nRetry dumping data on failed chunks #182\nSupport configuring both the -F and -r arguments at the same time #177\nExclude system databases in --filter by default #194\nSupport the --transactional-consistency parameter and support rebuilding MySQL connections during retry #199\nSupport using the -c,--compress parameter to specify the compression algorithm used by Dumpling. An empty string means no compression. #202",
          "Retry dumping data on failed chunks #182",
          "Support configuring both the -F and -r arguments at the same time #177",
          "Exclude system databases in --filter by default #194",
          "Support the --transactional-consistency parameter and support rebuilding MySQL connections during retry #199",
          "Support using the -c,--compress parameter to specify the compression algorithm used by Dumpling. An empty string means no compression. #202",
          "TiDB Lightning\nFilter out all system schemas by default #459\nSupport setting a default value for the auto-random primary key for the Local-backend or Importer-backend #457\nUse range properties to make the range split more precise in Local-backend #422\nSupport a human-readable format (such as \"2.5 GiB\") in tikv-importer.region-split-size, mydumper.read-block-size, mydumper.batch-size, and mydumper.max-region-size #471",
          "Filter out all system schemas by default #459",
          "Support setting a default value for the auto-random primary key for the Local-backend or Importer-backend #457",
          "Use range properties to make the range split more precise in Local-backend #422",
          "Support a human-readable format (such as \"2.5 GiB\") in tikv-importer.region-split-size, mydumper.read-block-size, mydumper.batch-size, and mydumper.max-region-size #471",
          "TiDB Binlog\nExit the Drainer process with the non-zero code if the upstream PD is down or if applying DDL or DML statements to the downstream fails #1012",
          "Exit the Drainer process with the non-zero code if the upstream PD is down or if applying DDL or DML statements to the downstream fails #1012",
          "TiDB\nFix the issue of incorrect results when using a prefix index with the OR condition #21287\nFix a bug that might cause panic when automatic retry is enabled #21285\nFix a bug that occurs when checking partition definition according to column type #21273\nFix a bug that the value type of the partition expression is not consistent with the partition column type #21136\nFix a bug that the hash-type partition does not check whether the partition name is unique #21257\nFix the wrong results returned after inserting a value of the non-INT type into the hash partitioned table #21238\nFix the unexpected error when using index join in the INSERT statement in some cases #21249\nFix the issue that the BigInt unsigned column value in the CASE WHEN operator is incorrectly converted to the BigInt signed value #21236\nFix a bug that index hash join and index merge join do not consider collation #21219\nFix a bug that the partitioned table does not consider collation in the CREATE TABLE and SELECT syntax #21181\nFix the issue that the query result of slow_query might miss some rows #21211\nFix the issue that DELETE might not delete data correctly when the database name is not in a pure lower representation #21206\nFix a bug that causes schema change after DML operations #21050\nFix the bug that the coalesced column cannot be queried when using join #21021\nFix the wrong results of some semi-join queries #21019\nFix the issue that the table lock does not take effect on the UPDATE statement #21002\nFix the issue of stack overflow that occurs when building the recursive view #21001\nFix the unexpected result returned when performing index merge join operations on outer join #20954\nFix the issue that sometimes a transaction that has an undetermined result might be treated as failed #20925\nFix the issue that EXPLAIN FOR CONNECTION cannot show the last query plan #21315\nFix the issue that when Index Merge is used in a transaction with the Read Committed isolation level, the result might be incorrect #21253\nFix the auto-ID allocation failure caused by the transaction retry after the write conflict #21079\nFix the issue that JSON data cannot be correctly imported to TiDB using LOAD DATA #21074\nFix the issue that the default value of newly added Enum-type columns is incorrect #20998\nFix the issue that the adddate function inserts invalid characters #21176\nFix the issue that the wrong PointGet plan generated in some situations causes wrong results #21244\nIgnore the conversion of daylight saving time in the ADD_DATE function to be compatible with MySQL #20888\nFix a bug that prevents inserting strings with trailing spaces that exceed varchar or char's length constraint #21282\nFix a bug that does not converting the integer from [1, 69] to [2001, 2069] or from [70, 99] to [1970, 1999] when comparing int with year #21283\nFix the panic caused by the overflowing result of the sum() function when calculating the Double type field #21272\nFix a bug that DELETE fails to add lock on the unique key #20705\nFix a bug that snapshot reads hits the lock cache #21539\nFix an issue of potential memory leak after reading a lot of data in a long-lived transaction #21129\nFix the issue that omitting the table alias in a subquery will have a syntax error returned #20367\nFix the issue that when the argument of the IN function in a query is the time type, the query might return an incorrect result #21290",
          "Fix the issue of incorrect results when using a prefix index with the OR condition #21287",
          "Fix a bug that might cause panic when automatic retry is enabled #21285",
          "Fix a bug that occurs when checking partition definition according to column type #21273",
          "Fix a bug that the value type of the partition expression is not consistent with the partition column type #21136",
          "Fix a bug that the hash-type partition does not check whether the partition name is unique #21257",
          "Fix the wrong results returned after inserting a value of the non-INT type into the hash partitioned table #21238",
          "Fix the unexpected error when using index join in the INSERT statement in some cases #21249",
          "Fix the issue that the BigInt unsigned column value in the CASE WHEN operator is incorrectly converted to the BigInt signed value #21236",
          "Fix a bug that index hash join and index merge join do not consider collation #21219",
          "Fix a bug that the partitioned table does not consider collation in the CREATE TABLE and SELECT syntax #21181",
          "Fix the issue that the query result of slow_query might miss some rows #21211",
          "Fix the issue that DELETE might not delete data correctly when the database name is not in a pure lower representation #21206",
          "Fix a bug that causes schema change after DML operations #21050",
          "Fix the bug that the coalesced column cannot be queried when using join #21021",
          "Fix the wrong results of some semi-join queries #21019",
          "Fix the issue that the table lock does not take effect on the UPDATE statement #21002",
          "Fix the issue of stack overflow that occurs when building the recursive view #21001",
          "Fix the unexpected result returned when performing index merge join operations on outer join #20954",
          "Fix the issue that sometimes a transaction that has an undetermined result might be treated as failed #20925",
          "Fix the issue that EXPLAIN FOR CONNECTION cannot show the last query plan #21315",
          "Fix the issue that when Index Merge is used in a transaction with the Read Committed isolation level, the result might be incorrect #21253",
          "Fix the auto-ID allocation failure caused by the transaction retry after the write conflict #21079",
          "Fix the issue that JSON data cannot be correctly imported to TiDB using LOAD DATA #21074",
          "Fix the issue that the default value of newly added Enum-type columns is incorrect #20998",
          "Fix the issue that the adddate function inserts invalid characters #21176",
          "Fix the issue that the wrong PointGet plan generated in some situations causes wrong results #21244",
          "Ignore the conversion of daylight saving time in the ADD_DATE function to be compatible with MySQL #20888",
          "Fix a bug that prevents inserting strings with trailing spaces that exceed varchar or char's length constraint #21282",
          "Fix a bug that does not converting the integer from [1, 69] to [2001, 2069] or from [70, 99] to [1970, 1999] when comparing int with year #21283",
          "Fix the panic caused by the overflowing result of the sum() function when calculating the Double type field #21272",
          "Fix a bug that DELETE fails to add lock on the unique key #20705",
          "Fix a bug that snapshot reads hits the lock cache #21539",
          "Fix an issue of potential memory leak after reading a lot of data in a long-lived transaction #21129",
          "Fix the issue that omitting the table alias in a subquery will have a syntax error returned #20367",
          "Fix the issue that when the argument of the IN function in a query is the time type, the query might return an incorrect result #21290",
          "TiKV\nFix the issue that Coprocessor might return wrong results when there are more than 255 columns #9131\nFix the issue that Region Merge might cause data loss during network partition #9108\nFix the issue that the ANALYZE statement might cause panic when using the latin1 character set #9082\nFix the wrong results returned when converting the numeric type to the time type #9031\nFix a bug that TiDB Lightning fails to ingest SST files to TiKV with the Importer-backend or Local-backend when Transparent Data Encryption (TDE) is enabled #8995\nFix the invalid advertise-status-addr value (0.0.0.0) #9036\nFix the issue that an error is returned indicating that a key exists when this key is locked and deleted in a committed transaction #8930\nFix the issue that the RocksDB cache mapping error causes data corruption #9029\nFix a bug that Follower Read might return stale data after the leader is transferred #9240\nFix the issue that stale old values might be read in the pessimistic lock #9282\nFix a bug that replica read might get stale data after the leader transfer #9240\nFix the issue of TiKV crash that occurs when receiving SIGPROF after profiling #9229",
          "Fix the issue that Coprocessor might return wrong results when there are more than 255 columns #9131",
          "Fix the issue that Region Merge might cause data loss during network partition #9108",
          "Fix the issue that the ANALYZE statement might cause panic when using the latin1 character set #9082",
          "Fix the wrong results returned when converting the numeric type to the time type #9031",
          "Fix a bug that TiDB Lightning fails to ingest SST files to TiKV with the Importer-backend or Local-backend when Transparent Data Encryption (TDE) is enabled #8995",
          "Fix the invalid advertise-status-addr value (0.0.0.0) #9036",
          "Fix the issue that an error is returned indicating that a key exists when this key is locked and deleted in a committed transaction #8930",
          "Fix the issue that the RocksDB cache mapping error causes data corruption #9029",
          "Fix a bug that Follower Read might return stale data after the leader is transferred #9240",
          "Fix the issue that stale old values might be read in the pessimistic lock #9282",
          "Fix a bug that replica read might get stale data after the leader transfer #9240",
          "Fix the issue of TiKV crash that occurs when receiving SIGPROF after profiling #9229",
          "PD\nFix the issue that the leader roles specified using placement rules do not take effect in some cases #3208\nFix the issue that the trace-region-flow value is unexpectedly set to false #3120\nFix a bug that the service safepoint with infinite Time To Live (TTL) does not work #3143",
          "Fix the issue that the leader roles specified using placement rules do not take effect in some cases #3208",
          "Fix the issue that the trace-region-flow value is unexpectedly set to false #3120",
          "Fix a bug that the service safepoint with infinite Time To Live (TTL) does not work #3143",
          "TiDB Dashboard\nFix a display issue of time in the Chinese language #755\nFix a bug that the browser compatibility notice does not work #776\nFix the issue that the transaction start_ts is incorrectly displayed in some scenarios #793\nFix the issue that some SQL texts are incorrectly formatted #805",
          "Fix a display issue of time in the Chinese language #755",
          "Fix a bug that the browser compatibility notice does not work #776",
          "Fix the issue that the transaction start_ts is incorrectly displayed in some scenarios #793",
          "Fix the issue that some SQL texts are incorrectly formatted #805",
          "TiFlash\nFix the issue that INFORMATION_SCHEMA.CLUSTER_HARDWARE might contain the information of disks that are not in use\nFix the issue that the estimate on memory usage of Delta Cache is smaller than the actual usage\nFix the memory leak caused by thread information statistics",
          "Fix the issue that INFORMATION_SCHEMA.CLUSTER_HARDWARE might contain the information of disks that are not in use",
          "Fix the issue that the estimate on memory usage of Delta Cache is smaller than the actual usage",
          "Fix the memory leak caused by thread information statistics",
          "Tools\nBackup & Restore (BR)\nFix the failure caused by special characters in S3 secret access keys #617\nTiCDC\nFix the issue that multiple owners might exist when the owner campaign key is deleted #1104\nFix a bug that TiCDC might fail to continue replicating data when a TiKV node crashes or recovers from a crash. This bug only exists in v4.0.8. #1198\nFix the issue that the metadata is repeatedly flushed to etcd before a table is initialized #1191\nFix an issue of replication interruption caused by early GC or the latency of updating TableInfo when the schema storage caches TiDB tables #1114\nFix the issue that the schema storage costs too much memory when DDL operations are frequent #1127\nFix the goroutine leak when a changefeed is paused or stopped #1075\nIncrease the maximum retry timeout to 600 seconds in Kafka producer to prevent replication interruption caused by the service or network jitter in the downstream Kafka #1118\nFix a bug that the Kafka batch size does not take effect #1112\nFix a bug that some tables' row change might be lost when the network between TiCDC and PD has jitter and when there are paused changefeeds being resumed at the same time #1213\nFix a bug that the TiCDC process might exit when the network between TiCDC and PD is not stable #1218\nUse a singleton PD client in TiCDC and fix a bug that TiCDC closes PD client by accident which causes replication block #1217\nFix a bug that the TiCDC owner might consume too much memory in the etcd watch client #1224\nDumpling\nFix the issue that Dumpling might get blocked when its connection to the MySQL database server is closed #190\nTiDB Lightning\nFix the issue that keys are encoded using the wrong field information #437\nFix the issue that GC life time TTL does not take effect #448\nFix the issue that causes panic when manually stops the running TiDB Lightning in the Local-backend mode #484",
          "Backup & Restore (BR)\nFix the failure caused by special characters in S3 secret access keys #617",
          "Fix the failure caused by special characters in S3 secret access keys #617",
          "TiCDC\nFix the issue that multiple owners might exist when the owner campaign key is deleted #1104\nFix a bug that TiCDC might fail to continue replicating data when a TiKV node crashes or recovers from a crash. This bug only exists in v4.0.8. #1198\nFix the issue that the metadata is repeatedly flushed to etcd before a table is initialized #1191\nFix an issue of replication interruption caused by early GC or the latency of updating TableInfo when the schema storage caches TiDB tables #1114\nFix the issue that the schema storage costs too much memory when DDL operations are frequent #1127\nFix the goroutine leak when a changefeed is paused or stopped #1075\nIncrease the maximum retry timeout to 600 seconds in Kafka producer to prevent replication interruption caused by the service or network jitter in the downstream Kafka #1118\nFix a bug that the Kafka batch size does not take effect #1112\nFix a bug that some tables' row change might be lost when the network between TiCDC and PD has jitter and when there are paused changefeeds being resumed at the same time #1213\nFix a bug that the TiCDC process might exit when the network between TiCDC and PD is not stable #1218\nUse a singleton PD client in TiCDC and fix a bug that TiCDC closes PD client by accident which causes replication block #1217\nFix a bug that the TiCDC owner might consume too much memory in the etcd watch client #1224",
          "Fix the issue that multiple owners might exist when the owner campaign key is deleted #1104",
          "Fix a bug that TiCDC might fail to continue replicating data when a TiKV node crashes or recovers from a crash. This bug only exists in v4.0.8. #1198",
          "Fix the issue that the metadata is repeatedly flushed to etcd before a table is initialized #1191",
          "Fix an issue of replication interruption caused by early GC or the latency of updating TableInfo when the schema storage caches TiDB tables #1114",
          "Fix the issue that the schema storage costs too much memory when DDL operations are frequent #1127",
          "Fix the goroutine leak when a changefeed is paused or stopped #1075",
          "Increase the maximum retry timeout to 600 seconds in Kafka producer to prevent replication interruption caused by the service or network jitter in the downstream Kafka #1118",
          "Fix a bug that the Kafka batch size does not take effect #1112",
          "Fix a bug that some tables' row change might be lost when the network between TiCDC and PD has jitter and when there are paused changefeeds being resumed at the same time #1213",
          "Fix a bug that the TiCDC process might exit when the network between TiCDC and PD is not stable #1218",
          "Use a singleton PD client in TiCDC and fix a bug that TiCDC closes PD client by accident which causes replication block #1217",
          "Fix a bug that the TiCDC owner might consume too much memory in the etcd watch client #1224",
          "Dumpling\nFix the issue that Dumpling might get blocked when its connection to the MySQL database server is closed #190",
          "Fix the issue that Dumpling might get blocked when its connection to the MySQL database server is closed #190",
          "TiDB Lightning\nFix the issue that keys are encoded using the wrong field information #437\nFix the issue that GC life time TTL does not take effect #448\nFix the issue that causes panic when manually stops the running TiDB Lightning in the Local-backend mode #484",
          "Fix the issue that keys are encoded using the wrong field information #437",
          "Fix the issue that GC life time TTL does not take effect #448",
          "Fix the issue that causes panic when manually stops the running TiDB Lightning in the Local-backend mode #484"
        ]
      },
      {
        "version": "4.0.8",
        "date": "2020-10-30",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.8/",
        "changes": [
          "TiDB\nSupport the new aggregate function APPROX_PERCENTILE #20197",
          "Support the new aggregate function APPROX_PERCENTILE #20197",
          "TiFlash\nSupport pushing down CAST functions",
          "Support pushing down CAST functions",
          "Tools\nTiCDC\nSupport snapshot-level consistent replication #932",
          "TiCDC\nSupport snapshot-level consistent replication #932",
          "Support snapshot-level consistent replication #932",
          "TiDB\nPrioritize low-selectivity indexes in the greedy search procedure of Selectivity() #20154\nRecord more RPC runtime information in Coprocessor runtime statistics #19264\nSpeed up parsing the slow log to improve query performance #20556\nWait for timeout execution plans during the plan binding stage to record more debug information when the SQL optimizer is verifying potential new plans #20530\nAdd the execution retry time in the slow log and the slow query result #20495 #20494\nAdd the table_storage_stats system table #20431\nAdd the RPC runtime statistical information for the INSERT/UPDATE/REPLACE statement #20430\nAdd the operator information in the result of EXPLAIN FOR CONNECTION #20384\nAdjust the TiDB error log to the DEBUG level for the client connection/disconnection activities #20321\nAdd monitoring metrics for Coprocessor Cache #20293\nAdd the runtime information of pessimistic lock keys #20199\nAdd two extra sections of time consumption information in the runtime information and trace span #20187\nAdd the runtime information of transaction commit in the slow log #20185\nDisable the index merge join #20599\nAdd the ISO 8601 and timezone supports for temporal string literals #20670",
          "Prioritize low-selectivity indexes in the greedy search procedure of Selectivity() #20154",
          "Record more RPC runtime information in Coprocessor runtime statistics #19264",
          "Speed up parsing the slow log to improve query performance #20556",
          "Wait for timeout execution plans during the plan binding stage to record more debug information when the SQL optimizer is verifying potential new plans #20530",
          "Add the execution retry time in the slow log and the slow query result #20495 #20494",
          "Add the table_storage_stats system table #20431",
          "Add the RPC runtime statistical information for the INSERT/UPDATE/REPLACE statement #20430",
          "Add the operator information in the result of EXPLAIN FOR CONNECTION #20384",
          "Adjust the TiDB error log to the DEBUG level for the client connection/disconnection activities #20321",
          "Add monitoring metrics for Coprocessor Cache #20293",
          "Add the runtime information of pessimistic lock keys #20199",
          "Add two extra sections of time consumption information in the runtime information and trace span #20187",
          "Add the runtime information of transaction commit in the slow log #20185",
          "Disable the index merge join #20599",
          "Add the ISO 8601 and timezone supports for temporal string literals #20670",
          "TiKV\nAdd the Fast-Tune panel page to assist performance diagnostics #8804\nAdd the security.redact-info-log configuration item, which redacts user data from logs #8746\nReformat the metafile of error codes #8877\nEnable dynamically changing the pessimistic-txn.pipelined configuration #8853\nEnable the memory profiling features by default #8801",
          "Add the Fast-Tune panel page to assist performance diagnostics #8804",
          "Add the security.redact-info-log configuration item, which redacts user data from logs #8746",
          "Reformat the metafile of error codes #8877",
          "Enable dynamically changing the pessimistic-txn.pipelined configuration #8853",
          "Enable the memory profiling features by default #8801",
          "PD\nGenerate the metafile of errors #3090\nAdd the additional information for the operator #3009",
          "Generate the metafile of errors #3090",
          "Add the additional information for the operator #3009",
          "TiFlash\nAdd monitoring metrics of Raft logs\nAdd monitoring metrics of memory usage for cop tasks\nMake the min/max index more accurate when data is deleted\nImprove query performance in the case of a small data volume\nAdd the errors.toml file to support the standard error code",
          "Add monitoring metrics of Raft logs",
          "Add monitoring metrics of memory usage for cop tasks",
          "Make the min/max index more accurate when data is deleted",
          "Improve query performance in the case of a small data volume",
          "Add the errors.toml file to support the standard error code",
          "Tools\nBackup and Restore (BR)\nSpeed up the restore process by pipelining split and ingest #427\nSupport manually restoring PD schedulers #530\nUse pause schedulers instead of remove schedulers #551\nTiCDC\nPrint statistics in MySQL sink periodically #1023\nDumpling\nSupport dumpling data directly to S3 storages #155\nSupport dumping views #158\nSupport dumping the table that only contains generated columns #166\nTiDB Lightning\nSupport multi-byte CSV delimiters and separators #406\nSpeed up the restore process by disabling some PD schedulers #408\nUse the GC-TTL API for checksum GC safepoint in the v4.0 cluster to avoid the GC error #396",
          "Backup and Restore (BR)\nSpeed up the restore process by pipelining split and ingest #427\nSupport manually restoring PD schedulers #530\nUse pause schedulers instead of remove schedulers #551",
          "Speed up the restore process by pipelining split and ingest #427",
          "Support manually restoring PD schedulers #530",
          "Use pause schedulers instead of remove schedulers #551",
          "TiCDC\nPrint statistics in MySQL sink periodically #1023",
          "Print statistics in MySQL sink periodically #1023",
          "Dumpling\nSupport dumpling data directly to S3 storages #155\nSupport dumping views #158\nSupport dumping the table that only contains generated columns #166",
          "Support dumpling data directly to S3 storages #155",
          "Support dumping views #158",
          "Support dumping the table that only contains generated columns #166",
          "TiDB Lightning\nSupport multi-byte CSV delimiters and separators #406\nSpeed up the restore process by disabling some PD schedulers #408\nUse the GC-TTL API for checksum GC safepoint in the v4.0 cluster to avoid the GC error #396",
          "Support multi-byte CSV delimiters and separators #406",
          "Speed up the restore process by disabling some PD schedulers #408",
          "Use the GC-TTL API for checksum GC safepoint in the v4.0 cluster to avoid the GC error #396",
          "TiDB\nFix the unexpected panic that occurs when using partitioned tables #20565\nFix the wrong result of outer join when filtering the outer side using index merge join #20427\nFix the issue that the NULL value is returned when converting data to the BIT type if the data is too long #20363\nFix the corrupted default value for the BIT type column #20340\nFix the overflow error that might occur when converting the BIT type to the INT64 type #20312\nFix the possible wrong result of the propagate column optimization for the hybrid type column #20297\nFix the panic that might occur when storing outdated plans from the plan cache #20246\nFix the bug that the returned result is mistakenly truncated if FROM_UNIXTIME and UNION ALL are used together #20240\nFix the issue that wrong results might be returned when the Enum type value is converted to the Float type #20235\nFix the possible panic of RegionStore.accessStore #20210\nFix the wrong result returned when sorting the maximum unsigned integer in BatchPointGet #20205\nFix the bug that the coercibilities of Enum and Set are wrong #20364\nFix an issue of ambiguous YEAR conversion #20292\nFix the issue of wrong reported result that occurs when the KV duration panel contains store0 #20260\nFix the issue that the Float type data is mistakenly inserted regardless of the out of range error #20252\nFix the bug that the generated column does not handle bad NULL values #20216\nFix the inaccurate error information for the YEAR type data that is out of range #20170\nFix the unexpected invalid auto-id error that might occur during the pessimistic transaction retry #20134\nFix the issue that the constraint is not checked when using ALTER TABLE to change the Enum/Set type #20046\nFix the wrong runtime information of cop tasks recorded when multiple operators are used for concurrency #19947\nFix the issue that read-only system variables cannot be explicitly selected as the session variables #19944\nFix the issue that the duplicate ORDER BY condition might cause sub-optimal execution plans #20333\nFix the issue that the generated metric profile might fail if the font size exceeds the maximum allowable value #20637",
          "Fix the unexpected panic that occurs when using partitioned tables #20565",
          "Fix the wrong result of outer join when filtering the outer side using index merge join #20427",
          "Fix the issue that the NULL value is returned when converting data to the BIT type if the data is too long #20363",
          "Fix the corrupted default value for the BIT type column #20340",
          "Fix the overflow error that might occur when converting the BIT type to the INT64 type #20312",
          "Fix the possible wrong result of the propagate column optimization for the hybrid type column #20297",
          "Fix the panic that might occur when storing outdated plans from the plan cache #20246",
          "Fix the bug that the returned result is mistakenly truncated if FROM_UNIXTIME and UNION ALL are used together #20240",
          "Fix the issue that wrong results might be returned when the Enum type value is converted to the Float type #20235",
          "Fix the possible panic of RegionStore.accessStore #20210",
          "Fix the wrong result returned when sorting the maximum unsigned integer in BatchPointGet #20205",
          "Fix the bug that the coercibilities of Enum and Set are wrong #20364",
          "Fix an issue of ambiguous YEAR conversion #20292",
          "Fix the issue of wrong reported result that occurs when the KV duration panel contains store0 #20260",
          "Fix the issue that the Float type data is mistakenly inserted regardless of the out of range error #20252",
          "Fix the bug that the generated column does not handle bad NULL values #20216",
          "Fix the inaccurate error information for the YEAR type data that is out of range #20170",
          "Fix the unexpected invalid auto-id error that might occur during the pessimistic transaction retry #20134",
          "Fix the issue that the constraint is not checked when using ALTER TABLE to change the Enum/Set type #20046",
          "Fix the wrong runtime information of cop tasks recorded when multiple operators are used for concurrency #19947",
          "Fix the issue that read-only system variables cannot be explicitly selected as the session variables #19944",
          "Fix the issue that the duplicate ORDER BY condition might cause sub-optimal execution plans #20333",
          "Fix the issue that the generated metric profile might fail if the font size exceeds the maximum allowable value #20637",
          "TiKV\nFix the bug that the mutex conflict in encryption causes pd-worker to process heartbeats slowly #8869\nFix the issue that the memory profile is mistakenly generated #8790\nFix the failure to back up databases on GCS when the storage class is specified #8763\nFix the bug that a learner cannot find a leader when the Region is restarted or newly split #8864",
          "Fix the bug that the mutex conflict in encryption causes pd-worker to process heartbeats slowly #8869",
          "Fix the issue that the memory profile is mistakenly generated #8790",
          "Fix the failure to back up databases on GCS when the storage class is specified #8763",
          "Fix the bug that a learner cannot find a leader when the Region is restarted or newly split #8864",
          "PD\nFix a bug that Key Visualizer of TiDB Dashboard might cause PD panic in some cases #3096\nFix the bug that PD might panic if a PD store is down for more than 10 minutes #3069",
          "Fix a bug that Key Visualizer of TiDB Dashboard might cause PD panic in some cases #3096",
          "Fix the bug that PD might panic if a PD store is down for more than 10 minutes #3069",
          "TiFlash\nFix the issue of wrong timestamp in the log message\nFix the issue that during the multi-disk TiFlash deployment, the wrong capacity causes the creation of TiFlash replicas to fail\nFix the bug that TiFlash might throw errors about broken data files after restart\nFix the issue that broken files might be left on disk after TiFlash crashes\nFix the bug that it might take a long time to wait for index during learner reads if the proxy cannot catch up with the latest Raft lease information\nFix the bug that the proxy writes too much Region state information to the key-value engine while replaying the outdated Raft log",
          "Fix the issue of wrong timestamp in the log message",
          "Fix the issue that during the multi-disk TiFlash deployment, the wrong capacity causes the creation of TiFlash replicas to fail",
          "Fix the bug that TiFlash might throw errors about broken data files after restart",
          "Fix the issue that broken files might be left on disk after TiFlash crashes",
          "Fix the bug that it might take a long time to wait for index during learner reads if the proxy cannot catch up with the latest Raft lease information",
          "Fix the bug that the proxy writes too much Region state information to the key-value engine while replaying the outdated Raft log",
          "Tools\nBackup and Restore (BR)\nFix the send on closed channel panic during restore #559\nTiCDC\nFix the unexpected exit caused by the failure to update the GC safepoint #979\nFix the issue that the task status is unexpectedly flushed because of the incorrect mod revision cache #1017\nTiDB Lightning\nFix the issue of wrong column information #420\nFix the infinity loop that occurs when retrying to get Region information in the local mode #418",
          "Backup and Restore (BR)\nFix the send on closed channel panic during restore #559",
          "Fix the send on closed channel panic during restore #559",
          "TiCDC\nFix the unexpected exit caused by the failure to update the GC safepoint #979\nFix the issue that the task status is unexpectedly flushed because of the incorrect mod revision cache #1017",
          "Fix the unexpected exit caused by the failure to update the GC safepoint #979",
          "Fix the issue that the task status is unexpectedly flushed because of the incorrect mod revision cache #1017",
          "TiDB Lightning\nFix the issue of wrong column information #420\nFix the infinity loop that occurs when retrying to get Region information in the local mode #418",
          "Fix the issue of wrong column information #420",
          "Fix the infinity loop that occurs when retrying to get Region information in the local mode #418"
        ]
      },
      {
        "version": "4.0.7",
        "date": "2020-09-29",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.7/",
        "changes": [
          "PD\nAdd the GetAllMembers function in the PD client to get PD member information #2980",
          "Add the GetAllMembers function in the PD client to get PD member information #2980",
          "TiDB Dashboard\nSupport generating the metrics relationship graph #760",
          "Support generating the metrics relationship graph #760",
          "TiDB\nAdd more runtime information for the join operator #20093\nAdd the hit ratio information of coprocessor cache in EXPLAIN ANALYZE #19972\nSupport pushing down the ROUND function to TiFlash #19967\nAdd the default value of CMSketch for ANALYZE #19927\nRefine error message desensitization #20004\nAccept connections from clients using connectors from MySQL 8.0 #19959",
          "Add more runtime information for the join operator #20093",
          "Add the hit ratio information of coprocessor cache in EXPLAIN ANALYZE #19972",
          "Support pushing down the ROUND function to TiFlash #19967",
          "Add the default value of CMSketch for ANALYZE #19927",
          "Refine error message desensitization #20004",
          "Accept connections from clients using connectors from MySQL 8.0 #19959",
          "TiKV\nSupport the JSON log format #8382",
          "Support the JSON log format #8382",
          "PD\nCount schedule operators when they are finished rather than added #2983\nSet the make-up-replica operator to high priority #2977",
          "Count schedule operators when they are finished rather than added #2983",
          "Set the make-up-replica operator to high priority #2977",
          "TiFlash\nImprove the error handling of the Region meta change that occurs during reads",
          "Improve the error handling of the Region meta change that occurs during reads",
          "Tools\nTiCDC\nSupport translating more execution-efficient SQL statements in MySQL sink when the old value feature is enabled #955\nBackup & Restore (BR)\nAdd connection retry when the connection is broken during backup #508\nTiDB Lightning\nSupport dynamically updating the log level via the HTTP interface #393",
          "TiCDC\nSupport translating more execution-efficient SQL statements in MySQL sink when the old value feature is enabled #955",
          "Support translating more execution-efficient SQL statements in MySQL sink when the old value feature is enabled #955",
          "Backup & Restore (BR)\nAdd connection retry when the connection is broken during backup #508",
          "Add connection retry when the connection is broken during backup #508",
          "TiDB Lightning\nSupport dynamically updating the log level via the HTTP interface #393",
          "Support dynamically updating the log level via the HTTP interface #393",
          "TiDB\nFix a vectorization bug from and/or/COALESCE caused by shortcut #20092\nFix the issue that plan digests are the same when the cop task stores are of different types #20076\nFix the wrong behavior of the != any() function #20062\nFix the query error that occurs when the slow-log file does not exist #20051\nFix the issue that Region requests continue to retry when the context is canceled #20031\nFix the issue that querying the time type of the cluster_slow_query table in streaming request might result in an error #19943\nFix the issue that DML statements using case when might cause schema change #20095\nFix the issue that the prev_stmt information in slow log is not desensitized #20048\nFix the issue that tidb-server does not release the table lock when it exits abnormally #20020\nFix the incorrect error message that occurs when inserting data of the ENUM and SET type #19950\nFix the wrong behavior of the IsTrue function in some situations #19903\nFix the issue that the CLUSTER_INFO system table might not work normally after PD is scaled in or out #20026\nAvoid unnecessary warnings or errors when folding constants in control expressions #19910\nUpdate the method of updating statistics to avoid Out of Memory (OOM) #20013",
          "Fix a vectorization bug from and/or/COALESCE caused by shortcut #20092",
          "Fix the issue that plan digests are the same when the cop task stores are of different types #20076",
          "Fix the wrong behavior of the != any() function #20062",
          "Fix the query error that occurs when the slow-log file does not exist #20051",
          "Fix the issue that Region requests continue to retry when the context is canceled #20031",
          "Fix the issue that querying the time type of the cluster_slow_query table in streaming request might result in an error #19943",
          "Fix the issue that DML statements using case when might cause schema change #20095",
          "Fix the issue that the prev_stmt information in slow log is not desensitized #20048",
          "Fix the issue that tidb-server does not release the table lock when it exits abnormally #20020",
          "Fix the incorrect error message that occurs when inserting data of the ENUM and SET type #19950",
          "Fix the wrong behavior of the IsTrue function in some situations #19903",
          "Fix the issue that the CLUSTER_INFO system table might not work normally after PD is scaled in or out #20026",
          "Avoid unnecessary warnings or errors when folding constants in control expressions #19910",
          "Update the method of updating statistics to avoid Out of Memory (OOM) #20013",
          "TiKV\nFix the issue of unavailable Status API when TLS handshake fails #8649\nFix the potential undefined behaviors #7782\nFix the possible panic caused by generating snapshots when executing UnsafeDestroyRange #8681",
          "Fix the issue of unavailable Status API when TLS handshake fails #8649",
          "Fix the potential undefined behaviors #7782",
          "Fix the possible panic caused by generating snapshots when executing UnsafeDestroyRange #8681",
          "PD\nFix the bug that PD might panic if some Regions have no Leader when balance-region is enabled #2994\nFix the statistical deviation of Region size and Region keys after Region merge #2985\nFix the incorrect hotspot statistics #2991\nFix the issue that there is no nil check in redirectSchedulerDelete #2974",
          "Fix the bug that PD might panic if some Regions have no Leader when balance-region is enabled #2994",
          "Fix the statistical deviation of Region size and Region keys after Region merge #2985",
          "Fix the incorrect hotspot statistics #2991",
          "Fix the issue that there is no nil check in redirectSchedulerDelete #2974",
          "TiFlash\nFix the wrong result of right outer join",
          "Fix the wrong result of right outer join",
          "Tools\nBackup & Restore (BR)\nFix a bug that causes the TiDB configuration to change after the restore process #509\nDumpling\nFix the issue that Dumpling fails to parse metadata when some variables are NULL #150",
          "Backup & Restore (BR)\nFix a bug that causes the TiDB configuration to change after the restore process #509",
          "Fix a bug that causes the TiDB configuration to change after the restore process #509",
          "Dumpling\nFix the issue that Dumpling fails to parse metadata when some variables are NULL #150",
          "Fix the issue that Dumpling fails to parse metadata when some variables are NULL #150"
        ]
      },
      {
        "version": "4.0.6",
        "date": "2020-09-15",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.6/",
        "changes": [
          "TiFlash\nSupport outer join in TiFlash broadcast join",
          "Support outer join in TiFlash broadcast join",
          "TiDB Dashboard\nAdd Query Editor and execution UI (experimental) #713\nSupport store location topology visualization #719\nAdd cluster configuration UI (experimental) #733\nSupport sharing the current session #741\nSupport displaying the number of execution plans in SQL Statement list #746",
          "Add Query Editor and execution UI (experimental) #713",
          "Support store location topology visualization #719",
          "Add cluster configuration UI (experimental) #733",
          "Support sharing the current session #741",
          "Support displaying the number of execution plans in SQL Statement list #746",
          "Tools\nTiCDC (GA since v4.0.6)",
          "TiCDC (GA since v4.0.6)",
          "TiDB\nReplace error codes and messages with standard errors #19888\nImprove the write performance of partitioned table #19649\nRecord more RPC runtime information in Cop Runtime statistics #19264\nForbid creating tables in metrics_schema and performance_schema #19792\nSupport adjusting the concurrency of the union executor #19886\nSupport out join in broadcast join #19664\nAdd SQL digest for the process list #19829\nSwitch to the pessimistic transaction mode for autocommit statement retry #19796\nSupport the %r and %T data format in Str_to_date() #19693\nEnable SELECT INTO OUTFILE to require the file privilege #19577\nSupport the stddev_pop function #19541\nAdd the TiDB-Runtime dashboard #19396\nImprove compatibility for the ALTER TABLE algorithms #19364\nEncode insert/delete/update plans in the slow log plan field #19269",
          "Replace error codes and messages with standard errors #19888",
          "Improve the write performance of partitioned table #19649",
          "Record more RPC runtime information in Cop Runtime statistics #19264",
          "Forbid creating tables in metrics_schema and performance_schema #19792",
          "Support adjusting the concurrency of the union executor #19886",
          "Support out join in broadcast join #19664",
          "Add SQL digest for the process list #19829",
          "Switch to the pessimistic transaction mode for autocommit statement retry #19796",
          "Support the %r and %T data format in Str_to_date() #19693",
          "Enable SELECT INTO OUTFILE to require the file privilege #19577",
          "Support the stddev_pop function #19541",
          "Add the TiDB-Runtime dashboard #19396",
          "Improve compatibility for the ALTER TABLE algorithms #19364",
          "Encode insert/delete/update plans in the slow log plan field #19269",
          "TiKV\nReduce QPS drop when DropTable or TruncateTable is being executed #8627\nSupport generating metafile of error codes #8619\nAdd performance statistics for cf scan details #8618\nAdd the rocksdb perf context panel in the Grafana default template #8467",
          "Reduce QPS drop when DropTable or TruncateTable is being executed #8627",
          "Support generating metafile of error codes #8619",
          "Add performance statistics for cf scan details #8618",
          "Add the rocksdb perf context panel in the Grafana default template #8467",
          "PD\nUpdate TiDB Dashboard to v2020.09.08.1 #2928\nAdd more metrics for Region and store heartbeat #2891\nChange back to the original way to control the low space threshold #2875\nSupport standard error codes\n#2918 #2911 #2913 #2915 #2912\n#2907 #2906 #2903 #2806 #2900 #2902",
          "Update TiDB Dashboard to v2020.09.08.1 #2928",
          "Add more metrics for Region and store heartbeat #2891",
          "Change back to the original way to control the low space threshold #2875",
          "Support standard error codes\n#2918 #2911 #2913 #2915 #2912\n#2907 #2906 #2903 #2806 #2900 #2902",
          "#2918 #2911 #2913 #2915 #2912",
          "#2907 #2906 #2903 #2806 #2900 #2902",
          "TiFlash\nAdd Grafana panels for data replication (apply Region snapshots and ingest SST files)\nAdd Grafana panels for write stall\nAdd dt_segment_force_merge_delta_rows and dt_segment_force_merge_delta_deletes to adjust the threshold of write stall\nSupport setting raftstore.snap-handle-pool-size to 0 in TiFlash-Proxy to disable applying Region snapshot by multi-thread to reduce memory consumption during data replication\nSupport CN check on https_port and metrics_port",
          "Add Grafana panels for data replication (apply Region snapshots and ingest SST files)",
          "Add Grafana panels for write stall",
          "Add dt_segment_force_merge_delta_rows and dt_segment_force_merge_delta_deletes to adjust the threshold of write stall",
          "Support setting raftstore.snap-handle-pool-size to 0 in TiFlash-Proxy to disable applying Region snapshot by multi-thread to reduce memory consumption during data replication",
          "Support CN check on https_port and metrics_port",
          "Tools\nTiCDC\nSkip resolved lock during puller initialization #910\nReduce PD write frequency #937\nBackup & Restore (BR)\nAdd real time cost in summary log #486\nDumpling\nSupport outputting INSERT with column names #135\nUnify the --filesize and --statement-size definitions with those of mydumper #142\nTiDB Lightning\nSplit and ingest Regions in more precise sizes #369\nTiDB Binlog\nSupport setting GC time in go time package format #996",
          "TiCDC\nSkip resolved lock during puller initialization #910\nReduce PD write frequency #937",
          "Skip resolved lock during puller initialization #910",
          "Reduce PD write frequency #937",
          "Backup & Restore (BR)\nAdd real time cost in summary log #486",
          "Add real time cost in summary log #486",
          "Dumpling\nSupport outputting INSERT with column names #135\nUnify the --filesize and --statement-size definitions with those of mydumper #142",
          "Support outputting INSERT with column names #135",
          "Unify the --filesize and --statement-size definitions with those of mydumper #142",
          "TiDB Lightning\nSplit and ingest Regions in more precise sizes #369",
          "Split and ingest Regions in more precise sizes #369",
          "TiDB Binlog\nSupport setting GC time in go time package format #996",
          "Support setting GC time in go time package format #996",
          "TiDB\nFix an issue of collecting the tikv_cop_wait time in metric profile #19881\nFix the wrong result of SHOW GRANTS #19834\nFix the incorrect query result of != ALL (subq) #19831\nFix a bug of converting the enum and set types #19778\nAdd a privilege check for SHOW STATS_META and SHOW STATS_BUCKET #19760\nFix the error of unmatched column lengths caused by builtinGreatestStringSig and builtinLeastStringSig #19758\nIf unnecessary errors or warnings occur, the vectorized control expression fall back to their scalar execution #19749\nFix the error of the Apply operator when the type of the correlation column is Bit #19692\nFix the issue that occurs when the user queries processlist and cluster_log in MySQL 8.0 client #19690\nFix the issue that plans of the same type have different plan digests #19684\nForbid changing the column type from Decimal to Int #19682\nFix the issue that SELECT ... INTO OUTFILE returns the runtime error #19672\nFix the incorrect implementation of builtinRealIsFalseSig #19670\nFix the issue that the partition expression check misses the parentheses expression #19614\nFix a query error when there is an Apply operator upon HashJoin #19611\nFix an incorrect result of vectorization that casts Real as Time #19594\nFix the bug that the SHOW GRANTS statement shows grants for non-existent users #19588\nFix a query error when there is an Apply executor upon IndexLookupJoin #19566\nFix the wrong results when converting Apply to HashJoin on a partitioned table #19546\nFix incorrect results when there is an IndexLookUp executor on the inner side of an Apply #19508\nFix an unexpected panic when using view #19491\nFix the incorrect result of the anti-semi-join query #19477\nFix the bug that the TopN statistics is not deleted when the statistics is dropped #19465\nFix a wrong result caused by mistaken usage of batch point get #19460\nFix the bug that a column cannot be found in indexLookupJoin with a virtual generated column #19439\nFix an error that different plans of the select and update queries compare datum #19403\nFix a data race for TiFlash work index in Region cache #19362\nFix the bug that the logarithm function does not show a warning #19291\nFix an unexpected error that occurs when TiDB persists data to disks #19272\nSupport using a single partitioned table on the inner side of index join #19197\nFix the wrong hash key value generated for decimal #19188\nFix the issue that TiDB returns a no regions error when table endKey and Region endKey are the same #19895\nFix the unexpected success of alter partition #19891\nFix the wrong value of the default maximum packet length allowed for pushed down expressions #19876\nFix a wrong behavior for the Max/Min functions on the ENUM/SET columns #19869\nFix the read failure from the tiflash_segments and tiflash_tables system tables when some TiFlash nodes are offline #19748\nFix a wrong result of the Count(col) aggregation function #19628\nFix a runtime error of the TRUNCATE operation #19445\nFix the issue that PREPARE statement FROM @Var will fail when Var contains uppercase characters #19378\nFix the bug that schema charset modification in an uppercase schema will cause panic #19302\nFix the inconsistency of plans between information_schema.statements_summary and explain, when the information contains tikv/tiflash #19159\nFix the error in tests that the file does not exist for select into outfile #19725\nFix the issue that INFORMATION_SCHEMA.CLUSTER_HARDWARE does not have raid device information #19457\nMake the add index operation that has a generated column with the case-when expression can exit normally when it encounters a parse error #19395\nFix the bug that the DDL operation takes too long to retry #19488\nMake statements like alter table db.t1 add constraint fk foreign key (c2) references t2(c1) execute without first executing use db #19471\nChange the dispatch error from the Error to the Info message in the server log file #19454",
          "Fix an issue of collecting the tikv_cop_wait time in metric profile #19881",
          "Fix the wrong result of SHOW GRANTS #19834",
          "Fix the incorrect query result of != ALL (subq) #19831",
          "Fix a bug of converting the enum and set types #19778",
          "Add a privilege check for SHOW STATS_META and SHOW STATS_BUCKET #19760",
          "Fix the error of unmatched column lengths caused by builtinGreatestStringSig and builtinLeastStringSig #19758",
          "If unnecessary errors or warnings occur, the vectorized control expression fall back to their scalar execution #19749",
          "Fix the error of the Apply operator when the type of the correlation column is Bit #19692",
          "Fix the issue that occurs when the user queries processlist and cluster_log in MySQL 8.0 client #19690",
          "Fix the issue that plans of the same type have different plan digests #19684",
          "Forbid changing the column type from Decimal to Int #19682",
          "Fix the issue that SELECT ... INTO OUTFILE returns the runtime error #19672",
          "Fix the incorrect implementation of builtinRealIsFalseSig #19670",
          "Fix the issue that the partition expression check misses the parentheses expression #19614",
          "Fix a query error when there is an Apply operator upon HashJoin #19611",
          "Fix an incorrect result of vectorization that casts Real as Time #19594",
          "Fix the bug that the SHOW GRANTS statement shows grants for non-existent users #19588",
          "Fix a query error when there is an Apply executor upon IndexLookupJoin #19566",
          "Fix the wrong results when converting Apply to HashJoin on a partitioned table #19546",
          "Fix incorrect results when there is an IndexLookUp executor on the inner side of an Apply #19508",
          "Fix an unexpected panic when using view #19491",
          "Fix the incorrect result of the anti-semi-join query #19477",
          "Fix the bug that the TopN statistics is not deleted when the statistics is dropped #19465",
          "Fix a wrong result caused by mistaken usage of batch point get #19460",
          "Fix the bug that a column cannot be found in indexLookupJoin with a virtual generated column #19439",
          "Fix an error that different plans of the select and update queries compare datum #19403",
          "Fix a data race for TiFlash work index in Region cache #19362",
          "Fix the bug that the logarithm function does not show a warning #19291",
          "Fix an unexpected error that occurs when TiDB persists data to disks #19272",
          "Support using a single partitioned table on the inner side of index join #19197",
          "Fix the wrong hash key value generated for decimal #19188",
          "Fix the issue that TiDB returns a no regions error when table endKey and Region endKey are the same #19895",
          "Fix the unexpected success of alter partition #19891",
          "Fix the wrong value of the default maximum packet length allowed for pushed down expressions #19876",
          "Fix a wrong behavior for the Max/Min functions on the ENUM/SET columns #19869",
          "Fix the read failure from the tiflash_segments and tiflash_tables system tables when some TiFlash nodes are offline #19748",
          "Fix a wrong result of the Count(col) aggregation function #19628",
          "Fix a runtime error of the TRUNCATE operation #19445",
          "Fix the issue that PREPARE statement FROM @Var will fail when Var contains uppercase characters #19378",
          "Fix the bug that schema charset modification in an uppercase schema will cause panic #19302",
          "Fix the inconsistency of plans between information_schema.statements_summary and explain, when the information contains tikv/tiflash #19159",
          "Fix the error in tests that the file does not exist for select into outfile #19725",
          "Fix the issue that INFORMATION_SCHEMA.CLUSTER_HARDWARE does not have raid device information #19457",
          "Make the add index operation that has a generated column with the case-when expression can exit normally when it encounters a parse error #19395",
          "Fix the bug that the DDL operation takes too long to retry #19488",
          "Make statements like alter table db.t1 add constraint fk foreign key (c2) references t2(c1) execute without first executing use db #19471",
          "Change the dispatch error from the Error to the Info message in the server log file #19454",
          "TiKV\nFix the estimation error for a non-index column when collation is enabled #8620\nFix the issue that Green GC might miss locks during the process of Region transfer #8460\nFix a panic issue that occurs when TiKV runs very slowly during Raft membership change #8497\nFix the deadlock issue that occurs between the PD client thread and other threads when calling PD sync requests #8612\nUpgrade jemalloc to v5.2.1 to address the issue of memory allocation in huge page #8463\nFix the issue that the unified thread pool hangs for long-running queries #8427",
          "Fix the estimation error for a non-index column when collation is enabled #8620",
          "Fix the issue that Green GC might miss locks during the process of Region transfer #8460",
          "Fix a panic issue that occurs when TiKV runs very slowly during Raft membership change #8497",
          "Fix the deadlock issue that occurs between the PD client thread and other threads when calling PD sync requests #8612",
          "Upgrade jemalloc to v5.2.1 to address the issue of memory allocation in huge page #8463",
          "Fix the issue that the unified thread pool hangs for long-running queries #8427",
          "PD\nAdd the initial-cluster-token configuration to prevent different clusters from communicating with each other during bootstrap #2922\nFix the unit of store limit rate when the mode is auto #2826\nFix the issue that some schedulers persist configuration without solving errors #2818\nFix the empty HTTP response in scheduler #2871 #2874",
          "Add the initial-cluster-token configuration to prevent different clusters from communicating with each other during bootstrap #2922",
          "Fix the unit of store limit rate when the mode is auto #2826",
          "Fix the issue that some schedulers persist configuration without solving errors #2818",
          "Fix the empty HTTP response in scheduler #2871 #2874",
          "TiFlash\nFix the issue that after renaming the primary key column in previous versions, TiFlash might not start after upgrading to v4.0.4/v4.0.5\nFix the exceptions that occur after modifying the column's nullable attribute\nFix the crash caused by computing a table's replication status\nFix the issue that TiFlash is not available for data reads after users applied unsupported DDL operations\nFix the exceptions caused by unsupported collations which are treated as utf8mb4_bin\nFix the issue that the QPS panel for the TiFlash coprocessor executor always displays 0 in Grafana\nFix the wrong result of the FROM_UNIXTIME function when input is NULL",
          "Fix the issue that after renaming the primary key column in previous versions, TiFlash might not start after upgrading to v4.0.4/v4.0.5",
          "Fix the exceptions that occur after modifying the column's nullable attribute",
          "Fix the crash caused by computing a table's replication status",
          "Fix the issue that TiFlash is not available for data reads after users applied unsupported DDL operations",
          "Fix the exceptions caused by unsupported collations which are treated as utf8mb4_bin",
          "Fix the issue that the QPS panel for the TiFlash coprocessor executor always displays 0 in Grafana",
          "Fix the wrong result of the FROM_UNIXTIME function when input is NULL",
          "Tools\nTiCDC\nFix the issue that TiCDC leaks memory in some cases #942\nFix the issue that TiCDC might panic in Kafka sink #912\nFix the issue that CommitTs or ResolvedTs (CRTs) might be less than resolvedTs in puller #927\nFix the issue that changefeed might be blocked by MySQL driver #936\nFix the incorrect Resolved Ts interval of TiCDC #8573\nBackup & Restore (BR)\nFix a panic that might occur during checksum #479\nFix a panic that might occur after the change of PD Leader #496\nDumpling\nFix the issue that the NULL value for the binary type is not handled properly #137\nTiDB Lightning\nFix the issue that all failed operations of writes and ingests are mistakenly displayed as successful #381\nFix the issue that some checkpoint updates might not be written to the database before TiDB Lightning exits #386",
          "TiCDC\nFix the issue that TiCDC leaks memory in some cases #942\nFix the issue that TiCDC might panic in Kafka sink #912\nFix the issue that CommitTs or ResolvedTs (CRTs) might be less than resolvedTs in puller #927\nFix the issue that changefeed might be blocked by MySQL driver #936\nFix the incorrect Resolved Ts interval of TiCDC #8573",
          "Fix the issue that TiCDC leaks memory in some cases #942",
          "Fix the issue that TiCDC might panic in Kafka sink #912",
          "Fix the issue that CommitTs or ResolvedTs (CRTs) might be less than resolvedTs in puller #927",
          "Fix the issue that changefeed might be blocked by MySQL driver #936",
          "Fix the incorrect Resolved Ts interval of TiCDC #8573",
          "Backup & Restore (BR)\nFix a panic that might occur during checksum #479\nFix a panic that might occur after the change of PD Leader #496",
          "Fix a panic that might occur during checksum #479",
          "Fix a panic that might occur after the change of PD Leader #496",
          "Dumpling\nFix the issue that the NULL value for the binary type is not handled properly #137",
          "Fix the issue that the NULL value for the binary type is not handled properly #137",
          "TiDB Lightning\nFix the issue that all failed operations of writes and ingests are mistakenly displayed as successful #381\nFix the issue that some checkpoint updates might not be written to the database before TiDB Lightning exits #386",
          "Fix the issue that all failed operations of writes and ingests are mistakenly displayed as successful #381",
          "Fix the issue that some checkpoint updates might not be written to the database before TiDB Lightning exits #386"
        ]
      },
      {
        "version": "4.0.5",
        "date": "2020-08-31",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.5/",
        "changes": [
          "TiKV\nDefine error code for errors #8387",
          "Define error code for errors #8387",
          "TiFlash\nSupport the unified log format with TiDB",
          "Support the unified log format with TiDB",
          "Tools\nTiCDC\nSupport Kafka SSL connection #764\nSupport outputting the old value #708\nAdd the column flags #796\nSupport outputting the DDL statements and table schema of the previous version #799",
          "TiCDC\nSupport Kafka SSL connection #764\nSupport outputting the old value #708\nAdd the column flags #796\nSupport outputting the DDL statements and table schema of the previous version #799",
          "Support Kafka SSL connection #764",
          "Support outputting the old value #708",
          "Add the column flags #796",
          "Support outputting the DDL statements and table schema of the previous version #799",
          "TiDB\nOptimize the performance of DecodePlan for big union queries #18941\nReduce the number of GC lock scans when the Region cache miss error occurs #18876\nEase the impact of statistical feedback on cluster performance #18772\nSupport canceling operations before the RPC response is returned #18580\nAdd the HTTP API to generate the TiDB metric profile #18531\nSupport scattering partitioned tables #17863\nAdd detailed memory usage of each instance in Grafana #18679\nShow the detailed runtime information of the BatchPointGet operator in the result of EXPLAIN #18892\nShow the detailed runtime information of the PointGet operator in the result of EXPLAIN #18817\nWarn the potential deadlock for Consume in remove() #18395\nRefine the behaviors of StrToInt and StrToFloat and support converting JSON to the date, time, and timestamp types #18159\nSupport limiting the memory usage of the TableReader operator #18392\nAvoid too many times of backoff when retrying the batch cop request #18999\nImprove compatibility for ALTER TABLE algorithms #19270\nMake the single partitioned table support IndexJoin on the inner side #19151\nSupport searching the log file even when the log includes invalid lines #18579",
          "Optimize the performance of DecodePlan for big union queries #18941",
          "Reduce the number of GC lock scans when the Region cache miss error occurs #18876",
          "Ease the impact of statistical feedback on cluster performance #18772",
          "Support canceling operations before the RPC response is returned #18580",
          "Add the HTTP API to generate the TiDB metric profile #18531",
          "Support scattering partitioned tables #17863",
          "Add detailed memory usage of each instance in Grafana #18679",
          "Show the detailed runtime information of the BatchPointGet operator in the result of EXPLAIN #18892",
          "Show the detailed runtime information of the PointGet operator in the result of EXPLAIN #18817",
          "Warn the potential deadlock for Consume in remove() #18395",
          "Refine the behaviors of StrToInt and StrToFloat and support converting JSON to the date, time, and timestamp types #18159",
          "Support limiting the memory usage of the TableReader operator #18392",
          "Avoid too many times of backoff when retrying the batch cop request #18999",
          "Improve compatibility for ALTER TABLE algorithms #19270",
          "Make the single partitioned table support IndexJoin on the inner side #19151",
          "Support searching the log file even when the log includes invalid lines #18579",
          "PD\nSupport scattering Regions in stores with special engines (such as TiFlash) #2706\nSupport the Region HTTP API to prioritize Region scheduling of a given key range #2687\nImprove the leader distribution after Region scattering #2684\nAdd more tests and logs for the TSO request #2678\nAvoid invalid cache updates after the leader of a Region has changed #2672\nAdd an option to allow store.GetLimit to return the tombstone stores #2743\nSupport synchronizing the Region leader change between the PD leader and followers #2795\nAdd commands for querying the GC safepoint service #2797\nReplace the region.Clone call in filters to improve performance #2801\nAdd an option to disable updating Region flow cache to improve the performance of the large cluster #2848",
          "Support scattering Regions in stores with special engines (such as TiFlash) #2706",
          "Support the Region HTTP API to prioritize Region scheduling of a given key range #2687",
          "Improve the leader distribution after Region scattering #2684",
          "Add more tests and logs for the TSO request #2678",
          "Avoid invalid cache updates after the leader of a Region has changed #2672",
          "Add an option to allow store.GetLimit to return the tombstone stores #2743",
          "Support synchronizing the Region leader change between the PD leader and followers #2795",
          "Add commands for querying the GC safepoint service #2797",
          "Replace the region.Clone call in filters to improve performance #2801",
          "Add an option to disable updating Region flow cache to improve the performance of the large cluster #2848",
          "TiFlash\nAdd more Grafana panels to display metrics of CPU, I/O, RAM usages and metrics of the storage engine\nReduce I/O operations by optimizing the processing logic of Raft logs\nAccelerate Region scheduling for the blocked add partition DDL statement\nOptimize compactions of delta data in DeltaTree to reduce read and write amplification\nOptimize the performance of applying Region snapshots by preprocessing the snapshots using multiple threads\nOptimize the number of opening file descriptors when the read load of TiFlash is low to reduce system resource consumption\nOptimize the number of unnecessary small files created when TiFlash restarts\nSupport encryption at rest for data storage\nSupport TLS for data transfer",
          "Add more Grafana panels to display metrics of CPU, I/O, RAM usages and metrics of the storage engine",
          "Reduce I/O operations by optimizing the processing logic of Raft logs",
          "Accelerate Region scheduling for the blocked add partition DDL statement",
          "Optimize compactions of delta data in DeltaTree to reduce read and write amplification",
          "Optimize the performance of applying Region snapshots by preprocessing the snapshots using multiple threads",
          "Optimize the number of opening file descriptors when the read load of TiFlash is low to reduce system resource consumption",
          "Optimize the number of unnecessary small files created when TiFlash restarts",
          "Support encryption at rest for data storage",
          "Support TLS for data transfer",
          "Tools\nTiCDC\nLower the frequency of getting TSO #801\nBackup & Restore (BR)\nOptimize some logs #428\nDumpling\nRelease FTWRL after connections are created to reduce the lock time for MySQL #121\nTiDB Lightning\nOptimize some logs #352",
          "TiCDC\nLower the frequency of getting TSO #801",
          "Lower the frequency of getting TSO #801",
          "Backup & Restore (BR)\nOptimize some logs #428",
          "Optimize some logs #428",
          "Dumpling\nRelease FTWRL after connections are created to reduce the lock time for MySQL #121",
          "Release FTWRL after connections are created to reduce the lock time for MySQL #121",
          "TiDB Lightning\nOptimize some logs #352",
          "Optimize some logs #352",
          "TiDB\nFix the should ensure all columns have the same length error that occurs because the ErrTruncate/Overflow error is incorrectly handled in the builtinCastRealAsDecimalSig function #18967\nFix the issue that the pre_split_regions table option does not work in the partitioned table #18837\nFix the issue that might cause a large transaction to be terminated prematurely #18813\nFix the issue that using the collation functions get wrong query results #18735\nFix the bug that the getAutoIncrementID() function does not consider the tidb_snapshot session variable, which might cause the dumper tool to fail with the table not exist error #18692\nFix the unknown column error for SQL statement like select a from t having t.a #18434\nFix the panic issue that writing the 64-bit unsigned type into the hash partitioned table causes overflow and gets an unexpected negative number when the partition key is the integer type #18186\nFix the wrong behavior of the char function #18122\nFix the issue that the ADMIN REPAIR TABLE statement cannot parse integer in the expressions on the range partition #17988\nFix the wrong behavior of the SET CHARSET statement #17289\nFix the bug caused by the wrong collation setting which leads to the wrong result of the collation function #17231\nFix the issue that STR_TO_DATE's handling of the format tokens '%r', '%h' is inconsistent with that of MySQL #18727\nFix issues that the TiDB version information is inconsistent with that of PD/TiKV in the cluster_info table #18413\nFix the existent checks for pessimistic transactions #19004\nFix the issue that executing union select for update might cause concurrent race #19006\nFix the wrong query result when apply has a child of the PointGet operator #19046\nFix the incorrect result that occurs when IndexLookUp is in the inner side of the Apply operator #19496\nFix the incorrect result of anti-semi-join queries #19472\nFix the incorrect result caused by the mistaken usage of BatchPointGet #19456\nFix the incorrect result that occurs when UnionScan is in the inner side of the Apply operator #19496\nFix the panic caused by using the EXECUTE statement to print an expensive query log #17419\nFix the index join error when the join key is ENUM or SET #19235\nFix the issue that the query range cannot be built when the NULL value exists on the index column #19358\nFix the data race issue caused by updating the global configuration #17964\nFix the panic issue occurs when modifying the character set in an uppercase schema #19286\nFix an unexpected error caused by changing the temporary directory during the disk spill action #18970\nFix the wrong hash key for the decimal type #19131\nFix the issue that the PointGet and BatchPointGet operators do not consider the partition selection syntax and get incorrect results #19141\nFix the incorrect results when using the Apply operator together with the UnionScan operator #19104\nFix the bug that causes the indexed virtual generated column to return wrong value #17989\nAdd the lock for runtime statistics to fix a panic caused by concurrent execution #18983",
          "Fix the should ensure all columns have the same length error that occurs because the ErrTruncate/Overflow error is incorrectly handled in the builtinCastRealAsDecimalSig function #18967",
          "Fix the issue that the pre_split_regions table option does not work in the partitioned table #18837",
          "Fix the issue that might cause a large transaction to be terminated prematurely #18813",
          "Fix the issue that using the collation functions get wrong query results #18735",
          "Fix the bug that the getAutoIncrementID() function does not consider the tidb_snapshot session variable, which might cause the dumper tool to fail with the table not exist error #18692",
          "Fix the unknown column error for SQL statement like select a from t having t.a #18434",
          "Fix the panic issue that writing the 64-bit unsigned type into the hash partitioned table causes overflow and gets an unexpected negative number when the partition key is the integer type #18186",
          "Fix the wrong behavior of the char function #18122",
          "Fix the issue that the ADMIN REPAIR TABLE statement cannot parse integer in the expressions on the range partition #17988",
          "Fix the wrong behavior of the SET CHARSET statement #17289",
          "Fix the bug caused by the wrong collation setting which leads to the wrong result of the collation function #17231",
          "Fix the issue that STR_TO_DATE's handling of the format tokens '%r', '%h' is inconsistent with that of MySQL #18727",
          "Fix issues that the TiDB version information is inconsistent with that of PD/TiKV in the cluster_info table #18413",
          "Fix the existent checks for pessimistic transactions #19004",
          "Fix the issue that executing union select for update might cause concurrent race #19006",
          "Fix the wrong query result when apply has a child of the PointGet operator #19046",
          "Fix the incorrect result that occurs when IndexLookUp is in the inner side of the Apply operator #19496",
          "Fix the incorrect result of anti-semi-join queries #19472",
          "Fix the incorrect result caused by the mistaken usage of BatchPointGet #19456",
          "Fix the incorrect result that occurs when UnionScan is in the inner side of the Apply operator #19496",
          "Fix the panic caused by using the EXECUTE statement to print an expensive query log #17419",
          "Fix the index join error when the join key is ENUM or SET #19235",
          "Fix the issue that the query range cannot be built when the NULL value exists on the index column #19358",
          "Fix the data race issue caused by updating the global configuration #17964",
          "Fix the panic issue occurs when modifying the character set in an uppercase schema #19286",
          "Fix an unexpected error caused by changing the temporary directory during the disk spill action #18970",
          "Fix the wrong hash key for the decimal type #19131",
          "Fix the issue that the PointGet and BatchPointGet operators do not consider the partition selection syntax and get incorrect results #19141",
          "Fix the incorrect results when using the Apply operator together with the UnionScan operator #19104",
          "Fix the bug that causes the indexed virtual generated column to return wrong value #17989",
          "Add the lock for runtime statistics to fix a panic caused by concurrent execution #18983",
          "TiKV\nSpeed up leader election when Hibernate Region is enabled #8292\nFix the memory leak issue during scheduling #8357\nAdd the hibernate-timeout configuration item to prevent the leader from becoming hibernate too fast #8208",
          "Speed up leader election when Hibernate Region is enabled #8292",
          "Fix the memory leak issue during scheduling #8357",
          "Add the hibernate-timeout configuration item to prevent the leader from becoming hibernate too fast #8208",
          "PD\nFix the bug that the TSO request might fail at the time of leader change #2666\nFix the issue that sometimes Region replicas cannot be scheduled to the optimal state when placement rules are enabled #2720\nFix the issue that Balance Leader does not work when placement rules are enabled #2726\nFix the issue that unhealthy stores are not filtered from store load statistics #2805",
          "Fix the bug that the TSO request might fail at the time of leader change #2666",
          "Fix the issue that sometimes Region replicas cannot be scheduled to the optimal state when placement rules are enabled #2720",
          "Fix the issue that Balance Leader does not work when placement rules are enabled #2726",
          "Fix the issue that unhealthy stores are not filtered from store load statistics #2805",
          "TiFlash\nFix the issue that TiFlash cannot start normally after upgrading from an earlier version if the name of the database or table contains special characters\nFix the issue that the TiFlash process cannot exit if any exceptions are thrown during initialization",
          "Fix the issue that TiFlash cannot start normally after upgrading from an earlier version if the name of the database or table contains special characters",
          "Fix the issue that the TiFlash process cannot exit if any exceptions are thrown during initialization",
          "Tools\nBackup & Restore (BR)\nFix the issue of duplicated calculation of total KV and total bytes in the backup summary log #472\nFix the issue that the import mode does not work in the first 5 minutes after switching to this mode #473\nDumpling\nFix the issue that FTWRL lock is not released in time #128\nTiCDC\nFix the issue that the failed changefeed cannot be removed #782\nFix invalid delete events by selecting one unique index as the handle index #787\nFix the bug that GC safepoint is forwarded beyond the checkpoint of stopped changefeed #797\nFix the bug that the network I/O waiting blocks tasks to exit #825\nFix the bug that some unnecessary data might be mistakenly replicated to the downstream #743\nTiDB Lightning\nFix the syntax error on empty binary/hex literals when using TiDB backend #357",
          "Backup & Restore (BR)\nFix the issue of duplicated calculation of total KV and total bytes in the backup summary log #472\nFix the issue that the import mode does not work in the first 5 minutes after switching to this mode #473",
          "Fix the issue of duplicated calculation of total KV and total bytes in the backup summary log #472",
          "Fix the issue that the import mode does not work in the first 5 minutes after switching to this mode #473",
          "Dumpling\nFix the issue that FTWRL lock is not released in time #128",
          "Fix the issue that FTWRL lock is not released in time #128",
          "TiCDC\nFix the issue that the failed changefeed cannot be removed #782\nFix invalid delete events by selecting one unique index as the handle index #787\nFix the bug that GC safepoint is forwarded beyond the checkpoint of stopped changefeed #797\nFix the bug that the network I/O waiting blocks tasks to exit #825\nFix the bug that some unnecessary data might be mistakenly replicated to the downstream #743",
          "Fix the issue that the failed changefeed cannot be removed #782",
          "Fix invalid delete events by selecting one unique index as the handle index #787",
          "Fix the bug that GC safepoint is forwarded beyond the checkpoint of stopped changefeed #797",
          "Fix the bug that the network I/O waiting blocks tasks to exit #825",
          "Fix the bug that some unnecessary data might be mistakenly replicated to the downstream #743",
          "TiDB Lightning\nFix the syntax error on empty binary/hex literals when using TiDB backend #357",
          "Fix the syntax error on empty binary/hex literals when using TiDB backend #357"
        ]
      },
      {
        "version": "4.0.4",
        "date": "2020-07-31",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.4/",
        "changes": [
          "TiDB\nFix the issue of getting stuck when querying information_schema.columns #18849\nFix the errors that occur when the PointGet and BatchPointGet operators encounter in null #18848\nFix the wrong result of BatchPointGet #18815\nFix the issue of incorrect query result that occurs when the HashJoin operator encounters the set or enum type #18859",
          "Fix the issue of getting stuck when querying information_schema.columns #18849",
          "Fix the errors that occur when the PointGet and BatchPointGet operators encounter in null #18848",
          "Fix the wrong result of BatchPointGet #18815",
          "Fix the issue of incorrect query result that occurs when the HashJoin operator encounters the set or enum type #18859"
        ]
      },
      {
        "version": "4.0.3",
        "date": "2020-07-24",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.3/",
        "changes": [
          "TiDB Dashboard\nDisplay detailed TiDB Dashboard version information #679\nShow browser compatibility notice for unsupported browsers or outdated browsers #654\nSupport searching in the SQL Statements page #658",
          "Display detailed TiDB Dashboard version information #679",
          "Show browser compatibility notice for unsupported browsers or outdated browsers #654",
          "Support searching in the SQL Statements page #658",
          "TiFlash\nImplement file encryption in TiFlash proxy",
          "Implement file encryption in TiFlash proxy",
          "Tools\nBackup & Restore (BR)\nSupport compressing backup files using zstd, lz4 or snappy #404\nTiCDC\nSupport configuring kafka-client-id in MQ sink-uri #706\nSupport updating changefeed configuration offline #699\nSupport setting customized changefeed name #727\nSupport TLS and MySQL SSL connection #347\nSupport outputting changes in the Avro format #753\nSupport the Apache Pulsar sink #751\nDumpling\nSupport the specialized CSV separator and delimiter #116\nSupport specifying the format of the output file name #122",
          "Backup & Restore (BR)\nSupport compressing backup files using zstd, lz4 or snappy #404",
          "Support compressing backup files using zstd, lz4 or snappy #404",
          "TiCDC\nSupport configuring kafka-client-id in MQ sink-uri #706\nSupport updating changefeed configuration offline #699\nSupport setting customized changefeed name #727\nSupport TLS and MySQL SSL connection #347\nSupport outputting changes in the Avro format #753\nSupport the Apache Pulsar sink #751",
          "Support configuring kafka-client-id in MQ sink-uri #706",
          "Support updating changefeed configuration offline #699",
          "Support setting customized changefeed name #727",
          "Support TLS and MySQL SSL connection #347",
          "Support outputting changes in the Avro format #753",
          "Support the Apache Pulsar sink #751",
          "Dumpling\nSupport the specialized CSV separator and delimiter #116\nSupport specifying the format of the output file name #122",
          "Support the specialized CSV separator and delimiter #116",
          "Support specifying the format of the output file name #122",
          "TiDB\nAdd the tidb_log_desensitization global variable to control whether to do desensitization when logging SQL queries #18581\nEnable tidb_allow_batch_cop by default #18552\nSpeed up canceling a query #18505\nAdd a header for the tidb_decode_plan result #18501\nMake the configuration checker compatible with earlier versions of the configuration file #18046\nEnable collecting the execution information by default #18518\nAdd the tiflash_tables and tiflash_segments system tables #18536\nMove AUTO RANDOM out of experimental features and announce its general availability. The improvements and compatibility changes are as follows:\nDeprecate experimental.allow-auto-random in the configuration file. No matter how this item is configured, you can always define the AUTO RANDOM feature on columns. #18613 #18623\nAdd the tidb_allow_auto_random_explicit_insert session variable to control the explicit writes on AUTO RANDOM columns. The default value is false. This is to avoid the unexpected AUTO_RANDOM_BASE update caused by explicit writes on columns. #18508\nAllow defining AUTO_RANDOM only on BIGINT and UNSIGNED BIGINT columns and restrict the maximum number of shard bits to 15, which avoids the allocatable space being consumed too quickly #18538\nDo not trigger the AUTO_RANDOM_BASE update when defining the AUTO_RANDOM attribute on the BIGINT column and inserting the negative value into the primary key #17987\nUse the highest bit of an integer for ID allocation when defining the AUTO_RANDOM attribute on UNSIGNED BIGINT columns, which gets more allocable space #18404\nSupport updating the AUTO_RANDOM attribute in the result of SHOW CREATE TABLE #18316",
          "Add the tidb_log_desensitization global variable to control whether to do desensitization when logging SQL queries #18581",
          "Enable tidb_allow_batch_cop by default #18552",
          "Speed up canceling a query #18505",
          "Add a header for the tidb_decode_plan result #18501",
          "Make the configuration checker compatible with earlier versions of the configuration file #18046",
          "Enable collecting the execution information by default #18518",
          "Add the tiflash_tables and tiflash_segments system tables #18536",
          "Move AUTO RANDOM out of experimental features and announce its general availability. The improvements and compatibility changes are as follows:\nDeprecate experimental.allow-auto-random in the configuration file. No matter how this item is configured, you can always define the AUTO RANDOM feature on columns. #18613 #18623\nAdd the tidb_allow_auto_random_explicit_insert session variable to control the explicit writes on AUTO RANDOM columns. The default value is false. This is to avoid the unexpected AUTO_RANDOM_BASE update caused by explicit writes on columns. #18508\nAllow defining AUTO_RANDOM only on BIGINT and UNSIGNED BIGINT columns and restrict the maximum number of shard bits to 15, which avoids the allocatable space being consumed too quickly #18538\nDo not trigger the AUTO_RANDOM_BASE update when defining the AUTO_RANDOM attribute on the BIGINT column and inserting the negative value into the primary key #17987\nUse the highest bit of an integer for ID allocation when defining the AUTO_RANDOM attribute on UNSIGNED BIGINT columns, which gets more allocable space #18404\nSupport updating the AUTO_RANDOM attribute in the result of SHOW CREATE TABLE #18316",
          "Deprecate experimental.allow-auto-random in the configuration file. No matter how this item is configured, you can always define the AUTO RANDOM feature on columns. #18613 #18623",
          "Add the tidb_allow_auto_random_explicit_insert session variable to control the explicit writes on AUTO RANDOM columns. The default value is false. This is to avoid the unexpected AUTO_RANDOM_BASE update caused by explicit writes on columns. #18508",
          "Allow defining AUTO_RANDOM only on BIGINT and UNSIGNED BIGINT columns and restrict the maximum number of shard bits to 15, which avoids the allocatable space being consumed too quickly #18538",
          "Do not trigger the AUTO_RANDOM_BASE update when defining the AUTO_RANDOM attribute on the BIGINT column and inserting the negative value into the primary key #17987",
          "Use the highest bit of an integer for ID allocation when defining the AUTO_RANDOM attribute on UNSIGNED BIGINT columns, which gets more allocable space #18404",
          "Support updating the AUTO_RANDOM attribute in the result of SHOW CREATE TABLE #18316",
          "TiKV\nIntroduce the new backup.num-threads configuration to control the size of the backup thread pool #8199\nDo not send store heartbeats when receiving snapshots #8136\nSupport dynamically changing the shared block cache's capacity #8232",
          "Introduce the new backup.num-threads configuration to control the size of the backup thread pool #8199",
          "Do not send store heartbeats when receiving snapshots #8136",
          "Support dynamically changing the shared block cache's capacity #8232",
          "PD\nSupport the JSON formatted log #2565",
          "Support the JSON formatted log #2565",
          "TiDB Dashboard\nImprove the Key Visualizer bucket merge for cold logical ranges #674\nRename the configuration item of disable-telemetry to enable-telemetry for consistency #684\nShow the progress bar when switching pages #661\nEnsure that the slow log search now follows the same behavior as log search when there are space separators #682",
          "Improve the Key Visualizer bucket merge for cold logical ranges #674",
          "Rename the configuration item of disable-telemetry to enable-telemetry for consistency #684",
          "Show the progress bar when switching pages #661",
          "Ensure that the slow log search now follows the same behavior as log search when there are space separators #682",
          "TiFlash\nChange the unit of the DDL Jobs panel in Grafana to operations per minute\nAdd a new dashboard in Grafana to show more metrics about TiFlash-Proxy\nReduce IOPS in TiFlash proxy",
          "Change the unit of the DDL Jobs panel in Grafana to operations per minute",
          "Add a new dashboard in Grafana to show more metrics about TiFlash-Proxy",
          "Reduce IOPS in TiFlash proxy",
          "Tools\nTiCDC\nReplace table ID with table name in metrics #695\nBackup & Restore (BR)\nSupport outputting JSON logs #336\nSupport enabling pprof during runtime #372\nSpeed up DDL executions by sending DDL concurrently during restore #377\nTiDB Lightning\nDeprecate black-white-list with a newer and easier-to-understand filter format #332",
          "TiCDC\nReplace table ID with table name in metrics #695",
          "Replace table ID with table name in metrics #695",
          "Backup & Restore (BR)\nSupport outputting JSON logs #336\nSupport enabling pprof during runtime #372\nSpeed up DDL executions by sending DDL concurrently during restore #377",
          "Support outputting JSON logs #336",
          "Support enabling pprof during runtime #372",
          "Speed up DDL executions by sending DDL concurrently during restore #377",
          "TiDB Lightning\nDeprecate black-white-list with a newer and easier-to-understand filter format #332",
          "Deprecate black-white-list with a newer and easier-to-understand filter format #332",
          "TiDB\nReturn an error instead of an empty set for IndexHashJoin when an error occurs during execution #18586\nFix the recurring panic when gRPC transportReader is broken #18562\nFix the issue that Green GC does not scan locks on offline stores which might cause data incompleteness #18550\nForbid processing a non-read-only statement using TiFlash engine #18534\nReturn the actual error message when a query connection panics #18500\nFix the issue that the ADMIN REPAIR TABLE execution fails to reload the table metadata on the TiDB node #18323\nFix the data inconsistency issue occurred because the lock of a written and deleted primary key in one transaction is resolved by another transaction #18291\nMake spilling disk work well #18288\nFix the error reported when the REPLACE INTO statement works on the table that contains generated columns #17907\nReturn the OOM error when the IndexHashJoin and IndexMergeJoin workers panic #18527\nFix the bug that the execution of Index Join might return wrong results in special cases when the index used by Index Join contains the integer primary key #18565\nFix the issue that when the new collation is enabled on the cluster, the data updated on columns with the new collation in a transaction cannot be read through the unique index #18703",
          "Return an error instead of an empty set for IndexHashJoin when an error occurs during execution #18586",
          "Fix the recurring panic when gRPC transportReader is broken #18562",
          "Fix the issue that Green GC does not scan locks on offline stores which might cause data incompleteness #18550",
          "Forbid processing a non-read-only statement using TiFlash engine #18534",
          "Return the actual error message when a query connection panics #18500",
          "Fix the issue that the ADMIN REPAIR TABLE execution fails to reload the table metadata on the TiDB node #18323",
          "Fix the data inconsistency issue occurred because the lock of a written and deleted primary key in one transaction is resolved by another transaction #18291",
          "Make spilling disk work well #18288",
          "Fix the error reported when the REPLACE INTO statement works on the table that contains generated columns #17907",
          "Return the OOM error when the IndexHashJoin and IndexMergeJoin workers panic #18527",
          "Fix the bug that the execution of Index Join might return wrong results in special cases when the index used by Index Join contains the integer primary key #18565",
          "Fix the issue that when the new collation is enabled on the cluster, the data updated on columns with the new collation in a transaction cannot be read through the unique index #18703",
          "TiKV\nFix the issue that reads might get stale data during merging #8113\nFix the issue that collation does not work on the min/max function when aggregation is pushed down to TiKV #8108",
          "Fix the issue that reads might get stale data during merging #8113",
          "Fix the issue that collation does not work on the min/max function when aggregation is pushed down to TiKV #8108",
          "PD\nFix the issue that creating TSO stream might be blocked for a while if the server crashes #2648\nFix the issue that getSchedulers might cause a data race #2638\nFix the issue that deleting the scheduler might cause deadlocks #2637\nFix the bug that placement rules are not considered when balance-leader-scheduler is enabled #2636\nFix the issue that sometimes service safepoint cannot be set properly, which might make BR and dumpling fail #2635\nFix the issue that the target store in hot region scheduler is incorrectly selected #2627\nFix the issue that the TSO request might take too long when PD leader is switched #2622\nFix the issue of stale scheduler after leader change #2608\nFix the issue that sometimes replicas of a Region cannot be adjusted to the best location when placement rules are enabled #2605\nFix the issue that the deployment path of the store is not updated according to the change of deployment directory #2600\nPrevent store limit from changing to zero #2588",
          "Fix the issue that creating TSO stream might be blocked for a while if the server crashes #2648",
          "Fix the issue that getSchedulers might cause a data race #2638",
          "Fix the issue that deleting the scheduler might cause deadlocks #2637",
          "Fix the bug that placement rules are not considered when balance-leader-scheduler is enabled #2636",
          "Fix the issue that sometimes service safepoint cannot be set properly, which might make BR and dumpling fail #2635",
          "Fix the issue that the target store in hot region scheduler is incorrectly selected #2627",
          "Fix the issue that the TSO request might take too long when PD leader is switched #2622",
          "Fix the issue of stale scheduler after leader change #2608",
          "Fix the issue that sometimes replicas of a Region cannot be adjusted to the best location when placement rules are enabled #2605",
          "Fix the issue that the deployment path of the store is not updated according to the change of deployment directory #2600",
          "Prevent store limit from changing to zero #2588",
          "TiDB Dashboard\nFix the TiDB connection error when TiDB is scaled out #689\nFix the issue that TiFlash instances are not displayed in the log searching page #680\nFix the issue of metric selection reset after refreshing the overview page #663\nFix a connection issue in some TLS scenarios #660\nFix the issue that the language dropdown box is not displayed correctly in some cases #677",
          "Fix the TiDB connection error when TiDB is scaled out #689",
          "Fix the issue that TiFlash instances are not displayed in the log searching page #680",
          "Fix the issue of metric selection reset after refreshing the overview page #663",
          "Fix a connection issue in some TLS scenarios #660",
          "Fix the issue that the language dropdown box is not displayed correctly in some cases #677",
          "TiFlash\nFix the issue that TiFlash crashes after renaming the primary key column\nFix the issue that concurrent Learner Read and Remove Region might cause deadlocks",
          "Fix the issue that TiFlash crashes after renaming the primary key column",
          "Fix the issue that concurrent Learner Read and Remove Region might cause deadlocks",
          "Tools\nTiCDC\nFix the issue that TiCDC leaks memory in some cases #704\nFix the issue that unquoted table name causes the SQL syntax error #676\nFix the issue that the processor does not fully exit after p.stop is called #693\nBackup & Restore (BR)\nFix the issue that the backup time might be negative #405\nDumpling\nFix the issue that Dumpling omits the NULL value when --r is specified #119\nFix the bug that flushing tables might not work for tables to dump #117\nTiDB Lightning\nFix the issue that --log-file does not take effect #345\nTiDB Binlog\nFix the issue that when TiDB Binlog replicates data to the downstream with TLS enabled, Drainer cannot be started which occurs because TLS is not enabled on the database driver used to update the checkpoint #988",
          "TiCDC\nFix the issue that TiCDC leaks memory in some cases #704\nFix the issue that unquoted table name causes the SQL syntax error #676\nFix the issue that the processor does not fully exit after p.stop is called #693",
          "Fix the issue that TiCDC leaks memory in some cases #704",
          "Fix the issue that unquoted table name causes the SQL syntax error #676",
          "Fix the issue that the processor does not fully exit after p.stop is called #693",
          "Backup & Restore (BR)\nFix the issue that the backup time might be negative #405",
          "Fix the issue that the backup time might be negative #405",
          "Dumpling\nFix the issue that Dumpling omits the NULL value when --r is specified #119\nFix the bug that flushing tables might not work for tables to dump #117",
          "Fix the issue that Dumpling omits the NULL value when --r is specified #119",
          "Fix the bug that flushing tables might not work for tables to dump #117",
          "TiDB Lightning\nFix the issue that --log-file does not take effect #345",
          "Fix the issue that --log-file does not take effect #345",
          "TiDB Binlog\nFix the issue that when TiDB Binlog replicates data to the downstream with TLS enabled, Drainer cannot be started which occurs because TLS is not enabled on the database driver used to update the checkpoint #988",
          "Fix the issue that when TiDB Binlog replicates data to the downstream with TLS enabled, Drainer cannot be started which occurs because TLS is not enabled on the database driver used to update the checkpoint #988"
        ]
      },
      {
        "version": "4.0.2",
        "date": "2020-07-01",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.2/",
        "changes": [
          "TiDB\nSupport the MEMORY_QUOTA() hint in INSERT statements #18101\nSupport authentication based on the SAN field of TLS certificate #17698\nSupport collation for the REGEXP() function #17581\nSupport the sql_select_limit session and global variable #17604\nSupport splitting the Region for the newly added partition by default #17665\nSupport pushing the IF()/BITXOR()/BITNEG()/JSON_LENGTH() functions to the TiFlash Coprocessor #17651 #17592\nSupport a new aggregate function APPROX_COUNT_DISTINCT() to calculate the approximate result of COUNT(DISTINCT) #18120\nSupport collation in TiFlash and pushing collation-related functions to TiFlash #17705\nAdd the STATUS_ADDRESS column in the INFORMATION_SCHEMA.INSPECTION_RESULT table to indicate the status address of servers #17695\nAdd the SOURCE column in the MYSQL.BIND_INFO table to indicate the how the bindings are created #17587\nAdd the PLAN_IN_CACHE and PLAN_CACHE_HITS columns in the PERFORMANCE_SCHEMA.EVENTS_STATEMENTS_SUMMARY_BY_DIGEST table to indicate the plan cache usage of SQL statements #17493\nAdd the enable-collect-execution-info configuration item and the tidb_enable_collect_execution_info session variable to control whether to collect execution information of each operator and record the information in the slow query log #18073 #18072\nAdd the tidb_slow_log_masking global variable to control whether to desensitize the queries in slow query log #17694\nAdd a diagnostic rule in the INFORMATION_SCHEMA.INSPECTION_RESULT table for the storage.block-cache.capacity TiKV configuration item #17671\nAdd the BACKUP and RESTORE SQL statements to back up and restore data #15274",
          "Support the MEMORY_QUOTA() hint in INSERT statements #18101",
          "Support authentication based on the SAN field of TLS certificate #17698",
          "Support collation for the REGEXP() function #17581",
          "Support the sql_select_limit session and global variable #17604",
          "Support splitting the Region for the newly added partition by default #17665",
          "Support pushing the IF()/BITXOR()/BITNEG()/JSON_LENGTH() functions to the TiFlash Coprocessor #17651 #17592",
          "Support a new aggregate function APPROX_COUNT_DISTINCT() to calculate the approximate result of COUNT(DISTINCT) #18120",
          "Support collation in TiFlash and pushing collation-related functions to TiFlash #17705",
          "Add the STATUS_ADDRESS column in the INFORMATION_SCHEMA.INSPECTION_RESULT table to indicate the status address of servers #17695",
          "Add the SOURCE column in the MYSQL.BIND_INFO table to indicate the how the bindings are created #17587",
          "Add the PLAN_IN_CACHE and PLAN_CACHE_HITS columns in the PERFORMANCE_SCHEMA.EVENTS_STATEMENTS_SUMMARY_BY_DIGEST table to indicate the plan cache usage of SQL statements #17493",
          "Add the enable-collect-execution-info configuration item and the tidb_enable_collect_execution_info session variable to control whether to collect execution information of each operator and record the information in the slow query log #18073 #18072",
          "Add the tidb_slow_log_masking global variable to control whether to desensitize the queries in slow query log #17694",
          "Add a diagnostic rule in the INFORMATION_SCHEMA.INSPECTION_RESULT table for the storage.block-cache.capacity TiKV configuration item #17671",
          "Add the BACKUP and RESTORE SQL statements to back up and restore data #15274",
          "TiKV\nSupport the encryption-meta command in TiKV Control #8103\nAdd a perf context metric for RocksDB::WriteImpl #7991",
          "Support the encryption-meta command in TiKV Control #8103",
          "Add a perf context metric for RocksDB::WriteImpl #7991",
          "PD\nSupport the operator to fail immediately when trying to remove a leader peer #2551\nSet a suitable default store limit for TiFlash stores #2559",
          "Support the operator to fail immediately when trying to remove a leader peer #2551",
          "Set a suitable default store limit for TiFlash stores #2559",
          "TiFlash\nSupport new aggregation function APPROX_COUNT_DISTINCT in Coprocessor\nEnable the rough set filter feature by default\nEnable TiFlash to run on the ARM architecture\nSupport pushing down the JSON_LENGTH function in Coprocessor",
          "Support new aggregation function APPROX_COUNT_DISTINCT in Coprocessor",
          "Enable the rough set filter feature by default",
          "Enable TiFlash to run on the ARM architecture",
          "Support pushing down the JSON_LENGTH function in Coprocessor",
          "Tools\nTiCDC\nSupport migrating sub-tasks to new captures #665\nAdd a cli command to delete the TiCDC GC TTL #652\nSupport canal protocol in MQ sink #649",
          "TiCDC\nSupport migrating sub-tasks to new captures #665\nAdd a cli command to delete the TiCDC GC TTL #652\nSupport canal protocol in MQ sink #649",
          "Support migrating sub-tasks to new captures #665",
          "Add a cli command to delete the TiCDC GC TTL #652",
          "Support canal protocol in MQ sink #649",
          "TiDB\nReduce the query latency caused by the Golang memory allocation when CM-Sketch consumes too much memory #17545\nReduce the QPS recovery duration of a cluster when a TiKV server is in the failure recovery process #17681\nSupport pushing aggregate functions to TiKV/TiFlash Coprocessor on partition tables #17655\nImprove the accuracy of row count estimation for index equal conditions #17611",
          "Reduce the query latency caused by the Golang memory allocation when CM-Sketch consumes too much memory #17545",
          "Reduce the QPS recovery duration of a cluster when a TiKV server is in the failure recovery process #17681",
          "Support pushing aggregate functions to TiKV/TiFlash Coprocessor on partition tables #17655",
          "Improve the accuracy of row count estimation for index equal conditions #17611",
          "TiKV\nImprove the PD client panic log #8093\nAdd back the process_cpu_seconds_total and process_start_time_seconds monitoring metrics #8029",
          "Improve the PD client panic log #8093",
          "Add back the process_cpu_seconds_total and process_start_time_seconds monitoring metrics #8029",
          "TiFlash\nImprove backward compatibility when upgrading from an older version #786\nReduce memory consumption of delta index #787\nUse the more efficient update algorithm for delta index #794",
          "Improve backward compatibility when upgrading from an older version #786",
          "Reduce memory consumption of delta index #787",
          "Use the more efficient update algorithm for delta index #794",
          "Tools\nBackup & Restore (BR)\nImprove the performance by pipelining the restore process #266",
          "Backup & Restore (BR)\nImprove the performance by pipelining the restore process #266",
          "Improve the performance by pipelining the restore process #266",
          "TiDB\nFix the issue of incorrect execution plan obtained from the plan cache after tidb_isolation_read_engines is changed #17570\nFix the occasional runtime error that occurs when executing the EXPLAIN FOR CONNECTION statement #18124\nFix the incorrect result of the last_plan_from_cache session variable in some cases #18111\nFix the runtime error that occurs when executing the UNIX_TIMESTAMP() function from the plan cache #18002 #17673\nFix the runtime error when the child of HashJoin executor returns the NULL column #17937\nFix the runtime error caused by concurrently executing the DROP DATABASE statement and other DDL statements in the same database #17659\nFix the incorrect result of the COERCIBILITY() function on user variables #17890\nFix the issue that the IndexMergeJoin executor occasionally gets stuck #18091\nFix the hang issue of the IndexMergeJoin executor when out of memory quota and query cancelling is triggered #17654\nFix the excessive counting memory usage of the Insert and Replace executors #18062\nFix the issue that the data replication to TiFlash storage is stopped when DROP DATABASE and DROP TABLE are executed concurrently in the same database #17901\nFix the BACKUP/RESTORE failure between TiDB and the object storage service #17844\nFix the incorrect error message of privilege check failure when access is denied #17724\nDiscard the query feedbacks generated from the DELETE/UPDATE statement #17843\nForbid altering AUTO_RANDOM_BASE for a table without AUTO_RANDOM property #17828\nFix the issue that the AUTO_RANDOM column is allocated wrong results when the table is moved between databases by ALTER TABLE ... RENAME #18243\nFix the issue that some system tables cannot be accessed when setting the value of tidb_isolation_read_engines without tidb #17719\nFix the inaccurate result of JSON comparison on large integers and float values #17717\nFix the incorrect decimal property for the result of the COUNT() function #17704\nFix the incorrect result of the HEX() function when the type of input is the binary string #17620\nFix the issue that an empty result is returned when querying the INFORMATION_SCHEMA.INSPECTION_SUMMARY table without filter condition #17697\nFix the issue that the hashed password used by the ALTER USER statement to update user information is unexpected #17646\nSupport collation for ENUM and SET values #17701\nFix the issue that the timeout mechanism for pre-splitting Regions does not work when creating a table #17619\nFix the issue that the schema is unexpectedly updated when a DDL job is retried, which might break the atomicity of DDL jobs #17608\nFix the incorrect result of the FIELD() function when the argument contains the column #17562\nFix the issue that the max_execution_time hint does not work occasionally #17536\nFix the issue that the concurrency information is redundantly printed in the result of EXPLAIN ANALYZE #17350\nFix the incompatible behavior of %h on the STR_TO_DATE function #17498\nFix the issue that the follower/learner keeps retrying when tidb_replica_read is set to follower and there is a network partition between the leader and the follower/learner #17443\nFix the issue that TiDB sends too many pings to PD follower in some cases #17947\nFix the issue that the range partition table of older versions cannot be loaded in TiDB v4.0 #17983\nFix the SQL statement timeout issue when multiple Region requests fail at the same time by assigning different Backoffer for each Region #17585\nFix the MySQL incompatible behavior when parsing DateTime delimiters #17501\nFix the issue that TiKV requests are occasionally sent to the TiFlash server #18105\nFix the data inconsistency issue occurred because the lock of a written and deleted primary key in one transaction is resolved by another transaction #18250",
          "Fix the issue of incorrect execution plan obtained from the plan cache after tidb_isolation_read_engines is changed #17570",
          "Fix the occasional runtime error that occurs when executing the EXPLAIN FOR CONNECTION statement #18124",
          "Fix the incorrect result of the last_plan_from_cache session variable in some cases #18111",
          "Fix the runtime error that occurs when executing the UNIX_TIMESTAMP() function from the plan cache #18002 #17673",
          "Fix the runtime error when the child of HashJoin executor returns the NULL column #17937",
          "Fix the runtime error caused by concurrently executing the DROP DATABASE statement and other DDL statements in the same database #17659",
          "Fix the incorrect result of the COERCIBILITY() function on user variables #17890",
          "Fix the issue that the IndexMergeJoin executor occasionally gets stuck #18091",
          "Fix the hang issue of the IndexMergeJoin executor when out of memory quota and query cancelling is triggered #17654",
          "Fix the excessive counting memory usage of the Insert and Replace executors #18062",
          "Fix the issue that the data replication to TiFlash storage is stopped when DROP DATABASE and DROP TABLE are executed concurrently in the same database #17901",
          "Fix the BACKUP/RESTORE failure between TiDB and the object storage service #17844",
          "Fix the incorrect error message of privilege check failure when access is denied #17724",
          "Discard the query feedbacks generated from the DELETE/UPDATE statement #17843",
          "Forbid altering AUTO_RANDOM_BASE for a table without AUTO_RANDOM property #17828",
          "Fix the issue that the AUTO_RANDOM column is allocated wrong results when the table is moved between databases by ALTER TABLE ... RENAME #18243",
          "Fix the issue that some system tables cannot be accessed when setting the value of tidb_isolation_read_engines without tidb #17719",
          "Fix the inaccurate result of JSON comparison on large integers and float values #17717",
          "Fix the incorrect decimal property for the result of the COUNT() function #17704",
          "Fix the incorrect result of the HEX() function when the type of input is the binary string #17620",
          "Fix the issue that an empty result is returned when querying the INFORMATION_SCHEMA.INSPECTION_SUMMARY table without filter condition #17697",
          "Fix the issue that the hashed password used by the ALTER USER statement to update user information is unexpected #17646",
          "Support collation for ENUM and SET values #17701",
          "Fix the issue that the timeout mechanism for pre-splitting Regions does not work when creating a table #17619",
          "Fix the issue that the schema is unexpectedly updated when a DDL job is retried, which might break the atomicity of DDL jobs #17608",
          "Fix the incorrect result of the FIELD() function when the argument contains the column #17562",
          "Fix the issue that the max_execution_time hint does not work occasionally #17536",
          "Fix the issue that the concurrency information is redundantly printed in the result of EXPLAIN ANALYZE #17350",
          "Fix the incompatible behavior of %h on the STR_TO_DATE function #17498",
          "Fix the issue that the follower/learner keeps retrying when tidb_replica_read is set to follower and there is a network partition between the leader and the follower/learner #17443",
          "Fix the issue that TiDB sends too many pings to PD follower in some cases #17947",
          "Fix the issue that the range partition table of older versions cannot be loaded in TiDB v4.0 #17983",
          "Fix the SQL statement timeout issue when multiple Region requests fail at the same time by assigning different Backoffer for each Region #17585",
          "Fix the MySQL incompatible behavior when parsing DateTime delimiters #17501",
          "Fix the issue that TiKV requests are occasionally sent to the TiFlash server #18105",
          "Fix the data inconsistency issue occurred because the lock of a written and deleted primary key in one transaction is resolved by another transaction #18250",
          "TiKV\nFix a memory safety issue for the status server #8101\nFix the issue of lost precision in JSON numeric comparison #8087\nFix the wrong query slow log #8050\nFix the issue that a peer cannot be removed when its store is isolated during multiple merge processes #8048\nFix the issue that tikv-ctl recover-mvcc does not remove invalid pessimistic locks #8047\nFix the issue that some Titan histogram metrics are missing #7997\nFix the issue that TiKV returns duplicated error to TiCDC #7887",
          "Fix a memory safety issue for the status server #8101",
          "Fix the issue of lost precision in JSON numeric comparison #8087",
          "Fix the wrong query slow log #8050",
          "Fix the issue that a peer cannot be removed when its store is isolated during multiple merge processes #8048",
          "Fix the issue that tikv-ctl recover-mvcc does not remove invalid pessimistic locks #8047",
          "Fix the issue that some Titan histogram metrics are missing #7997",
          "Fix the issue that TiKV returns duplicated error to TiCDC #7887",
          "PD\nCheck the correctness of the pd-server.dashboard-address configuration item #2517\nFix the panic issue of PD when setting store-limit-mode to auto #2544\nFix the issue that hotspots cannot be identified in some cases #2463\nFix the issue that placement rules prevent the store from changing to tombstone in some cases #2546\nFix the panic issue of PD when upgrading from earlier versions in some cases #2564",
          "Check the correctness of the pd-server.dashboard-address configuration item #2517",
          "Fix the panic issue of PD when setting store-limit-mode to auto #2544",
          "Fix the issue that hotspots cannot be identified in some cases #2463",
          "Fix the issue that placement rules prevent the store from changing to tombstone in some cases #2546",
          "Fix the panic issue of PD when upgrading from earlier versions in some cases #2564",
          "TiFlash\nFix the issue that the proxy might panic when the region not found error occurs\nFix the issue that the I/O exception thrown in drop table might lead to synchronization failure of TiFlash schema",
          "Fix the issue that the proxy might panic when the region not found error occurs",
          "Fix the issue that the I/O exception thrown in drop table might lead to synchronization failure of TiFlash schema"
        ]
      },
      {
        "version": "4.0.1",
        "date": "2020-06-12",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.1/",
        "changes": [
          "TiKV\nAdd the --advertise-status-addr start flag to specify the status address to advertise #8046",
          "Add the --advertise-status-addr start flag to specify the status address to advertise #8046",
          "PD\nSupport the internal proxy for the built-in TiDB Dashboard #2511\nSupport setting a custom timeout for PD client #2509",
          "Support the internal proxy for the built-in TiDB Dashboard #2511",
          "Support setting a custom timeout for PD client #2509",
          "TiFlash\nSupport the TiDB new collation framework\nSupport pushing down the If/BitAnd/BitOr/BitXor/BitNot/Json_length functions to TiFlash\nSupport the Resolve Lock logic for large transactions in TiFlash",
          "Support the TiDB new collation framework",
          "Support pushing down the If/BitAnd/BitOr/BitXor/BitNot/Json_length functions to TiFlash",
          "Support the Resolve Lock logic for large transactions in TiFlash",
          "Tools\nBackup & Restore (BR)\nAdd a version check when starting BR to avoid the issue that BR and the TiDB cluster are incompatible #311",
          "Backup & Restore (BR)\nAdd a version check when starting BR to avoid the issue that BR and the TiDB cluster are incompatible #311",
          "Add a version check when starting BR to avoid the issue that BR and the TiDB cluster are incompatible #311",
          "TiKV\nFix the issue that the use-unified-pool configuration in the startup log is incorrectly printed #7946\nFix the issue that the tikv-ctl does not support relative path #7963\nFix the bug that the monitoring metric of Point Selects is inaccurate #8033\nFix the issue that a peer might not be destroyed after the network isolation disappears #8006\nFix the issue that a request for read index might get outdated commit index #8043\nImprove the reliability of backup and restore with S3 and GCS storages #7917",
          "Fix the issue that the use-unified-pool configuration in the startup log is incorrectly printed #7946",
          "Fix the issue that the tikv-ctl does not support relative path #7963",
          "Fix the bug that the monitoring metric of Point Selects is inaccurate #8033",
          "Fix the issue that a peer might not be destroyed after the network isolation disappears #8006",
          "Fix the issue that a request for read index might get outdated commit index #8043",
          "Improve the reliability of backup and restore with S3 and GCS storages #7917",
          "PD\nPrevent misconfiguration of Placement Rules in some situations #2516\nFix the issue that deleting the Placement Rule might cause panic #2515\nFix a bug that the store information cannot be obtained when the store's used size is zero #2474",
          "Prevent misconfiguration of Placement Rules in some situations #2516",
          "Fix the issue that deleting the Placement Rule might cause panic #2515",
          "Fix a bug that the store information cannot be obtained when the store's used size is zero #2474",
          "TiFlash\nFix the issue that default value of the bit type column in TiFlash is incorrectly parsed\nFix the miscalculation of 1970-01-01 00:00:00 UTC in some timezones in TiFlash",
          "Fix the issue that default value of the bit type column in TiFlash is incorrectly parsed",
          "Fix the miscalculation of 1970-01-01 00:00:00 UTC in some timezones in TiFlash"
        ]
      },
      {
        "version": "4.0.0",
        "date": "2020-05-28",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0-ga/",
        "changes": [
          "TiDB\nAdd the committer-concurrency configuration item to control the number of goroutines in the retry-commit phase #16849\nSupport the show table partition regions syntax #17294\nAdd the tmp-storage-quota configuration item to limit the temporary disk space used by the TiDB server #15700\nSupport checking whether the partitioned table uses a unique prefix index when creating and changing tables #17213\nSupport the insert/replace into tbl_name partition(partition_name_list) statement #17313\nSupport checking the value of collations when using the Distinct function #17240\nSupport the is null filter condition during the Hash partition pruning #17310\nSupport admin check index, admin cleanup index, and admin recover index in partitioned tables #17392 #17405 #17317\nSupport range partition pruning for the in expressions #17320",
          "Add the committer-concurrency configuration item to control the number of goroutines in the retry-commit phase #16849",
          "Support the show table partition regions syntax #17294",
          "Add the tmp-storage-quota configuration item to limit the temporary disk space used by the TiDB server #15700",
          "Support checking whether the partitioned table uses a unique prefix index when creating and changing tables #17213",
          "Support the insert/replace into tbl_name partition(partition_name_list) statement #17313",
          "Support checking the value of collations when using the Distinct function #17240",
          "Support the is null filter condition during the Hash partition pruning #17310",
          "Support admin check index, admin cleanup index, and admin recover index in partitioned tables #17392 #17405 #17317",
          "Support range partition pruning for the in expressions #17320",
          "TiFlash\nSupport filtering out the data corresponding to the qualified TSO through the min commit ts value of the Lock CF when the Learner reads the data\nAdd the feature that the system explicitly reports an error to avoid incorrect calculation results when the value of TIMESTAMP type is less than 1970-01-01 00:00:00\nSupport using flags in regular expressions when searching logs",
          "Support filtering out the data corresponding to the qualified TSO through the min commit ts value of the Lock CF when the Learner reads the data",
          "Add the feature that the system explicitly reports an error to avoid incorrect calculation results when the value of TIMESTAMP type is less than 1970-01-01 00:00:00",
          "Support using flags in regular expressions when searching logs",
          "TiKV\nSupport collation rules of ascii_bin and latin1_bin encoding #7919",
          "Support collation rules of ascii_bin and latin1_bin encoding #7919",
          "PD\nSupport specifying the reverse proxy resource prefix for built-in TiDB Dashboard #2457\nSupport returning the pending peer and down peer information in interfaces of the PD client Region #2443\nAdd monitoring items such as Direction of hotspot move leader, Direction of hotspot move peer, and Hot cache read entry number #2448",
          "Support specifying the reverse proxy resource prefix for built-in TiDB Dashboard #2457",
          "Support returning the pending peer and down peer information in interfaces of the PD client Region #2443",
          "Add monitoring items such as Direction of hotspot move leader, Direction of hotspot move peer, and Hot cache read entry number #2448",
          "Tools\nBackup & Restore (BR)\nSupport the backup and restore of Sequence and View #242\nTiCDC\nSupport checking the validity of Sink URI when creating Changefeed #561\nSupport checking whether the PD and TiKV versions meet the system requirements during system startup #570\nSupport scheduling multiple tables in the same scheduling task generation cycle #572\nAdd information about node roles in HTTP API #591",
          "Backup & Restore (BR)\nSupport the backup and restore of Sequence and View #242",
          "Support the backup and restore of Sequence and View #242",
          "TiCDC\nSupport checking the validity of Sink URI when creating Changefeed #561\nSupport checking whether the PD and TiKV versions meet the system requirements during system startup #570\nSupport scheduling multiple tables in the same scheduling task generation cycle #572\nAdd information about node roles in HTTP API #591",
          "Support checking the validity of Sink URI when creating Changefeed #561",
          "Support checking whether the PD and TiKV versions meet the system requirements during system startup #570",
          "Support scheduling multiple tables in the same scheduling task generation cycle #572",
          "Add information about node roles in HTTP API #591",
          "TiKV\nFix the DefaultNotFound error that occurs when backing up using Backup & Restore (BR) #7937\nFix system panics caused by the out-of-order ReadIndex packages #7930\nFix system panics caused by incorrectly removing snapshot files after TiKV is restarted #7927",
          "Fix the DefaultNotFound error that occurs when backing up using Backup & Restore (BR) #7937",
          "Fix system panics caused by the out-of-order ReadIndex packages #7930",
          "Fix system panics caused by incorrectly removing snapshot files after TiKV is restarted #7927",
          "TiFlash\nFix the possible data loss issue that occurs when the system panics because of incorrect processing logic of Raft Admin Command",
          "Fix the possible data loss issue that occurs when the system panics because of incorrect processing logic of Raft Admin Command",
          "TiDB\nFix the issue of unexpected timeouts when sending and receiving messages by disabling TiDB to send batch commands to TiFlash #17307\nFix the issue of incorrectly distinguishing signed and unsigned integers during partition pruning, which improves performance #17230\nFix the issue of upgrade failure from v3.1.1 to v4.0 because of the incompatible mysql.user table #17300\nFix the issue of incorrect selection of the partition in the update statement #17305\nFix system panics when receiving an unknown error message from TiKV #17380\nFix system panics caused by incorrect processing logic when creating the table that is key partitioned #17242\nFix the issue that the wrong Index Merge Join plan is selected because of incorrect optimizer processing logic #17365\nFix the issue of inaccurate duration monitoring metric of the SELECT statement in Grafana #16561\nFix the issue that the GC worker is blocked when the system error occurs #16915\nFix the issue that the UNIQUE constraint on a boolean column results in an incorrect result in a comparison #17306\nFix system panics caused by incorrect processing logic when tidb_opt_agg_push_down is enabled and the aggregation function pushes down the partitioned table #17328\nFix the issue of accessing failed TiKV nodes in some cases #17342\nFix the issue that the isolation-read configuration item in tidb.toml does not take effect #17322\nFix the issue of incorrect order of output results due to incorrect processing logic when hint is used to enforce the stream aggregation #17347\nFix the behavior that insert processes DIV under different SQL_MODE #17314",
          "Fix the issue of unexpected timeouts when sending and receiving messages by disabling TiDB to send batch commands to TiFlash #17307",
          "Fix the issue of incorrectly distinguishing signed and unsigned integers during partition pruning, which improves performance #17230",
          "Fix the issue of upgrade failure from v3.1.1 to v4.0 because of the incompatible mysql.user table #17300",
          "Fix the issue of incorrect selection of the partition in the update statement #17305",
          "Fix system panics when receiving an unknown error message from TiKV #17380",
          "Fix system panics caused by incorrect processing logic when creating the table that is key partitioned #17242",
          "Fix the issue that the wrong Index Merge Join plan is selected because of incorrect optimizer processing logic #17365",
          "Fix the issue of inaccurate duration monitoring metric of the SELECT statement in Grafana #16561",
          "Fix the issue that the GC worker is blocked when the system error occurs #16915",
          "Fix the issue that the UNIQUE constraint on a boolean column results in an incorrect result in a comparison #17306",
          "Fix system panics caused by incorrect processing logic when tidb_opt_agg_push_down is enabled and the aggregation function pushes down the partitioned table #17328",
          "Fix the issue of accessing failed TiKV nodes in some cases #17342",
          "Fix the issue that the isolation-read configuration item in tidb.toml does not take effect #17322",
          "Fix the issue of incorrect order of output results due to incorrect processing logic when hint is used to enforce the stream aggregation #17347",
          "Fix the behavior that insert processes DIV under different SQL_MODE #17314",
          "TiFlash\nFix the issue that the matching behavior of regular expressions in the search log feature is inconsistent with other components\nFix the issue of excessive restart time when nodes write large amounts of data by disabling the delay processing optimization of Raft Compact Log Command by default\nFix the issue that the system fails to start because TiDB incorrectly processes the DROP DATABASE statement in some scenarios\nFix the issue that the method of collecting CPU information in Server_info is different from that in other components\nFix the issue that the error Too Many Pings is reported when the Query statement is executed if batch coprocessor is enabled\nFix the issue that Dashboard fails to display the correct deploy path information because TiFlash does not report the related information",
          "Fix the issue that the matching behavior of regular expressions in the search log feature is inconsistent with other components",
          "Fix the issue of excessive restart time when nodes write large amounts of data by disabling the delay processing optimization of Raft Compact Log Command by default",
          "Fix the issue that the system fails to start because TiDB incorrectly processes the DROP DATABASE statement in some scenarios",
          "Fix the issue that the method of collecting CPU information in Server_info is different from that in other components",
          "Fix the issue that the error Too Many Pings is reported when the Query statement is executed if batch coprocessor is enabled",
          "Fix the issue that Dashboard fails to display the correct deploy path information because TiFlash does not report the related information",
          "TiKV\nFix the DefaultNotFound error that occurs when backing up using BR #7937\nFix system panics caused by out-of-order ReadIndex packets #7930\nFix the issue that an unexpected error is returned because the read request callback function is not called #7921\nFix system panics caused by incorrectly removing snapshot files when TiKV is restarted #7927\nFix the issue that the master key cannot be rotated due to incorrect processing logic in storage encryption #7898\nFix the issue that the received lock cf file of the snapshot is not encrypted when the storage encryption is enabled #7922",
          "Fix the DefaultNotFound error that occurs when backing up using BR #7937",
          "Fix system panics caused by out-of-order ReadIndex packets #7930",
          "Fix the issue that an unexpected error is returned because the read request callback function is not called #7921",
          "Fix system panics caused by incorrectly removing snapshot files when TiKV is restarted #7927",
          "Fix the issue that the master key cannot be rotated due to incorrect processing logic in storage encryption #7898",
          "Fix the issue that the received lock cf file of the snapshot is not encrypted when the storage encryption is enabled #7922",
          "PD\nFix the 404 error when deleting evict-leader-scheduler or grant-leader-scheduler using pd-ctl #2446\nFix the issue that the presplit feature might not work properly when the TiFlash replica exists #2447",
          "Fix the 404 error when deleting evict-leader-scheduler or grant-leader-scheduler using pd-ctl #2446",
          "Fix the issue that the presplit feature might not work properly when the TiFlash replica exists #2447",
          "Tools\nBackup & Restore (BR)\nFix the issue that the data restoration fails due to network issues when BR restores data from cloud storage #298\nTiCDC\nFix system panics caused by data race #565 #566\nFix resource leaks or system blockages caused by incorrect processing logic #574 #586\nFix the issue that the command line gets stuck because CLI cannot connect to PD #579",
          "Backup & Restore (BR)\nFix the issue that the data restoration fails due to network issues when BR restores data from cloud storage #298",
          "Fix the issue that the data restoration fails due to network issues when BR restores data from cloud storage #298",
          "TiCDC\nFix system panics caused by data race #565 #566\nFix resource leaks or system blockages caused by incorrect processing logic #574 #586\nFix the issue that the command line gets stuck because CLI cannot connect to PD #579",
          "Fix system panics caused by data race #565 #566",
          "Fix resource leaks or system blockages caused by incorrect processing logic #574 #586",
          "Fix the issue that the command line gets stuck because CLI cannot connect to PD #579"
        ]
      },
      {
        "version": "4.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.0-rc.2/",
        "changes": [
          "TiDB\nAdd support for the BACKUP and RESTORE commands to back up and restore data #16960\nSupport pre-checking the data volume in a single Region before commit and pre-splitting the Region when the data volume exceeds the threshold #16959\nAdd the new LAST_PLAN_FROM_CACHE variable with a Session scope to indicate whether the last executed statement hits the plan cache #16830\nSupport recording the Cop_time information in slow log and the SLOW_LOG table #16904\nAdd in Grafana more metrics that monitor the memory status of Go Runtime #16928\nSupport outputting the forUpdateTS and Read Consistency isolation level information in General Log #16946\nSupport collapsing duplicate requests of resolving locks in TiKV Region #16925\nSupport using the SET CONFIG statement to modify the configuration of PD/TiKV nodes #16853\nSupport the auto_random option in the CREATE TABLE statement #16813\nAllocate TaskID for the DistSQL request to help TiKV better schedule and process requests #17155\nSupport displaying the version information of the TiDB server after logging into the MySQL client #17187\nSupport the ORDER BY clause in the GROUP_CONCAT function #16990\nSupport displaying the Plan_from_cache information in slow log to indicate whether the statement hits plan cache #17121\nAdd the feature that TiDB Dashboard can display the capacity information of TiFlash multi-disk deployment\nAdd the feature of querying the TiFlash log using SQL statements in Dashboard",
          "Add support for the BACKUP and RESTORE commands to back up and restore data #16960",
          "Support pre-checking the data volume in a single Region before commit and pre-splitting the Region when the data volume exceeds the threshold #16959",
          "Add the new LAST_PLAN_FROM_CACHE variable with a Session scope to indicate whether the last executed statement hits the plan cache #16830",
          "Support recording the Cop_time information in slow log and the SLOW_LOG table #16904",
          "Add in Grafana more metrics that monitor the memory status of Go Runtime #16928",
          "Support outputting the forUpdateTS and Read Consistency isolation level information in General Log #16946",
          "Support collapsing duplicate requests of resolving locks in TiKV Region #16925",
          "Support using the SET CONFIG statement to modify the configuration of PD/TiKV nodes #16853",
          "Support the auto_random option in the CREATE TABLE statement #16813",
          "Allocate TaskID for the DistSQL request to help TiKV better schedule and process requests #17155",
          "Support displaying the version information of the TiDB server after logging into the MySQL client #17187",
          "Support the ORDER BY clause in the GROUP_CONCAT function #16990",
          "Support displaying the Plan_from_cache information in slow log to indicate whether the statement hits plan cache #17121",
          "Add the feature that TiDB Dashboard can display the capacity information of TiFlash multi-disk deployment",
          "Add the feature of querying the TiFlash log using SQL statements in Dashboard",
          "TiKV\nSupport encryption debugging for tikv-ctl, so that tikv-ctl can be used to operate and manage the cluster when the encryption storage is enabled #7698\nSupport encrypting the lock column family in snapshots #7712\nUse the heatmap in the Grafana dashboard for Raftstore latency summary to better diagnose the jitter issue #7717\nSupport setting the upper limit for the size of the gRPC message #7824\nAdd in Grafana dashboard the encryption-related monitoring metrics #7827\nSupport Application-Layer Protocol Negotiation (ALPN) #7825\nAdd more statistics about Titan #7818\nSupport using the task ID provided by the client as the identifier in the unified read pool to avoid that the priority of a task is lowered by another task in the same transaction #7814\nImprove the performance of the batch insert request #7718",
          "Support encryption debugging for tikv-ctl, so that tikv-ctl can be used to operate and manage the cluster when the encryption storage is enabled #7698",
          "Support encrypting the lock column family in snapshots #7712",
          "Use the heatmap in the Grafana dashboard for Raftstore latency summary to better diagnose the jitter issue #7717",
          "Support setting the upper limit for the size of the gRPC message #7824",
          "Add in Grafana dashboard the encryption-related monitoring metrics #7827",
          "Support Application-Layer Protocol Negotiation (ALPN) #7825",
          "Add more statistics about Titan #7818",
          "Support using the task ID provided by the client as the identifier in the unified read pool to avoid that the priority of a task is lowered by another task in the same transaction #7814",
          "Improve the performance of the batch insert request #7718",
          "PD\nEliminate the speed limit of removing peers when making a node offline #2372",
          "Eliminate the speed limit of removing peers when making a node offline #2372",
          "TiFlash\nChange the name of the Count graph of Read Index in Grafana to Ops\nOptimize the data for opening file descriptors when the system load is low to reduce system resource consumption\nAdd the capacity-related configuration parameter to limit the data storage capacity",
          "Change the name of the Count graph of Read Index in Grafana to Ops",
          "Optimize the data for opening file descriptors when the system load is low to reduce system resource consumption",
          "Add the capacity-related configuration parameter to limit the data storage capacity",
          "Tools\nTiDB Lightning\nAdd the fetch-mode sub-command in tidb-lightning-ctl to print the TiKV cluster mode #287\nTiCDC\nSupport managing the replication task by using cdc cli (changefeed) #546\nBackup & Restore (BR)\nSupport automatically adjusting GC time during backup #257\nAdjust PD parameters when restoring data to speed up the restoration #198",
          "TiDB Lightning\nAdd the fetch-mode sub-command in tidb-lightning-ctl to print the TiKV cluster mode #287",
          "Add the fetch-mode sub-command in tidb-lightning-ctl to print the TiKV cluster mode #287",
          "TiCDC\nSupport managing the replication task by using cdc cli (changefeed) #546",
          "Support managing the replication task by using cdc cli (changefeed) #546",
          "Backup & Restore (BR)\nSupport automatically adjusting GC time during backup #257\nAdjust PD parameters when restoring data to speed up the restoration #198",
          "Support automatically adjusting GC time during backup #257",
          "Adjust PD parameters when restoring data to speed up the restoration #198",
          "TiDB\nFix the issue that the wrong partition is chosen when the WHERE clause has only one equivalent condition #17054\nFix the issue of wrong results caused by building the incorrect Index range when the WHERE clause only contains the string column #16660\nFix the panic issue that occurs when executing the PointGet query in the transaction after the DELETE operation #16991\nFix the issue that the GC worker might encounter the deadlock when an error occurs #16915\nAvoid the unnecessary RegionMiss retry when the TiKV response is slow but not down #16956\nChange the log level in the client in the handshake phase of the MySQL protocol to DEBUG to solve the problem that interferes with log output #16881\nFix the issue that the Region is not pre-split according to the PRE_SPLIT_REGIONS information defined by the table after the TRUNCATE operation #16776\nFix the issue of soaring goroutine caused by retry when TiKV is unavailable during the second phase of the two-phase commit #16876\nFix the panic issue of statement execution when some expressions cannot be pushed down #16869\nFix the wrong execution result of the IndexMerge operation on the partitioned table #17124\nFix the performance reduction of wide_table caused by the mutex contention of Memory Trackers #17234",
          "Fix the issue that the wrong partition is chosen when the WHERE clause has only one equivalent condition #17054",
          "Fix the issue of wrong results caused by building the incorrect Index range when the WHERE clause only contains the string column #16660",
          "Fix the panic issue that occurs when executing the PointGet query in the transaction after the DELETE operation #16991",
          "Fix the issue that the GC worker might encounter the deadlock when an error occurs #16915",
          "Avoid the unnecessary RegionMiss retry when the TiKV response is slow but not down #16956",
          "Change the log level in the client in the handshake phase of the MySQL protocol to DEBUG to solve the problem that interferes with log output #16881",
          "Fix the issue that the Region is not pre-split according to the PRE_SPLIT_REGIONS information defined by the table after the TRUNCATE operation #16776",
          "Fix the issue of soaring goroutine caused by retry when TiKV is unavailable during the second phase of the two-phase commit #16876",
          "Fix the panic issue of statement execution when some expressions cannot be pushed down #16869",
          "Fix the wrong execution result of the IndexMerge operation on the partitioned table #17124",
          "Fix the performance reduction of wide_table caused by the mutex contention of Memory Trackers #17234",
          "TiFlash\nFix the issue that the system cannot start normally after the upgrade if the name of the database or table contains special characters",
          "Fix the issue that the system cannot start normally after the upgrade if the name of the database or table contains special characters",
          "TiDB\nImprove the logic that determines whether to use vectorization for expression execution in multiple operators #16383\nFix the issue that the IndexMerge hint fails to check the database name correctly #16932\nForbid truncating the sequence object #17037\nFix the issue that the INSERT/UPDATE/ANALYZE/DELETE statements can be performed on a sequence object #16957\nFix the issue that the internal SQL statements in the bootstrap phase are not correctly marked as internal queries in the Statement Summary table #17062\nFix the error that occurs when a filter condition supported by TiFlash but not by TiKV is pushed down to the IndexLookupJoin operator #17036\nFix the concurrency issue of the LIKE expression that might occur after the collation is enabled #16997\nFix the issue that the LIKE function cannot correctly build the Range query index after the collation is enabled #16783\nFix the issue that a wrong value is returned when executing @@LAST_PLAN_FROM_CACHE after the Plan Cache statement is triggered #16831\nFix the issue that TableFilter on the index is missed when calculating candidate paths for IndexMerge #16947\nFix the issue that a physical query plan cannot be generated when using the MergeJoin hint and the TableDual operator exists #17016\nFix the wrong capitalization of the values in the Stmt_Type column of the Statement Summary table #17018\nFix the issue that the Permission Denied error is reported because the service cannot be started when different users use the same tmp-storage-path #16996\nFix the issue that the NotNullFlag result type is incorrectly set for an expression whose result type is determined by multiple input columns, such as CASE WHEN #16995\nFix the issue that the green GC might leave unresolved locks when dirty stores exist #16949\nFix the issue that the green GC might leave unresolved locks when encountering a single key with multiple different locks #16948\nFix the issue of inserting a wrong value in the INSERT VALUE statement because a sub-query refers to a parent query column #16952\nFix the issue of incorrect results when using the AND operator on the Float value #16666\nFix the wrong information of the WAIT_TIME field in the expensive log #16907\nFix the issue that the SELECT FOR UPDATE statement cannot be recorded in the slow log in the pessimistic transaction mode #16897\nFix the wrong result that occurs when executing SELECT DISTINCT on a column of the Enum or Set type #16892\nFix the display error of auto_random_base in the SHOW CREATE TABLE statement #16864\nFix the incorrect value of string_value in the WHERE clause #16559\nFix the issue that the error message of the GROUP BY window function is inconsistent with that of MySQL #16165\nFix the issue that the FLASH TABLE statement fails to execute when the database name contains the uppercase letter #17167\nFix the inaccurate memory tracing of the Projection executor #17118\nFix the issue of incorrect time filtering of the SLOW_QUERY table in different time zones #17164\nFix the panic issue that occurs when IndexMerge is used with the virtual generated column #17126\nFix the capitalization issue of the INSTR and LOCATE function #17068\nFix the issue that the tikv server timeout error is reported frequently after the tidb_allow_batch_cop configuration is enabled #17161\nFix the issue that the result of performing XOR operation on the Float type is inconsistent with that of MySQL 8.0 #16978\nFix the issue that no error is reported when the unsupported ALTER TABLE REORGANIZE PARTITION statement is executed #17178\nFix the issue that an error is reported when EXPLAIN FORMAT=\"dot\" FOR CONNECTION ID encounters an unsupported plan #17160\nFix the record issue of the prepared statement in the EXEC_COUNT column of the Statement Summary table #17086\nFix the issue that the value is not validated when setting the Statement Summary system variable #17129\nFix the issue that an error is reported if an overflow value is used to query the UNSIGNED BIGINT primary key when the plan cache is enabled #17120\nFix the incorrect QPS display by the machine instance and request type on the Grafana TiDB Summary dashboard #17105",
          "Improve the logic that determines whether to use vectorization for expression execution in multiple operators #16383",
          "Fix the issue that the IndexMerge hint fails to check the database name correctly #16932",
          "Forbid truncating the sequence object #17037",
          "Fix the issue that the INSERT/UPDATE/ANALYZE/DELETE statements can be performed on a sequence object #16957",
          "Fix the issue that the internal SQL statements in the bootstrap phase are not correctly marked as internal queries in the Statement Summary table #17062",
          "Fix the error that occurs when a filter condition supported by TiFlash but not by TiKV is pushed down to the IndexLookupJoin operator #17036",
          "Fix the concurrency issue of the LIKE expression that might occur after the collation is enabled #16997",
          "Fix the issue that the LIKE function cannot correctly build the Range query index after the collation is enabled #16783",
          "Fix the issue that a wrong value is returned when executing @@LAST_PLAN_FROM_CACHE after the Plan Cache statement is triggered #16831",
          "Fix the issue that TableFilter on the index is missed when calculating candidate paths for IndexMerge #16947",
          "Fix the issue that a physical query plan cannot be generated when using the MergeJoin hint and the TableDual operator exists #17016",
          "Fix the wrong capitalization of the values in the Stmt_Type column of the Statement Summary table #17018",
          "Fix the issue that the Permission Denied error is reported because the service cannot be started when different users use the same tmp-storage-path #16996",
          "Fix the issue that the NotNullFlag result type is incorrectly set for an expression whose result type is determined by multiple input columns, such as CASE WHEN #16995",
          "Fix the issue that the green GC might leave unresolved locks when dirty stores exist #16949",
          "Fix the issue that the green GC might leave unresolved locks when encountering a single key with multiple different locks #16948",
          "Fix the issue of inserting a wrong value in the INSERT VALUE statement because a sub-query refers to a parent query column #16952",
          "Fix the issue of incorrect results when using the AND operator on the Float value #16666",
          "Fix the wrong information of the WAIT_TIME field in the expensive log #16907",
          "Fix the issue that the SELECT FOR UPDATE statement cannot be recorded in the slow log in the pessimistic transaction mode #16897",
          "Fix the wrong result that occurs when executing SELECT DISTINCT on a column of the Enum or Set type #16892",
          "Fix the display error of auto_random_base in the SHOW CREATE TABLE statement #16864",
          "Fix the incorrect value of string_value in the WHERE clause #16559",
          "Fix the issue that the error message of the GROUP BY window function is inconsistent with that of MySQL #16165",
          "Fix the issue that the FLASH TABLE statement fails to execute when the database name contains the uppercase letter #17167",
          "Fix the inaccurate memory tracing of the Projection executor #17118",
          "Fix the issue of incorrect time filtering of the SLOW_QUERY table in different time zones #17164",
          "Fix the panic issue that occurs when IndexMerge is used with the virtual generated column #17126",
          "Fix the capitalization issue of the INSTR and LOCATE function #17068",
          "Fix the issue that the tikv server timeout error is reported frequently after the tidb_allow_batch_cop configuration is enabled #17161",
          "Fix the issue that the result of performing XOR operation on the Float type is inconsistent with that of MySQL 8.0 #16978",
          "Fix the issue that no error is reported when the unsupported ALTER TABLE REORGANIZE PARTITION statement is executed #17178",
          "Fix the issue that an error is reported when EXPLAIN FORMAT=\"dot\" FOR CONNECTION ID encounters an unsupported plan #17160",
          "Fix the record issue of the prepared statement in the EXEC_COUNT column of the Statement Summary table #17086",
          "Fix the issue that the value is not validated when setting the Statement Summary system variable #17129",
          "Fix the issue that an error is reported if an overflow value is used to query the UNSIGNED BIGINT primary key when the plan cache is enabled #17120",
          "Fix the incorrect QPS display by the machine instance and request type on the Grafana TiDB Summary dashboard #17105",
          "TiKV\nFix the issue that many empty Regions are generated after restoration #7632\nFix the panic issue of Raftstore when receiving out-of-order read index responses #7370\nFix the issue that an invalid storage or coprocessor read pool configuration might not be rejected when the unified thread pool is enabled #7513\nFix the panic issue of the join operation when the TiKV server is shut down #7713\nFix the issue that no result is returned when searching TiKV slow logs via diagnostics API #7776\nFix the issue that notable memory fragmentation is generated when the TiKV node is running for a long time #7556\nFix the issue that the SQL statement fails to execute when an invalid date is stored #7268\nFix the issue that the backup data cannot be restored from GCS #7739\nFix the issue that KMS key ID is not validated during encryption at rest #7719\nFix the underlying correctness issue of the Coprocessor in compilers of different architecture #7714 #7730\nFix the snapshot ingestion error when encryption is enabled #7815\nFix the Invalid cross-device link error when rewriting the configuration file #7817\nFix the issue of wrong toml format when writing the configuration file to an empty file #7817\nFix the issue that a destroyed peer in Raftstore can still process requests #7836",
          "Fix the issue that many empty Regions are generated after restoration #7632",
          "Fix the panic issue of Raftstore when receiving out-of-order read index responses #7370",
          "Fix the issue that an invalid storage or coprocessor read pool configuration might not be rejected when the unified thread pool is enabled #7513",
          "Fix the panic issue of the join operation when the TiKV server is shut down #7713",
          "Fix the issue that no result is returned when searching TiKV slow logs via diagnostics API #7776",
          "Fix the issue that notable memory fragmentation is generated when the TiKV node is running for a long time #7556",
          "Fix the issue that the SQL statement fails to execute when an invalid date is stored #7268",
          "Fix the issue that the backup data cannot be restored from GCS #7739",
          "Fix the issue that KMS key ID is not validated during encryption at rest #7719",
          "Fix the underlying correctness issue of the Coprocessor in compilers of different architecture #7714 #7730",
          "Fix the snapshot ingestion error when encryption is enabled #7815",
          "Fix the Invalid cross-device link error when rewriting the configuration file #7817",
          "Fix the issue of wrong toml format when writing the configuration file to an empty file #7817",
          "Fix the issue that a destroyed peer in Raftstore can still process requests #7836",
          "PD\nFix the 404 issue that occurs when using the region key command in pd-ctl #2399\nFix the issue that the monitor metrics of TSO and ID allocation are missing from the Grafana dashboard #2405\nFix the issue that pd-recover is not included in the Docker image #2406\nParse the path of data directory to an absolute path to fix the issue that TiDB Dashboard might not correctly display PD information #2420\nFix the issue that there is no default output when using the scheduler config shuffle-region-scheduler command in pd-ctl #2416",
          "Fix the 404 issue that occurs when using the region key command in pd-ctl #2399",
          "Fix the issue that the monitor metrics of TSO and ID allocation are missing from the Grafana dashboard #2405",
          "Fix the issue that pd-recover is not included in the Docker image #2406",
          "Parse the path of data directory to an absolute path to fix the issue that TiDB Dashboard might not correctly display PD information #2420",
          "Fix the issue that there is no default output when using the scheduler config shuffle-region-scheduler command in pd-ctl #2416",
          "TiFlash\nFix the issue that the wrong information of used capacity is report in some scenarios",
          "Fix the issue that the wrong information of used capacity is report in some scenarios",
          "Tools\nTiDB Binlog\nFix the issue that data of the mediumint type is not processed when the downstream is Kafka #962\nFix the issue that the reparo fails to parse the DDL statement when the database name in DDL is a keyword #961\nTiCDC\nFix the issue of using the wrong time zone when the TZ environment variable is not set #512\nFix the issue that the owner does not clean up the resources when the server exits because some errors are not handled correctly #528\nFix the issue that TiCDC might be stuck when reconnecting to TiKV #531\nOptimize the memory usage when initializing the table schema #534\nUse the watch mode to monitor the replication status changes and perform quasi-real-time updates to reduce replication delay #481\nBackup & Restore (BR)\nFix the issue that inserting data might trigger the duplicate entry error after BR restores a table with the auto_random attribute #241",
          "TiDB Binlog\nFix the issue that data of the mediumint type is not processed when the downstream is Kafka #962\nFix the issue that the reparo fails to parse the DDL statement when the database name in DDL is a keyword #961",
          "Fix the issue that data of the mediumint type is not processed when the downstream is Kafka #962",
          "Fix the issue that the reparo fails to parse the DDL statement when the database name in DDL is a keyword #961",
          "TiCDC\nFix the issue of using the wrong time zone when the TZ environment variable is not set #512\nFix the issue that the owner does not clean up the resources when the server exits because some errors are not handled correctly #528\nFix the issue that TiCDC might be stuck when reconnecting to TiKV #531\nOptimize the memory usage when initializing the table schema #534\nUse the watch mode to monitor the replication status changes and perform quasi-real-time updates to reduce replication delay #481",
          "Fix the issue of using the wrong time zone when the TZ environment variable is not set #512",
          "Fix the issue that the owner does not clean up the resources when the server exits because some errors are not handled correctly #528",
          "Fix the issue that TiCDC might be stuck when reconnecting to TiKV #531",
          "Optimize the memory usage when initializing the table schema #534",
          "Use the watch mode to monitor the replication status changes and perform quasi-real-time updates to reduce replication delay #481",
          "Backup & Restore (BR)\nFix the issue that inserting data might trigger the duplicate entry error after BR restores a table with the auto_random attribute #241",
          "Fix the issue that inserting data might trigger the duplicate entry error after BR restores a table with the auto_random attribute #241"
        ]
      },
      {
        "version": "4.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.0-rc.1/",
        "changes": [
          "TiDB\nSupport sending Coprocessor requests to TiFlash in batches #16226\nEnable the Coprocessor cache feature by default #16710\nParse only the registered sections of a statement in the special comment of the SQL statement #16157\nSupport using the SHOW CONFIG syntax to show the configurations of PD and TiKV instances #16475",
          "Support sending Coprocessor requests to TiFlash in batches #16226",
          "Enable the Coprocessor cache feature by default #16710",
          "Parse only the registered sections of a statement in the special comment of the SQL statement #16157",
          "Support using the SHOW CONFIG syntax to show the configurations of PD and TiKV instances #16475",
          "TiKV\nSupport using the user-owned KMS key for the server-side encryption when backing up data to S3 #7630\nEnable the load-based split region operation #7623\nSupport validating common names #7468\nAdd the file lock check to avoid starting multiple TiKV instances that are bound to the same address #7447\nSupport AWS KMS in encryption at rest #7465",
          "Support using the user-owned KMS key for the server-side encryption when backing up data to S3 #7630",
          "Enable the load-based split region operation #7623",
          "Support validating common names #7468",
          "Add the file lock check to avoid starting multiple TiKV instances that are bound to the same address #7447",
          "Support AWS KMS in encryption at rest #7465",
          "Placement Driver (PD)\nRemove config manager to let other components control their component configurations #2349",
          "Remove config manager to let other components control their component configurations #2349",
          "TiFlash\nAdd the metrics report related to the read and write workloads of DeltaTree engine\nCache the handle and version columns to reduce the disk I/O of a single read or write request\nSupport pushing down the fromUnixTime and dateFormat functions\nEvaluate the global state according to the first disk and report this evaluation\nAdd the graphics in Grafana related to the read and write workloads of DeltaTree engine\nOptimize the decimal data encoding in the Chunk codec\nImplement the gRPC API of Diagnostics (SQL diagnosis) to support querying system tables such as INFORMATION_SCHEMA.CLUSTER_INFO",
          "Add the metrics report related to the read and write workloads of DeltaTree engine",
          "Cache the handle and version columns to reduce the disk I/O of a single read or write request",
          "Support pushing down the fromUnixTime and dateFormat functions",
          "Evaluate the global state according to the first disk and report this evaluation",
          "Add the graphics in Grafana related to the read and write workloads of DeltaTree engine",
          "Optimize the decimal data encoding in the Chunk codec",
          "Implement the gRPC API of Diagnostics (SQL diagnosis) to support querying system tables such as INFORMATION_SCHEMA.CLUSTER_INFO",
          "TiCDC\nSupport sending messages in batches in the Kafka sink module #426\nSupport file sorting in the processor #477\nSupport automatic resolve lock #459\nAdd the feature that automatically updates the TiCDC service GC safe point to PD #487\nAdd the timezone setting for data replication #498",
          "Support sending messages in batches in the Kafka sink module #426",
          "Support file sorting in the processor #477",
          "Support automatic resolve lock #459",
          "Add the feature that automatically updates the TiCDC service GC safe point to PD #487",
          "Add the timezone setting for data replication #498",
          "Backup and Restore (BR)\nSupport configuring S3/GCS in the storage URL #246",
          "Support configuring S3/GCS in the storage URL #246",
          "TiDB\nFix the issue that the INSERT ... ON DUPLICATE UPDATE statement might be incorrectly executed on multiple rows in an explicit transaction because MemBuffer is not checked #16689\nFix the data inconsistency when locking duplicated keys on multiple rows #16769\nFix the panic that occurs when recycling the non-superbatch idle connection between TiDB instances #16303",
          "Fix the issue that the INSERT ... ON DUPLICATE UPDATE statement might be incorrectly executed on multiple rows in an explicit transaction because MemBuffer is not checked #16689",
          "Fix the data inconsistency when locking duplicated keys on multiple rows #16769",
          "Fix the panic that occurs when recycling the non-superbatch idle connection between TiDB instances #16303",
          "TiKV\nFix the deadlock issue caused by the probe request from TiDB #7540\nFix the issue that the minimum commit timestamp of a transaction might overflow which affects data correctness #7638",
          "Fix the deadlock issue caused by the probe request from TiDB #7540",
          "Fix the issue that the minimum commit timestamp of a transaction might overflow which affects data correctness #7638",
          "TiFlash\nFix the data loss issue caused by the rename table operation when multiple data paths are configured\nFix the issue that an error occurs when reading data from a merged Region\nFix the issue that an error occurs when reading data from a Region that is in the abnormal state\nModify the mapping of table names in TiFlash to correctly support recover table/flashback table\nModify the storage path to fix the potential data loss issue that occurs when renaming the table\nFix the potential panic of TiDB when Super Batch is enabled\nModify the read mode in the online update scenario to improve the read performance",
          "Fix the data loss issue caused by the rename table operation when multiple data paths are configured",
          "Fix the issue that an error occurs when reading data from a merged Region",
          "Fix the issue that an error occurs when reading data from a Region that is in the abnormal state",
          "Modify the mapping of table names in TiFlash to correctly support recover table/flashback table",
          "Modify the storage path to fix the potential data loss issue that occurs when renaming the table",
          "Fix the potential panic of TiDB when Super Batch is enabled",
          "Modify the read mode in the online update scenario to improve the read performance",
          "TiCDC\nFix the replication failure that occurs because the schema internally maintained in TiCDC fails to correctly handle the timing issue of read and write operations #438 #450 #478 #496\nFix the bug that the TiKV client fails to correctly maintain the internal resources when encountering some TiKV anomalies #499 #492\nFix the bug that meta data is not correctly cleaned up and abnormally remains in the TiCDC nodes #488 #504\nFix the issue that the TiKV client fails to correctly handle the repeated sending of the prewrite event #446\nFix the issue that the TiKV client fails to correctly handle the redundant prewrite events received before the initialization #448",
          "Fix the replication failure that occurs because the schema internally maintained in TiCDC fails to correctly handle the timing issue of read and write operations #438 #450 #478 #496",
          "Fix the bug that the TiKV client fails to correctly maintain the internal resources when encountering some TiKV anomalies #499 #492",
          "Fix the bug that meta data is not correctly cleaned up and abnormally remains in the TiCDC nodes #488 #504",
          "Fix the issue that the TiKV client fails to correctly handle the repeated sending of the prewrite event #446",
          "Fix the issue that the TiKV client fails to correctly handle the redundant prewrite events received before the initialization #448",
          "Backup & Restore (BR)\nFix the issue that checksum is still executed when checksum is disabled #223\nFix the incremental replication failure when auto-random or alter-pk is enabled in TiDB #230 #231",
          "Fix the issue that checksum is still executed when checksum is disabled #223",
          "Fix the incremental replication failure when auto-random or alter-pk is enabled in TiDB #230 #231",
          "TiDB"
        ]
      },
      {
        "version": "4.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.0-rc/",
        "changes": [
          "TiDB\nAdd the case-insensitive collation so that users can enable utf8mb4_general_ci and utf8_general_ci in a new cluster #33\nEnhance the RECOVER TABLE syntax to support recovering truncated tables #15398\nRefuse to get started instead of returning an alert log when the tidb-server status port is occupied #15177\nOptimize the write performance of using a sequence as the default column values #15216\nAdd the DDLJobs system table to query the details of DDL jobs #14837\nOptimize the aggFuncSum performance #14887\nOptimize the output of EXPLAIN #15507",
          "Add the case-insensitive collation so that users can enable utf8mb4_general_ci and utf8_general_ci in a new cluster #33",
          "Enhance the RECOVER TABLE syntax to support recovering truncated tables #15398",
          "Refuse to get started instead of returning an alert log when the tidb-server status port is occupied #15177",
          "Optimize the write performance of using a sequence as the default column values #15216",
          "Add the DDLJobs system table to query the details of DDL jobs #14837",
          "Optimize the aggFuncSum performance #14887",
          "Optimize the output of EXPLAIN #15507",
          "TiKV\nSupport the pipelined feature in pessimistic transactions, which improves the TPC-C performance by 20%. The risk is that the transaction commit might fail because of lock failure during the execution #6984\nSupport TLS in the HTTP port #5393\nEnable the unify-read-pool configuration item in new clusters by default and use the previous setting of this item in old clusters #7059",
          "Support the pipelined feature in pessimistic transactions, which improves the TPC-C performance by 20%. The risk is that the transaction commit might fail because of lock failure during the execution #6984",
          "Support TLS in the HTTP port #5393",
          "Enable the unify-read-pool configuration item in new clusters by default and use the previous setting of this item in old clusters #7059",
          "PD\nSupport getting the default PD configuration information through the HTTP API #2258",
          "Support getting the default PD configuration information through the HTTP API #2258",
          "Tools\nTiDB Binlog\nAdd the configuration item for verifying Common Name #934\nTiDB Lightning\nOptimize the performance of TiDB Lightning #281 #275",
          "TiDB Binlog\nAdd the configuration item for verifying Common Name #934",
          "Add the configuration item for verifying Common Name #934",
          "TiDB Lightning\nOptimize the performance of TiDB Lightning #281 #275",
          "Optimize the performance of TiDB Lightning #281 #275",
          "TiDB\nFix the issue that replication between the upstream and downstream might go wrong when the DDL job is executed using the PREPARE statement because of the incorrect job query in the internal records #15435\nFix the issue of incorrect subquery result in the Read Committed isolation level #15471\nFix the issue of incorrect results caused by the Inline Projection optimization #15411\nFix the issue that the SQL Hint INL_MERGE_JOIN is executed incorrectly in some cases #15515\nFix the issue that columns with the AutoRandom attribute are rebased when the negative number is explicitly written to these columns #15397",
          "Fix the issue that replication between the upstream and downstream might go wrong when the DDL job is executed using the PREPARE statement because of the incorrect job query in the internal records #15435",
          "Fix the issue of incorrect subquery result in the Read Committed isolation level #15471",
          "Fix the issue of incorrect results caused by the Inline Projection optimization #15411",
          "Fix the issue that the SQL Hint INL_MERGE_JOIN is executed incorrectly in some cases #15515",
          "Fix the issue that columns with the AutoRandom attribute are rebased when the negative number is explicitly written to these columns #15397",
          "TiDB\nFix the issue that replication between the upstream and downstream might go wrong when the DDL job is executed using the PREPARE statement because of the incorrect job query in the internal records #15435\nFix the issue of incorrect subquery result in the Read Committed isolation level #15471\nFix the issue of possible wrong behavior when using INSERT ... VALUES to specify the BIT(N) data type #15350\nFix the issue that the DDL Job internal retry does not fully achieve the expected outcomes because the values of ErrorCount fail to be summed correctly #15373\nFix the issue that Garbage Collection might work abnormally when TiDB connects to TiFlash #15505\nFix the issue of incorrect result caused by the Inline Projection optimization #15411\nFix the issue that the SQL Hint INL_MERGE_JOIN is executed incorrectly in some cases #15515\nFix the issue that columns with the AutoRandom attribute are rebased when the negative number is explicitly written to these columns #15397",
          "Fix the issue that replication between the upstream and downstream might go wrong when the DDL job is executed using the PREPARE statement because of the incorrect job query in the internal records #15435",
          "Fix the issue of incorrect subquery result in the Read Committed isolation level #15471",
          "Fix the issue of possible wrong behavior when using INSERT ... VALUES to specify the BIT(N) data type #15350",
          "Fix the issue that the DDL Job internal retry does not fully achieve the expected outcomes because the values of ErrorCount fail to be summed correctly #15373",
          "Fix the issue that Garbage Collection might work abnormally when TiDB connects to TiFlash #15505",
          "Fix the issue of incorrect result caused by the Inline Projection optimization #15411",
          "Fix the issue that the SQL Hint INL_MERGE_JOIN is executed incorrectly in some cases #15515",
          "Fix the issue that columns with the AutoRandom attribute are rebased when the negative number is explicitly written to these columns #15397",
          "TiKV\nFix the possible panic caused by transferring the leader when the Follower Read feature is enabled #7101",
          "Fix the possible panic caused by transferring the leader when the Follower Read feature is enabled #7101",
          "Tools\nTiDB Lightning\nFix the issue of data error caused by the error of character conversion when the backend is TiDB #283\nTiCDC\nFix the issue that an error is returned if the test schema does not exist in the downstream when MySQL sink is executing the DDL statement #353\nSupport the real-time interactive mode in CDC cli #351\nSupport checking whether the table in the upstream can be replicated during data replication #368\nSupport asynchronous write to Kafka #344",
          "TiDB Lightning\nFix the issue of data error caused by the error of character conversion when the backend is TiDB #283",
          "Fix the issue of data error caused by the error of character conversion when the backend is TiDB #283",
          "TiCDC\nFix the issue that an error is returned if the test schema does not exist in the downstream when MySQL sink is executing the DDL statement #353\nSupport the real-time interactive mode in CDC cli #351\nSupport checking whether the table in the upstream can be replicated during data replication #368\nSupport asynchronous write to Kafka #344",
          "Fix the issue that an error is returned if the test schema does not exist in the downstream when MySQL sink is executing the DDL statement #353",
          "Support the real-time interactive mode in CDC cli #351",
          "Support checking whether the table in the upstream can be replicated during data replication #368",
          "Support asynchronous write to Kafka #344"
        ]
      },
      {
        "version": "4.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.0-beta.2/",
        "changes": [
          "TiKV\nSupport persisting the dynamically updated configuration into the hardware disk #6684",
          "Support persisting the dynamically updated configuration into the hardware disk #6684",
          "PD\nSupport persisting the dynamically updated configuration into the hardware disk #2153",
          "Support persisting the dynamically updated configuration into the hardware disk #2153",
          "Tools\nTiDB Binlog\nSupport the bidirectional data replication between TiDB clusters #879 #903\nTiDB Lightning\nSupport the TLS configuration #40 #270\nTiCDC\nInitial release of the change data capture (CDC), providing the following features:\nSupport capturing changed data from TiKV\nSupport replicating the changed data from TiKV to MySQL compatible databases, and guarantee the eventual data consistency\nSupport replicating the changed data to Kafka, and guarantee either the eventual data consistency or the row-level orderliness\nProvide process-level high availability\nBackup & Restore (BR)\nEnable experimental features such as incremental backup and backing up files to Amazon S3 #175",
          "TiDB Binlog\nSupport the bidirectional data replication between TiDB clusters #879 #903",
          "Support the bidirectional data replication between TiDB clusters #879 #903",
          "TiDB Lightning\nSupport the TLS configuration #40 #270",
          "Support the TLS configuration #40 #270",
          "TiCDC\nInitial release of the change data capture (CDC), providing the following features:\nSupport capturing changed data from TiKV\nSupport replicating the changed data from TiKV to MySQL compatible databases, and guarantee the eventual data consistency\nSupport replicating the changed data to Kafka, and guarantee either the eventual data consistency or the row-level orderliness\nProvide process-level high availability",
          "Initial release of the change data capture (CDC), providing the following features:\nSupport capturing changed data from TiKV\nSupport replicating the changed data from TiKV to MySQL compatible databases, and guarantee the eventual data consistency\nSupport replicating the changed data to Kafka, and guarantee either the eventual data consistency or the row-level orderliness\nProvide process-level high availability",
          "Support capturing changed data from TiKV",
          "Support replicating the changed data from TiKV to MySQL compatible databases, and guarantee the eventual data consistency",
          "Support replicating the changed data to Kafka, and guarantee either the eventual data consistency or the row-level orderliness",
          "Provide process-level high availability",
          "Backup & Restore (BR)\nEnable experimental features such as incremental backup and backing up files to Amazon S3 #175",
          "Enable experimental features such as incremental backup and backing up files to Amazon S3 #175",
          "TiDB Ansible\nSupport injecting the node information to etcd #1196\nSupport deploying TiDB services on the ARM platform #1204",
          "Support injecting the node information to etcd #1196",
          "Support deploying TiDB services on the ARM platform #1204",
          "TiKV\nFix the panic issue that might occur when meeting empty short values during the backup #6718\nFix the issue that Hibernate Regions might not be correctly awakened in some cases #6772 #6648 #6376",
          "Fix the panic issue that might occur when meeting empty short values during the backup #6718",
          "Fix the issue that Hibernate Regions might not be correctly awakened in some cases #6772 #6648 #6376",
          "PD\nFix the panic issue that the rule checker fails to allocate stores to Regions #2160\nFix the issue that after the dynamic configuration is enabled, the configuration might have replication delay when the Leader is being switched #2154",
          "Fix the panic issue that the rule checker fails to allocate stores to Regions #2160",
          "Fix the issue that after the dynamic configuration is enabled, the configuration might have replication delay when the Leader is being switched #2154",
          "Tools\nBackup & Restore (BR)\nFix the issue that BR might fail to restore data of a large size because PD cannot process large-sized data #167\nFix the BR failure occurred because the BR version is not compatible with the TiDB version #186\nFix the BR failure occurred because the BR version is not compatible with TiFlash #194",
          "Backup & Restore (BR)\nFix the issue that BR might fail to restore data of a large size because PD cannot process large-sized data #167\nFix the BR failure occurred because the BR version is not compatible with the TiDB version #186\nFix the BR failure occurred because the BR version is not compatible with TiFlash #194",
          "Fix the issue that BR might fail to restore data of a large size because PD cannot process large-sized data #167",
          "Fix the BR failure occurred because the BR version is not compatible with the TiDB version #186",
          "Fix the BR failure occurred because the BR version is not compatible with TiFlash #194"
        ]
      },
      {
        "version": "4.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.0-beta.1/",
        "changes": [
          "TiDB\nSupport querying slow logs of any time in the SLOW_QUERY / CLUSTER_SLOW_QUERY system table #14840 #14878\nSupport SQL performance diagnosis\n#14843 #14810 #14835 #14801 #14743\n#14718 #14721 #14670 #14663 #14668\n#14896\nSupport the Sequence function #14731 #14589 #14674 #14442 #14303 #14830\nSupport dynamically modifying or updating configuration items read from PD #14750 #14303 #14830\nAdd a feature of automatically reading data from different roles according to the load balancing policy and add the leader-and-follower system variable to enable this feature #14761\nAdd the Coercibility function #14739\nSupport setting TiFlash replicas in the partitioned table #14735 #14713 #14644\nImprove the privilege check for the SLOW_QUERY table #14451\nSupport automatically write the intermediate results to the disk file if the memory is insufficient when using a SQL join #14708 #14279\nSupport checking table partitions by querying the information_schema.PARTITIONS system table #14347\nAdd the json_objectagg aggregate function #11154\nSupport logging rejected connection attempts in the audit log #14594\nAdd the max-server-connections configuration item (4096 by default) to control the number of connections to a single server #14409\nSupport the isolation read specifying multiple storage engines at the server level #14440\nOptimize the cost model of the Apply operator and the Sort operator to improve stability #13550 #14708",
          "Support querying slow logs of any time in the SLOW_QUERY / CLUSTER_SLOW_QUERY system table #14840 #14878",
          "Support SQL performance diagnosis\n#14843 #14810 #14835 #14801 #14743\n#14718 #14721 #14670 #14663 #14668\n#14896",
          "#14843 #14810 #14835 #14801 #14743",
          "#14718 #14721 #14670 #14663 #14668",
          "#14896",
          "Support the Sequence function #14731 #14589 #14674 #14442 #14303 #14830",
          "Support dynamically modifying or updating configuration items read from PD #14750 #14303 #14830",
          "Add a feature of automatically reading data from different roles according to the load balancing policy and add the leader-and-follower system variable to enable this feature #14761",
          "Add the Coercibility function #14739",
          "Support setting TiFlash replicas in the partitioned table #14735 #14713 #14644",
          "Improve the privilege check for the SLOW_QUERY table #14451",
          "Support automatically write the intermediate results to the disk file if the memory is insufficient when using a SQL join #14708 #14279",
          "Support checking table partitions by querying the information_schema.PARTITIONS system table #14347",
          "Add the json_objectagg aggregate function #11154",
          "Support logging rejected connection attempts in the audit log #14594",
          "Add the max-server-connections configuration item (4096 by default) to control the number of connections to a single server #14409",
          "Support the isolation read specifying multiple storage engines at the server level #14440",
          "Optimize the cost model of the Apply operator and the Sort operator to improve stability #13550 #14708",
          "TiKV\nSupport fetching configuration items from the status port via HTTP API #6480\nOptimize the performance of Chunk Encoder in Coprocessor #6341",
          "Support fetching configuration items from the status port via HTTP API #6480",
          "Optimize the performance of Chunk Encoder in Coprocessor #6341",
          "PD\nSupport accessing to the distribution of hotspots in the cluster through Dashboard UI #2086\nSupport capturing and displaying START_TIME and UPTIME of cluster components #2116\nAdd the information of deployment path and component version in the returned message of the member API #2130\nAdd the component sub-command in pd-ctl to modify and check the configuration of other components (experimental) #2092",
          "Support accessing to the distribution of hotspots in the cluster through Dashboard UI #2086",
          "Support capturing and displaying START_TIME and UPTIME of cluster components #2116",
          "Add the information of deployment path and component version in the returned message of the member API #2130",
          "Add the component sub-command in pd-ctl to modify and check the configuration of other components (experimental) #2092",
          "TiDB Binlog\nSupport TLS between the components #904 #894\nAdd the kafka-client-id configuration item in Drainer to configure Kafka's client ID #902\nSupport purging the incremental backup data in Drainer #885",
          "Support TLS between the components #904 #894",
          "Add the kafka-client-id configuration item in Drainer to configure Kafka's client ID #902",
          "Support purging the incremental backup data in Drainer #885",
          "TiDB Ansible\nSupport deploying multiple Grafana/Prometheus/Alertmanagers in one cluster #1142\nAdd the metric_port configuration item (8234 by default) in TiFlash's configuration file #1145\nAdd the flash_proxy_status_port configuration item (20292 by default) in TiFlash's configuration file #1141\nAdd the TiFlash monitoring dashboard #1147 #1151",
          "Support deploying multiple Grafana/Prometheus/Alertmanagers in one cluster #1142",
          "Add the metric_port configuration item (8234 by default) in TiFlash's configuration file #1145",
          "Add the flash_proxy_status_port configuration item (20292 by default) in TiFlash's configuration file #1141",
          "Add the TiFlash monitoring dashboard #1147 #1151",
          "TiDB\nFix the issue that an error is reported when creating view with a column name that exceeds 64 characters #14850\nFix the issue that duplicate data exists in information_schema.views because the create or replace view statement is incorrectly processed #14832\nFix the incorrect results of BatchPointGet when plan cache is enabled #14855\nFix the issue that data is inserted into the wrong partitioned table after the timezone is modified #14370\nFix the panic occurred when rebuilding expression using the invalid name of the IsTrue function during the outer join simplification #14515\nFix the incorrect privilege check for theshow binding statement #14443",
          "Fix the issue that an error is reported when creating view with a column name that exceeds 64 characters #14850",
          "Fix the issue that duplicate data exists in information_schema.views because the create or replace view statement is incorrectly processed #14832",
          "Fix the incorrect results of BatchPointGet when plan cache is enabled #14855",
          "Fix the issue that data is inserted into the wrong partitioned table after the timezone is modified #14370",
          "Fix the panic occurred when rebuilding expression using the invalid name of the IsTrue function during the outer join simplification #14515",
          "Fix the incorrect privilege check for theshow binding statement #14443",
          "TiKV\nFix the inconsistent behaviors of the CAST function in TiDB and TiKV #6463 #6461 #6459 #6474 #6492 #6569",
          "Fix the inconsistent behaviors of the CAST function in TiDB and TiKV #6463 #6461 #6459 #6474 #6492 #6569",
          "TiDB Lightning\nFix the bug that the web interface does not work outside the Server mode #259",
          "Fix the bug that the web interface does not work outside the Server mode #259"
        ]
      },
      {
        "version": "4.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-4.0.0-beta/",
        "changes": []
      }
    ]
  },
  {
    "major_version": "3.1",
    "patches": [
      {
        "version": "3.1.2",
        "date": "2020-06-04",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.1.2/",
        "changes": [
          "TiKV\nFix the error handling issue during backup and restoration with S3 and GCS #7965\nFix the DefaultNotFound error that occurs during restoration #7838",
          "Fix the error handling issue during backup and restoration with S3 and GCS #7965",
          "Fix the DefaultNotFound error that occurs during restoration #7838",
          "Tools\nBackup & Restore (BR)\nRetry automatically when the network is poor to improve stability with S3 and GCS storages #314 #7965\nFix a restoration failure that occurs because the Region leader cannot be found when restoring small tables #303\nFix a data loss issue during restoration when a table's row ID exceeds 2^(63) #323\nFix the issue that empty databases and tables cannot be restored #318\nSupport using AWS KMS for server-side encryption (SSE) when targeting the S3 storage #261",
          "Backup & Restore (BR)\nRetry automatically when the network is poor to improve stability with S3 and GCS storages #314 #7965\nFix a restoration failure that occurs because the Region leader cannot be found when restoring small tables #303\nFix a data loss issue during restoration when a table's row ID exceeds 2^(63) #323\nFix the issue that empty databases and tables cannot be restored #318\nSupport using AWS KMS for server-side encryption (SSE) when targeting the S3 storage #261",
          "Retry automatically when the network is poor to improve stability with S3 and GCS storages #314 #7965",
          "Fix a restoration failure that occurs because the Region leader cannot be found when restoring small tables #303",
          "Fix a data loss issue during restoration when a table's row ID exceeds 2^(63) #323",
          "Fix the issue that empty databases and tables cannot be restored #318",
          "Support using AWS KMS for server-side encryption (SSE) when targeting the S3 storage #261"
        ]
      },
      {
        "version": "3.1.1",
        "date": "2020-04-30",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.1.1/",
        "changes": [
          "TiDB\nAdd the table option for auto_rand_base #16812\nAdd the Feature ID comment: In the special comments of SQL statements, only the registered statement fragment can be parsed by the parser; otherwise, the statement is ignored #16155",
          "Add the table option for auto_rand_base #16812",
          "Add the Feature ID comment: In the special comments of SQL statements, only the registered statement fragment can be parsed by the parser; otherwise, the statement is ignored #16155",
          "TiFlash\nCache the handle and version columns to reduce the disk I/O for a single read request\nAdd in Grafana the graphics related to the read and write workloads of DeltaTree engine\nOptimize the decimal data encoding in the Chunk codec\nReduce the number of open file descriptors when TiFlash is in low workload",
          "Cache the handle and version columns to reduce the disk I/O for a single read request",
          "Add in Grafana the graphics related to the read and write workloads of DeltaTree engine",
          "Optimize the decimal data encoding in the Chunk codec",
          "Reduce the number of open file descriptors when TiFlash is in low workload",
          "TiDB\nFix the issue that the isolation read setting at the instance level does not take effect, and that the isolation read setting is incorrectly retained after TiDB is upgraded #16482 #16802\nFix the partition selection syntax on the hash partitioned table so that an error is not reported for syntaxes such as partition (P0) #16076\nFix the issue that when an UPDATE SQL statement only queries from a view but does not update the view, the update statement still reports an error #16789\nFix the issue of wrong results caused by removing the not not from the nested query #16423",
          "Fix the issue that the isolation read setting at the instance level does not take effect, and that the isolation read setting is incorrectly retained after TiDB is upgraded #16482 #16802",
          "Fix the partition selection syntax on the hash partitioned table so that an error is not reported for syntaxes such as partition (P0) #16076",
          "Fix the issue that when an UPDATE SQL statement only queries from a view but does not update the view, the update statement still reports an error #16789",
          "Fix the issue of wrong results caused by removing the not not from the nested query #16423",
          "TiFlash\nFix the issue that an error occurs when reading data from a Region that is in the abnormal state\nModify the mapping of table names in TiFlash to correctly support recover table/flashback table\nModify the storage path to fix the potential data loss issue that occurs when renaming a table\nModify the read mode in the online update scenario to improve the read performance\nFix the issue that TiFlash fails to start normally after upgrade if the database/table name contains special characters",
          "Fix the issue that an error occurs when reading data from a Region that is in the abnormal state",
          "Modify the mapping of table names in TiFlash to correctly support recover table/flashback table",
          "Modify the storage path to fix the potential data loss issue that occurs when renaming a table",
          "Modify the read mode in the online update scenario to improve the read performance",
          "Fix the issue that TiFlash fails to start normally after upgrade if the database/table name contains special characters",
          "Tools\nBackup & Restore (BR)\nFix the issue that after BR restores a table with the auto_random attribute, inserting data might trigger the duplicate entry error #241",
          "Backup & Restore (BR)\nFix the issue that after BR restores a table with the auto_random attribute, inserting data might trigger the duplicate entry error #241",
          "Fix the issue that after BR restores a table with the auto_random attribute, inserting data might trigger the duplicate entry error #241"
        ]
      },
      {
        "version": "3.1.0",
        "date": "2020-04-16",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.1.0-ga/",
        "changes": [
          "TiDB\nSupport displaying the information of Coprocessor tasks in explain format = \"dot\" #16125\nReduce the redundant stack information of log using the disable-error-stack configuration item #16182",
          "Support displaying the information of Coprocessor tasks in explain format = \"dot\" #16125",
          "Reduce the redundant stack information of log using the disable-error-stack configuration item #16182",
          "Placement Driver (PD)\nOptimize the hot Region scheduling #2342",
          "Optimize the hot Region scheduling #2342",
          "TiFlash\nAdd the metrics report related to the read and write workloads of DeltaTree engine\nSupport pushing down the fromUnixTime and dateFormat functions\nDisable the rough set filter by default",
          "Add the metrics report related to the read and write workloads of DeltaTree engine",
          "Support pushing down the fromUnixTime and dateFormat functions",
          "Disable the rough set filter by default",
          "TiDB Ansible\nAdd TiFlash monitor #1253 #1257\nOptimize the configuration parameters of TiFlash #1262 #1265 #1271\nOptimize the TiDB starting script #1268",
          "Add TiFlash monitor #1253 #1257",
          "Optimize the configuration parameters of TiFlash #1262 #1265 #1271",
          "Optimize the TiDB starting script #1268",
          "TiDB\nFix the panic issue caused by the merge join operation in some scenarios #15920\nFix the issue that some expressions are repeatedly counted in selectivity calculation #16052\nFix the panic issue occurred when loading the statistics information in extreme cases #15710\nFix the issue that an error is returned in some cases when equivalent expressions cannot be recognized in SQL query #16015\nFix the issue that an error is returned when querying the view of one database from another database #15867\nFix the panic issue that occurs when the column is handled using fast analyze #16080\nFix the incorrect character set of the current_role print result #16084\nRefine the log of MySQL connection handshake error #15799\nFix the panic issue caused by port probing after the audit plugin is loaded #16065\nFix the panic issue of the sort operator on left join because the TypeNull class is mistaken as a variable-length type #15739\nFix the issue of inaccurate count of monitoring session retry errors #16120\nFix the issue of wrong results of weekday in the ALLOW_INVALID_DATES mode #16171\nFix the issue that Garbage Collection (GC) might not work normally when the cluster has TiFlash nodes #15761\nFix the issue that TiDB goes out of memory (OOM) when users set a large partition count when creating the hash partitioned table #16219\nFix the issue that warnings are mistaken as errors, and make the UNION statement have the same behavior as the SELECT statement #16138\nFix the execution error when TopN is pushed down to mocktikv #16200\nIncrease the initial length of chunk.column.nullBitMap to avoid unnecessary overhead of runtime.growslice #16142",
          "Fix the panic issue caused by the merge join operation in some scenarios #15920",
          "Fix the issue that some expressions are repeatedly counted in selectivity calculation #16052",
          "Fix the panic issue occurred when loading the statistics information in extreme cases #15710",
          "Fix the issue that an error is returned in some cases when equivalent expressions cannot be recognized in SQL query #16015",
          "Fix the issue that an error is returned when querying the view of one database from another database #15867",
          "Fix the panic issue that occurs when the column is handled using fast analyze #16080",
          "Fix the incorrect character set of the current_role print result #16084",
          "Refine the log of MySQL connection handshake error #15799",
          "Fix the panic issue caused by port probing after the audit plugin is loaded #16065",
          "Fix the panic issue of the sort operator on left join because the TypeNull class is mistaken as a variable-length type #15739",
          "Fix the issue of inaccurate count of monitoring session retry errors #16120",
          "Fix the issue of wrong results of weekday in the ALLOW_INVALID_DATES mode #16171",
          "Fix the issue that Garbage Collection (GC) might not work normally when the cluster has TiFlash nodes #15761",
          "Fix the issue that TiDB goes out of memory (OOM) when users set a large partition count when creating the hash partitioned table #16219",
          "Fix the issue that warnings are mistaken as errors, and make the UNION statement have the same behavior as the SELECT statement #16138",
          "Fix the execution error when TopN is pushed down to mocktikv #16200",
          "Increase the initial length of chunk.column.nullBitMap to avoid unnecessary overhead of runtime.growslice #16142",
          "TiKV\nFix the panic issue caused by replica read #7418 #7369\nFix the issue that the restoration process creates empty Regions #7419\nFix the issue that repeated resolve lock requests might harm the atomicity of pessimistic transactions #7389",
          "Fix the panic issue caused by replica read #7418 #7369",
          "Fix the issue that the restoration process creates empty Regions #7419",
          "Fix the issue that repeated resolve lock requests might harm the atomicity of pessimistic transactions #7389",
          "TiFlash\nFix the potential issue of the rename table operation when replicating the schema from TiDB\nFix the issue of data loss caused by the rename table operation under multiple data path configurations\nFix the issue that TiFlash reports incorrect storage space in some scenarios\nFix the potential issue caused by reading from TiFlash when Region Merge is enabled",
          "Fix the potential issue of the rename table operation when replicating the schema from TiDB",
          "Fix the issue of data loss caused by the rename table operation under multiple data path configurations",
          "Fix the issue that TiFlash reports incorrect storage space in some scenarios",
          "Fix the potential issue caused by reading from TiFlash when Region Merge is enabled",
          "Tools\nTiDB Binlog\nFix the issue that TiFlash-related DDL jobs might interrupt the replication of Drainer #948 #942\nBackup & Restore (BR)\nFix the issue that the checksum operation is still executed when it is disabled #223\nFix the issue that incremental backup fails when TiDB enables auto-random or alter-pk #230 #231",
          "TiDB Binlog\nFix the issue that TiFlash-related DDL jobs might interrupt the replication of Drainer #948 #942",
          "Fix the issue that TiFlash-related DDL jobs might interrupt the replication of Drainer #948 #942",
          "Backup & Restore (BR)\nFix the issue that the checksum operation is still executed when it is disabled #223\nFix the issue that incremental backup fails when TiDB enables auto-random or alter-pk #230 #231",
          "Fix the issue that the checksum operation is still executed when it is disabled #223",
          "Fix the issue that incremental backup fails when TiDB enables auto-random or alter-pk #230 #231"
        ]
      },
      {
        "version": "3.1.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.1.0-rc/",
        "changes": [
          "TiDB\nUse the binary search to re-implement partition pruning for better performance #15678\nSupport using the RECOVER syntax to recover the truncated table #15460\nAdd the AUTO_RANDOM ID cache for retrying statements and recovering tables #15393\nSupport restoring the state of the AUTO_RANDOM ID allocator using the recover table statement #15393\nSupport YEAR, MONTH, and TO_DAY functions as the partitioning keys of the Hash partitioned table #15619\nAdd the table ID to the schema-change related tables only when keys need to be locked in the SELECT... FOR UPDATE statement #15708\nAdd the feature of automatically reading data from different roles according to the load balancing policy and add the leader-and-follower system variable to enable this feature #15721\nSupport dynamically updating the TLS certificate every time TiDB establishes a new connection to update expired client certificate without restarting the RPC client side #15163\nUpgrade PD Client to support loading the latest certificate every time TiDB establishes a new connection #15425\nForcibly use the HTTPS protocol with the configured TLS certificates between a TiDB server and a PD server, or between two TiDB servers when cluster-ssl-* is configured #15430\nAdd the MySQL-compatible --require-secure-transport startup option to force the client to enable TLS authentication during the configuration #15442\nAdd the cluster-verify-cn configuration item. After configuration, the status service can only be used when with the corresponding CN certificate #15137",
          "Use the binary search to re-implement partition pruning for better performance #15678",
          "Support using the RECOVER syntax to recover the truncated table #15460",
          "Add the AUTO_RANDOM ID cache for retrying statements and recovering tables #15393",
          "Support restoring the state of the AUTO_RANDOM ID allocator using the recover table statement #15393",
          "Support YEAR, MONTH, and TO_DAY functions as the partitioning keys of the Hash partitioned table #15619",
          "Add the table ID to the schema-change related tables only when keys need to be locked in the SELECT... FOR UPDATE statement #15708",
          "Add the feature of automatically reading data from different roles according to the load balancing policy and add the leader-and-follower system variable to enable this feature #15721",
          "Support dynamically updating the TLS certificate every time TiDB establishes a new connection to update expired client certificate without restarting the RPC client side #15163",
          "Upgrade PD Client to support loading the latest certificate every time TiDB establishes a new connection #15425",
          "Forcibly use the HTTPS protocol with the configured TLS certificates between a TiDB server and a PD server, or between two TiDB servers when cluster-ssl-* is configured #15430",
          "Add the MySQL-compatible --require-secure-transport startup option to force the client to enable TLS authentication during the configuration #15442",
          "Add the cluster-verify-cn configuration item. After configuration, the status service can only be used when with the corresponding CN certificate #15137",
          "TiKV\nSupport backing up data with the Raw KV API #7051\nSupport TLS authentication for the status server #7142\nSupport TLS authentication for the KV server #7305\nOptimize the time to hold locks to improve the performance of backup #7202",
          "Support backing up data with the Raw KV API #7051",
          "Support TLS authentication for the status server #7142",
          "Support TLS authentication for the KV server #7305",
          "Optimize the time to hold locks to improve the performance of backup #7202",
          "PD\nSupport scheduling learner using shuffle-region-scheduler #2235\nAdd commands in pd-ctl to configure Placement Rules #2306",
          "Support scheduling learner using shuffle-region-scheduler #2235",
          "Add commands in pd-ctl to configure Placement Rules #2306",
          "Tools\nTiDB Binlog\nSupport TLS authentication between the components #931 #937 #939\nAdd the kafka-client-id configuration item in Drainer to configure Kafka's client ID #929\nTiDB Lightning\nOptimize the performance of TiDB Lightning #281 #275\nSupport TLS authentication for TiDB Lightning #270\nBackup & Restore (BR)\nOptimize the log output #189",
          "TiDB Binlog\nSupport TLS authentication between the components #931 #937 #939\nAdd the kafka-client-id configuration item in Drainer to configure Kafka's client ID #929",
          "Support TLS authentication between the components #931 #937 #939",
          "Add the kafka-client-id configuration item in Drainer to configure Kafka's client ID #929",
          "TiDB Lightning\nOptimize the performance of TiDB Lightning #281 #275\nSupport TLS authentication for TiDB Lightning #270",
          "Optimize the performance of TiDB Lightning #281 #275",
          "Support TLS authentication for TiDB Lightning #270",
          "Backup & Restore (BR)\nOptimize the log output #189",
          "Optimize the log output #189",
          "TiDB Ansible\nOptimize the way the TiFlash data directories are created #1242\nAdd the Write Amplification monitoring item in TiFlash #1234\nOptimize the error message of failed preflight checks when CPU epollexclusive is unavailable #1243",
          "Optimize the way the TiFlash data directories are created #1242",
          "Add the Write Amplification monitoring item in TiFlash #1234",
          "Optimize the error message of failed preflight checks when CPU epollexclusive is unavailable #1243",
          "TiDB\nFix the information schema error caused by frequently updating the TiFlash replica #14884\nFix the issue that last_insert_id is incorrectly generated when applying AUTO_RANDOM #15149\nFix the issue that updating the status of TiFlash replica might cause the DDL operation to get stuck #15161\nForbid Aggregation pushdown and TopN pushdown when there are predicates that cannot be pushed down #15141\nForbid the nested view creation #15440\nFix the error occurred when executing SELECT CURRENT_ROLE() after SET ROLE ALL #15570\nFix the failure to identify the view name when executing the select view_name.col_name from view_name statement #15573\nFix the issue that an error might occur when pre-processing DDL statements during the write of binlog information #15444\nFix the panic occurred when accessing both views and partitioned tables #15560\nFix the error occurred when executing the VALUES function with the update duplicate key statement that contains the bit(n) data type #15487\nFix the issue that the specified maximum execution time fails to take effect in some scenarios #15616\nFix the issue that whether the current ReadEngine contains TiKV server is not checked when generating the execution plan using Index Scan #15773",
          "Fix the information schema error caused by frequently updating the TiFlash replica #14884",
          "Fix the issue that last_insert_id is incorrectly generated when applying AUTO_RANDOM #15149",
          "Fix the issue that updating the status of TiFlash replica might cause the DDL operation to get stuck #15161",
          "Forbid Aggregation pushdown and TopN pushdown when there are predicates that cannot be pushed down #15141",
          "Forbid the nested view creation #15440",
          "Fix the error occurred when executing SELECT CURRENT_ROLE() after SET ROLE ALL #15570",
          "Fix the failure to identify the view name when executing the select view_name.col_name from view_name statement #15573",
          "Fix the issue that an error might occur when pre-processing DDL statements during the write of binlog information #15444",
          "Fix the panic occurred when accessing both views and partitioned tables #15560",
          "Fix the error occurred when executing the VALUES function with the update duplicate key statement that contains the bit(n) data type #15487",
          "Fix the issue that the specified maximum execution time fails to take effect in some scenarios #15616",
          "Fix the issue that whether the current ReadEngine contains TiKV server is not checked when generating the execution plan using Index Scan #15773",
          "TiKV\nFix the issue of conflict check failure or data index inconsistency caused by inserting an existing key into a transaction and then deleting it immediately when disabling the consistency check parameter #7112\nFix the calculation error when TopN compares unsigned integers #7199\nIntroduce a flow control mechanism in Raftstore to solve the problem that without flow control, it might cause slow log tracking and cause the cluster to be stuck; and the problem that the large transaction size might cause the frequent reconnection among TiKV servers #7087 #7078\nFix the issue that pending read requests sent to replicas might be permanently blocked #6543\nFix the issue that replica read might be blocked by applying snapshots #7249\nFix the issue that transferring leader might cause TiKV to panic #7240\nFix the issue that all SST files are filled with zeroes when backing up data to S3 #6967\nFix the issue that the size of SST file is not recorded during backup, resulting in many empty Regions after restoration #6983\nSupport AWS IAM web identity for backup #7297",
          "Fix the issue of conflict check failure or data index inconsistency caused by inserting an existing key into a transaction and then deleting it immediately when disabling the consistency check parameter #7112",
          "Fix the calculation error when TopN compares unsigned integers #7199",
          "Introduce a flow control mechanism in Raftstore to solve the problem that without flow control, it might cause slow log tracking and cause the cluster to be stuck; and the problem that the large transaction size might cause the frequent reconnection among TiKV servers #7087 #7078",
          "Fix the issue that pending read requests sent to replicas might be permanently blocked #6543",
          "Fix the issue that replica read might be blocked by applying snapshots #7249",
          "Fix the issue that transferring leader might cause TiKV to panic #7240",
          "Fix the issue that all SST files are filled with zeroes when backing up data to S3 #6967",
          "Fix the issue that the size of SST file is not recorded during backup, resulting in many empty Regions after restoration #6983",
          "Support AWS IAM web identity for backup #7297",
          "PD\nFix the issue of incorrect Region information caused by data race when PD processes Region heartbeats #2234\nFix the issue that random-merge-scheduler fails to follow location labels and Placement Rules #2212\nFix the issue that a placement rule is overwritten by another placement rule with the same startKey and endKey #2222\nFix the issue that the version number of API is inconsistent with that of PD server #2192",
          "Fix the issue of incorrect Region information caused by data race when PD processes Region heartbeats #2234",
          "Fix the issue that random-merge-scheduler fails to follow location labels and Placement Rules #2212",
          "Fix the issue that a placement rule is overwritten by another placement rule with the same startKey and endKey #2222",
          "Fix the issue that the version number of API is inconsistent with that of PD server #2192",
          "Tools\nTiDB Lightning\nFix the bug that the & character is replaced by the EOF character in TiDB backend #283\nBackup & Restore (BR)\nFix the issue that BR cannot restore the TiFlash cluster data #194",
          "TiDB Lightning\nFix the bug that the & character is replaced by the EOF character in TiDB backend #283",
          "Fix the bug that the & character is replaced by the EOF character in TiDB backend #283",
          "Backup & Restore (BR)\nFix the issue that BR cannot restore the TiFlash cluster data #194",
          "Fix the issue that BR cannot restore the TiFlash cluster data #194"
        ]
      },
      {
        "version": "3.1.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.1.0-beta.2/",
        "changes": [
          "TiDB\nSupport adding the AutoRandom keyword in the column attribute to enable TiDB to automatically assign random integers to the primary key, which avoids the write hot spot caused by the AUTO_INCREMENT primary key #14555\nSupport creating or deleting column store replicas through DDL statements #14537\nAdd the feature that the optimizer can independently select different storage engines #14537\nAdd the feature that the SQL hint supports different storage engines #14537\nSupport reading data from followers by using the tidb_replica_read system variable #13464",
          "Support adding the AutoRandom keyword in the column attribute to enable TiDB to automatically assign random integers to the primary key, which avoids the write hot spot caused by the AUTO_INCREMENT primary key #14555",
          "Support creating or deleting column store replicas through DDL statements #14537",
          "Add the feature that the optimizer can independently select different storage engines #14537",
          "Add the feature that the SQL hint supports different storage engines #14537",
          "Support reading data from followers by using the tidb_replica_read system variable #13464",
          "TiKV\nRaftstore\nAdd the peer_address parameter to connect other nodes to the TiKV server #6491\nAdd the read_index and read_index_resp monitoring metrics to monitor the number of ReadIndex requests #6610",
          "Raftstore\nAdd the peer_address parameter to connect other nodes to the TiKV server #6491\nAdd the read_index and read_index_resp monitoring metrics to monitor the number of ReadIndex requests #6610",
          "Add the peer_address parameter to connect other nodes to the TiKV server #6491",
          "Add the read_index and read_index_resp monitoring metrics to monitor the number of ReadIndex requests #6610",
          "PD Client\nSupport reporting statistics of local threads to PD #6605",
          "Support reporting statistics of local threads to PD #6605",
          "Backup\nReplace the RocksIOLimiter flow control library with Rust's async-speed-limit flow control library to eliminate extra memory copies when backing up a file #6462",
          "Replace the RocksIOLimiter flow control library with Rust's async-speed-limit flow control library to eliminate extra memory copies when backing up a file #6462",
          "PD\nTolerate backslash in the location label name #2084",
          "Tolerate backslash in the location label name #2084",
          "TiFlash\nInitial release",
          "Initial release",
          "TiDB Ansible\nSupport deploying multiple Grafana/Prometheus/Alertmanager in one cluster #1143\nSupport deploying the TiFlash component #1148\nAdd monitoring metrics related to the TiFlash component #1152",
          "Support deploying multiple Grafana/Prometheus/Alertmanager in one cluster #1143",
          "Support deploying the TiFlash component #1148",
          "Add monitoring metrics related to the TiFlash component #1152",
          "TiKV\nRaftstore\nFix the issue that the read requests cannot be processed because data is not properly read from Hibernate Regions #6450\nFix the panic issue caused by the ReadIndex requests during the leader transfer process #6613\nFix the issue that Hibernate Regions are not correctly awakened in some special conditions #6730 #6737 #6972\nBackup\nFix the inconsistent data index during the restoration caused by the backup of the extra data #6659\nFix the panic caused by incorrectly processing the deleted values during the backup #6726",
          "Raftstore\nFix the issue that the read requests cannot be processed because data is not properly read from Hibernate Regions #6450\nFix the panic issue caused by the ReadIndex requests during the leader transfer process #6613\nFix the issue that Hibernate Regions are not correctly awakened in some special conditions #6730 #6737 #6972",
          "Fix the issue that the read requests cannot be processed because data is not properly read from Hibernate Regions #6450",
          "Fix the panic issue caused by the ReadIndex requests during the leader transfer process #6613",
          "Fix the issue that Hibernate Regions are not correctly awakened in some special conditions #6730 #6737 #6972",
          "Backup\nFix the inconsistent data index during the restoration caused by the backup of the extra data #6659\nFix the panic caused by incorrectly processing the deleted values during the backup #6726",
          "Fix the inconsistent data index during the restoration caused by the backup of the extra data #6659",
          "Fix the panic caused by incorrectly processing the deleted values during the backup #6726",
          "PD\nFix the panic occurred because the rule checker fails to assign stores to Regions #2161",
          "Fix the panic occurred because the rule checker fails to assign stores to Regions #2161",
          "Tools\nTiDB Lightning\nFix the bug that the web interface does not work outside the Server mode #259\nBR (Backup and Restore)\nFix the issue that BR cannot exit in time due to an unrecoverable error it encounters when restoring data #152",
          "TiDB Lightning\nFix the bug that the web interface does not work outside the Server mode #259",
          "Fix the bug that the web interface does not work outside the Server mode #259",
          "BR (Backup and Restore)\nFix the issue that BR cannot exit in time due to an unrecoverable error it encounters when restoring data #152",
          "Fix the issue that BR cannot exit in time due to an unrecoverable error it encounters when restoring data #152",
          "TiDB Ansible\nFix the issue that the rolling update command fails because the PD Leader cannot be obtained in some scenarios #1122",
          "Fix the issue that the rolling update command fails because the PD Leader cannot be obtained in some scenarios #1122"
        ]
      },
      {
        "version": "3.1.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.1.0-beta.1/",
        "changes": []
      },
      {
        "version": "3.1.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.1.0-beta/",
        "changes": []
      }
    ]
  },
  {
    "major_version": "3.0",
    "patches": [
      {
        "version": "3.0.20",
        "date": "2020-12-25",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.20/",
        "changes": [
          "TiDB\nRaise an error when preparing the LOAD DATA statement #21222",
          "Raise an error when preparing the LOAD DATA statement #21222",
          "TiKV\nAdd the end_point_slow_log_threshold configuration item #9145",
          "Add the end_point_slow_log_threshold configuration item #9145",
          "TiDB\nFix the incorrect cache of the transaction status for pessimistic transactions #21706\nFix the issue of inaccurate statistics that occurs when querying INFORMATION_SCHEMA.TIDB_HOT_REGIONS #21319\nFix the issue that DELETE might not delete data correctly when the database name is not in a pure lower representation #21205\nFix the issue of stack overflow that occurs when building the recursive view #21000\nFix the issue of goroutine leak in TiKV client #20863\nFix the wrong default zero value for the year type #20828\nFix the issue of goroutine leak in index lookup join #20791\nFix the issue that executing INSERT SELECT FOR UPDATE returns the malformed packet in the pessimistic transaction #20681\nFix the unknown time zone 'posixrules' #20605\nFix the issue that occurs when converting the unsigned integer type to the bit type #20362\nFix the corrupted default value of the bit type column #20339\nFix the potentially incorrect results when one of the equal condition is the Enum or Set type #20296\nFix a wrong behavior of != any() #20061\nFix the issue that type conversion in BETWEEN...AND... returns invalid results #21503\nFix a compatibility issue with the ADDDATE function #21008\nSet the correct default value for newly added Enum column #20999\nFix the result of SQL statements like SELECT DATE_ADD('2007-03-28 22:08:28',INTERVAL \"-2.-2\" SECOND) to be compatible with MySQL #20627\nFix the incorrect default value when modifying the column type #20532\nFix the issue that the timestamp function gets wrong result when the input argument is the float or decimal type #20469\nFix a potential deadlock issue in statistics #20424\nFix the issue that the overflown float type data is inserted #20251",
          "Fix the incorrect cache of the transaction status for pessimistic transactions #21706",
          "Fix the issue of inaccurate statistics that occurs when querying INFORMATION_SCHEMA.TIDB_HOT_REGIONS #21319",
          "Fix the issue that DELETE might not delete data correctly when the database name is not in a pure lower representation #21205",
          "Fix the issue of stack overflow that occurs when building the recursive view #21000",
          "Fix the issue of goroutine leak in TiKV client #20863",
          "Fix the wrong default zero value for the year type #20828",
          "Fix the issue of goroutine leak in index lookup join #20791",
          "Fix the issue that executing INSERT SELECT FOR UPDATE returns the malformed packet in the pessimistic transaction #20681",
          "Fix the unknown time zone 'posixrules' #20605",
          "Fix the issue that occurs when converting the unsigned integer type to the bit type #20362",
          "Fix the corrupted default value of the bit type column #20339",
          "Fix the potentially incorrect results when one of the equal condition is the Enum or Set type #20296",
          "Fix a wrong behavior of != any() #20061",
          "Fix the issue that type conversion in BETWEEN...AND... returns invalid results #21503",
          "Fix a compatibility issue with the ADDDATE function #21008",
          "Set the correct default value for newly added Enum column #20999",
          "Fix the result of SQL statements like SELECT DATE_ADD('2007-03-28 22:08:28',INTERVAL \"-2.-2\" SECOND) to be compatible with MySQL #20627",
          "Fix the incorrect default value when modifying the column type #20532",
          "Fix the issue that the timestamp function gets wrong result when the input argument is the float or decimal type #20469",
          "Fix a potential deadlock issue in statistics #20424",
          "Fix the issue that the overflown float type data is inserted #20251",
          "TiKV\nFix the issue that an error is returned indicating that a key exists when this key is locked and deleted in a committed transaction #8931",
          "Fix the issue that an error is returned indicating that a key exists when this key is locked and deleted in a committed transaction #8931",
          "PD\nFix the issue that too many logs are printed when starting PD and when there are too many stale Regions #3064",
          "Fix the issue that too many logs are printed when starting PD and when there are too many stale Regions #3064"
        ]
      },
      {
        "version": "3.0.19",
        "date": "2020-09-25",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.19/",
        "changes": [
          "TiDB\nMitigate the impact of failure recovery on QPS performance #19764\nSupport adjusting the concurrency of the union operator #19885",
          "Mitigate the impact of failure recovery on QPS performance #19764",
          "Support adjusting the concurrency of the union operator #19885",
          "TiKV\nSet sync-log to true as a nonadjustable value #8636",
          "Set sync-log to true as a nonadjustable value #8636",
          "PD\nAdd an alert rule for PD restart #2789",
          "Add an alert rule for PD restart #2789",
          "TiDB\nFix the query error that occurs when the slow-log file does not exist #20050\nAdd the privilege check for SHOW STATS_META and SHOW STATS_BUCKET #19759\nForbid changing the decimal type to the integer type #19681\nFix the issue that the constraint is not checked when altering the ENUM/SET type column #20045\nFix the bug that tidb-server does not release table locks after a panic #20021\nFix the bug that the OR operator is not handled correctly in the WHERE clause #19901",
          "Fix the query error that occurs when the slow-log file does not exist #20050",
          "Add the privilege check for SHOW STATS_META and SHOW STATS_BUCKET #19759",
          "Forbid changing the decimal type to the integer type #19681",
          "Fix the issue that the constraint is not checked when altering the ENUM/SET type column #20045",
          "Fix the bug that tidb-server does not release table locks after a panic #20021",
          "Fix the bug that the OR operator is not handled correctly in the WHERE clause #19901",
          "TiKV\nFix the bug that TiKV panics when parsing responses with missing reason phrases #8540",
          "Fix the bug that TiKV panics when parsing responses with missing reason phrases #8540",
          "Tools\nTiDB Lightning\nFix the issue that the TiDB Lightning process does not exit in time when encountering invalid UTF characters in CSV in the strict mode #378",
          "TiDB Lightning\nFix the issue that the TiDB Lightning process does not exit in time when encountering invalid UTF characters in CSV in the strict mode #378",
          "Fix the issue that the TiDB Lightning process does not exit in time when encountering invalid UTF characters in CSV in the strict mode #378"
        ]
      },
      {
        "version": "3.0.18",
        "date": "2020-08-21",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.18/",
        "changes": [
          "Tools\nTiDB Binlog\nSupport the time duration format of Go for the Pump GC configuration #996",
          "TiDB Binlog\nSupport the time duration format of Go for the Pump GC configuration #996",
          "Support the time duration format of Go for the Pump GC configuration #996",
          "TiDB\nFix the issue that the wrong handling of the decimal type by the Hash function causes the wrong HashJoin result #19185\nFix the issue that the wrong handling of the set and enum types by the Hash function causes the wrong HashJoin result #19175\nFix the issue that the check for duplicate keys fails in the pessimistic locking mode #19236\nFix the issue that the Apply and Union Scan operators cause the wrong execution result #19297\nFix the issue that some cached execution plans are incorrectly executed in transaction #19274",
          "Fix the issue that the wrong handling of the decimal type by the Hash function causes the wrong HashJoin result #19185",
          "Fix the issue that the wrong handling of the set and enum types by the Hash function causes the wrong HashJoin result #19175",
          "Fix the issue that the check for duplicate keys fails in the pessimistic locking mode #19236",
          "Fix the issue that the Apply and Union Scan operators cause the wrong execution result #19297",
          "Fix the issue that some cached execution plans are incorrectly executed in transaction #19274",
          "TiKV\nChange the GC failure log from error to the warning level #8444",
          "Change the GC failure log from error to the warning level #8444",
          "Tools\nTiDB Lightning\nFix the issue that the --log-file argument does not take effect #345\nFix the syntax error on empty binary/hex literals when using TiDB-backend #357\nFix the unexpected switch-mode call when using TiDB-backend #368",
          "TiDB Lightning\nFix the issue that the --log-file argument does not take effect #345\nFix the syntax error on empty binary/hex literals when using TiDB-backend #357\nFix the unexpected switch-mode call when using TiDB-backend #368",
          "Fix the issue that the --log-file argument does not take effect #345",
          "Fix the syntax error on empty binary/hex literals when using TiDB-backend #357",
          "Fix the unexpected switch-mode call when using TiDB-backend #368"
        ]
      },
      {
        "version": "3.0.17",
        "date": "2020-08-03",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.17/",
        "changes": [
          "TiDB\nDecrease the default value of the query-feedback-limit configuration item from 1024 to 512, and improve the statistics feedback mechanism to ease its impact on the cluster #18770\nLimit batch split count for one request #18694\nAccelerate /tiflash/replica HTTP API when there are many history DDL jobs in the TiDB cluster #18386\nImprove row count estimation for index equal condition #17609\nSpeed up the execution of kill tidb conn_id #18506",
          "Decrease the default value of the query-feedback-limit configuration item from 1024 to 512, and improve the statistics feedback mechanism to ease its impact on the cluster #18770",
          "Limit batch split count for one request #18694",
          "Accelerate /tiflash/replica HTTP API when there are many history DDL jobs in the TiDB cluster #18386",
          "Improve row count estimation for index equal condition #17609",
          "Speed up the execution of kill tidb conn_id #18506",
          "TiKV\nAdd the hibernate-timeout configuration that delays region hibernation to improve rolling update performance #8207",
          "Add the hibernate-timeout configuration that delays region hibernation to improve rolling update performance #8207",
          "Tools\nTiDB Lightning\n[black-white-list] has been deprecated with a newer, easier-to-understand filter format #332",
          "TiDB Lightning\n[black-white-list] has been deprecated with a newer, easier-to-understand filter format #332",
          "[black-white-list] has been deprecated with a newer, easier-to-understand filter format #332",
          "TiDB\nReturn the actual error message instead of an empty set when a query which contains IndexHashJoin or IndexMergeJoin encounters a panic #18498\nFix the unknown column error for SQL statements like SELECT a FROM t HAVING t.a #18432\nForbid adding a primary key for a table when the table has no primary key or when the table already has an integer primary key #18342\nReturn an empty set when executing EXPLAIN FORMAT=\"dot\" FOR CONNECTION #17157\nFix STR_TO_DATE's handling for format token '%r', '%h' #18725",
          "Return the actual error message instead of an empty set when a query which contains IndexHashJoin or IndexMergeJoin encounters a panic #18498",
          "Fix the unknown column error for SQL statements like SELECT a FROM t HAVING t.a #18432",
          "Forbid adding a primary key for a table when the table has no primary key or when the table already has an integer primary key #18342",
          "Return an empty set when executing EXPLAIN FORMAT=\"dot\" FOR CONNECTION #17157",
          "Fix STR_TO_DATE's handling for format token '%r', '%h' #18725",
          "TiKV\nFix a bug that might read stale data during region merging #8111\nFix the issue of memory leak during the scheduling process #8355",
          "Fix a bug that might read stale data during region merging #8111",
          "Fix the issue of memory leak during the scheduling process #8355",
          "Tools\nTiDB Lightning\nFix the issue that the log-file flag is ignored #345",
          "TiDB Lightning\nFix the issue that the log-file flag is ignored #345",
          "Fix the issue that the log-file flag is ignored #345"
        ]
      },
      {
        "version": "3.0.16",
        "date": "2020-07-03",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.16/",
        "changes": [
          "TiDB\nSupport the is null filter condition in hash partition pruning #17308\nAssign different Backoffers to each Region to avoid the SQL timeout issue when multiple Region requests fail at the same time #17583\nSplit separate Regions for the newly added partition #17668\nDiscard feedbacks generated from the delete or update statement #17841\nCorrect the usage of json.Unmarshal in job.DecodeArgs to be compatible with future Go versions #17887\nRemove sensitive information in the slow query log and the statement summary table #18128\nMatch the MySQL behavior with DateTime delimiters #17499\nHandle %h in date formats in the range that is consistent with MySQL #17496",
          "Support the is null filter condition in hash partition pruning #17308",
          "Assign different Backoffers to each Region to avoid the SQL timeout issue when multiple Region requests fail at the same time #17583",
          "Split separate Regions for the newly added partition #17668",
          "Discard feedbacks generated from the delete or update statement #17841",
          "Correct the usage of json.Unmarshal in job.DecodeArgs to be compatible with future Go versions #17887",
          "Remove sensitive information in the slow query log and the statement summary table #18128",
          "Match the MySQL behavior with DateTime delimiters #17499",
          "Handle %h in date formats in the range that is consistent with MySQL #17496",
          "TiKV\nAvoid sending store heartbeats to PD after snapshots are received #8145\nImprove the PD client log #8091",
          "Avoid sending store heartbeats to PD after snapshots are received #8145",
          "Improve the PD client log #8091",
          "TiDB\nFix the data inconsistency issue occurred because the lock of a written and deleted primary key in one transaction is resolved by another transaction #18248\nFix the Got too many pings gRPC error log in the PD server-side followers #17944\nFix the panic issue that might occur when the child of HashJoin returns the TypeNull column #17935\nFix the error message when access is denied #17722\nFix JSON comparison issue for the int and float types #17715\nUpdate the failpoint which causes data race #17710\nFix the issue that the timeout pre-split Regions might not work when creating tables #17617\nFix the panic caused by ambiguous error messages after the sending failure #17378\nFix the issue that FLASHBACK TABLE might fail in some special cases #17165\nFix the issue of inaccurate range calculation results when statements only have string columns #16658\nFix the query error occurred when the only_full_group_by SQL mode is set #16620\nFix the issue that the field length of results returned from the case when function is inaccurate #16562\nFix the type inference for the decimal property in the count aggregate function #17702",
          "Fix the data inconsistency issue occurred because the lock of a written and deleted primary key in one transaction is resolved by another transaction #18248",
          "Fix the Got too many pings gRPC error log in the PD server-side followers #17944",
          "Fix the panic issue that might occur when the child of HashJoin returns the TypeNull column #17935",
          "Fix the error message when access is denied #17722",
          "Fix JSON comparison issue for the int and float types #17715",
          "Update the failpoint which causes data race #17710",
          "Fix the issue that the timeout pre-split Regions might not work when creating tables #17617",
          "Fix the panic caused by ambiguous error messages after the sending failure #17378",
          "Fix the issue that FLASHBACK TABLE might fail in some special cases #17165",
          "Fix the issue of inaccurate range calculation results when statements only have string columns #16658",
          "Fix the query error occurred when the only_full_group_by SQL mode is set #16620",
          "Fix the issue that the field length of results returned from the case when function is inaccurate #16562",
          "Fix the type inference for the decimal property in the count aggregate function #17702",
          "TiKV\nFix the potential wrong result read from ingested files #8039\nFix the issue that a peer cannot be removed when its store is isolated during multiple merge processes #8005",
          "Fix the potential wrong result read from ingested files #8039",
          "Fix the issue that a peer cannot be removed when its store is isolated during multiple merge processes #8005",
          "PD\nFix the 404 error when querying Region keys in PD Control #2577",
          "Fix the 404 error when querying Region keys in PD Control #2577"
        ]
      },
      {
        "version": "3.0.15",
        "date": "2020-06-05",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.15/",
        "changes": [
          "TiDB\nForbid the query in partitioned tables to use the plan cache feature #16759\nSupport the admin recover index and admin check index statements on partitioned tables #17315 #17390\nSupport partition pruning of the in condition for Range partitioned tables #17318\nOptimize the output of SHOW CREATE TABLE, and add quotation marks to the partition name #16315\nSupport the ORDER BY clause in the GROUP_CONCAT function #16988\nOptimize the memory allocation mechanism of CMSketch statistics to reduce the impact of garbage collection (GC) on performance #17543",
          "Forbid the query in partitioned tables to use the plan cache feature #16759",
          "Support the admin recover index and admin check index statements on partitioned tables #17315 #17390",
          "Support partition pruning of the in condition for Range partitioned tables #17318",
          "Optimize the output of SHOW CREATE TABLE, and add quotation marks to the partition name #16315",
          "Support the ORDER BY clause in the GROUP_CONCAT function #16988",
          "Optimize the memory allocation mechanism of CMSketch statistics to reduce the impact of garbage collection (GC) on performance #17543",
          "PD\nAdd a policy in which PD performs scheduling in terms of the number of Leaders #2479",
          "Add a policy in which PD performs scheduling in terms of the number of Leaders #2479",
          "TiDB\nUse deep copy to copy the enum and set type data in the Hash aggregate function; fix an issue of correctness #16890\nFix the issue that PointGet returns incorrect results because of the wrong processing logic of integer overflow #16753\nFix the issue of incorrect results caused by incorrect processing logic when the CHAR() function is used in the query predicate #16557\nFix the issue of inconsistent results in the storage layer and calculation layer of the IsTrue and IsFalse functions #16627\nFix the incorrect NotNull flags in some expressions, such as case when #16993\nFix the issue that the optimizer cannot find a physical plan for TableDual in some scenarios #17014\nFix the issue that the syntax for partition selection does not take effect correctly in the Hash partitioned table #17051\nFix the inconsistent results between TiDB and MySQL when XOR operates on a floating-point number #16976\nFix the error that occurs when executing DDL statement in the prepared manner #17415\nFix the incorrect processing logic of computing the batch size in the ID allocator #17548\nFix the issue that the MAX_EXEC_TIME SQL hint does not take effect when the time exceeds the expensive threshold #17534",
          "Use deep copy to copy the enum and set type data in the Hash aggregate function; fix an issue of correctness #16890",
          "Fix the issue that PointGet returns incorrect results because of the wrong processing logic of integer overflow #16753",
          "Fix the issue of incorrect results caused by incorrect processing logic when the CHAR() function is used in the query predicate #16557",
          "Fix the issue of inconsistent results in the storage layer and calculation layer of the IsTrue and IsFalse functions #16627",
          "Fix the incorrect NotNull flags in some expressions, such as case when #16993",
          "Fix the issue that the optimizer cannot find a physical plan for TableDual in some scenarios #17014",
          "Fix the issue that the syntax for partition selection does not take effect correctly in the Hash partitioned table #17051",
          "Fix the inconsistent results between TiDB and MySQL when XOR operates on a floating-point number #16976",
          "Fix the error that occurs when executing DDL statement in the prepared manner #17415",
          "Fix the incorrect processing logic of computing the batch size in the ID allocator #17548",
          "Fix the issue that the MAX_EXEC_TIME SQL hint does not take effect when the time exceeds the expensive threshold #17534",
          "TiKV\nFix the issue that memory defragmentation is not effective after running for a long time #7790\nFix the panic issue caused by incorrectly removing snapshot files after TiKV is restarted accidentally #7925\nFix the gRPC disconnection caused by too large message packages #7822",
          "Fix the issue that memory defragmentation is not effective after running for a long time #7790",
          "Fix the panic issue caused by incorrectly removing snapshot files after TiKV is restarted accidentally #7925",
          "Fix the gRPC disconnection caused by too large message packages #7822"
        ]
      },
      {
        "version": "3.0.14",
        "date": "2020-05-09",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.14/",
        "changes": [
          "TiDB\nAdd the schema name column and the table name column to the query results of the admin show ddl jobs statement #16428\nEnhance the RECOVER TABLE syntax to support recovering truncated tables #15458\nSupport the privilege check for the SHOW GRANTS statement #16168\nSupport the privilege check for the LOAD DATA statement #16736\nImprove the performance of partition pruning when functions related to time and date are used as partition keys #15618\nAdjust the log level of dispatch error from WARN to ERROR #16232\nSupport the require-secure-transport startup option to force clients to use TLS #15415\nSupport HTTP communication between TiDB components when TLS is configured #15419\nAdd the start_ts information of the current transaction to the information_schema.processlist table #16160\nSupport automatically reloading the TLS certificate information used for communication among clusters #15162\nImprove the read performance of the partitioned tables by restructuring the partition pruning #15628\nSupport the partition pruning feature when floor(unix_timestamp(a)) is used as the partition expression of the range partition table #16521\nAllow executing the update statement that contains a view and does not update the view #16787\nProhibit creating nested views #15424\nProhibit truncating view #16420\nProhibit using the update statement to explicitly update the values of a column when this column is not in the public state #15576\nProhibit starting TiDB when the status port is occupied #15466\nChange the character set of the current_role function from binary to utf8mb4 #16083\nImprove max-execution-time usability by checking the interrupt signal when the data of a new Region is read #15615\nAdd the ALTER TABLE ... AUTO_ID_CACHE syntax for explicitly setting the cache step of auto_id #16287",
          "Add the schema name column and the table name column to the query results of the admin show ddl jobs statement #16428",
          "Enhance the RECOVER TABLE syntax to support recovering truncated tables #15458",
          "Support the privilege check for the SHOW GRANTS statement #16168",
          "Support the privilege check for the LOAD DATA statement #16736",
          "Improve the performance of partition pruning when functions related to time and date are used as partition keys #15618",
          "Adjust the log level of dispatch error from WARN to ERROR #16232",
          "Support the require-secure-transport startup option to force clients to use TLS #15415",
          "Support HTTP communication between TiDB components when TLS is configured #15419",
          "Add the start_ts information of the current transaction to the information_schema.processlist table #16160",
          "Support automatically reloading the TLS certificate information used for communication among clusters #15162",
          "Improve the read performance of the partitioned tables by restructuring the partition pruning #15628",
          "Support the partition pruning feature when floor(unix_timestamp(a)) is used as the partition expression of the range partition table #16521",
          "Allow executing the update statement that contains a view and does not update the view #16787",
          "Prohibit creating nested views #15424",
          "Prohibit truncating view #16420",
          "Prohibit using the update statement to explicitly update the values of a column when this column is not in the public state #15576",
          "Prohibit starting TiDB when the status port is occupied #15466",
          "Change the character set of the current_role function from binary to utf8mb4 #16083",
          "Improve max-execution-time usability by checking the interrupt signal when the data of a new Region is read #15615",
          "Add the ALTER TABLE ... AUTO_ID_CACHE syntax for explicitly setting the cache step of auto_id #16287",
          "TiKV\nImprove the performance when many conflicts and the BatchRollback condition exist in optimistic transactions #7605\nFix the issue of decreased performance that occurs because the pessimistic lock waiter is frequently awakened when many conflicts exist in pessimistic transactions #7584",
          "Improve the performance when many conflicts and the BatchRollback condition exist in optimistic transactions #7605",
          "Fix the issue of decreased performance that occurs because the pessimistic lock waiter is frequently awakened when many conflicts exist in pessimistic transactions #7584",
          "Tools\nTiDB Lightning\nSupport printing the TiKV cluster mode using the fetch-mode sub-command of tidb-lightning-ctl #287",
          "TiDB Lightning\nSupport printing the TiKV cluster mode using the fetch-mode sub-command of tidb-lightning-ctl #287",
          "Support printing the TiKV cluster mode using the fetch-mode sub-command of tidb-lightning-ctl #287",
          "TiDB\nFix the issue that the query result of index join is incorrect when the join condition has multiple equivalent conditions on the column with the handle attribute #15734\nFix the panic that occurs when performing the fast analyze operation on the column with the handle attribute #16079\nFix the issue that the query field in the DDL job structure is incorrect when the DDL statement is executed in a way of prepare. This issue might cause data inconsistency between the upstream and the downstream when Binlog is used for data replication. #15443",
          "Fix the issue that the query result of index join is incorrect when the join condition has multiple equivalent conditions on the column with the handle attribute #15734",
          "Fix the panic that occurs when performing the fast analyze operation on the column with the handle attribute #16079",
          "Fix the issue that the query field in the DDL job structure is incorrect when the DDL statement is executed in a way of prepare. This issue might cause data inconsistency between the upstream and the downstream when Binlog is used for data replication. #15443",
          "TiKV\nFix the issue that repeated requests on the cleanup of lock might destroy the atomicity of the transaction #7388",
          "Fix the issue that repeated requests on the cleanup of lock might destroy the atomicity of the transaction #7388",
          "TiDB\nFix the issue that WEEKEND function is not compatible with MySQL when the SQL mode is ALLOW_INVALID_DATES #16170\nFix the issue that the DROP INDEX statement fails to execute when the index column contains the auto-increment primary key #16008\nFix the issue of incorrect values of the TABLE_NAMES column in the Statement Summary #15231\nFix the issue that some expressions have incorrect results when the plan cache is enabled #16184\nFix the issue that the result of the not/istrue/isfalse function is incorrect #15916\nFix the panic caused by the MergeJoin operation on tables with redundant indexes #15919\nFix the issue caused by incorrectly simplifying the link when the predicate only refers to the outer table #16492\nFix the issue that the CURRENT_ROLE function reports an error caused by the SET ROLE statement #15569\nFix the issue that the result of the LOAD DATA statement is incompatible with MySQL when this statement encounters \\ #16633\nFix the issue that the database visibility is incompatible with MySQL #14939\nFix the issue of incorrect privilege check for the SET DEFAULT ROLE ALL statement #15585\nFix the issue of partition pruning failure caused by the plan cache #15818\nFix the issue that schema change is reported during the transaction commit when concurrent DDL operations are performed on a table and blocking exists, because the transaction does not lock the related table #15707\nFix the incorrect behavior of IF(not_int, *, *) #15356\nFix the incorrect behavior of CASE WHEN (not_int) #15359\nFix the issue that the Unknown column error message is returned when using a view that is not in the current schema #15866\nFix the issue that the result of parsing time strings is incompatible with MySQL #16242\nFix the possible panic of the collation operator in left join when a null column exists in the right child node #16528\nFix the issue that no error message is returned even though the SQL execution is blocked when TiKV keeps returning the StaleCommand error message #16528\nFix the possible panic caused by the port probing when the audit plugin is enabled #15967\nFix the panic caused when fast analyze works on indices only #15967\nFix the possible panic of the SELECT * FROM INFORMATION_SCHEMA.PROCESSLIST statement execution in some cases #16309\nFix the issue of TiDB OOM caused by specifying a large number of partitions (for example, 9999999999999) when the hash partition table is created without checking the number of partitions before allocating memory #16218\nFix the issue of incorrect information of partitioned tables in information_schema.tidb_hot_table #16726\nFix the issue that the partition selection algorithm does not take effect on the hash partitioned table #16070\nFix the issue that the HTTP API of the MVCC series does not support partitioned tables #16191\nKeep the error handling of the UNION statement consistent with that of the SELECT statement #16137\nFix the issue of incorrect behavior when the parameter type of the VALUES function is bit(n) #15486\nFix the issue that the processing logic of TiDB is inconsistent with MySQL when the view column name is too long. In this case, the system automatically generates a short column name. #14873\nFix the issue that (not not col) is incorrectly optimized as col #16094\nFix the issue of incorrect range of the inner table built by IndexLookupJoin plans #15753\nFix the issue that only_full_group_by fails to correctly check expressions with brackets #16012\nFix the issue that an error is returned when the select view_name.col_name from view_name statement is executed #15572",
          "Fix the issue that WEEKEND function is not compatible with MySQL when the SQL mode is ALLOW_INVALID_DATES #16170",
          "Fix the issue that the DROP INDEX statement fails to execute when the index column contains the auto-increment primary key #16008",
          "Fix the issue of incorrect values of the TABLE_NAMES column in the Statement Summary #15231",
          "Fix the issue that some expressions have incorrect results when the plan cache is enabled #16184",
          "Fix the issue that the result of the not/istrue/isfalse function is incorrect #15916",
          "Fix the panic caused by the MergeJoin operation on tables with redundant indexes #15919",
          "Fix the issue caused by incorrectly simplifying the link when the predicate only refers to the outer table #16492",
          "Fix the issue that the CURRENT_ROLE function reports an error caused by the SET ROLE statement #15569",
          "Fix the issue that the result of the LOAD DATA statement is incompatible with MySQL when this statement encounters \\ #16633",
          "Fix the issue that the database visibility is incompatible with MySQL #14939",
          "Fix the issue of incorrect privilege check for the SET DEFAULT ROLE ALL statement #15585",
          "Fix the issue of partition pruning failure caused by the plan cache #15818",
          "Fix the issue that schema change is reported during the transaction commit when concurrent DDL operations are performed on a table and blocking exists, because the transaction does not lock the related table #15707",
          "Fix the incorrect behavior of IF(not_int, *, *) #15356",
          "Fix the incorrect behavior of CASE WHEN (not_int) #15359",
          "Fix the issue that the Unknown column error message is returned when using a view that is not in the current schema #15866",
          "Fix the issue that the result of parsing time strings is incompatible with MySQL #16242",
          "Fix the possible panic of the collation operator in left join when a null column exists in the right child node #16528",
          "Fix the issue that no error message is returned even though the SQL execution is blocked when TiKV keeps returning the StaleCommand error message #16528",
          "Fix the possible panic caused by the port probing when the audit plugin is enabled #15967",
          "Fix the panic caused when fast analyze works on indices only #15967",
          "Fix the possible panic of the SELECT * FROM INFORMATION_SCHEMA.PROCESSLIST statement execution in some cases #16309",
          "Fix the issue of TiDB OOM caused by specifying a large number of partitions (for example, 9999999999999) when the hash partition table is created without checking the number of partitions before allocating memory #16218",
          "Fix the issue of incorrect information of partitioned tables in information_schema.tidb_hot_table #16726",
          "Fix the issue that the partition selection algorithm does not take effect on the hash partitioned table #16070",
          "Fix the issue that the HTTP API of the MVCC series does not support partitioned tables #16191",
          "Keep the error handling of the UNION statement consistent with that of the SELECT statement #16137",
          "Fix the issue of incorrect behavior when the parameter type of the VALUES function is bit(n) #15486",
          "Fix the issue that the processing logic of TiDB is inconsistent with MySQL when the view column name is too long. In this case, the system automatically generates a short column name. #14873",
          "Fix the issue that (not not col) is incorrectly optimized as col #16094",
          "Fix the issue of incorrect range of the inner table built by IndexLookupJoin plans #15753",
          "Fix the issue that only_full_group_by fails to correctly check expressions with brackets #16012",
          "Fix the issue that an error is returned when the select view_name.col_name from view_name statement is executed #15572",
          "TiKV\nFix the issue that the node cannot be deleted correctly after the isolation recovery in some cases #7703\nFix the issue of data loss during network isolation caused by the Region Merge operation #7679\nFix the issue that learner cannot be removed correctly in some cases #7598\nFix the issue that the scanning result of raw key-value pairs might be out of order #7597\nFix the issue of reconnection when the batch of Raft messages is too large #7542\nFix the issue of gRPC thread deadlock caused by the empty request #7538\nFix the issue that the processing logic of restarting the learner is incorrect during the merge process #7457\nFix the issue that repeated requests on the cleanup of lock might destroy the atomicity of the transaction #7388",
          "Fix the issue that the node cannot be deleted correctly after the isolation recovery in some cases #7703",
          "Fix the issue of data loss during network isolation caused by the Region Merge operation #7679",
          "Fix the issue that learner cannot be removed correctly in some cases #7598",
          "Fix the issue that the scanning result of raw key-value pairs might be out of order #7597",
          "Fix the issue of reconnection when the batch of Raft messages is too large #7542",
          "Fix the issue of gRPC thread deadlock caused by the empty request #7538",
          "Fix the issue that the processing logic of restarting the learner is incorrect during the merge process #7457",
          "Fix the issue that repeated requests on the cleanup of lock might destroy the atomicity of the transaction #7388"
        ]
      },
      {
        "version": "3.0.13",
        "date": "2020-04-22",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.13/",
        "changes": [
          "TiDB\nFix the issue caused by unchecked MemBuffer that the INSERT ... ON DUPLICATE KEY UPDATE statement might be executed incorrectly within a transaction when users need to insert multiple rows of duplicate data #16690",
          "Fix the issue caused by unchecked MemBuffer that the INSERT ... ON DUPLICATE KEY UPDATE statement might be executed incorrectly within a transaction when users need to insert multiple rows of duplicate data #16690",
          "TiKV\nFix the issue that the system might get stuck and the service is unavailable if Region Merge is executed repeatedly #7612",
          "Fix the issue that the system might get stuck and the service is unavailable if Region Merge is executed repeatedly #7612"
        ]
      },
      {
        "version": "3.0.12",
        "date": "2020-03-16",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.12/",
        "changes": [
          "TiDB\nSupport dynamic loading of the replaced certificate file by using the alter instance statement #15080 #15292\nAdd the cluster-verify-cn configuration item. After configuration, the status service can only be used when with the corresponding CN certificate. #15164\nAdd a flow limiting feature for DDL requests in each TiDB server to reduce the error reporting frequency of DDL request conflicts #15148\nSupport exiting of the TiDB server when binlog write fails #15339",
          "Support dynamic loading of the replaced certificate file by using the alter instance statement #15080 #15292",
          "Add the cluster-verify-cn configuration item. After configuration, the status service can only be used when with the corresponding CN certificate. #15164",
          "Add a flow limiting feature for DDL requests in each TiDB server to reduce the error reporting frequency of DDL request conflicts #15148",
          "Support exiting of the TiDB server when binlog write fails #15339",
          "Tools\nTiDB Binlog\nAdd the kafka-client-id configuration item in Drainer, which supports connecting to Kafka clients to configure the client ID #929",
          "TiDB Binlog\nAdd the kafka-client-id configuration item in Drainer, which supports connecting to Kafka clients to configure the client ID #929",
          "Add the kafka-client-id configuration item in Drainer, which supports connecting to Kafka clients to configure the client ID #929",
          "TiDB\nMake GRANT, REVOKE guarantee atomicity when modifying multiple users #15092\nFix the issue that the locking of pessimistic lock on the partition table failed to lock the correct row #15114\nMake the error message display according to the value of max-index-length in the configuration when the index length exceeds the limit #15130\nFix the incorrect decimal point issue of the FROM_UNIXTIME function #15270\nFix the issue of conflict detection failure or data index inconsistency caused by deleting records written by oneself in a transaction #15176",
          "Make GRANT, REVOKE guarantee atomicity when modifying multiple users #15092",
          "Fix the issue that the locking of pessimistic lock on the partition table failed to lock the correct row #15114",
          "Make the error message display according to the value of max-index-length in the configuration when the index length exceeds the limit #15130",
          "Fix the incorrect decimal point issue of the FROM_UNIXTIME function #15270",
          "Fix the issue of conflict detection failure or data index inconsistency caused by deleting records written by oneself in a transaction #15176",
          "TiKV\nFix the issue of conflict detection failure or data index inconsistency caused by inserting an existing key into a transaction and then deleting it immediately when disabling the consistency check parameter #7054\nIntroduce a flow control mechanism in Raftstore to solve the problem that without flow control, it might lead to too slow tracking and cause the cluster to be stuck, and the transaction size might cause frequent reconnection of TiKV connections #7072 #6993",
          "Fix the issue of conflict detection failure or data index inconsistency caused by inserting an existing key into a transaction and then deleting it immediately when disabling the consistency check parameter #7054",
          "Introduce a flow control mechanism in Raftstore to solve the problem that without flow control, it might lead to too slow tracking and cause the cluster to be stuck, and the transaction size might cause frequent reconnection of TiKV connections #7072 #6993",
          "PD\nFix the issue of incorrect Region information caused by data race when PD processes Region heartbeats #2233",
          "Fix the issue of incorrect Region information caused by data race when PD processes Region heartbeats #2233",
          "TiDB Ansible\nSupport deploying multiple Grafana/Prometheus/Alertmanager in a cluster #1198",
          "Support deploying multiple Grafana/Prometheus/Alertmanager in a cluster #1198"
        ]
      },
      {
        "version": "3.0.11",
        "date": "2020-03-04",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.11/",
        "changes": [
          "TiDB\nSupport showing the meta information of partitioned tables in the information_schema.PARTITIONS table #14849",
          "Support showing the meta information of partitioned tables in the information_schema.PARTITIONS table #14849",
          "TiDB Binlog\nSupport the bidirectional data replication between TiDB clusters #884 #909",
          "Support the bidirectional data replication between TiDB clusters #884 #909",
          "TiDB Lightning\nSupport the TLS configuration #44 #270",
          "Support the TLS configuration #44 #270",
          "TiDB Ansible\nModify the logic of create_users.yml so that users of the control machine do not have to be consistent with ansible_user #1184",
          "Modify the logic of create_users.yml so that users of the control machine do not have to be consistent with ansible_user #1184",
          "TiDB\nFix the issue of Goroutine leaks when retrying an optimistic transaction because queries using Union are not marked read-only #15076\nFix the issue that SHOW TABLE STATUS fails to correctly output the table status at the snapshot time because the value of the tidb_snapshot parameter is not correctly used when executing the SET SESSION tidb_snapshot = 'xxx'; statement #14391\nFix the incorrect result caused by a SQL statement that contains Sort Merge Join and ORDER BY DESC at the same time #14664\nFix the panic of TiDB server when creating partition tables using the unsupported expression. The error information This partition function is not allowed is returned after fixing this panic. #14769\nFix the incorrect result occurred when executing the select max() from subquery statement with the subquery containing Union #14944\nFix the issue that an error message is returned when executing the SHOW BINDINGS statement after executing DROP BINDING that drops the execution binding #14865\nFix the issue that the connection is broken because the maximum length of an alias in a query is 256 characters in the MySQL protocol, but TiDB does not cut the alias in the query results according to this protocol #14940\nFix the incorrect query result that might occur when using the string type in DIV. For instance, now you can correctly execute the select 1 / '2007' div 1 statement #14098",
          "Fix the issue of Goroutine leaks when retrying an optimistic transaction because queries using Union are not marked read-only #15076",
          "Fix the issue that SHOW TABLE STATUS fails to correctly output the table status at the snapshot time because the value of the tidb_snapshot parameter is not correctly used when executing the SET SESSION tidb_snapshot = 'xxx'; statement #14391",
          "Fix the incorrect result caused by a SQL statement that contains Sort Merge Join and ORDER BY DESC at the same time #14664",
          "Fix the panic of TiDB server when creating partition tables using the unsupported expression. The error information This partition function is not allowed is returned after fixing this panic. #14769",
          "Fix the incorrect result occurred when executing the select max() from subquery statement with the subquery containing Union #14944",
          "Fix the issue that an error message is returned when executing the SHOW BINDINGS statement after executing DROP BINDING that drops the execution binding #14865",
          "Fix the issue that the connection is broken because the maximum length of an alias in a query is 256 characters in the MySQL protocol, but TiDB does not cut the alias in the query results according to this protocol #14940",
          "Fix the incorrect query result that might occur when using the string type in DIV. For instance, now you can correctly execute the select 1 / '2007' div 1 statement #14098",
          "TiKV\nOptimize the log output by removing unnecessary logs #6657\nFix the panic that might occur when the peer is removed under high loads #6704\nFix the issue that Hibernate Regions are not waken up in some cases #6732 #6738",
          "Optimize the log output by removing unnecessary logs #6657",
          "Fix the panic that might occur when the peer is removed under high loads #6704",
          "Fix the issue that Hibernate Regions are not waken up in some cases #6732 #6738",
          "TiDB Ansible\nUpdate outdated document links in tidb-ansible #1169\nFix the issue that undefined variables might occur in the wait for region replication complete task #1173",
          "Update outdated document links in tidb-ansible #1169",
          "Fix the issue that undefined variables might occur in the wait for region replication complete task #1173"
        ]
      },
      {
        "version": "3.0.10",
        "date": "2020-02-20",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.10/",
        "changes": []
      },
      {
        "version": "3.0.9",
        "date": "2020-01-14",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.9/",
        "changes": []
      },
      {
        "version": "3.0.8",
        "date": "2019-12-31",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.8/",
        "changes": []
      },
      {
        "version": "3.0.7",
        "date": "2019-12-04",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.7/",
        "changes": []
      },
      {
        "version": "3.0.6",
        "date": "2019-11-28",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.6/",
        "changes": []
      },
      {
        "version": "3.0.5",
        "date": "2019-10-25",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.5/",
        "changes": []
      },
      {
        "version": "3.0.4",
        "date": "2019-10-08",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.4/",
        "changes": []
      },
      {
        "version": "3.0.3",
        "date": "2019-08-29",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.3/",
        "changes": []
      },
      {
        "version": "3.0.2",
        "date": "2019-08-07",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.2/",
        "changes": []
      },
      {
        "version": "3.0.1",
        "date": "2019-07-16",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.1/",
        "changes": []
      },
      {
        "version": "3.0.0",
        "date": "2019-06-28",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0-ga/",
        "changes": []
      },
      {
        "version": "3.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.0-rc.3/",
        "changes": []
      },
      {
        "version": "3.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.0-rc.2/",
        "changes": []
      },
      {
        "version": "3.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.0-rc.1/",
        "changes": []
      },
      {
        "version": "3.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0.0-beta.1/",
        "changes": []
      },
      {
        "version": "3.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-3.0-beta/",
        "changes": []
      }
    ]
  },
  {
    "major_version": "2.1",
    "patches": [
      {
        "version": "2.1.19",
        "date": "2019-12-27",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.19/",
        "changes": []
      },
      {
        "version": "2.1.18",
        "date": "2019-11-04",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.18/",
        "changes": []
      },
      {
        "version": "2.1.17",
        "date": "2019-09-11",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.17/",
        "changes": []
      },
      {
        "version": "2.1.16",
        "date": "2019-08-15",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.16/",
        "changes": []
      },
      {
        "version": "2.1.15",
        "date": "2019-07-18",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.15/",
        "changes": []
      },
      {
        "version": "2.1.14",
        "date": "2019-07-04",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.14/",
        "changes": []
      },
      {
        "version": "2.1.13",
        "date": "2019-06-21",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.13/",
        "changes": []
      },
      {
        "version": "2.1.12",
        "date": "2019-06-13",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.12/",
        "changes": []
      },
      {
        "version": "2.1.11",
        "date": "2019-06-03",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.11/",
        "changes": []
      },
      {
        "version": "2.1.10",
        "date": "2019-05-22",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.10/",
        "changes": []
      },
      {
        "version": "2.1.9",
        "date": "2019-05-06",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.9/",
        "changes": []
      },
      {
        "version": "2.1.8",
        "date": "2019-04-12",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.8/",
        "changes": []
      },
      {
        "version": "2.1.7",
        "date": "2019-03-28",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.7/",
        "changes": []
      },
      {
        "version": "2.1.6",
        "date": "2019-03-15",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.6/",
        "changes": []
      },
      {
        "version": "2.1.5",
        "date": "2019-02-28",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.5/",
        "changes": []
      },
      {
        "version": "2.1.4",
        "date": "2019-02-15",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.4/",
        "changes": []
      },
      {
        "version": "2.1.3",
        "date": "2019-01-28",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.3/",
        "changes": []
      },
      {
        "version": "2.1.2",
        "date": "2018-12-22",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.2/",
        "changes": []
      },
      {
        "version": "2.1.1",
        "date": "2018-12-12",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1.1/",
        "changes": []
      },
      {
        "version": "2.1.0",
        "date": "2018-11-30",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1-ga/",
        "changes": []
      },
      {
        "version": "2.1.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1-rc.5/",
        "changes": []
      },
      {
        "version": "2.1.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1-rc.4/",
        "changes": []
      },
      {
        "version": "2.1.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1-rc.3/",
        "changes": []
      },
      {
        "version": "2.1.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1-rc.2/",
        "changes": []
      },
      {
        "version": "2.1.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1-rc.1/",
        "changes": []
      },
      {
        "version": "2.1.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.1-beta/",
        "changes": []
      }
    ]
  },
  {
    "major_version": "2.0",
    "patches": [
      {
        "version": "2.0.11",
        "date": "2019-01-03",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0.11/",
        "changes": []
      },
      {
        "version": "2.0.10",
        "date": "2018-12-18",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0.10/",
        "changes": []
      },
      {
        "version": "2.0.9",
        "date": "2018-11-19",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0.9/",
        "changes": []
      },
      {
        "version": "2.0.8",
        "date": "2018-10-16",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0.8/",
        "changes": []
      },
      {
        "version": "2.0.7",
        "date": "2018-09-07",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0.7/",
        "changes": []
      },
      {
        "version": "2.0.6",
        "date": "2018-08-06",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0.6/",
        "changes": []
      },
      {
        "version": "2.0.5",
        "date": "2018-07-06",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0.5/",
        "changes": []
      },
      {
        "version": "2.0.4",
        "date": "2018-06-15",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0.4/",
        "changes": []
      },
      {
        "version": "2.0.3",
        "date": "2018-06-01",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0.3/",
        "changes": []
      },
      {
        "version": "2.0.2",
        "date": "2018-05-21",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0.2/",
        "changes": []
      },
      {
        "version": "2.0.1",
        "date": "2018-05-16",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0.1/",
        "changes": []
      },
      {
        "version": "2.0.0",
        "date": "2018-04-27",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0-ga/",
        "changes": []
      },
      {
        "version": "2.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0-rc.5/",
        "changes": []
      },
      {
        "version": "2.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0-rc.4/",
        "changes": []
      },
      {
        "version": "2.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0-rc.3/",
        "changes": []
      },
      {
        "version": "2.0.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-2.0-rc.1/",
        "changes": []
      },
      {
        "version": "1.1.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-1.1-beta/",
        "changes": []
      },
      {
        "version": "1.1.0",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-1.1-alpha/",
        "changes": []
      }
    ]
  },
  {
    "major_version": "1.0",
    "patches": [
      {
        "version": "1.0.8",
        "date": "2018-02-11",
        "link": "https://docs.pingcap.com/tidb/stable/release-1.0.8/",
        "changes": []
      },
      {
        "version": "1.0.7",
        "date": "2018-01-22",
        "link": "https://docs.pingcap.com/tidb/stable/release-1.0.7/",
        "changes": []
      },
      {
        "version": "1.0.6",
        "date": "2018-01-08",
        "link": "https://docs.pingcap.com/tidb/stable/release-1.0.6/",
        "changes": []
      },
      {
        "version": "1.0.5",
        "date": "2017-12-26",
        "link": "https://docs.pingcap.com/tidb/stable/release-1.0.5/",
        "changes": []
      },
      {
        "version": "1.0.4",
        "date": "2017-12-11",
        "link": "https://docs.pingcap.com/tidb/stable/release-1.0.4/",
        "changes": []
      },
      {
        "version": "1.0.3",
        "date": "2017-11-28",
        "link": "https://docs.pingcap.com/tidb/stable/release-1.0.3/",
        "changes": []
      },
      {
        "version": "1.0.2",
        "date": "2017-11-13",
        "link": "https://docs.pingcap.com/tidb/stable/release-1.0.2/",
        "changes": []
      },
      {
        "version": "1.0.1",
        "date": "2017-11-01",
        "link": "https://docs.pingcap.com/tidb/stable/release-1.0.1/",
        "changes": []
      },
      {
        "version": "1.0.0",
        "date": "2017-10-16",
        "link": "https://docs.pingcap.com/tidb/stable/release-1.0-ga/",
        "changes": []
      },
      {
        "version": "Pre-GA: 2017-08-30",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-pre-ga/",
        "changes": []
      },
      {
        "version": "rc4: 2017-08-04",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-rc.4/",
        "changes": []
      },
      {
        "version": "rc3: 2017-06-16",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-rc.3/",
        "changes": []
      },
      {
        "version": "rc2: 2017-03-01",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-rc.2/",
        "changes": []
      },
      {
        "version": "rc1: 2016-12-23",
        "date": "",
        "link": "https://docs.pingcap.com/tidb/stable/release-rc.1/",
        "changes": []
      }
    ]
  }
]